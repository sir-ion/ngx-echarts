var rb=Object.defineProperty,ib=Object.defineProperties,ab=Object.getOwnPropertyDescriptors,eb=Object.getOwnPropertySymbols,ob=Object.prototype.hasOwnProperty,sb=Object.prototype.propertyIsEnumerable,tb=(un,ot,E)=>ot in un?rb(un,ot,{enumerable:!0,configurable:!0,writable:!0,value:E}):un[ot]=E,Pi=(un,ot)=>{for(var E in ot||(ot={}))ob.call(ot,E)&&tb(un,E,ot[E]);if(eb)for(var E of eb(ot))sb.call(ot,E)&&tb(un,E,ot[E]);return un},Ws=(un,ot)=>ib(un,ab(ot));(self.webpackChunkngx_echarts_demo=self.webpackChunkngx_echarts_demo||[]).push([[179],{2355:(un,ot,E)=>{"use strict";E.d(ot,{vT:()=>ce,Is:()=>le});var m=E(3668),R=E(6019);const k=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,m.f3M)(R.K0)}});let le=(()=>{class q{constructor(H){if(this.value="ltr",this.change=new m.vpe,H){const V=H.documentElement?H.documentElement.dir:null,j=(H.body?H.body.dir:null)||V;this.value="ltr"===j||"rtl"===j?j:"ltr"}}ngOnDestroy(){this.change.complete()}}return q.\u0275fac=function(H){return new(H||q)(m.LFG(k,8))},q.\u0275prov=m.Yz7({factory:function(){return new q(m.LFG(k,8))},token:q,providedIn:"root"}),q})(),ce=(()=>{class q{}return q.\u0275fac=function(H){return new(H||q)},q.\u0275mod=m.oAB({type:q}),q.\u0275inj=m.cJS({}),q})()},1865:(un,ot,E)=>{"use strict";E.d(ot,{A:()=>Le,zL:()=>q,jx:()=>ce,JH:()=>ne,uR:()=>xe,K5:()=>le,hY:()=>Y,Sd:()=>Q,oh:()=>fe,b2:()=>An,MW:()=>ct,aO:()=>ye,SV:()=>ie,JU:()=>y,L_:()=>V,Mf:()=>k,LH:()=>re,Z:()=>cn,xE:()=>W,Vb:()=>Kn});const k=9,le=13,y=16,ce=17,q=18,Y=27,V=32,xe=35,Q=36,fe=37,re=38,ie=39,ne=40,W=48,ye=57,Le=65,cn=90,ct=91,An=224;function Kn(sr,...Rr){return Rr.length?Rr.some(kr=>sr[kr]):sr.altKey||sr.shiftKey||sr.ctrlKey||sr.metaKey}},3648:(un,ot,E)=>{"use strict";E.d(ot,{xu:()=>k,vx:()=>y});var m=E(3668),R=E(1069);let k=(()=>{class V{}return V.\u0275fac=function(X){return new(X||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({}),V})();const Se=new Set;let le,y=(()=>{class V{constructor(X){this._platform=X,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):q}matchMedia(X){return(this._platform.WEBKIT||this._platform.BLINK)&&function(V){if(!Se.has(V))try{le||(le=document.createElement("style"),le.setAttribute("type","text/css"),document.head.appendChild(le)),le.sheet&&(le.sheet.insertRule(`@media ${V} {body{ }}`,0),Se.add(V))}catch(j){console.error(j)}}(X),this._matchMedia(X)}}return V.\u0275fac=function(X){return new(X||V)(m.LFG(R.t4))},V.\u0275prov=m.Yz7({factory:function(){return new V(m.LFG(R.t4))},token:V,providedIn:"root"}),V})();function q(V){return{matches:"all"===V||""===V,media:V,addListener:()=>{},removeListener:()=>{}}}},2325:(un,ot,E)=>{"use strict";E.d(ot,{pI:()=>Dn,xu:()=>In,tR:()=>A,aV:()=>Wt,U8:()=>it});var m=E(6007),R=E(3668),k=E(1069),Se=E(2355),le=E(6019),y=E(5139),ce=E(1957),q=E(3405),K=E(1346),H=E(8526),Y=E(4168);class j{constructor(ke,je){this.predicate=ke,this.inclusive=je}call(ke,je){return je.subscribe(new X(ke,this.predicate,this.inclusive))}}class X extends Y.L{constructor(ke,je,yt){super(ke),this.predicate=je,this.inclusive=yt,this.index=0}_next(ke){const je=this.destination;let yt;try{yt=this.predicate(ke,this.index++)}catch(Et){return void je.error(Et)}this.nextOrComplete(ke,yt)}nextOrComplete(ke,je){const yt=this.destination;Boolean(je)?yt.next(ke):(this.inclusive&&yt.next(ke),yt.complete())}}var xe=E(6636),Q=E(8805),fe=E(1865);const re=(0,k.Mq)();class ie{constructor(ke,je){this._viewportRuler=ke,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=je}attach(){}enable(){if(this._canBeEnabled()){const ke=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ke.style.left||"",this._previousHTMLStyles.top=ke.style.top||"",ke.style.left=(0,y.HM)(-this._previousScrollPosition.left),ke.style.top=(0,y.HM)(-this._previousScrollPosition.top),ke.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ke=this._document.documentElement,yt=ke.style,Et=this._document.body.style,$t=yt.scrollBehavior||"",cn=Et.scrollBehavior||"";this._isEnabled=!1,yt.left=this._previousHTMLStyles.left,yt.top=this._previousHTMLStyles.top,ke.classList.remove("cdk-global-scrollblock"),re&&(yt.scrollBehavior=Et.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),re&&(yt.scrollBehavior=$t,Et.scrollBehavior=cn)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const je=this._document.body,yt=this._viewportRuler.getViewportSize();return je.scrollHeight>yt.height||je.scrollWidth>yt.width}}class de{constructor(ke,je,yt,Et){this._scrollDispatcher=ke,this._ngZone=je,this._viewportRuler=yt,this._config=Et,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ke){this._overlayRef=ke}enable(){if(this._scrollSubscription)return;const ke=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ke.subscribe(()=>{const je=this._viewportRuler.getViewportScrollPosition().top;Math.abs(je-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ke.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class oe{enable(){}disable(){}attach(){}}function Z(wt,ke){return ke.some(je=>wt.bottom<je.top||wt.top>je.bottom||wt.right<je.left||wt.left>je.right)}function U(wt,ke){return ke.some(je=>wt.top<je.top||wt.bottom>je.bottom||wt.left<je.left||wt.right>je.right)}class W{constructor(ke,je,yt,Et){this._scrollDispatcher=ke,this._viewportRuler=je,this._ngZone=yt,this._config=Et,this._scrollSubscription=null}attach(ke){this._overlayRef=ke}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const je=this._overlayRef.overlayElement.getBoundingClientRect(),{width:yt,height:Et}=this._viewportRuler.getViewportSize();Z(je,[{width:yt,height:Et,bottom:Et,right:yt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let L=(()=>{class wt{constructor(je,yt,Et,$t){this._scrollDispatcher=je,this._viewportRuler=yt,this._ngZone=Et,this.noop=()=>new oe,this.close=cn=>new de(this._scrollDispatcher,this._ngZone,this._viewportRuler,cn),this.block=()=>new ie(this._viewportRuler,this._document),this.reposition=cn=>new W(this._scrollDispatcher,this._viewportRuler,this._ngZone,cn),this._document=$t}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(m.mF),R.LFG(m.rL),R.LFG(R.R0b),R.LFG(le.K0))},wt.\u0275prov=R.Yz7({factory:function(){return new wt(R.LFG(m.mF),R.LFG(m.rL),R.LFG(R.R0b),R.LFG(le.K0))},token:wt,providedIn:"root"}),wt})();class D{constructor(ke){if(this.scrollStrategy=new oe,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ke){const je=Object.keys(ke);for(const yt of je)void 0!==ke[yt]&&(this[yt]=ke[yt])}}}class A{constructor(ke,je,yt,Et,$t){this.offsetX=yt,this.offsetY=Et,this.panelClass=$t,this.originX=ke.originX,this.originY=ke.originY,this.overlayX=je.overlayX,this.overlayY=je.overlayY}}class C{constructor(ke,je){this.connectionPair=ke,this.scrollableViewProperties=je}}let ee=(()=>{class wt{constructor(je){this._attachedOverlays=[],this._document=je}ngOnDestroy(){this.detach()}add(je){this.remove(je),this._attachedOverlays.push(je)}remove(je){const yt=this._attachedOverlays.indexOf(je);yt>-1&&this._attachedOverlays.splice(yt,1),0===this._attachedOverlays.length&&this.detach()}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(le.K0))},wt.\u0275prov=R.Yz7({factory:function(){return new wt(R.LFG(le.K0))},token:wt,providedIn:"root"}),wt})(),ye=(()=>{class wt extends ee{constructor(je){super(je),this._keydownListener=yt=>{const Et=this._attachedOverlays;for(let $t=Et.length-1;$t>-1;$t--)if(Et[$t]._keydownEvents.observers.length>0){Et[$t]._keydownEvents.next(yt);break}}}add(je){super.add(je),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(le.K0))},wt.\u0275prov=R.Yz7({factory:function(){return new wt(R.LFG(le.K0))},token:wt,providedIn:"root"}),wt})(),Te=(()=>{class wt extends ee{constructor(je,yt){super(je),this._platform=yt,this._cursorStyleIsSet=!1,this._pointerDownListener=Et=>{this._pointerDownEventTarget=(0,k.sA)(Et)},this._clickListener=Et=>{const $t=(0,k.sA)(Et),cn="click"===Et.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:$t;this._pointerDownEventTarget=null;const ct=this._attachedOverlays.slice();for(let tt=ct.length-1;tt>-1;tt--){const _t=ct[tt];if(!(_t._outsidePointerEvents.observers.length<1)&&_t.hasAttached()){if(_t.overlayElement.contains($t)||_t.overlayElement.contains(cn))break;_t._outsidePointerEvents.next(Et)}}}}add(je){if(super.add(je),!this._isAttached){const yt=this._document.body;yt.addEventListener("pointerdown",this._pointerDownListener,!0),yt.addEventListener("click",this._clickListener,!0),yt.addEventListener("auxclick",this._clickListener,!0),yt.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=yt.style.cursor,yt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const je=this._document.body;je.removeEventListener("pointerdown",this._pointerDownListener,!0),je.removeEventListener("click",this._clickListener,!0),je.removeEventListener("auxclick",this._clickListener,!0),je.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(je.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(le.K0),R.LFG(k.t4))},wt.\u0275prov=R.Yz7({factory:function(){return new wt(R.LFG(le.K0),R.LFG(k.t4))},token:wt,providedIn:"root"}),wt})(),he=(()=>{class wt{constructor(je,yt){this._platform=yt,this._document=je}ngOnDestroy(){const je=this._containerElement;je&&je.parentNode&&je.parentNode.removeChild(je)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const je="cdk-overlay-container";if(this._platform.isBrowser||(0,k.Oy)()){const Et=this._document.querySelectorAll(`.${je}[platform="server"], .${je}[platform="test"]`);for(let $t=0;$t<Et.length;$t++)Et[$t].parentNode.removeChild(Et[$t])}const yt=this._document.createElement("div");yt.classList.add(je),(0,k.Oy)()?yt.setAttribute("platform","test"):this._platform.isBrowser||yt.setAttribute("platform","server"),this._document.body.appendChild(yt),this._containerElement=yt}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(le.K0),R.LFG(k.t4))},wt.\u0275prov=R.Yz7({factory:function(){return new wt(R.LFG(le.K0),R.LFG(k.t4))},token:wt,providedIn:"root"}),wt})();class me{constructor(ke,je,yt,Et,$t,cn,ct,tt,_t){this._portalOutlet=ke,this._host=je,this._pane=yt,this._config=Et,this._ngZone=$t,this._keyboardDispatcher=cn,this._document=ct,this._location=tt,this._outsideClickDispatcher=_t,this._backdropElement=null,this._backdropClick=new q.xQ,this._attachments=new q.xQ,this._detachments=new q.xQ,this._locationChanges=K.w.EMPTY,this._backdropClickHandler=zt=>this._backdropClick.next(zt),this._keydownEvents=new q.xQ,this._outsidePointerEvents=new q.xQ,Et.scrollStrategy&&(this._scrollStrategy=Et.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Et.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ke){let je=this._portalOutlet.attach(ke);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,xe.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),je}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ke=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ke}dispose(){const ke=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,ke&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ke){ke!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ke,this.hasAttached()&&(ke.attach(this),this.updatePosition()))}updateSize(ke){this._config=Object.assign(Object.assign({},this._config),ke),this._updateElementSize()}setDirection(ke){this._config=Object.assign(Object.assign({},this._config),{direction:ke}),this._updateElementDirection()}addPanelClass(ke){this._pane&&this._toggleClasses(this._pane,ke,!0)}removePanelClass(ke){this._pane&&this._toggleClasses(this._pane,ke,!1)}getDirection(){const ke=this._config.direction;return ke?"string"==typeof ke?ke:ke.value:"ltr"}updateScrollStrategy(ke){ke!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ke,this.hasAttached()&&(ke.attach(this),ke.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ke=this._pane.style;ke.width=(0,y.HM)(this._config.width),ke.height=(0,y.HM)(this._config.height),ke.minWidth=(0,y.HM)(this._config.minWidth),ke.minHeight=(0,y.HM)(this._config.minHeight),ke.maxWidth=(0,y.HM)(this._config.maxWidth),ke.maxHeight=(0,y.HM)(this._config.maxHeight)}_togglePointerEvents(ke){this._pane.style.pointerEvents=ke?"":"none"}_attachBackdrop(){const ke="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ke)})}):this._backdropElement.classList.add(ke)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ke=this._backdropElement;if(!ke)return;let je;const yt=()=>{ke&&(ke.removeEventListener("click",this._backdropClickHandler),ke.removeEventListener("transitionend",yt),this._disposeBackdrop(ke)),this._config.backdropClass&&this._toggleClasses(ke,this._config.backdropClass,!1),clearTimeout(je)};ke.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ke.addEventListener("transitionend",yt)}),ke.style.pointerEvents="none",je=this._ngZone.runOutsideAngular(()=>setTimeout(yt,500))}_toggleClasses(ke,je,yt){const Et=ke.classList;(0,y.Eq)(je).forEach($t=>{$t&&(yt?Et.add($t):Et.remove($t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ke=this._ngZone.onStable.pipe((0,Q.R)((0,H.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),ke.unsubscribe())})})}_disposeScrollStrategy(){const ke=this._scrollStrategy;ke&&(ke.disable(),ke.detach&&ke.detach())}_disposeBackdrop(ke){ke&&(ke.parentNode&&ke.parentNode.removeChild(ke),this._backdropElement===ke&&(this._backdropElement=null))}}const Re="cdk-overlay-connected-position-bounding-box",Le=/([A-Za-z%]+)$/;class Je{constructor(ke,je,yt,Et,$t){this._viewportRuler=je,this._document=yt,this._platform=Et,this._overlayContainer=$t,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new q.xQ,this._resizeSubscription=K.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ke)}get positions(){return this._preferredPositions}attach(ke){this._validatePositions(),ke.hostElement.classList.add(Re),this._overlayRef=ke,this._boundingBox=ke.hostElement,this._pane=ke.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const ke=this._originRect,je=this._overlayRect,yt=this._viewportRect,Et=[];let $t;for(let cn of this._preferredPositions){let ct=this._getOriginPoint(ke,cn),tt=this._getOverlayPoint(ct,je,cn),_t=this._getOverlayFit(tt,je,yt,cn);if(_t.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(cn,ct);this._canFitWithFlexibleDimensions(_t,tt,yt)?Et.push({position:cn,origin:ct,overlayRect:je,boundingBoxRect:this._calculateBoundingBoxRect(ct,cn)}):(!$t||$t.overlayFit.visibleArea<_t.visibleArea)&&($t={overlayFit:_t,overlayPoint:tt,originPoint:ct,position:cn,overlayRect:je})}if(Et.length){let cn=null,ct=-1;for(const tt of Et){const _t=tt.boundingBoxRect.width*tt.boundingBoxRect.height*(tt.position.weight||1);_t>ct&&(ct=_t,cn=tt)}return this._isPushed=!1,void this._applyPosition(cn.position,cn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition($t.position,$t.originPoint);this._applyPosition($t.position,$t.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Oe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Re),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const ke=this._lastPosition||this._preferredPositions[0],je=this._getOriginPoint(this._originRect,ke);this._applyPosition(ke,je)}}withScrollableContainers(ke){return this._scrollables=ke,this}withPositions(ke){return this._preferredPositions=ke,-1===ke.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ke){return this._viewportMargin=ke,this}withFlexibleDimensions(ke=!0){return this._hasFlexibleDimensions=ke,this}withGrowAfterOpen(ke=!0){return this._growAfterOpen=ke,this}withPush(ke=!0){return this._canPush=ke,this}withLockedPosition(ke=!0){return this._positionLocked=ke,this}setOrigin(ke){return this._origin=ke,this}withDefaultOffsetX(ke){return this._offsetX=ke,this}withDefaultOffsetY(ke){return this._offsetY=ke,this}withTransformOriginOn(ke){return this._transformOriginSelector=ke,this}_getOriginPoint(ke,je){let yt,Et;if("center"==je.originX)yt=ke.left+ke.width/2;else{const $t=this._isRtl()?ke.right:ke.left,cn=this._isRtl()?ke.left:ke.right;yt="start"==je.originX?$t:cn}return Et="center"==je.originY?ke.top+ke.height/2:"top"==je.originY?ke.top:ke.bottom,{x:yt,y:Et}}_getOverlayPoint(ke,je,yt){let Et,$t;return Et="center"==yt.overlayX?-je.width/2:"start"===yt.overlayX?this._isRtl()?-je.width:0:this._isRtl()?0:-je.width,$t="center"==yt.overlayY?-je.height/2:"top"==yt.overlayY?0:-je.height,{x:ke.x+Et,y:ke.y+$t}}_getOverlayFit(ke,je,yt,Et){const $t=Fe(je);let{x:cn,y:ct}=ke,tt=this._getOffset(Et,"x"),_t=this._getOffset(Et,"y");tt&&(cn+=tt),_t&&(ct+=_t);let ft=0-ct,Ye=ct+$t.height-yt.height,Ke=this._subtractOverflows($t.width,0-cn,cn+$t.width-yt.width),we=this._subtractOverflows($t.height,ft,Ye),Me=Ke*we;return{visibleArea:Me,isCompletelyWithinViewport:$t.width*$t.height===Me,fitsInViewportVertically:we===$t.height,fitsInViewportHorizontally:Ke==$t.width}}_canFitWithFlexibleDimensions(ke,je,yt){if(this._hasFlexibleDimensions){const Et=yt.bottom-je.y,$t=yt.right-je.x,cn=Ve(this._overlayRef.getConfig().minHeight),ct=Ve(this._overlayRef.getConfig().minWidth),_t=ke.fitsInViewportHorizontally||null!=ct&&ct<=$t;return(ke.fitsInViewportVertically||null!=cn&&cn<=Et)&&_t}return!1}_pushOverlayOnScreen(ke,je,yt){if(this._previousPushAmount&&this._positionLocked)return{x:ke.x+this._previousPushAmount.x,y:ke.y+this._previousPushAmount.y};const Et=Fe(je),$t=this._viewportRect,cn=Math.max(ke.x+Et.width-$t.width,0),ct=Math.max(ke.y+Et.height-$t.height,0),tt=Math.max($t.top-yt.top-ke.y,0),_t=Math.max($t.left-yt.left-ke.x,0);let zt=0,Ft=0;return zt=Et.width<=$t.width?_t||-cn:ke.x<this._viewportMargin?$t.left-yt.left-ke.x:0,Ft=Et.height<=$t.height?tt||-ct:ke.y<this._viewportMargin?$t.top-yt.top-ke.y:0,this._previousPushAmount={x:zt,y:Ft},{x:ke.x+zt,y:ke.y+Ft}}_applyPosition(ke,je){if(this._setTransformOrigin(ke),this._setOverlayElementStyles(je,ke),this._setBoundingBoxStyles(je,ke),ke.panelClass&&this._addPanelClasses(ke.panelClass),this._lastPosition=ke,this._positionChanges.observers.length){const yt=this._getScrollVisibility(),Et=new C(ke,yt);this._positionChanges.next(Et)}this._isInitialRender=!1}_setTransformOrigin(ke){if(!this._transformOriginSelector)return;const je=this._boundingBox.querySelectorAll(this._transformOriginSelector);let yt,Et=ke.overlayY;yt="center"===ke.overlayX?"center":this._isRtl()?"start"===ke.overlayX?"right":"left":"start"===ke.overlayX?"left":"right";for(let $t=0;$t<je.length;$t++)je[$t].style.transformOrigin=`${yt} ${Et}`}_calculateBoundingBoxRect(ke,je){const yt=this._viewportRect,Et=this._isRtl();let $t,cn,ct,zt,Ft,ft;if("top"===je.overlayY)cn=ke.y,$t=yt.height-cn+this._viewportMargin;else if("bottom"===je.overlayY)ct=yt.height-ke.y+2*this._viewportMargin,$t=yt.height-ct+this._viewportMargin;else{const Ye=Math.min(yt.bottom-ke.y+yt.top,ke.y),Ke=this._lastBoundingBoxSize.height;$t=2*Ye,cn=ke.y-Ye,$t>Ke&&!this._isInitialRender&&!this._growAfterOpen&&(cn=ke.y-Ke/2)}if("end"===je.overlayX&&!Et||"start"===je.overlayX&&Et)ft=yt.width-ke.x+this._viewportMargin,zt=ke.x-this._viewportMargin;else if("start"===je.overlayX&&!Et||"end"===je.overlayX&&Et)Ft=ke.x,zt=yt.right-ke.x;else{const Ye=Math.min(yt.right-ke.x+yt.left,ke.x),Ke=this._lastBoundingBoxSize.width;zt=2*Ye,Ft=ke.x-Ye,zt>Ke&&!this._isInitialRender&&!this._growAfterOpen&&(Ft=ke.x-Ke/2)}return{top:cn,left:Ft,bottom:ct,right:ft,width:zt,height:$t}}_setBoundingBoxStyles(ke,je){const yt=this._calculateBoundingBoxRect(ke,je);!this._isInitialRender&&!this._growAfterOpen&&(yt.height=Math.min(yt.height,this._lastBoundingBoxSize.height),yt.width=Math.min(yt.width,this._lastBoundingBoxSize.width));const Et={};if(this._hasExactPosition())Et.top=Et.left="0",Et.bottom=Et.right=Et.maxHeight=Et.maxWidth="",Et.width=Et.height="100%";else{const $t=this._overlayRef.getConfig().maxHeight,cn=this._overlayRef.getConfig().maxWidth;Et.height=(0,y.HM)(yt.height),Et.top=(0,y.HM)(yt.top),Et.bottom=(0,y.HM)(yt.bottom),Et.width=(0,y.HM)(yt.width),Et.left=(0,y.HM)(yt.left),Et.right=(0,y.HM)(yt.right),Et.alignItems="center"===je.overlayX?"center":"end"===je.overlayX?"flex-end":"flex-start",Et.justifyContent="center"===je.overlayY?"center":"bottom"===je.overlayY?"flex-end":"flex-start",$t&&(Et.maxHeight=(0,y.HM)($t)),cn&&(Et.maxWidth=(0,y.HM)(cn))}this._lastBoundingBoxSize=yt,Oe(this._boundingBox.style,Et)}_resetBoundingBoxStyles(){Oe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Oe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ke,je){const yt={},Et=this._hasExactPosition(),$t=this._hasFlexibleDimensions,cn=this._overlayRef.getConfig();if(Et){const zt=this._viewportRuler.getViewportScrollPosition();Oe(yt,this._getExactOverlayY(je,ke,zt)),Oe(yt,this._getExactOverlayX(je,ke,zt))}else yt.position="static";let ct="",tt=this._getOffset(je,"x"),_t=this._getOffset(je,"y");tt&&(ct+=`translateX(${tt}px) `),_t&&(ct+=`translateY(${_t}px)`),yt.transform=ct.trim(),cn.maxHeight&&(Et?yt.maxHeight=(0,y.HM)(cn.maxHeight):$t&&(yt.maxHeight="")),cn.maxWidth&&(Et?yt.maxWidth=(0,y.HM)(cn.maxWidth):$t&&(yt.maxWidth="")),Oe(this._pane.style,yt)}_getExactOverlayY(ke,je,yt){let Et={top:"",bottom:""},$t=this._getOverlayPoint(je,this._overlayRect,ke);this._isPushed&&($t=this._pushOverlayOnScreen($t,this._overlayRect,yt));let cn=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return $t.y-=cn,"bottom"===ke.overlayY?Et.bottom=this._document.documentElement.clientHeight-($t.y+this._overlayRect.height)+"px":Et.top=(0,y.HM)($t.y),Et}_getExactOverlayX(ke,je,yt){let cn,Et={left:"",right:""},$t=this._getOverlayPoint(je,this._overlayRect,ke);return this._isPushed&&($t=this._pushOverlayOnScreen($t,this._overlayRect,yt)),cn=this._isRtl()?"end"===ke.overlayX?"left":"right":"end"===ke.overlayX?"right":"left","right"===cn?Et.right=this._document.documentElement.clientWidth-($t.x+this._overlayRect.width)+"px":Et.left=(0,y.HM)($t.x),Et}_getScrollVisibility(){const ke=this._getOriginRect(),je=this._pane.getBoundingClientRect(),yt=this._scrollables.map(Et=>Et.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:U(ke,yt),isOriginOutsideView:Z(ke,yt),isOverlayClipped:U(je,yt),isOverlayOutsideView:Z(je,yt)}}_subtractOverflows(ke,...je){return je.reduce((yt,Et)=>yt-Math.max(Et,0),ke)}_getNarrowedViewportRect(){const ke=this._document.documentElement.clientWidth,je=this._document.documentElement.clientHeight,yt=this._viewportRuler.getViewportScrollPosition();return{top:yt.top+this._viewportMargin,left:yt.left+this._viewportMargin,right:yt.left+ke-this._viewportMargin,bottom:yt.top+je-this._viewportMargin,width:ke-2*this._viewportMargin,height:je-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ke,je){return"x"===je?null==ke.offsetX?this._offsetX:ke.offsetX:null==ke.offsetY?this._offsetY:ke.offsetY}_validatePositions(){}_addPanelClasses(ke){this._pane&&(0,y.Eq)(ke).forEach(je=>{""!==je&&-1===this._appliedPanelClasses.indexOf(je)&&(this._appliedPanelClasses.push(je),this._pane.classList.add(je))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ke=>{this._pane.classList.remove(ke)}),this._appliedPanelClasses=[])}_getOriginRect(){const ke=this._origin;if(ke instanceof R.SBq)return ke.nativeElement.getBoundingClientRect();if(ke instanceof Element)return ke.getBoundingClientRect();const je=ke.width||0,yt=ke.height||0;return{top:ke.y,bottom:ke.y+yt,left:ke.x,right:ke.x+je,height:yt,width:je}}}function Oe(wt,ke){for(let je in ke)ke.hasOwnProperty(je)&&(wt[je]=ke[je]);return wt}function Ve(wt){if("number"!=typeof wt&&null!=wt){const[ke,je]=wt.split(Le);return je&&"px"!==je?null:parseFloat(ke)}return wt||null}function Fe(wt){return{top:Math.floor(wt.top),right:Math.floor(wt.right),bottom:Math.floor(wt.bottom),left:Math.floor(wt.left),width:Math.floor(wt.width),height:Math.floor(wt.height)}}class et{constructor(ke,je,yt,Et,$t,cn,ct){this._preferredPositions=[],this._positionStrategy=new Je(yt,Et,$t,cn,ct).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(ke,je),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(ke){this._overlayRef=ke,this._positionStrategy.attach(ke),this._direction&&(ke.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(ke){this._positionStrategy.withScrollableContainers(ke)}withFallbackPosition(ke,je,yt,Et){const $t=new A(ke,je,yt,Et);return this._preferredPositions.push($t),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(ke){return this._overlayRef?this._overlayRef.setDirection(ke):this._direction=ke,this}withOffsetX(ke){return this._positionStrategy.withDefaultOffsetX(ke),this}withOffsetY(ke){return this._positionStrategy.withDefaultOffsetY(ke),this}withLockedPosition(ke){return this._positionStrategy.withLockedPosition(ke),this}withPositions(ke){return this._preferredPositions=ke.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(ke){return this._positionStrategy.setOrigin(ke),this}}const Ue="cdk-global-overlay-wrapper";class xt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(ke){const je=ke.getConfig();this._overlayRef=ke,this._width&&!je.width&&ke.updateSize({width:this._width}),this._height&&!je.height&&ke.updateSize({height:this._height}),ke.hostElement.classList.add(Ue),this._isDisposed=!1}top(ke=""){return this._bottomOffset="",this._topOffset=ke,this._alignItems="flex-start",this}left(ke=""){return this._rightOffset="",this._leftOffset=ke,this._justifyContent="flex-start",this}bottom(ke=""){return this._topOffset="",this._bottomOffset=ke,this._alignItems="flex-end",this}right(ke=""){return this._leftOffset="",this._rightOffset=ke,this._justifyContent="flex-end",this}width(ke=""){return this._overlayRef?this._overlayRef.updateSize({width:ke}):this._width=ke,this}height(ke=""){return this._overlayRef?this._overlayRef.updateSize({height:ke}):this._height=ke,this}centerHorizontally(ke=""){return this.left(ke),this._justifyContent="center",this}centerVertically(ke=""){return this.top(ke),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ke=this._overlayRef.overlayElement.style,je=this._overlayRef.hostElement.style,yt=this._overlayRef.getConfig(),{width:Et,height:$t,maxWidth:cn,maxHeight:ct}=yt,tt=!("100%"!==Et&&"100vw"!==Et||cn&&"100%"!==cn&&"100vw"!==cn),_t=!("100%"!==$t&&"100vh"!==$t||ct&&"100%"!==ct&&"100vh"!==ct);ke.position=this._cssPosition,ke.marginLeft=tt?"0":this._leftOffset,ke.marginTop=_t?"0":this._topOffset,ke.marginBottom=this._bottomOffset,ke.marginRight=this._rightOffset,tt?je.justifyContent="flex-start":"center"===this._justifyContent?je.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?je.justifyContent="flex-end":"flex-end"===this._justifyContent&&(je.justifyContent="flex-start"):je.justifyContent=this._justifyContent,je.alignItems=_t?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ke=this._overlayRef.overlayElement.style,je=this._overlayRef.hostElement,yt=je.style;je.classList.remove(Ue),yt.justifyContent=yt.alignItems=ke.marginTop=ke.marginBottom=ke.marginLeft=ke.marginRight=ke.position="",this._overlayRef=null,this._isDisposed=!0}}let It=(()=>{class wt{constructor(je,yt,Et,$t){this._viewportRuler=je,this._document=yt,this._platform=Et,this._overlayContainer=$t}global(){return new xt}connectedTo(je,yt,Et){return new et(yt,Et,je,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(je){return new Je(je,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(m.rL),R.LFG(le.K0),R.LFG(k.t4),R.LFG(he))},wt.\u0275prov=R.Yz7({factory:function(){return new wt(R.LFG(m.rL),R.LFG(le.K0),R.LFG(k.t4),R.LFG(he))},token:wt,providedIn:"root"}),wt})(),Pt=0,Wt=(()=>{class wt{constructor(je,yt,Et,$t,cn,ct,tt,_t,zt,Ft,ft){this.scrollStrategies=je,this._overlayContainer=yt,this._componentFactoryResolver=Et,this._positionBuilder=$t,this._keyboardDispatcher=cn,this._injector=ct,this._ngZone=tt,this._document=_t,this._directionality=zt,this._location=Ft,this._outsideClickDispatcher=ft}create(je){const yt=this._createHostElement(),Et=this._createPaneElement(yt),$t=this._createPortalOutlet(Et),cn=new D(je);return cn.direction=cn.direction||this._directionality.value,new me($t,yt,Et,cn,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(je){const yt=this._document.createElement("div");return yt.id="cdk-overlay-"+Pt++,yt.classList.add("cdk-overlay-pane"),je.appendChild(yt),yt}_createHostElement(){const je=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(je),je}_createPortalOutlet(je){return this._appRef||(this._appRef=this._injector.get(R.z2F)),new ce.u0(je,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(L),R.LFG(he),R.LFG(R._Vd),R.LFG(It),R.LFG(ye),R.LFG(R.zs3),R.LFG(R.R0b),R.LFG(le.K0),R.LFG(Se.Is),R.LFG(le.Ye),R.LFG(Te))},wt.\u0275prov=R.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const Qt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gn=new R.OlP("cdk-connected-overlay-scroll-strategy");let In=(()=>{class wt{constructor(je){this.elementRef=je}}return wt.\u0275fac=function(je){return new(je||wt)(R.Y36(R.SBq))},wt.\u0275dir=R.lG2({type:wt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),wt})(),Dn=(()=>{class wt{constructor(je,yt,Et,$t,cn){this._overlay=je,this._dir=cn,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=K.w.EMPTY,this._attachSubscription=K.w.EMPTY,this._detachSubscription=K.w.EMPTY,this._positionSubscription=K.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new R.vpe,this.positionChange=new R.vpe,this.attach=new R.vpe,this.detach=new R.vpe,this.overlayKeydown=new R.vpe,this.overlayOutsideClick=new R.vpe,this._templatePortal=new ce.UE(yt,Et),this._scrollStrategyFactory=$t,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(je){this._offsetX=je,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(je){this._offsetY=je,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(je){this._hasBackdrop=(0,y.Ig)(je)}get lockPosition(){return this._lockPosition}set lockPosition(je){this._lockPosition=(0,y.Ig)(je)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(je){this._flexibleDimensions=(0,y.Ig)(je)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(je){this._growAfterOpen=(0,y.Ig)(je)}get push(){return this._push}set push(je){this._push=(0,y.Ig)(je)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(je){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),je.origin&&this.open&&this._position.apply()),je.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Qt);const je=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=je.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=je.detachments().subscribe(()=>this.detach.emit()),je.keydownEvents().subscribe(yt=>{this.overlayKeydown.next(yt),yt.keyCode===fe.hY&&!this.disableClose&&!(0,fe.Vb)(yt)&&(yt.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(yt=>{this.overlayOutsideClick.next(yt)})}_buildConfig(){const je=this._position=this.positionStrategy||this._createPositionStrategy(),yt=new D({direction:this._dir,positionStrategy:je,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(yt.width=this.width),(this.height||0===this.height)&&(yt.height=this.height),(this.minWidth||0===this.minWidth)&&(yt.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(yt.minHeight=this.minHeight),this.backdropClass&&(yt.backdropClass=this.backdropClass),this.panelClass&&(yt.panelClass=this.panelClass),yt}_updatePositionStrategy(je){const yt=this.positions.map(Et=>({originX:Et.originX,originY:Et.originY,overlayX:Et.overlayX,overlayY:Et.overlayY,offsetX:Et.offsetX||this.offsetX,offsetY:Et.offsetY||this.offsetY,panelClass:Et.panelClass||void 0}));return je.setOrigin(this.origin.elementRef).withPositions(yt).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const je=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(je),je}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(je=>{this.backdropClick.emit(je)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(wt,ke=!1){return je=>je.lift(new j(wt,ke))}(()=>this.positionChange.observers.length>0)).subscribe(je=>{this.positionChange.emit(je),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return wt.\u0275fac=function(je){return new(je||wt)(R.Y36(Wt),R.Y36(R.Rgc),R.Y36(R.s_b),R.Y36(gn),R.Y36(Se.Is,8))},wt.\u0275dir=R.lG2({type:wt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[R.TTD]}),wt})();const sn={provide:gn,deps:[Wt],useFactory:function(wt){return()=>wt.scrollStrategies.reposition()}};let it=(()=>{class wt{}return wt.\u0275fac=function(je){return new(je||wt)},wt.\u0275mod=R.oAB({type:wt}),wt.\u0275inj=R.cJS({providers:[Wt,sn],imports:[[Se.vT,ce.eL,m.Cl],m.Cl]}),wt})()},1069:(un,ot,E)=>{"use strict";E.d(ot,{t4:()=>Se,ud:()=>le,sA:()=>ne,ht:()=>ie,kV:()=>re,Oy:()=>oe,_i:()=>xe,i$:()=>Y,Mq:()=>X});var m=E(3668),R=E(6019);let k;try{k="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Z){k=!1}let K,V,j,Q,de,Se=(()=>{class Z{constructor(W){this._platformId=W,this.isBrowser=this._platformId?(0,R.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!k)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Z.\u0275fac=function(W){return new(W||Z)(m.LFG(m.Lbi))},Z.\u0275prov=m.Yz7({factory:function(){return new Z(m.LFG(m.Lbi))},token:Z,providedIn:"root"}),Z})(),le=(()=>{class Z{}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275mod=m.oAB({type:Z}),Z.\u0275inj=m.cJS({}),Z})();function Y(Z){return function(){if(null==K&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>K=!0}))}finally{K=K||!1}return K}()?Z:!!Z.capture}function X(){if(null==j){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return j=!1,j;if("scrollBehavior"in document.documentElement.style)j=!0;else{const Z=Element.prototype.scrollTo;j=!!Z&&!/\{\s*\[native code\]\s*\}/.test(Z.toString())}}return j}function xe(){if("object"!=typeof document||!document)return 0;if(null==V){const Z=document.createElement("div"),U=Z.style;Z.dir="rtl",U.width="1px",U.overflow="auto",U.visibility="hidden",U.pointerEvents="none",U.position="absolute";const W=document.createElement("div"),L=W.style;L.width="2px",L.height="1px",Z.appendChild(W),document.body.appendChild(Z),V=0,0===Z.scrollLeft&&(Z.scrollLeft=1,V=0===Z.scrollLeft?1:2),Z.parentNode.removeChild(Z)}return V}function re(Z){if(function(){if(null==Q){const Z="undefined"!=typeof document?document.head:null;Q=!(!Z||!Z.createShadowRoot&&!Z.attachShadow)}return Q}()){const U=Z.getRootNode?Z.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&U instanceof ShadowRoot)return U}return null}function ie(){let Z="undefined"!=typeof document&&document?document.activeElement:null;for(;Z&&Z.shadowRoot;){const U=Z.shadowRoot.activeElement;if(U===Z)break;Z=U}return Z}function ne(Z){return Z.composedPath?Z.composedPath()[0]:Z.target}function oe(){return void 0!==de.__karma__&&!!de.__karma__||void 0!==de.jasmine&&!!de.jasmine||void 0!==de.jest&&!!de.jest||void 0!==de.Mocha&&!!de.Mocha}de="undefined"!=typeof global?global:"undefined"!=typeof window?window:{}},1957:(un,ot,E)=>{"use strict";E.d(ot,{C5:()=>H,u0:()=>xe,eL:()=>de,UE:()=>Y});var m=E(3668);E(6019);class K{attach(U){return this._attachedHost=U,U.attach(this)}detach(){let U=this._attachedHost;null!=U&&(this._attachedHost=null,U.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(U){this._attachedHost=U}}class H extends K{constructor(U,W,L,D){super(),this.component=U,this.viewContainerRef=W,this.injector=L,this.componentFactoryResolver=D}}class Y extends K{constructor(U,W,L){super(),this.templateRef=U,this.viewContainerRef=W,this.context=L}get origin(){return this.templateRef.elementRef}attach(U,W=this.context){return this.context=W,super.attach(U)}detach(){return this.context=void 0,super.detach()}}class V extends K{constructor(U){super(),this.element=U instanceof m.SBq?U.nativeElement:U}}class xe extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(U){return U instanceof H?(this._attachedPortal=U,this.attachComponentPortal(U)):U instanceof Y?(this._attachedPortal=U,this.attachTemplatePortal(U)):this.attachDomPortal&&U instanceof V?(this._attachedPortal=U,this.attachDomPortal(U)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(U){this._disposeFn=U}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(U,W,L,D,A){super(),this.outletElement=U,this._componentFactoryResolver=W,this._appRef=L,this._defaultInjector=D,this.attachDomPortal=M=>{const C=M.element,P=this._document.createComment("dom-portal");C.parentNode.insertBefore(P,C),this.outletElement.appendChild(C),this._attachedPortal=M,super.setDisposeFn(()=>{P.parentNode&&P.parentNode.replaceChild(C,P)})},this._document=A}attachComponentPortal(U){const L=(U.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(U.component);let D;return U.viewContainerRef?(D=U.viewContainerRef.createComponent(L,U.viewContainerRef.length,U.injector||U.viewContainerRef.injector),this.setDisposeFn(()=>D.destroy())):(D=L.create(U.injector||this._defaultInjector),this._appRef.attachView(D.hostView),this.setDisposeFn(()=>{this._appRef.detachView(D.hostView),D.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(D)),this._attachedPortal=U,D}attachTemplatePortal(U){let W=U.viewContainerRef,L=W.createEmbeddedView(U.templateRef,U.context);return L.rootNodes.forEach(D=>this.outletElement.appendChild(D)),L.detectChanges(),this.setDisposeFn(()=>{let D=W.indexOf(L);-1!==D&&W.remove(D)}),this._attachedPortal=U,L}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(U){return U.hostView.rootNodes[0]}}let de=(()=>{class Z{}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275mod=m.oAB({type:Z}),Z.\u0275inj=m.cJS({}),Z})()},6007:(un,ot,E)=>{"use strict";E.d(ot,{ZD:()=>In,mF:()=>Fe,Cl:()=>Dn,rL:()=>xt});var m=E(5139),R=E(3668),k=E(3405),Se=E(2411),le=E(5548),y=E(6087);E(8548),E(2907);E(1346),E(7214),E(4168),E(2919),E(5389);var ie=E(1506),ne=E(8735),U=(E(8805),E(1125),E(9204),E(1069)),W=E(6019),L=E(2355);let Fe=(()=>{class Yt{constructor(it,vn,wt){this._ngZone=it,this._platform=vn,this._scrolled=new k.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=wt}register(it){this.scrollContainers.has(it)||this.scrollContainers.set(it,it.elementScrolled().subscribe(()=>this._scrolled.next(it)))}deregister(it){const vn=this.scrollContainers.get(it);vn&&(vn.unsubscribe(),this.scrollContainers.delete(it))}scrolled(it=20){return this._platform.isBrowser?new le.y(vn=>{this._globalSubscription||this._addGlobalListener();const wt=it>0?this._scrolled.pipe((0,ie.e)(it)).subscribe(vn):this._scrolled.subscribe(vn);return this._scrolledCount++,()=>{wt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Se.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((it,vn)=>this.deregister(vn)),this._scrolled.complete()}ancestorScrolled(it,vn){const wt=this.getAncestorScrollContainers(it);return this.scrolled(vn).pipe((0,ne.h)(ke=>!ke||wt.indexOf(ke)>-1))}getAncestorScrollContainers(it){const vn=[];return this.scrollContainers.forEach((wt,ke)=>{this._scrollableContainsElement(ke,it)&&vn.push(ke)}),vn}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(it,vn){let wt=(0,m.fI)(vn),ke=it.getElementRef().nativeElement;do{if(wt==ke)return!0}while(wt=wt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const it=this._getWindow();return(0,y.R)(it.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Yt.\u0275fac=function(it){return new(it||Yt)(R.LFG(R.R0b),R.LFG(U.t4),R.LFG(W.K0,8))},Yt.\u0275prov=R.Yz7({factory:function(){return new Yt(R.LFG(R.R0b),R.LFG(U.t4),R.LFG(W.K0,8))},token:Yt,providedIn:"root"}),Yt})(),xt=(()=>{class Yt{constructor(it,vn,wt){this._platform=it,this._change=new k.xQ,this._changeListener=ke=>{this._change.next(ke)},this._document=wt,vn.runOutsideAngular(()=>{if(it.isBrowser){const ke=this._getWindow();ke.addEventListener("resize",this._changeListener),ke.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const it=this._getWindow();it.removeEventListener("resize",this._changeListener),it.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const it={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),it}getViewportRect(){const it=this.getViewportScrollPosition(),{width:vn,height:wt}=this.getViewportSize();return{top:it.top,left:it.left,bottom:it.top+wt,right:it.left+vn,height:wt,width:vn}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const it=this._document,vn=this._getWindow(),wt=it.documentElement,ke=wt.getBoundingClientRect();return{top:-ke.top||it.body.scrollTop||vn.scrollY||wt.scrollTop||0,left:-ke.left||it.body.scrollLeft||vn.scrollX||wt.scrollLeft||0}}change(it=20){return it>0?this._change.pipe((0,ie.e)(it)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const it=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:it.innerWidth,height:it.innerHeight}:{width:0,height:0}}}return Yt.\u0275fac=function(it){return new(it||Yt)(R.LFG(U.t4),R.LFG(R.R0b),R.LFG(W.K0,8))},Yt.\u0275prov=R.Yz7({factory:function(){return new Yt(R.LFG(U.t4),R.LFG(R.R0b),R.LFG(W.K0,8))},token:Yt,providedIn:"root"}),Yt})(),In=(()=>{class Yt{}return Yt.\u0275fac=function(it){return new(it||Yt)},Yt.\u0275mod=R.oAB({type:Yt}),Yt.\u0275inj=R.cJS({}),Yt})(),Dn=(()=>{class Yt{}return Yt.\u0275fac=function(it){return new(it||Yt)},Yt.\u0275mod=R.oAB({type:Yt}),Yt.\u0275inj=R.cJS({imports:[[L.vT,U.ud,In],L.vT,In]}),Yt})()},5139:(un,ot,E)=>{"use strict";E.d(ot,{Eq:()=>le,Ig:()=>R,HM:()=>y,fI:()=>ce,su:()=>k});var m=E(3668);function R(K){return null!=K&&"false"!=`${K}`}function k(K,H=0){return function(K){return!isNaN(parseFloat(K))&&!isNaN(Number(K))}(K)?Number(K):H}function le(K){return Array.isArray(K)?K:[K]}function y(K){return null==K?"":"string"==typeof K?K:`${K}px`}function ce(K){return K instanceof m.SBq?K.nativeElement:K}},2:(un,ot,E)=>{"use strict";E.d(ot,{V65:()=>Dn,ud1:()=>$n,Hkd:()=>Rn,XuQ:()=>Fa,bBn:()=>Hi,BOg:()=>Ln,Rfq:()=>sa,yQU:()=>gi,U2Q:()=>An,UKj:()=>ri,BXH:()=>br,OYp:()=>Ii,eLU:()=>qi,x0x:()=>Bi,Ej7:()=>Zs,VWu:()=>ji,rMt:()=>Bo,vEg:()=>Fo,RIp:()=>jt,RU0:()=>jn,M8e:()=>ci,ssy:()=>Ni,Z5F:()=>oh,iUK:()=>sh,LJh:()=>Ms,NFG:()=>fd,WH2:()=>gl,UTl:()=>$0,nrZ:()=>xh,gvV:()=>Q0,d2H:()=>Ed,LBP:()=>q1,_ry:()=>wu,eFY:()=>Pu,sZJ:()=>mf,np6:()=>el,UY$:()=>Zd,w1L:()=>Wd,rHg:()=>Vu,v6v:()=>N2,cN2:()=>pc,FsU:()=>Gf,s_U:()=>jh,TSL:()=>jf,uIz:()=>Qf,d_$:()=>nv});const Dn={name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},$n={name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},Fa={name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},Rn={name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},Ln={name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},Hi={name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},sa={name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},gi={name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},An={name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},ri={name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},Ii={name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},br={name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},qi={name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},Bi={name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},Zs={name:"dashboard",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z" /></svg>'},ji={name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},Fo={name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},Bo={name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},jt={name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},jn={name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},ci={name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},Ni={name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},oh={name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},sh={name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},fd={name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},Ms={name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},gl={name:"form",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z" /><path d="M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z" /></svg>'},xh={name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},$0={name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},Q0={name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},Ed={name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},q1={name:"menu-fold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z" /></svg>'},wu={name:"menu-unfold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z" /></svg>'},Pu={name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},mf={name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},el={name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},Wd={name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},Zd={name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},Vu={name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},N2={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},pc={name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},Gf={name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},jh={name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},jf={name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},Qf={name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},nv={name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}},7217:(un,ot,E)=>{"use strict";E.r(ot),E.d(ot,{Axis:()=>R.RD,ChartView:()=>R.TA,ComponentModel:()=>R.tF,ComponentView:()=>R.Ir,List:()=>R.aV,Model:()=>R.Hn,PRIORITY:()=>R.Hr,SeriesModel:()=>R.wJ,color:()=>R.$_,connect:()=>R.$j,dataTool:()=>R.Ok,dependencies:()=>R.HO,disConnect:()=>R.eU,disconnect:()=>R.zP,dispose:()=>R.B9,env:()=>R.OB,extendChartView:()=>R.Zy,extendComponentModel:()=>R.tv,extendComponentView:()=>R.Sp,extendSeriesModel:()=>R.Zr,format:()=>R.WU,getCoordinateSystemDimensions:()=>R.wL,getInstanceByDom:()=>R.JE,getInstanceById:()=>R.rp,getMap:()=>R.FU,graphic:()=>R.Q,helper:()=>R._y,init:()=>R.S1,innerDrawElementOnCanvas:()=>R.z$,matrix:()=>R.pI,number:()=>R.Rx,parseGeoJSON:()=>R.Nu,parseGeoJson:()=>R.pQ,registerAction:()=>R.zl,registerCoordinateSystem:()=>R.RS,registerLayout:()=>R.qR,registerLoading:()=>R.yn,registerLocale:()=>R.I2,registerMap:()=>R.je,registerPostInit:()=>R.sq,registerPostUpdate:()=>R.Br,registerPreprocessor:()=>R.ds,registerProcessor:()=>R.Pu,registerTheme:()=>R.aW,registerTransform:()=>R.rV,registerUpdateLifecycle:()=>R.YK,registerVisual:()=>R.Og,setCanvasCreator:()=>R.jQ,throttle:()=>R.P2,time:()=>R.XV,use:()=>R.D$,util:()=>R.D5,vector:()=>R.xr,version:()=>R.i8,zrUtil:()=>R.gf,zrender:()=>R.x_});var m=E(5051),R=E(4302),k=E(589);function Se(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function le(a){var n;if(a&&"transparent"!==a){if("string"==typeof a&&a.indexOf("rgba")>-1){var t=(0,k.parse)(a);t&&(a="rgb("+t[0]+","+t[1]+","+t[2]+")",n=t[3])}}else a="none";return{color:a,opacity:null==n?1:n}}var y=E(284),ce=E(5581),q=E(5252),K=E(9221);function Y(a,n,t,i,l){for(var u=n.length,d=t.length,v=a.newPos,_=v-i,b=0;v+1<u&&_+1<d&&l(n[v+1],t[_+1]);)v++,_++,b++;return b&&a.components.push({count:b,added:!1,removed:!1,indices:[]}),a.newPos=v,_}function V(a,n,t){var i=a[a.length-1];i&&i.added===n&&i.removed===t?a[a.length-1]={count:i.count+1,added:n,removed:t,indices:[]}:a.push({count:1,added:n,removed:t,indices:[]})}function j(a){for(var n=0,t=a.length,i=0,l=0;n<t;n++){var u=a[n];if(u.removed){for(var v=l;v<l+u.count;v++)u.indices.push(v);l+=u.count}else{var d=[];for(v=i;v<i+u.count;v++)d.push(v);u.indices=d,i+=u.count,u.added||(l+=u.count)}}return a}function X(a){return{newPos:a.newPos,components:a.components.slice(0)}}var Q=E(908),fe=E(7084),re=E(3732),ie="none",ne=Math.round,de=Math.sin,oe=Math.cos,Z=Math.PI,U=2*Math.PI,W=180/Z,L=1e-4;function D(a){return ne(1e3*a)/1e3}function A(a){return ne(1e4*a)/1e4}function M(a){return a<L&&a>-L}function N(a,n){n&&ee(a,"transform","matrix("+D(n[0])+","+D(n[1])+","+D(n[2])+","+D(n[3])+","+A(n[4])+","+A(n[5])+")")}function ee(a,n,t){(!t||"linear"!==t.type&&"radial"!==t.type)&&a.setAttribute(n,t)}function he(a,n,t){var i=null==n.opacity?1:n.opacity;if(t instanceof q.ZP)ee(a,"opacity",i+"");else{if(function(a){var n=a.fill;return null!=n&&n!==ie}(n)){var l=le(n.fill);ee(a,"fill",l.color),ee(a,"fill-opacity",(null!=n.fillOpacity?n.fillOpacity*l.opacity*i:l.opacity*i)+"")}else ee(a,"fill",ie);if(function(a){var n=a.stroke;return null!=n&&n!==ie}(n)){var u=le(n.stroke);ee(a,"stroke",u.color);var d=n.lineWidth,v=n.strokeNoScale?t.getLineScale():1;ee(a,"stroke-width",(v?d/v:0)+""),ee(a,"paint-order",n.strokeFirst?"stroke":"fill"),ee(a,"stroke-opacity",(null!=n.strokeOpacity?n.strokeOpacity*u.opacity*i:u.opacity*i)+"");var _=n.lineDash&&d>0&&(0,re.T)(n.lineDash,d);if(_){var b=n.lineDashOffset;v&&1!==v&&(_=(0,y.map)(_,function(T){return T/v}),b&&(b=ne(b/=v))),ee(a,"stroke-dasharray",_.join(",")),ee(a,"stroke-dashoffset",(b||0)+"")}else ee(a,"stroke-dasharray",ie);n.lineCap&&ee(a,"stroke-linecap",n.lineCap),n.lineJoin&&ee(a,"stroke-linejoin",n.lineJoin),n.miterLimit&&ee(a,"stroke-miterlimit",n.miterLimit+"")}else ee(a,"stroke",ie)}}var me=function(){function a(){}return a.prototype.reset=function(){this._d=[],this._str=""},a.prototype.moveTo=function(n,t){this._add("M",n,t)},a.prototype.lineTo=function(n,t){this._add("L",n,t)},a.prototype.bezierCurveTo=function(n,t,i,l,u,d){this._add("C",n,t,i,l,u,d)},a.prototype.quadraticCurveTo=function(n,t,i,l){this._add("Q",n,t,i,l)},a.prototype.arc=function(n,t,i,l,u,d){this.ellipse(n,t,i,i,0,l,u,d)},a.prototype.ellipse=function(n,t,i,l,u,d,v,_){var b=0===this._d.length,T=v-d,z=!_,B=Math.abs(T),G=M(B-U)||(z?T>=U:-T>=U),te=T>0?T%U:T%U+U,se=!1;se=!!G||!M(B)&&te>=Z==!!z;var Ae=A(n+i*oe(d)),ze=A(t+l*de(d));G&&(T=z?U-1e-4:1e-4-U,se=!0,b&&this._d.push("M",Ae,ze));var Be=A(n+i*oe(d+T)),We=A(t+l*de(d+T));if(isNaN(Ae)||isNaN(ze)||isNaN(i)||isNaN(l)||isNaN(u)||isNaN(W)||isNaN(Be)||isNaN(We))return"";this._d.push("A",A(i),A(l),ne(u*W),+se,+z,Be,We)},a.prototype.rect=function(n,t,i,l){this._add("M",n,t),this._add("L",n+i,t),this._add("L",n+i,t+l),this._add("L",n,t+l),this._add("L",n,t),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(n,t,i,l,u,d,v,_,b){this._d.push(n);for(var T=1;T<arguments.length;T++){var z=arguments[T];if(isNaN(z))return void(this._invalid=!0);this._d.push(A(z))}},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},a.prototype.getStr=function(){return this._str},a}(),Re={brush:function(a){var n=a.style,t=a.__svgEl;t||(t=Se("path"),a.__svgEl=t),a.path||a.createPathProxy();var i=a.path;a.shapeChanged()&&(i.beginPath(),a.buildPath(i,a.shape),a.pathUpdated());var l=i.getVersion(),u=a,d=u.__svgPathBuilder;(u.__svgPathVersion!==l||!d||a.style.strokePercent<1)&&(d||(d=u.__svgPathBuilder=new me),d.reset(),i.rebuildPath(d,a.style.strokePercent),d.generateStr(),u.__svgPathVersion=l),ee(t,"d",d.getStr()),he(t,n,a),N(t,a.transform)}},Le={brush:function(a){var n=a.style,t=n.image;if(t instanceof HTMLImageElement?t=t.src:t instanceof HTMLCanvasElement&&(t=t.toDataURL()),t){var i=n.x||0,l=n.y||0,u=n.width,d=n.height,v=a.__svgEl;v||(v=Se("image"),a.__svgEl=v),t!==a.__imageSrc&&(function(a,n,t){a.setAttributeNS("http://www.w3.org/1999/xlink","href",t)}(v,0,t),a.__imageSrc=t),ee(v,"width",u+""),ee(v,"height",d+""),ee(v,"x",i+""),ee(v,"y",l+""),he(v,n,a),N(v,a.transform)}}},Je={left:"start",right:"end",center:"middle",middle:"middle"},Ve={brush:function(a){var n=a.style,t=n.text;if(null!=t&&(t+=""),t&&!isNaN(n.x)&&!isNaN(n.y)){var i=a.__svgEl;i||(function(a,n,t){a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}(i=Se("text")),a.__svgEl=i);var l=n.font||fe.Uo;i.style.font=l,i.textContent=t,he(i,n,a),N(i,a.transform);var d=n.x||0,v=function(a,n,t){return"top"===t?a+=n/2:"bottom"===t&&(a-=n/2),a}(n.y||0,(0,fe.Dp)(l),n.textBaseline),_=Je[n.textAlign]||n.textAlign;ee(i,"dominant-baseline","central"),ee(i,"text-anchor",_),ee(i,"x",d+""),ee(i,"y",v+"")}}};const xt=function(){function a(n,t,i,l,u){this.nextId=0,this._domName="_dom",this.createElement=Se,this._zrId=n,this._svgRoot=t,this._tagNames="string"==typeof i?[i]:i,this._markLabel=l,u&&(this._domName=u)}return a.prototype.getDefs=function(n){var t=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");if(0===i.length){if(n){var l=t.insertBefore(this.createElement("defs"),t.firstChild);return l.contains||(l.contains=function(u){var d=l.children;if(!d)return!1;for(var v=d.length-1;v>=0;--v)if(d[v]===u)return!0;return!1}),l}return null}return i[0]},a.prototype.doUpdate=function(n,t){if(n){var i=this.getDefs(!1);if(n[this._domName]&&i.contains(n[this._domName]))"function"==typeof t&&t(n);else{var l=this.add(n);l&&(n[this._domName]=l)}}},a.prototype.add=function(n){return null},a.prototype.addDom=function(n){var t=this.getDefs(!0);n.parentNode!==t&&t.appendChild(n)},a.prototype.removeDom=function(n){var t=this.getDefs(!1);t&&n[this._domName]&&(t.removeChild(n[this._domName]),n[this._domName]=null)},a.prototype.getDoms=function(){var n=this.getDefs(!1);if(!n)return[];var t=[];return y.each(this._tagNames,function(i){for(var l=n.getElementsByTagName(i),u=0;u<l.length;u++)t.push(l[u])}),t},a.prototype.markAllUnused=function(){var n=this.getDoms(),t=this;y.each(n,function(i){i[t._markLabel]="0"})},a.prototype.markDomUsed=function(n){n&&(n[this._markLabel]="1")},a.prototype.markDomUnused=function(n){n&&(n[this._markLabel]="0")},a.prototype.isDomUnused=function(n){return n&&"1"!==n[this._markLabel]},a.prototype.removeUnused=function(){var n=this,t=this.getDefs(!1);if(t){var i=this.getDoms();y.each(i,function(l){n.isDomUnused(l)&&t.removeChild(l)})}},a.prototype.getSvgProxy=function(n){return n instanceof ce.ZP?Re:n instanceof q.ZP?Le:n instanceof K.Z?Ve:Re},a.prototype.getSvgElement=function(n){return n.__svgEl},a}();function It(a){return"linear"===a.type}function Pt(a){return"radial"===a.type}function Wt(a){return a&&("linear"===a.type||"radial"===a.type)}const gn=function(a){function n(t,i){return a.call(this,t,i,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return(0,Q.ZT)(n,a),n.prototype.addWithoutUpdate=function(t,i){if(i&&i.style){var l=this;y.each(["fill","stroke"],function(u){var d=i.style[u];if(Wt(d)){var v=d,_=l.getDefs(!0),b=void 0;v.__dom?(b=v.__dom,_.contains(v.__dom)||l.addDom(b)):b=l.add(v),l.markUsed(i);var T=b.getAttribute("id");t.setAttribute(u,"url(#"+T+")")}})}},n.prototype.add=function(t){var i;if(It(t))i=this.createElement("linearGradient");else{if(!Pt(t))return y.logError("Illegal gradient type."),null;i=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,i.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,i),this.addDom(i),i},n.prototype.update=function(t){if(Wt(t)){var i=this;this.doUpdate(t,function(){var l=t.__dom;if(l){var u=l.tagName,d=t.type;"linear"===d&&"linearGradient"===u||"radial"===d&&"radialGradient"===u?i.updateDom(t,t.__dom):(i.removeDom(t),i.add(t))}})}},n.prototype.updateDom=function(t,i){if(It(t))i.setAttribute("x1",t.x+""),i.setAttribute("y1",t.y+""),i.setAttribute("x2",t.x2+""),i.setAttribute("y2",t.y2+"");else{if(!Pt(t))return void y.logError("Illegal gradient type.");i.setAttribute("cx",t.x+""),i.setAttribute("cy",t.y+""),i.setAttribute("r",t.r+"")}i.setAttribute("gradientUnits",t.global?"userSpaceOnUse":"objectBoundingBox"),i.innerHTML="";for(var l=t.colorStops,u=0,d=l.length;u<d;++u){var v=this.createElement("stop");v.setAttribute("offset",100*l[u].offset+"%");var _=l[u].color;if(_.indexOf("rgba")>-1){var b=k.parse(_)[3],T=k.toHex(_);v.setAttribute("stop-color","#"+T),v.setAttribute("stop-opacity",b+"")}else v.setAttribute("stop-color",l[u].color);i.appendChild(v)}t.__dom=i},n.prototype.markUsed=function(t){if(t.style){var i=t.style.fill;i&&i.__dom&&a.prototype.markDomUsed.call(this,i.__dom),(i=t.style.stroke)&&i.__dom&&a.prototype.markDomUsed.call(this,i.__dom)}},n}(xt);var In=E(4659);function Yt(a){return a&&(!!a.image||!!a.svgElement)}var sn=new(E(3302).Z);const vn=function(a){function n(t,i){return a.call(this,t,i,["pattern"],"__pattern_in_use__")||this}return(0,Q.ZT)(n,a),n.prototype.addWithoutUpdate=function(t,i){if(i&&i.style){var l=this;y.each(["fill","stroke"],function(u){var d=i.style[u];if(Yt(d)){var v=l.getDefs(!0),_=sn.get(d);_?v.contains(_)||l.addDom(_):_=l.add(d),l.markUsed(i);var b=_.getAttribute("id");t.setAttribute(u,"url(#"+b+")")}})}},n.prototype.add=function(t){if(Yt(t)){var i=this.createElement("pattern");return t.id=null==t.id?this.nextId++:t.id,i.setAttribute("id","zr"+this._zrId+"-pattern-"+t.id),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(t,i),this.addDom(i),i}},n.prototype.update=function(t){if(Yt(t)){var i=this;this.doUpdate(t,function(){var l=sn.get(t);i.updateDom(t,l)})}},n.prototype.updateDom=function(t,i){var l=t.svgElement;if(l instanceof SVGElement)l.parentNode!==i&&(i.innerHTML="",i.appendChild(l),i.setAttribute("width",t.svgWidth+""),i.setAttribute("height",t.svgHeight+""));else{var u=void 0,d=i.getElementsByTagName("image");if(d.length){if(!t.image)return void i.removeChild(d[0]);u=d[0]}else t.image&&(u=this.createElement("image"));if(u){var v=void 0,_=t.image;if("string"==typeof _?v=_:_ instanceof HTMLImageElement?v=_.src:_ instanceof HTMLCanvasElement&&(v=_.toDataURL()),v){u.setAttribute("href",v),u.setAttribute("x","0"),u.setAttribute("y","0");var T=(0,In.Gq)(v,u,{dirty:function(){}},function(ze){i.setAttribute("width",ze.width+""),i.setAttribute("height",ze.height+"")});T&&T.width&&T.height&&(i.setAttribute("width",T.width+""),i.setAttribute("height",T.height+"")),i.appendChild(u)}}}var G=(t.rotation||0)/Math.PI*180;i.setAttribute("patternTransform","translate("+(t.x||0)+", "+(t.y||0)+") rotate("+G+") scale("+(t.scaleX||1)+", "+(t.scaleY||1)+")"),sn.set(t,i)},n.prototype.markUsed=function(t){t.style&&(Yt(t.style.fill)&&a.prototype.markDomUsed.call(this,sn.get(t.style.fill)),Yt(t.style.stroke)&&a.prototype.markDomUsed.call(this,sn.get(t.style.stroke)))},n}(xt);var wt=E(8424);function je(a){var n=a.__clipPaths;return n&&n.length>0}const Et=function(a){function n(t,i){var l=a.call(this,t,i,"clipPath","__clippath_in_use__")||this;return l._refGroups={},l._keyDuplicateCount={},l}return(0,Q.ZT)(n,a),n.prototype.markAllUnused=function(){a.prototype.markAllUnused.call(this);var t=this._refGroups;for(var i in t)t.hasOwnProperty(i)&&this.markDomUnused(t[i]);this._keyDuplicateCount={}},n.prototype._getClipPathGroup=function(t,i){if(je(t)){var l=t.__clipPaths,u=this._keyDuplicateCount,d=function(a){var n=[];if(a)for(var t=0;t<a.length;t++)n.push(a[t].id);return n.join(",")}(l);return(0,wt.cF)(l,i&&i.__clipPaths)&&(u[d]=u[d]||0,u[d]&&(d+="-"+u[d]),u[d]++),this._refGroups[d]||(this._refGroups[d]=this.createElement("g"))}},n.prototype.update=function(t,i){var l=this._getClipPathGroup(t,i);return l&&(this.markDomUsed(l),this.updateDom(l,t.__clipPaths)),l},n.prototype.updateDom=function(t,i){if(i&&i.length>0){var l=this.getDefs(!0),u=i[0],d=void 0,v=void 0;u._dom?(v=u._dom.getAttribute("id"),l.contains(d=u._dom)||l.appendChild(d)):(v="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(d=this.createElement("clipPath")).setAttribute("id",v),l.appendChild(d),u._dom=d),this.getSvgProxy(u).brush(u);var b=this.getSvgElement(u);d.innerHTML="",d.appendChild(b),t.setAttribute("clip-path","url(#"+v+")"),i.length>1&&this.updateDom(d,i.slice(1))}else t&&t.setAttribute("clip-path","none")},n.prototype.markUsed=function(t){var i=this;t.__clipPaths&&y.each(t.__clipPaths,function(l){l._dom&&a.prototype.markDomUsed.call(i,l._dom)})},n.prototype.removeUnused=function(){a.prototype.removeUnused.call(this);var t={},i=this._refGroups;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];this.isDomUnused(u)?u.parentNode&&u.parentNode.removeChild(u):t[l]=u}this._refGroups=t},n}(xt),cn=function(a){function n(t,i){var l=a.call(this,t,i,["filter"],"__filter_in_use__","_shadowDom")||this;return l._shadowDomMap={},l._shadowDomPool=[],l}return(0,Q.ZT)(n,a),n.prototype._getFromPool=function(){var t=this._shadowDomPool.pop();if(!t){(t=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var i=this.createElement("feDropShadow");t.appendChild(i),this.addDom(t)}return t},n.prototype.update=function(t,i){if(function(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)}(i.style)){var u=function(a){var n=a.style,t=a.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}(i),d=i._shadowDom=this._shadowDomMap[u];d||(d=this._getFromPool(),this._shadowDomMap[u]=d),this.updateDom(t,i,d)}else this.remove(t,i)},n.prototype.remove=function(t,i){null!=i._shadowDom&&(i._shadowDom=null,t.removeAttribute("filter"))},n.prototype.updateDom=function(t,i,l){var u=l.children[0],d=i.style,v=i.getGlobalScale(),_=v[0],b=v[1];if(_&&b){var T=d.shadowOffsetX||0,z=d.shadowOffsetY||0,B=d.shadowBlur,G=le(d.shadowColor);u.setAttribute("dx",T/_+""),u.setAttribute("dy",z/b+""),u.setAttribute("flood-color",G.color),u.setAttribute("flood-opacity",G.opacity+""),u.setAttribute("stdDeviation",B/2/_+" "+B/2/b),l.setAttribute("x","-100%"),l.setAttribute("y","-100%"),l.setAttribute("width","300%"),l.setAttribute("height","300%"),i._shadowDom=l;var ze=l.getAttribute("id");t.setAttribute("filter","url(#"+ze+")")}},n.prototype.removeUnused=function(){if(this.getDefs(!1)){var i=this._shadowDomPool,l=this._shadowDomMap;for(var u in l)l.hasOwnProperty(u)&&i.push(l[u]);this._shadowDomMap={}}},n}(xt);function _t(a){return parseInt(a,10)}function zt(a){return a instanceof ce.ZP?Re:a instanceof q.ZP?Le:a instanceof K.Z?Ve:Re}function Ft(a,n){return n&&a&&n.parentNode!==a}function ft(a,n,t){if(Ft(a,n)&&t){var i=t.nextSibling;i?a.insertBefore(n,i):a.appendChild(n)}}function Ye(a,n){if(Ft(a,n)){var t=a.firstChild;t?a.insertBefore(n,t):a.appendChild(n)}}function Ke(a,n){n&&a&&n.parentNode===a&&a.removeChild(n)}function we(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Me(a){return a.__svgEl}function lt(a){return function(){y.logError('In SVG mode painter not support method "'+a+'"')}}const Lt=function(){function a(n,t,i,l){this.type="svg",this.refreshHover=lt("refreshHover"),this.pathToImage=lt("pathToImage"),this.configLayer=lt("configLayer"),this.root=n,this.storage=t,this._opts=i=y.extend({},i||{});var u=Se("svg");u.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),u.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),u.setAttribute("version","1.1"),u.setAttribute("baseProfile","full"),u.style.cssText="user-select:none;position:absolute;left:0;top:0;";var d=Se("g");u.appendChild(d);var v=Se("g");u.appendChild(v),this._gradientManager=new gn(l,v),this._patternManager=new vn(l,v),this._clipPathManager=new Et(l,v),this._shadowManager=new cn(l,v);var _=document.createElement("div");_.style.cssText="overflow:hidden;position:relative",this._svgDom=u,this._svgRoot=v,this._backgroundRoot=d,this._viewport=_,n.appendChild(_),_.appendChild(u),this.resize(i.width,i.height),this._visibleList=[]}return a.prototype.getType=function(){return"svg"},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.getSvgRoot=function(){return this._svgRoot},a.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},a.prototype.refresh=function(){var n=this.storage.getDisplayList(!0);this._paintList(n)},a.prototype.setBackgroundColor=function(n){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=Se("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0);var i=le(n),u=i.opacity;t.setAttribute("fill",i.color),t.setAttribute("fill-opacity",u),this._backgroundRoot.appendChild(t),this._backgroundNode=t},a.prototype.createSVGElement=function(n){return Se(n)},a.prototype.paintOne=function(n){var t=zt(n);return t&&t.brush(n),Me(n)},a.prototype._paintList=function(n){var t=this._gradientManager,i=this._patternManager,l=this._clipPathManager,u=this._shadowManager;t.markAllUnused(),i.markAllUnused(),l.markAllUnused(),u.markAllUnused();for(var d=this._svgRoot,v=this._visibleList,_=n.length,b=[],T=0;T<_;T++){var B=zt(z=n[T]),G=Me(z);z.invisible||((z.__dirty||!G)&&(B&&B.brush(z),(G=Me(z))&&z.style&&(t.update(z.style.fill),t.update(z.style.stroke),i.update(z.style.fill),i.update(z.style.stroke),u.update(G,z)),z.__dirty=0),G&&b.push(z))}var se,Ae,We,ut,te=function(a,n,t){return function(a,n,t){t||(t=function(G,te){return G===te}),a=a.slice();var i=(n=n.slice()).length,l=a.length,u=1,d=i+l,v=[{newPos:-1,components:[]}],_=Y(v[0],n,a,0,t);if(v[0].newPos+1>=i&&_+1>=l){for(var b=[],T=0;T<n.length;T++)b.push(T);return[{indices:b,count:n.length,added:!1,removed:!1}]}function z(){for(var G=-1*u;G<=u;G+=2){var te,se=v[G-1],Ae=v[G+1],ze=(Ae?Ae.newPos:0)-G;se&&(v[G-1]=void 0);var Be=se&&se.newPos+1<i,We=Ae&&0<=ze&&ze<l;if(Be||We){if(!Be||We&&se.newPos<Ae.newPos?V((te=X(Ae)).components,!1,!0):((te=se).newPos++,V(te.components,!0,!1)),ze=Y(te,n,a,G,t),te.newPos+1>=i&&ze+1>=l)return j(te.components);v[G]=te}else v[G]=void 0}u++}for(;u<=d;){var B=z();if(B)return B}}(a,n,t)}(v,b);for(T=0;T<te.length;T++)if((ze=te[T]).removed)for(var Be=0;Be<ze.count;Be++)G=Me(z=v[ze.indices[Be]]),je(z)?we(G):Ke(d,G);for(T=0;T<te.length;T++){var ze;if(!(ze=te[T]).removed)for(Be=0;Be<ze.count;Be++){var z,mt=l.update(z=b[ze.indices[Be]],We);mt!==ut&&(se=Ae,mt&&(se?ft(d,mt,se):Ye(d,mt),Ae=mt,se=null),ut=mt),G=Me(z),se?ft(ut||d,G,se):Ye(ut||d,G),se=G||se,ut||(Ae=se),t.markUsed(z),t.addWithoutUpdate(G,z),i.markUsed(z),i.addWithoutUpdate(G,z),l.markUsed(z),We=z}}t.removeUnused(),i.removeUnused(),l.removeUnused(),u.removeUnused(),this._visibleList=b},a.prototype.resize=function(n,t){var i=this._viewport;i.style.display="none";var l=this._opts;if(null!=n&&(l.width=n),null!=t&&(l.height=t),n=this._getSize(0),t=this._getSize(1),i.style.display="",this._width!==n||this._height!==t){this._width=n,this._height=t;var u=i.style;u.width=n+"px",u.height=t+"px";var d=this._svgDom;d.setAttribute("width",n+""),d.setAttribute("height",t+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",n),this._backgroundNode.setAttribute("height",t))},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype._getSize=function(n){var t=this._opts,i=["width","height"][n],l=["clientWidth","clientHeight"][n],u=["paddingLeft","paddingTop"][n],d=["paddingRight","paddingBottom"][n];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var v=this.root,_=document.defaultView.getComputedStyle(v);return(v[l]||_t(_[i])||_t(v.style[i]))-(_t(_[u])||0)-(_t(_[d])||0)|0},a.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},a.prototype.clear=function(){var n=this._viewport;n&&n.parentNode&&n.parentNode.removeChild(n)},a.prototype.toDataURL=function(){this.refresh();var n=this._svgDom;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent((n.outerHTML||(n.parentNode&&n.parentNode).innerHTML).replace(/></g,">\n\r<"))},a}();var Mn=E(9043),Zt=E(5845),er=E(671),Un=E(8615),dr=E(1298),pr=E(7350);const ni=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.hasSymbolVisual=!0,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t){return(0,er.Z)(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(t){var i=new pr.Z,l=(0,dr.th)("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(l),l.setStyle(t.lineStyle);var u=this.getData().getVisual("symbol"),d=this.getData().getVisual("symbolRotate"),v="none"===u?"circle":u,_=.8*t.itemHeight,b=(0,dr.th)(v,(t.itemWidth-_)/2,(t.itemHeight-_)/2,_,_,t.itemStyle.fill);return i.add(b),b.setStyle(t.itemStyle),b.rotation=("inherit"===t.iconRotate?d:t.iconRotate||0)*Math.PI/180,b.setOrigin([t.itemWidth/2,t.itemHeight/2]),v.indexOf("empty")>-1&&(b.style.stroke=b.style.fill,b.style.fill="#fff",b.style.lineWidth=2),i},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(Un.Z);var lr=E(5311),Hr=E(265),Xn=E(5613),wi=E(6308);function yr(a,n){var t=a.mapDimensionsAll("defaultedLabel"),i=t.length;if(1===i){var l=(0,wi.hk)(a,n,t[0]);return null!=l?l+"":null}if(i){for(var u=[],d=0;d<t.length;d++)u.push((0,wi.hk)(a,n,t[d]));return u.join(" ")}}function Ti(a,n){var t=a.mapDimensionsAll("defaultedLabel");if(!(0,y.isArray)(n))return n+"";for(var i=[],l=0;l<t.length;l++){var u=a.getDimensionIndex(t[l]);u>=0&&i.push(n[u])}return i.join(" ")}var $n=E(3884);function Ur(a,n){this.parent.drift(a,n)}const _r=function(a){function n(t,i,l,u){var d=a.call(this)||this;return d.updateData(t,i,l,u),d}return(0,Zt.ZT)(n,a),n.prototype._createSymbol=function(t,i,l,u,d){this.removeAll();var v=(0,dr.th)(t,-1,-1,2,2,null,d);v.attr({z2:100,culling:!0,scaleX:u[0]/2,scaleY:u[1]/2}),v.drift=Ur,this._symbolType=t,this.add(v)},n.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){(0,Xn.fD)(this.childAt(0))},n.prototype.downplay=function(){(0,Xn.Mh)(this.childAt(0))},n.prototype.setZ=function(t,i){var l=this.childAt(0);l.zlevel=t,l.z=i},n.prototype.setDraggable=function(t){var i=this.childAt(0);i.draggable=t,i.cursor=t?"move":i.cursor},n.prototype.updateData=function(t,i,l,u){this.silent=!1;var d=t.getItemVisual(i,"symbol")||"circle",v=t.hostModel,_=n.getSymbolSize(t,i),b=d!==this._symbolType,T=u&&u.disableAnimation;if(b){var z=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(d,t,i,_,z)}else{(B=this.childAt(0)).silent=!1;var G={scaleX:_[0]/2,scaleY:_[1]/2};T?B.attr(G):lr.D(B,G,v,i),(0,lr.Zi)(B)}if(this._updateCommon(t,i,_,l,u),b){var B=this.childAt(0);T||(G={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:B.style.opacity}},B.scaleX=B.scaleY=0,B.style.opacity=0,lr.KZ(B,G,v,i))}T&&this.childAt(0).stopAnimation("remove"),this._seriesModel=v},n.prototype._updateCommon=function(t,i,l,u,d){var b,T,z,B,G,te,se,Ae,v=this.childAt(0),_=t.hostModel;if(u&&(b=u.emphasisItemStyle,T=u.blurItemStyle,z=u.selectItemStyle,B=u.focus,G=u.blurScope,te=u.labelStatesModels,se=u.hoverScale,Ae=u.cursorStyle),!u||t.hasItemOption){var ze=u&&u.itemModel?u.itemModel:t.getItemModel(i),Be=ze.getModel("emphasis");b=Be.getModel("itemStyle").getItemStyle(),z=ze.getModel(["select","itemStyle"]).getItemStyle(),T=ze.getModel(["blur","itemStyle"]).getItemStyle(),B=Be.get("focus"),G=Be.get("blurScope"),te=(0,$n.k3)(ze),se=Be.getShallow("scale"),Ae=ze.getShallow("cursor")}var We=t.getItemVisual(i,"symbolRotate");v.attr("rotation",(We||0)*Math.PI/180||0);var ut=(0,dr.Cq)(t.getItemVisual(i,"symbolOffset"),l);ut&&(v.x=ut[0],v.y=ut[1]),Ae&&v.attr("cursor",Ae);var mt=t.getItemVisual(i,"style"),vt=mt.fill;if(v instanceof q.ZP){var At=v.style;v.useStyle((0,y.extend)({image:At.image,x:At.x,y:At.y,width:At.width,height:At.height},mt))}else v.useStyle(v.__isEmptyBrush?(0,y.extend)({},mt):mt),v.style.decal=null,v.setColor(vt,d&&d.symbolInnerColor),v.style.strokeNoScale=!0;var Gt=t.getItemVisual(i,"liftZ"),on=this._z2;null!=Gt?null==on&&(this._z2=v.z2,v.z2+=Gt):null!=on&&(v.z2=on,this._z2=null);var bn=d&&d.useNameLabel;(0,$n.ni)(v,te,{labelFetcher:_,labelDataIndex:i,defaultText:function(Bn){return bn?t.getName(Bn):yr(t,Bn)},inheritColor:vt,defaultOpacity:mt.opacity}),this._sizeX=l[0]/2,this._sizeY=l[1]/2;var On=v.ensureState("emphasis");if(On.style=b,v.ensureState("select").style=z,v.ensureState("blur").style=T,se){var kn=Math.max(1.1,3/this._sizeY);On.scaleX=this._sizeX*kn,On.scaleY=this._sizeY*kn}this.setSymbolScale(1),(0,Xn.vF)(this,B,G)},n.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},n.prototype.fadeOut=function(t,i){var l=this.childAt(0),u=this._seriesModel,d=(0,Hr.A)(this).dataIndex,v=i&&i.animation;if(this.silent=l.silent=!0,i&&i.fadeLabel){var _=l.getTextContent();_&&lr.bX(_,{style:{opacity:0}},u,{dataIndex:d,removeOpt:v,cb:function(){l.removeTextContent()}})}else l.removeTextContent();lr.bX(l,{style:{opacity:0},scaleX:0,scaleY:0},u,{dataIndex:d,cb:t,removeOpt:v})},n.getSymbolSize=function(t,i){return(0,dr.zp)(t.getItemVisual(i,"symbolSize"))},n}(pr.Z);function Zr(a,n,t,i){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(n[0],n[1]))&&"none"!==a.getItemVisual(t,"symbol")}function Ei(a){return null!=a&&!(0,y.isObject)(a)&&(a={isIgnore:a}),a||{}}function va(a){var n=a.hostModel,t=n.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),hoverScale:t.get("scale"),labelStatesModels:(0,$n.k3)(n),cursorStyle:n.get("cursor")}}const oa=function(){function a(n){this.group=new pr.Z,this._SymbolCtor=n||_r}return a.prototype.updateData=function(n,t){t=Ei(t);var i=this.group,l=n.hostModel,u=this._data,d=this._SymbolCtor,v=t.disableAnimation,_=va(n),b={disableAnimation:v},T=t.getSymbolPoint||function(z){return n.getItemLayout(z)};u||i.removeAll(),n.diff(u).add(function(z){var B=T(z);if(Zr(n,B,z,t)){var G=new d(n,z,_,b);G.setPosition(B),n.setItemGraphicEl(z,G),i.add(G)}}).update(function(z,B){var G=u.getItemGraphicEl(B),te=T(z);if(Zr(n,te,z,t)){var se=n.getItemVisual(z,"symbol")||"circle",Ae=G&&G.getSymbolType&&G.getSymbolType();if(!G||Ae&&Ae!==se)i.remove(G),(G=new d(n,z,_,b)).setPosition(te);else{G.updateData(n,z,_,b);var ze={x:te[0],y:te[1]};v?G.attr(ze):lr.D(G,ze,l)}i.add(G),n.setItemGraphicEl(z,G)}else i.remove(G)}).remove(function(z){var B=u.getItemGraphicEl(z);B&&B.fadeOut(function(){i.remove(B)})}).execute(),this._getSymbolPoint=T,this._data=n},a.prototype.isPersistent=function(){return!0},a.prototype.updateLayout=function(){var n=this,t=this._data;t&&t.eachItemGraphicEl(function(i,l){var u=n._getSymbolPoint(l);i.setPosition(u),i.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=va(n),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(n,t,i){function l(_){_.isGroup||(_.incremental=!0,_.ensureState("emphasis").hoverLayer=!0)}i=Ei(i);for(var u=n.start;u<n.end;u++){var d=t.getItemLayout(u);if(Zr(t,d,u,i)){var v=new this._SymbolCtor(t,u,this._seriesScope);v.traverse(l),v.setPosition(d),this.group.add(v),t.setItemGraphicEl(u,v)}}},a.prototype.remove=function(n){var t=this.group,i=this._data;i&&n?i.eachItemGraphicEl(function(l){l.fadeOut(function(){t.remove(l)})}):t.removeAll()},a}();var zn=E(7172);function xn(a,n,t){var i=a.getBaseAxis(),l=a.getOtherAxis(i),u=function(a,n){var t=0,i=a.scale.getExtent();return"start"===n?t=i[0]:"end"===n?t=i[1]:i[0]>0?t=i[0]:i[1]<0&&(t=i[1]),t}(l,t),d=i.dim,v=l.dim,_=n.mapDimension(v),b=n.mapDimension(d),T="x"===v||"radius"===v?1:0,z=(0,y.map)(a.dimensions,function(te){return n.mapDimension(te)}),B=!1,G=n.getCalculationInfo("stackResultDimension");return(0,zn.M)(n,z[0])&&(B=!0,z[0]=G),(0,zn.M)(n,z[1])&&(B=!0,z[1]=G),{dataDimsForPoint:z,valueStart:u,valueAxisDim:v,baseAxisDim:d,stacked:!!B,valueDim:_,baseDim:b,baseDataOffset:T,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function Rn(a,n,t,i){var l=NaN;a.stacked&&(l=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(l)&&(l=a.valueStart);var u=a.baseDataOffset,d=[];return d[u]=t.get(a.baseDim,i),d[1-u]=l,n.dataToPoint(d)}var Ln="undefined"!=typeof Float32Array,Jr=Ln?Float32Array:Array;function jr(a){return(0,y.isArray)(a)?Ln?new Float32Array(a):a:new Jr(a)}var Hi=E(3256),di=E(1078),fr=E(7911),sa=E(89),gi=E(3775),kt=Math.min,tn=Math.max;function St(a,n){return isNaN(a)||isNaN(n)}function An(a,n,t,i,l,u,d,v,_){for(var b,T,z,B,G,te,se=t,Ae=0;Ae<i;Ae++){var ze=n[2*se],Be=n[2*se+1];if(se>=l||se<0)break;if(St(ze,Be)){if(_){se+=u;continue}break}if(se===t)a[u>0?"moveTo":"lineTo"](ze,Be),z=ze,B=Be;else{var We=ze-b,ut=Be-T;if(We*We+ut*ut<.5){se+=u;continue}if(d>0){for(var mt=se+u,vt=n[2*mt],At=n[2*mt+1];vt===ze&&At===Be&&Ae<i;)Ae++,vt=n[2*(mt+=u)],At=n[2*mt+1],We=(ze=n[2*(se+=u)])-b,ut=(Be=n[2*se+1])-T;var Gt=Ae+1;if(_)for(;St(vt,At)&&Gt<i;)Gt++,vt=n[2*(mt+=u)],At=n[2*mt+1];var on=.5,bn=0,yn=0,On=void 0,kn=void 0;if(Gt>=i||St(vt,At))G=ze,te=Be;else{bn=vt-b,yn=At-T;var Bn=ze-b,Vn=vt-ze,rr=Be-T,Sr=At-Be,hr=void 0,Vr=void 0;"x"===v?(hr=Math.abs(Bn),Vr=Math.abs(Vn),G=ze-hr*d,te=Be,On=ze+hr*d,kn=Be):"y"===v?(hr=Math.abs(rr),Vr=Math.abs(Sr),G=ze,te=Be-hr*d,On=ze,kn=Be+hr*d):(hr=Math.sqrt(Bn*Bn+rr*rr),G=ze-bn*d*(1-(on=(Vr=Math.sqrt(Vn*Vn+Sr*Sr))/(Vr+hr))),te=Be-yn*d*(1-on),kn=Be+yn*d*on,On=kt(On=ze+bn*d*on,tn(vt,ze)),kn=kt(kn,tn(At,Be)),On=tn(On,kt(vt,ze)),te=Be-(yn=(kn=tn(kn,kt(At,Be)))-Be)*hr/Vr,G=kt(G=ze-(bn=On-ze)*hr/Vr,tn(b,ze)),te=kt(te,tn(T,Be)),On=ze+(bn=ze-(G=tn(G,kt(b,ze))))*Vr/hr,kn=Be+(yn=Be-(te=tn(te,kt(T,Be))))*Vr/hr)}a.bezierCurveTo(z,B,G,te,ze,Be),z=On,B=kn}else a.lineTo(ze,Be)}b=ze,T=Be,se+=u}return Ae}var Kn=function(){this.smooth=0,this.smoothConstraint=!0},sr=function(a){function n(t){var i=a.call(this,t)||this;return i.type="ec-polyline",i}return(0,Zt.ZT)(n,a),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new Kn},n.prototype.buildPath=function(t,i){var l=i.points,u=0,d=l.length/2;if(i.connectNulls){for(;d>0&&St(l[2*d-2],l[2*d-1]);d--);for(;u<d&&St(l[2*u],l[2*u+1]);u++);}for(;u<d;)u+=An(t,l,u,d,d,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},n.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var v,_,u=this.path.data,d=sa.Z.CMD,b="x"===i,T=[],z=0;z<u.length;){var G=void 0,te=void 0,se=void 0,Ae=void 0,ze=void 0,Be=void 0,We=void 0;switch(u[z++]){case d.M:v=u[z++],_=u[z++];break;case d.L:if(G=u[z++],te=u[z++],(We=b?(t-v)/(G-v):(t-_)/(te-_))<=1&&We>=0){var ut=b?(te-_)*We+_:(G-v)*We+v;return b?[t,ut]:[ut,t]}v=G,_=te;break;case d.C:G=u[z++],te=u[z++],se=u[z++],Ae=u[z++],ze=u[z++],Be=u[z++];var mt=b?(0,gi.kD)(v,G,se,ze,t,T):(0,gi.kD)(_,te,Ae,Be,t,T);if(mt>0)for(var vt=0;vt<mt;vt++){var At=T[vt];if(At<=1&&At>=0)return ut=b?(0,gi.af)(_,te,Ae,Be,At):(0,gi.af)(v,G,se,ze,At),b?[t,ut]:[ut,t]}v=ze,_=Be}}},n}(ce.ZP),Rr=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n}(Kn),kr=function(a){function n(t){var i=a.call(this,t)||this;return i.type="ec-polygon",i}return(0,Zt.ZT)(n,a),n.prototype.getDefaultShape=function(){return new Rr},n.prototype.buildPath=function(t,i){var l=i.points,u=i.stackedOnPoints,d=0,v=l.length/2,_=i.smoothMonotone;if(i.connectNulls){for(;v>0&&St(l[2*v-2],l[2*v-1]);v--);for(;d<v&&St(l[2*d],l[2*d+1]);d++);}for(;d<v;){var b=An(t,l,d,v,v,1,i.smooth,_,i.connectNulls);An(t,u,d+b-1,b,v,-1,i.stackedOnSmooth,_,i.connectNulls),d+=b+1,t.closePath()}},n}(ce.ZP),Fr=E(5306),ri=E(9024),Oi=E(1620),Xt=E(6573);function Or(a,n,t,i,l){var u=a.getArea(),d=u.x,v=u.y,_=u.width,b=u.height,T=t.get(["lineStyle","width"])||2;d-=T/2,v-=T/2,_+=T,b+=T,d=Math.floor(d),_=Math.round(_);var z=new ri.Z({shape:{x:d,y:v,width:_,height:b}});if(n){var B=a.getBaseAxis(),G=B.isHorizontal(),te=B.inverse;G?(te&&(z.shape.x+=_),z.shape.width=0):(te||(z.shape.y+=b),z.shape.height=0),lr.KZ(z,{shape:{width:_,height:b,x:d,y:v}},t,null,i,"function"==typeof l?function(Ae){l(Ae,z)}:null)}return z}function Qn(a,n,t){var i=a.getArea(),l=(0,Xt.NM)(i.r0,1),u=(0,Xt.NM)(i.r,1),d=new Oi.C({shape:{cx:(0,Xt.NM)(a.cx,1),cy:(0,Xt.NM)(a.cy,1),r0:l,r:u,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return n&&("angle"===a.getBaseAxis().dim?d.shape.endAngle=i.startAngle:d.shape.r=l,lr.KZ(d,{shape:{endAngle:i.endAngle,r:u}},t)),d}function xr(a,n,t,i,l){return a?"polar"===a.type?Qn(a,n,t):"cartesian2d"===a.type?Or(a,n,t,i,l):null:null}function Ii(a,n){return a.type===n}var Ji=E(780);function br(a,n){if(a.length===n.length){for(var t=0;t<a.length;t++)if(a[t]!==n[t])return;return!0}}function xo(a){for(var n=1/0,t=1/0,i=-1/0,l=-1/0,u=0;u<a.length;){var d=a[u++],v=a[u++];isNaN(d)||(n=Math.min(d,n),i=Math.max(d,i)),isNaN(v)||(t=Math.min(v,t),l=Math.max(v,l))}return[[n,t],[i,l]]}function qi(a,n){var t=xo(a),i=t[0],l=t[1],u=xo(n),d=u[0],v=u[1];return Math.max(Math.abs(i[0]-d[0]),Math.abs(i[1]-d[1]),Math.abs(l[0]-v[0]),Math.abs(l[1]-v[1]))}function Ar(a){return"number"==typeof a?a:a?.5:0}function Pn(a,n,t){for(var i=n.getBaseAxis(),l="x"===i.dim||"radius"===i.dim?0:1,u=[],d=0,v=[],_=[],b=[];d<a.length-2;d+=2)switch(b[0]=a[d+2],b[1]=a[d+3],_[0]=a[d],_[1]=a[d+1],u.push(_[0],_[1]),t){case"end":v[l]=b[l],v[1-l]=_[1-l],u.push(v[0],v[1]);break;case"middle":var z=[];v[l]=z[l]=(_[l]+b[l])/2,v[1-l]=_[1-l],z[1-l]=b[1-l],u.push(v[0],v[1]),u.push(z[0],z[1]);break;default:v[l]=_[l],v[1-l]=b[1-l],u.push(v[0],v[1])}return u.push(a[d++],a[d++]),u}function Cs(a,n){return isNaN(a)||isNaN(n)}function ds(a,n){return[a[2*n],a[2*n+1]]}function Xo(a){if(a.get(["endLabel","show"]))return!0;for(var n=0;n<Xn.L1.length;n++)if(a.get([Xn.L1[n],"endLabel","show"]))return!0;return!1}function es(a,n,t,i){if(Ii(n,"cartesian2d")){var l=i.getModel("endLabel"),u=l.get("valueAnimation"),d=i.getData(),v={lastFrameIndex:0},_=Xo(i)?function(G,te){a._endLabelOnDuring(G,te,d,v,u,l,n)}:null,b=n.getBaseAxis().isHorizontal(),T=Or(n,t,i,function(){var G=a._endLabel;G&&t&&null!=v.originalX&&G.attr({x:v.originalX,y:v.originalY})},_);if(!i.get("clip",!0)){var z=T.shape,B=Math.max(z.width,z.height);b?(z.y-=B,z.height+=2*B):(z.x-=B,z.width+=2*B)}return _&&_(1,T),T}return Qn(n,t,i)}const no=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.init=function(){var t=new pr.Z,i=new oa;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},n.prototype.render=function(t,i,l){var u=this,d=t.coordinateSystem,v=this.group,_=t.getData(),b=t.getModel("lineStyle"),T=t.getModel("areaStyle"),z=_.getLayout("points")||[],B="polar"===d.type,G=this._coordSys,te=this._symbolDraw,se=this._polyline,Ae=this._polygon,ze=this._lineGroup,Be=t.get("animation"),We=!T.isEmpty(),ut=T.get("origin"),mt=xn(d,_,ut),vt=We&&function(a,n,t){if(!t.valueDim)return[];for(var i=n.count(),l=jr(2*i),u=0;u<i;u++){var d=Rn(t,a,n,u);l[2*u]=d[0],l[2*u+1]=d[1]}return l}(d,_,mt),At=t.get("showSymbol"),Gt=At&&!B&&function(a,n,t){var i=a.get("showAllSymbol"),l="auto"===i;if(!i||l){var u=t.getAxesByScale("ordinal")[0];if(u&&(!l||!function(a,n){var t=a.getExtent(),i=Math.abs(t[1]-t[0])/a.scale.count();isNaN(i)&&(i=0);for(var l=n.count(),u=Math.max(1,Math.round(l/5)),d=0;d<l;d+=u)if(1.5*_r.getSymbolSize(n,d)[a.isHorizontal()?1:0]>i)return!1;return!0}(u,n))){var d=n.mapDimension(u.dim),v={};return y.each(u.getViewLabels(),function(_){var b=u.scale.getRawOrdinalNumber(_.tickValue);v[b]=1}),function(_){return!v.hasOwnProperty(n.get(d,_))}}}}(t,_,d),on=this._data;on&&on.eachItemGraphicEl(function(fa,ea){fa.__temp&&(v.remove(fa),on.setItemGraphicEl(ea,null))}),At||te.remove(),v.add(ze);var yn,bn=!B&&t.get("step");d&&d.getArea&&t.get("clip",!0)&&(null!=(yn=d.getArea()).width?(yn.x-=.1,yn.y-=.1,yn.width+=.2,yn.height+=.2):yn.r0&&(yn.r0-=.5,yn.r+=.5)),this._clipShapeForSymbol=yn;var On=function(a,n,t){var i=a.getVisual("visualMeta");if(i&&i.length&&a.count()&&"cartesian2d"===n.type){for(var l,u,d=i.length-1;d>=0;d--){var v=a.getDimensionInfo(i[d].dimension);if("x"===(l=v&&v.coordDim)||"y"===l){u=i[d];break}}if(u){var _=n.getAxis(l),b=y.map(u.stops,function(We){return{coord:_.toGlobalCoord(_.dataToCoord(We.value)),color:We.color}}),T=b.length,z=u.outerColors.slice();T&&b[0].coord>b[T-1].coord&&(b.reverse(),z.reverse());var B=function(a,n){var l,u,t=[],i=a.length;function d(T,z,B){var G=T.coord;return{coord:B,color:(0,k.lerp)((B-G)/(z.coord-G),[T.color,z.color])}}for(var v=0;v<i;v++){var _=a[v],b=_.coord;if(b<0)l=_;else{if(b>n){u?t.push(d(u,_,n)):l&&t.push(d(l,_,0),d(l,_,n));break}l&&(t.push(d(l,_,0)),l=null),t.push(_),u=_}}return t}(b,"x"===l?t.getWidth():t.getHeight()),G=B.length;if(!G&&T)return b[0].coord<0?z[1]?z[1]:b[T-1].color:z[0]?z[0]:b[0].color;var se=B[0].coord-10,Ae=B[G-1].coord+10,ze=Ae-se;if(ze<.001)return"transparent";y.each(B,function(We){We.offset=(We.coord-se)/ze}),B.push({offset:G?B[G-1].offset:.5,color:z[1]||"transparent"}),B.unshift({offset:G?B[0].offset:.5,color:z[0]||"transparent"});var Be=new Hi.Z(0,0,0,0,B,!0);return Be[l]=se,Be[l+"2"]=Ae,Be}}}(_,d,l)||_.getVisual("style")[_.getVisual("drawType")];if(se&&G.type===d.type&&bn===this._step){We&&!Ae?Ae=this._newPolygon(z,vt):Ae&&!We&&(ze.remove(Ae),Ae=this._polygon=null),B||this._initOrUpdateEndLabel(t,d,(0,Ji.Lz)(On));var kn=ze.getClipPath();if(kn){var Bn=es(this,d,!1,t);lr.KZ(kn,{shape:Bn.shape},t)}else ze.setClipPath(es(this,d,!0,t));At&&te.updateData(_,{isIgnore:Gt,clipShape:yn,disableAnimation:!0,getSymbolPoint:function(fa){return[z[2*fa],z[2*fa+1]]}}),(!br(this._stackedOnPoints,vt)||!br(this._points,z))&&(Be?this._doUpdateAnimation(_,vt,d,l,bn,ut):(bn&&(z=Pn(z,d,bn),vt&&(vt=Pn(vt,d,bn))),se.setShape({points:z}),Ae&&Ae.setShape({points:z,stackedOnPoints:vt})))}else At&&te.updateData(_,{isIgnore:Gt,clipShape:yn,disableAnimation:!0,getSymbolPoint:function(fa){return[z[2*fa],z[2*fa+1]]}}),Be&&this._initSymbolLabelAnimation(_,d,yn),bn&&(z=Pn(z,d,bn),vt&&(vt=Pn(vt,d,bn))),se=this._newPolyline(z),We&&(Ae=this._newPolygon(z,vt)),B||this._initOrUpdateEndLabel(t,d,(0,Ji.Lz)(On)),ze.setClipPath(es(this,d,!0,t));var Vn=t.get(["emphasis","focus"]),rr=t.get(["emphasis","blurScope"]);se.useStyle(y.defaults(b.getLineStyle(),{fill:"none",stroke:On,lineJoin:"bevel"})),(0,Xn.WO)(se,t,"lineStyle"),se.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(se.getState("emphasis").style.lineWidth=+se.style.lineWidth+1),(0,Hr.A)(se).seriesIndex=t.seriesIndex,(0,Xn.vF)(se,Vn,rr);var hr=Ar(t.get("smooth")),Vr=t.get("smoothMonotone"),yi=t.get("connectNulls");if(se.setShape({smooth:hr,smoothMonotone:Vr,connectNulls:yi}),Ae){var hi=_.getCalculationInfo("stackedOnSeries"),Xi=0;Ae.useStyle(y.defaults(T.getAreaStyle(),{fill:On,opacity:.7,lineJoin:"bevel",decal:_.getVisual("style").decal})),hi&&(Xi=Ar(hi.get("smooth"))),Ae.setShape({smooth:hr,stackedOnSmooth:Xi,smoothMonotone:Vr,connectNulls:yi}),(0,Xn.WO)(Ae,t,"areaStyle"),(0,Hr.A)(Ae).seriesIndex=t.seriesIndex,(0,Xn.vF)(Ae,Vn,rr)}var ya=function(fa){u._changePolyState(fa)};_.eachItemGraphicEl(function(fa){fa&&(fa.onHoverStateChange=ya)}),this._polyline.onHoverStateChange=ya,this._data=_,this._coordSys=d,this._stackedOnPoints=vt,this._points=z,this._step=bn,this._valueOrigin=ut,t.get("triggerLineEvent")&&(this.packEventData(t,se),Ae&&this.packEventData(t,Ae))},n.prototype.packEventData=function(t,i){(0,Hr.A)(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},n.prototype.highlight=function(t,i,l,u){var d=t.getData(),v=fr.gO(d,u);if(this._changePolyState("emphasis"),!(v instanceof Array)&&null!=v&&v>=0){var _=d.getLayout("points"),b=d.getItemGraphicEl(v);if(!b){var T=_[2*v],z=_[2*v+1];if(isNaN(T)||isNaN(z)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(T,z))return;var B=t.get("zlevel"),G=t.get("z");(b=new _r(d,v)).x=T,b.y=z,b.setZ(B,G);var te=b.getSymbolPath().getTextContent();te&&(te.zlevel=B,te.z=G,te.z2=this._polyline.z2+1),b.__temp=!0,d.setItemGraphicEl(v,b),b.stopSymbolAnimation(!0),this.group.add(b)}b.highlight()}else Fr.Z.prototype.highlight.call(this,t,i,l,u)},n.prototype.downplay=function(t,i,l,u){var d=t.getData(),v=fr.gO(d,u);if(this._changePolyState("normal"),null!=v&&v>=0){var _=d.getItemGraphicEl(v);_&&(_.__temp?(d.setItemGraphicEl(v,null),this.group.remove(_)):_.downplay())}else Fr.Z.prototype.downplay.call(this,t,i,l,u)},n.prototype._changePolyState=function(t){var i=this._polygon;(0,Xn.Gl)(this._polyline,t),i&&(0,Xn.Gl)(i,t)},n.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new sr({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},n.prototype._newPolygon=function(t,i){var l=this._polygon;return l&&this._lineGroup.remove(l),l=new kr({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(l),this._polygon=l,l},n.prototype._initSymbolLabelAnimation=function(t,i,l){var u,d,v=i.getBaseAxis(),_=v.inverse;"cartesian2d"===i.type?(u=v.isHorizontal(),d=!1):"polar"===i.type&&(u="angle"===v.dim,d=!0);var b=t.hostModel,T=b.get("animationDuration");"function"==typeof T&&(T=T(null));var z=b.get("animationDelay")||0,B="function"==typeof z?z(null):z;t.eachItemGraphicEl(function(G,te){var se=G;if(se){var ze=void 0,Be=void 0,We=void 0;if(l)if(d){var ut=l,mt=i.pointToCoord([G.x,G.y]);u?(ze=ut.startAngle,Be=ut.endAngle,We=-mt[1]/180*Math.PI):(ze=ut.r0,Be=ut.r,We=mt[0])}else u?(ze=l.x,Be=l.x+l.width,We=G.x):(ze=l.y+l.height,Be=l.y,We=G.y);var At=Be===ze?0:(We-ze)/(Be-ze);_&&(At=1-At);var Gt="function"==typeof z?z(te):T*At+B,on=se.getSymbolPath(),bn=on.getTextContent();se.attr({scaleX:0,scaleY:0}),se.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Gt}),bn&&bn.animateFrom({style:{opacity:0}},{duration:300,delay:Gt}),on.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(t,i,l){var u=t.getModel("endLabel");if(Xo(t)){var d=t.getData(),v=this._polyline,_=this._endLabel;_||((_=this._endLabel=new di.ZP({z2:200})).ignoreClip=!0,v.setTextContent(this._endLabel),v.disableLabelAnimation=!0);var b=function(a){for(var n=a.length/2;n>0&&Cs(a[2*n-2],a[2*n-1]);n--);return n-1}(d.getLayout("points"));b>=0&&((0,$n.ni)(v,(0,$n.k3)(t,"endLabel"),{inheritColor:l,labelFetcher:t,labelDataIndex:b,defaultText:function(T,z,B){return null!=B?Ti(d,B):yr(d,T)},enableTextSetter:!0},function(a,n){var t=n.getBaseAxis(),i=t.isHorizontal(),l=t.inverse,u=i?l?"right":"left":"center",d=i?"middle":l?"top":"bottom";return{normal:{align:a.get("align")||u,verticalAlign:a.get("verticalAlign")||d}}}(u,i)),v.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(t,i,l,u,d,v,_){var b=this._endLabel,T=this._polyline;if(b){t<1&&null==u.originalX&&(u.originalX=b.x,u.originalY=b.y);var z=l.getLayout("points"),B=l.hostModel,G=B.get("connectNulls"),te=v.get("precision"),se=v.get("distance")||0,Ae=_.getBaseAxis(),ze=Ae.isHorizontal(),Be=Ae.inverse,We=i.shape,ut=Be?ze?We.x:We.y+We.height:ze?We.x+We.width:We.y,mt=(ze?se:0)*(Be?-1:1),vt=(ze?0:-se)*(Be?-1:1),At=ze?"x":"y",Gt=function(a,n,t){for(var u,d,i=a.length/2,l="x"===t?0:1,v=0,_=-1,b=0;b<i;b++)if(d=a[2*b+l],!isNaN(d)&&!isNaN(a[2*b+1-l])){if(0===b){u=d;continue}if(u<=n&&d>=n||u>=n&&d<=n){_=b;break}v=b,u=d}return{range:[v,_],t:(n-u)/(d-u)}}(z,ut,At),on=Gt.range,bn=on[1]-on[0],yn=void 0;if(bn>=1){if(bn>1&&!G){var On=ds(z,on[0]);b.attr({x:On[0]+mt,y:On[1]+vt}),d&&(yn=B.getRawValue(on[0]))}else{(On=T.getPointOn(ut,At))&&b.attr({x:On[0]+mt,y:On[1]+vt});var kn=B.getRawValue(on[0]),Bn=B.getRawValue(on[1]);d&&(yn=fr.pk(l,te,kn,Bn,Gt.t))}u.lastFrameIndex=on[0]}else{var Vn=1===t||u.lastFrameIndex>0?on[0]:0;On=ds(z,Vn),d&&(yn=B.getRawValue(Vn)),b.attr({x:On[0]+mt,y:On[1]+vt})}d&&(0,$n.qA)(b).setLabelText(yn)}},n.prototype._doUpdateAnimation=function(t,i,l,u,d,v){var _=this._polyline,b=this._polygon,T=t.hostModel,z=function(a,n,t,i,l,u,d,v){for(var _=function(a,n){var t=[];return n.diff(a).add(function(i){t.push({cmd:"+",idx:i})}).update(function(i,l){t.push({cmd:"=",idx:l,idx1:i})}).remove(function(i){t.push({cmd:"-",idx:i})}).execute(),t}(a,n),b=[],T=[],z=[],B=[],G=[],te=[],se=[],Ae=xn(l,n,d),ze=a.getLayout("points")||[],Be=n.getLayout("points")||[],We=0;We<_.length;We++){var ut=_[We],mt=!0,vt=void 0,At=void 0;switch(ut.cmd){case"=":var Gt=ze[vt=2*ut.idx],on=ze[vt+1],bn=Be[At=2*ut.idx1],yn=Be[At+1];(isNaN(Gt)||isNaN(on))&&(Gt=bn,on=yn),b.push(Gt,on),T.push(bn,yn),z.push(t[vt],t[vt+1]),B.push(i[At],i[At+1]),se.push(n.getRawIndex(ut.idx1));break;case"+":var On=ut.idx,kn=Ae.dataDimsForPoint,Bn=l.dataToPoint([n.get(kn[0],On),n.get(kn[1],On)]);At=2*On,b.push(Bn[0],Bn[1]),T.push(Be[At],Be[At+1]);var Vn=Rn(Ae,l,n,On);z.push(Vn[0],Vn[1]),B.push(i[At],i[At+1]),se.push(n.getRawIndex(On));break;case"-":mt=!1}mt&&(G.push(ut),te.push(te.length))}te.sort(function(ea,Qi){return se[ea]-se[Qi]});var rr=b.length,Sr=jr(rr),hr=jr(rr),Vr=jr(rr),yi=jr(rr),hi=[];for(We=0;We<te.length;We++){var Xi=te[We],ya=2*We,fa=2*Xi;Sr[ya]=b[fa],Sr[ya+1]=b[fa+1],hr[ya]=T[fa],hr[ya+1]=T[fa+1],Vr[ya]=z[fa],Vr[ya+1]=z[fa+1],yi[ya]=B[fa],yi[ya+1]=B[fa+1],hi[We]=G[Xi]}return{current:Sr,next:hr,stackedOnCurrent:Vr,stackedOnNext:yi,status:hi}}(this._data,t,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),B=z.current,G=z.stackedOnCurrent,te=z.next,se=z.stackedOnNext;if(d&&(B=Pn(z.current,l,d),G=Pn(z.stackedOnCurrent,l,d),te=Pn(z.next,l,d),se=Pn(z.stackedOnNext,l,d)),qi(B,te)>3e3||b&&qi(G,se)>3e3)return _.stopAnimation(),_.setShape({points:te}),void(b&&(b.stopAnimation(),b.setShape({points:te,stackedOnPoints:se})));_.shape.__points=z.current,_.shape.points=B;var Ae={shape:{points:te}};z.current!==B&&(Ae.shape.__points=z.next),_.stopAnimation(),lr.D(_,Ae,T),b&&(b.setShape({points:B,stackedOnPoints:G}),b.stopAnimation(),lr.D(b,{shape:{stackedOnPoints:se}},T),_.shape.points!==b.shape.points&&(b.shape.points=_.shape.points));for(var ze=[],Be=z.status,We=0;We<Be.length;We++)if("="===Be[We].cmd){var mt=t.getItemGraphicEl(Be[We].idx1);mt&&ze.push({el:mt,ptIdx:We})}_.animators&&_.animators.length&&_.animators[0].during(function(){b&&b.dirtyShape();for(var vt=_.shape.__points,At=0;At<ze.length;At++){var Gt=ze[At].el,on=2*ze[At].ptIdx;Gt.x=vt[on],Gt.y=vt[on+1],Gt.markRedraw()}})},n.prototype.remove=function(t){var i=this.group,l=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),l&&l.eachItemGraphicEl(function(u,d){u.__temp&&(i.remove(u),l.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(Fr.Z);var ei=E(7521);function Aa(a,n){return{seriesType:a,plan:(0,ei.Z)(),reset:function(t){var i=t.getData(),l=t.coordinateSystem,d=n||t.pipelineContext.large;if(l){var v=(0,y.map)(l.dimensions,function(G){return i.mapDimension(G)}).slice(0,2),_=v.length,b=i.getCalculationInfo("stackResultDimension");(0,zn.M)(i,v[0])&&(v[0]=b),(0,zn.M)(i,v[1])&&(v[1]=b);var T=i.getStore(),z=i.getDimensionIndex(v[0]),B=i.getDimensionIndex(v[1]);return _&&{progress:function(G,te){for(var Ae=d&&jr((G.end-G.start)*_),ze=[],Be=[],We=G.start,ut=0;We<G.end;We++){var mt=void 0;if(1===_){var vt=T.get(z,We);mt=l.dataToPoint(vt,null,Be)}else ze[0]=T.get(z,We),ze[1]=T.get(B,We),mt=l.dataToPoint(ze,null,Be);d?(Ae[ut++]=mt[0],Ae[ut++]=mt[1]):te.setItemLayout(We,mt.slice())}d&&te.setLayout("points",Ae)}}}}}}var ro={average:function(a){for(var n=0,t=0,i=0;i<a.length;i++)isNaN(a[i])||(n+=a[i],t++);return 0===t?NaN:n/t},sum:function(a){for(var n=0,t=0;t<a.length;t++)n+=a[t]||0;return n},max:function(a){for(var n=-1/0,t=0;t<a.length;t++)a[t]>n&&(n=a[t]);return isFinite(n)?n:NaN},min:function(a){for(var n=1/0,t=0;t<a.length;t++)a[t]<n&&(n=a[t]);return isFinite(n)?n:NaN},nearest:function(a){return a[0]}},Ua=function(a){return Math.round(a.length/2)};function Gi(a){return{seriesType:a,reset:function(n,t,i){var l=n.getData(),u=n.get("sampling"),d=n.coordinateSystem,v=l.count();if(v>10&&"cartesian2d"===d.type&&u){var _=d.getBaseAxis(),b=d.getOtherAxis(_),T=_.getExtent(),z=i.getDevicePixelRatio(),B=Math.abs(T[1]-T[0])*(z||1),G=Math.round(v/B);if(G>1){"lttb"===u&&n.setData(l.lttbDownSample(l.mapDimension(b.dim),1/G));var te=void 0;"string"==typeof u?te=ro[u]:"function"==typeof u&&(te=u),te&&n.setData(l.downSample(l.mapDimension(b.dim),1/G,te,Ua))}}}}}var $a=E(9325),Tr=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t,i){return(0,er.Z)(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(t){var i=this.coordinateSystem;if(i&&i.clampData){var l=i.dataToPoint(i.clampData(t)),u=this.getData(),d=u.getLayout("offset"),v=u.getLayout("size");return l[i.getBaseAxis().isHorizontal()?0:1]+=d+v/2,l}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(Un.Z);Un.Z.registerClass(Tr);const Pa=Tr;var _a=E(304);const li=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(){return(0,er.Z)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},n.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},n.prototype.brushSelector=function(t,i,l){return l.rect(i.getItemLayout(t))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=(0,_a.ZL)(Pa.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(Pa);var zr=E(7118),ta=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0};const zi=function(a){function n(t){var i=a.call(this,t)||this;return i.type="sausage",i}return(0,Zt.ZT)(n,a),n.prototype.getDefaultShape=function(){return new ta},n.prototype.buildPath=function(t,i){var l=i.cx,u=i.cy,d=Math.max(i.r0||0,0),v=Math.max(i.r,0),_=.5*(v-d),b=d+_,T=i.startAngle,z=i.endAngle,B=i.clockwise,G=Math.cos(T),te=Math.sin(T),se=Math.cos(z),Ae=Math.sin(z);(B?z-T<2*Math.PI:T-z<2*Math.PI)&&(t.moveTo(G*d+l,te*d+u),t.arc(G*b+l,te*b+u,_,-Math.PI+T,T,!B)),t.arc(l,u,v,T,z,!B),t.moveTo(se*v+l,Ae*v+u),t.arc(se*b+l,Ae*b+u,_,z-2*Math.PI,z-Math.PI,!B),0!==d&&(t.arc(l,u,d,z,T,B),t.moveTo(G*d+l,Ae*d+u)),t.closePath()},n}(ce.ZP);function qa(a,n,t){return n*Math.sin(a)*(t?-1:1)}function wo(a,n,t){return n*Math.cos(a)*(t?1:-1)}var Er=[0,0],Bi=Math.max,ho=Math.min,Ot=function(a){function n(){var t=a.call(this)||this;return t.type=n.type,t._isFirstFrame=!0,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){this._model=t,this._removeOnRenderedListener(l),this._updateDrawMode(t);var d=t.get("coordinateSystem");("cartesian2d"===d||"polar"===d)&&(this._isLargeDraw?this._renderLarge(t,i,l):this._renderNormal(t,i,l,u))},n.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},n.prototype.incrementalRender=function(t,i){this._incrementalRenderLarge(t,i)},n.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},n.prototype._renderNormal=function(t,i,l,u){var z,d=this.group,v=t.getData(),_=this._data,b=t.coordinateSystem,T=b.getBaseAxis();"cartesian2d"===b.type?z=T.isHorizontal():"polar"===b.type&&(z="angle"===T.dim);var B=t.isAnimationEnabled()?t:null,G=function(a,n){var t=a.get("realtimeSort",!0),i=n.getBaseAxis();if(t&&"category"===i.type&&"cartesian2d"===n.type)return{baseAxis:i,otherAxis:n.getOtherAxis(i)}}(t,b);G&&this._enableRealtimeSort(G,v,l);var te=t.get("clip",!0)||G,se=function(a,n){var t=a.getArea&&a.getArea();if(Ii(a,"cartesian2d")){var i=a.getBaseAxis();if("category"!==i.type||!i.onBand){var l=n.getLayout("bandWidth");i.isHorizontal()?(t.x-=l,t.width+=2*l):(t.y-=l,t.height+=2*l)}}return t}(b,v);d.removeClipPath();var Ae=t.get("roundCap",!0),ze=t.get("showBackground",!0),Be=t.getModel("backgroundStyle"),We=Be.get("borderRadius")||0,ut=[],mt=this._backgroundEls,vt=u&&u.isInitSort,At=u&&"changeAxisOrder"===u.type;function Gt(yn){var On=or[b.type](v,yn),kn=function(a,n,t){return new("polar"===a.type?Oi.C:ri.Z)({shape:Zs(n,t,a),silent:!0,z2:0})}(b,z,On);return kn.useStyle(Be.getItemStyle()),"cartesian2d"===b.type&&kn.setShape("r",We),ut[yn]=kn,kn}v.diff(_).add(function(yn){var On=v.getItemModel(yn),kn=or[b.type](v,yn,On);if(ze&&Gt(yn),v.hasValue(yn)&&En[b.type](kn)){var Bn=!1;te&&(Bn=Ce[b.type](se,kn));var Vn=He[b.type](t,v,yn,kn,z,B,T.model,!1,Ae);G&&(Vn.forceLabelAnimation=!0),Di(Vn,v,yn,On,kn,t,z,"polar"===b.type),vt?Vn.attr({shape:kn}):G?ae(G,B,Vn,kn,yn,z,!1,!1):(0,lr.KZ)(Vn,{shape:kn},t,yn),v.setItemGraphicEl(yn,Vn),d.add(Vn),Vn.ignore=Bn}}).update(function(yn,On){var kn=v.getItemModel(yn),Bn=or[b.type](v,yn,kn);if(ze){var Vn=void 0;0===mt.length?Vn=Gt(On):((Vn=mt[On]).useStyle(Be.getItemStyle()),"cartesian2d"===b.type&&Vn.setShape("r",We),ut[yn]=Vn);var rr=or[b.type](v,yn),Sr=Zs(z,rr,b);(0,lr.D)(Vn,{shape:Sr},B,yn)}var hr=_.getItemGraphicEl(On);if(v.hasValue(yn)&&En[b.type](Bn)){var Vr=!1;if(te&&(Vr=Ce[b.type](se,Bn))&&d.remove(hr),hr?(0,lr.Zi)(hr):hr=He[b.type](t,v,yn,Bn,z,B,T.model,!!hr,Ae),G&&(hr.forceLabelAnimation=!0),At){var yi=hr.getTextContent();if(yi){var hi=(0,$n.qA)(yi);null!=hi.prevValue&&(hi.prevValue=hi.value)}}At||Di(hr,v,yn,kn,Bn,t,z,"polar"===b.type),vt?hr.attr({shape:Bn}):G?ae(G,B,hr,Bn,yn,z,!0,At):(0,lr.D)(hr,{shape:Bn},t,yn,null),v.setItemGraphicEl(yn,hr),hr.ignore=Vr,d.add(hr)}else d.remove(hr)}).remove(function(yn){var On=_.getItemGraphicEl(yn);On&&(0,lr.XD)(On,t,yn)}).execute();var on=this._backgroundGroup||(this._backgroundGroup=new pr.Z);on.removeAll();for(var bn=0;bn<ut.length;++bn)on.add(ut[bn]);d.add(on),this._backgroundEls=ut,this._data=v},n.prototype._renderLarge=function(t,i,l){this._clear(),Kr(t,this.group),this._updateLargeClip(t)},n.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),Kr(i,this.group,!0)},n.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)?xr(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},n.prototype._enableRealtimeSort=function(t,i,l){var u=this;if(i.count()){var d=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,l),this._isFirstFrame=!1;else{var v=function(_){var b=i.getItemGraphicEl(_);if(b){var T=b.shape;return(d.isHorizontal()?Math.abs(T.height):Math.abs(T.width))||0}return 0};this._onRendered=function(){u._updateSortWithinSameData(i,v,d,l)},l.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(t,i,l){var u=[];return t.each(t.mapDimension(i.dim),function(d,v){var _=l(v);u.push({dataIndex:v,mappedValue:_=null==_?NaN:_,ordinalNumber:d})}),u.sort(function(d,v){return v.mappedValue-d.mappedValue}),{ordinalNumbers:(0,y.map)(u,function(d){return d.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(t,i,l){for(var u=l.scale,d=t.mapDimension(l.dim),v=Number.MAX_VALUE,_=0,b=u.getOrdinalMeta().categories.length;_<b;++_){var T=t.rawIndexOf(d,u.getRawOrdinalNumber(_)),z=T<0?Number.MIN_VALUE:i(t.indexOfRawIndex(T));if(z>v)return!0;v=z}return!1},n.prototype._isOrderDifferentInView=function(t,i){for(var l=i.scale,u=l.getExtent(),d=Math.max(0,u[0]),v=Math.min(u[1],l.getOrdinalMeta().categories.length-1);d<=v;++d)if(t.ordinalNumbers[d]!==l.getRawOrdinalNumber(d))return!0},n.prototype._updateSortWithinSameData=function(t,i,l,u){if(this._isOrderChangedWithinSameData(t,i,l)){var d=this._dataSort(t,l,i);this._isOrderDifferentInView(d,l)&&(this._removeOnRenderedListener(u),u.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",axisId:l.index,sortInfo:d}))}},n.prototype._dispatchInitSort=function(t,i,l){var u=i.baseAxis,d=this._dataSort(t,u,function(v){return t.get(t.mapDimension(i.otherAxis.dim),v)});l.dispatchAction({type:"changeAxisOrder",componentType:u.dim+"Axis",isInitSort:!0,axisId:u.index,sortInfo:d})},n.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},n.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},n.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(t){var i=this.group,l=this._data;t&&t.isAnimationEnabled()&&l&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],l.eachItemGraphicEl(function(u){(0,lr.XD)(u,t,(0,Hr.A)(u).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(Fr.Z),Ce={cartesian2d:function(a,n){var t=n.width<0?-1:1,i=n.height<0?-1:1;t<0&&(n.x+=n.width,n.width=-n.width),i<0&&(n.y+=n.height,n.height=-n.height);var l=a.x+a.width,u=a.y+a.height,d=Bi(n.x,a.x),v=ho(n.x+n.width,l),_=Bi(n.y,a.y),b=ho(n.y+n.height,u),T=v<d,z=b<_;return n.x=T&&d>l?v:d,n.y=z&&_>u?b:_,n.width=T?0:v-d,n.height=z?0:b-_,t<0&&(n.x+=n.width,n.width=-n.width),i<0&&(n.y+=n.height,n.height=-n.height),T||z},polar:function(a,n){var t=n.r0<=n.r?1:-1;if(t<0){var i=n.r;n.r=n.r0,n.r0=i}var l=ho(n.r,a.r),u=Bi(n.r0,a.r0);n.r=l,n.r0=u;var d=l-u<0;return t<0&&(i=n.r,n.r=n.r0,n.r0=i),d}},He={cartesian2d:function(a,n,t,i,l,u,d,v,_){var b=new ri.Z({shape:(0,y.extend)({},i),z2:1});return b.__dataIndex=t,b.name="item",u&&(b.shape[l?"height":"width"]=0),b},polar:function(a,n,t,i,l,u,d,v,_){var b=!l&&_?zi:Oi.C,T=new b({shape:i,z2:1});T.name="item";var z=_i(l);if(T.calculateTextPosition=function(a,n){var t=(n=n||{}).isRoundCap;return function(i,l,u){var d=l.position;if(!d||d instanceof Array)return(0,fe.wI)(i,l,u);var v=a(d),_=null!=l.distance?l.distance:5,b=this.shape,T=b.cx,z=b.cy,B=b.r,G=b.r0,te=(B+G)/2,se=b.startAngle,Ae=b.endAngle,ze=(se+Ae)/2,Be=t?Math.abs(B-G)/2:0,We=Math.cos,ut=Math.sin,mt=T+B*We(se),vt=z+B*ut(se),At="left",Gt="top";switch(v){case"startArc":mt=T+(G-_)*We(ze),vt=z+(G-_)*ut(ze),At="center",Gt="top";break;case"insideStartArc":mt=T+(G+_)*We(ze),vt=z+(G+_)*ut(ze),At="center",Gt="bottom";break;case"startAngle":mt=T+te*We(se)+qa(se,_+Be,!1),vt=z+te*ut(se)+wo(se,_+Be,!1),At="right",Gt="middle";break;case"insideStartAngle":mt=T+te*We(se)+qa(se,-_+Be,!1),vt=z+te*ut(se)+wo(se,-_+Be,!1),At="left",Gt="middle";break;case"middle":mt=T+te*We(ze),vt=z+te*ut(ze),At="center",Gt="middle";break;case"endArc":mt=T+(B+_)*We(ze),vt=z+(B+_)*ut(ze),At="center",Gt="bottom";break;case"insideEndArc":mt=T+(B-_)*We(ze),vt=z+(B-_)*ut(ze),At="center",Gt="top";break;case"endAngle":mt=T+te*We(Ae)+qa(Ae,_+Be,!0),vt=z+te*ut(Ae)+wo(Ae,_+Be,!0),At="left",Gt="middle";break;case"insideEndAngle":mt=T+te*We(Ae)+qa(Ae,-_+Be,!0),vt=z+te*ut(Ae)+wo(Ae,-_+Be,!0),At="right",Gt="middle";break;default:return(0,fe.wI)(i,l,u)}return(i=i||{}).x=mt,i.y=vt,i.align=At,i.verticalAlign=Gt,i}}(z,{isRoundCap:b===zi}),u){var G=l?"r":"endAngle",te={};T.shape[G]=l?0:i.startAngle,te[G]=i[G],(v?lr.D:lr.KZ)(T,{shape:te},u)}return T}};function ae(a,n,t,i,l,u,d,v){var _,b;u?(b={x:i.x,width:i.width},_={y:i.y,height:i.height}):(b={y:i.y,height:i.height},_={x:i.x,width:i.width}),v||(d?lr.D:lr.KZ)(t,{shape:_},n,l,null),(d?lr.D:lr.KZ)(t,{shape:b},n?a.baseAxis.model:null,l)}function ge(a,n){for(var t=0;t<n.length;t++)if(!isFinite(a[n[t]]))return!0;return!1}var De=["x","y","width","height"],gt=["cx","cy","r","startAngle","endAngle"],En={cartesian2d:function(a){return!ge(a,De)},polar:function(a){return!ge(a,gt)}},or={cartesian2d:function(a,n,t){var i=a.getItemLayout(n),l=t?function(a,n){var t=a.get(["itemStyle","borderColor"]);if(!t||"none"===t)return 0;var i=a.get(["itemStyle","borderWidth"])||0,l=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),u=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(i,l,u)}(t,i):0,u=i.width>0?1:-1,d=i.height>0?1:-1;return{x:i.x+u*l/2,y:i.y+d*l/2,width:i.width-u*l,height:i.height-d*l}},polar:function(a,n,t){var i=a.getItemLayout(n);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function _i(a){return t=a?"Arc":"Angle",function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}};var t}function Di(a,n,t,i,l,u,d,v){var _=n.getItemVisual(t,"style");v||a.setShape("r",i.get(["itemStyle","borderRadius"])||0),a.useStyle(_);var b=i.getShallow("cursor");b&&a.attr("cursor",b);var T=v?d?l.r>=l.r0?"endArc":"startArc":l.endAngle>=l.startAngle?"endAngle":"startAngle":d?l.height>=0?"bottom":"top":l.width>=0?"right":"left",z=(0,$n.k3)(i);(0,$n.ni)(a,z,{labelFetcher:u,labelDataIndex:t,defaultText:yr(u.getData(),t),inheritColor:_.fill,defaultOpacity:_.opacity,defaultOutsidePosition:T});var B=a.getTextContent();if(v&&B){var G=i.get(["label","position"]);a.textConfig.inside="middle"===G||null,function(a,n,t,i){if("number"!=typeof i)if((0,y.isArray)(n))a.setTextConfig({rotation:0});else{var _,l=a.shape,u=l.clockwise?l.startAngle:l.endAngle,d=l.clockwise?l.endAngle:l.startAngle,v=(u+d)/2,b=t(n);switch(b){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":_=v;break;case"startAngle":case"insideStartAngle":_=u;break;case"endAngle":case"insideEndAngle":_=d;break;default:return void a.setTextConfig({rotation:0})}var T=1.5*Math.PI-_;"middle"===b&&T>Math.PI/2&&T<1.5*Math.PI&&(T-=Math.PI),a.setTextConfig({rotation:T})}else a.setTextConfig({rotation:i})}(a,"outside"===G?T:G,_i(d),i.get(["label","rotate"]))}(0,$n.pe)(B,z,u.getRawValue(t),function(se){return Ti(n,se)});var te=i.getModel(["emphasis"]);(0,Xn.vF)(a,te.get("focus"),te.get("blurScope")),(0,Xn.WO)(a,i),function(a){return null!=a.startAngle&&null!=a.endAngle&&a.startAngle===a.endAngle}(l)&&(a.style.fill="none",a.style.stroke="none",(0,y.each)(a.states,function(se){se.style&&(se.style.fill=se.style.stroke="none")}))}var qr=function(){},xi=function(a){function n(t){var i=a.call(this,t)||this;return i.type="largeBar",i}return(0,Zt.ZT)(n,a),n.prototype.getDefaultShape=function(){return new qr},n.prototype.buildPath=function(t,i){for(var l=i.points,u=this.__startPoint,d=this.__baseDimIdx,v=0;v<l.length;v+=2)u[d]=l[v+d],t.moveTo(u[0],u[1]),t.lineTo(l[v],l[v+1])},n}(ce.ZP);function Kr(a,n,t){var i=a.getData(),l=[],u=i.getLayout("valueAxisHorizontal")?1:0;l[1-u]=i.getLayout("valueAxisStart");var d=i.getLayout("largeDataIndices"),v=i.getLayout("barWidth"),_=a.getModel("backgroundStyle");if(a.get("showBackground",!0)){var T=i.getLayout("largeBackgroundPoints"),z=[];z[1-u]=i.getLayout("backgroundStart");var B=new xi({shape:{points:T},incremental:!!t,silent:!0,z2:0});B.__startPoint=z,B.__baseDimIdx=u,B.__largeDataIndices=d,B.__barWidth=v,function(a,n,t){var i=n.get("borderColor")||n.get("color"),l=n.getItemStyle();a.useStyle(l),a.style.fill=null,a.style.stroke=i,a.style.lineWidth=t.getLayout("barWidth")}(B,_,i),n.add(B)}var G=new xi({shape:{points:i.getLayout("largePoints")},incremental:!!t});G.__startPoint=l,G.__baseDimIdx=u,G.__largeDataIndices=d,G.__barWidth=v,n.add(G),function(a,n,t){var i=t.getVisual("style");a.useStyle((0,y.extend)({},i)),a.style.fill=null,a.style.stroke=i.fill,a.style.lineWidth=t.getLayout("barWidth")}(G,0,i),(0,Hr.A)(G).seriesIndex=a.seriesIndex,a.get("silent")||(G.on("mousedown",La),G.on("mousemove",La))}var La=(0,zr.P2)(function(a){var t=function(a,n,t){var i=a.__baseDimIdx,l=1-i,u=a.shape.points,d=a.__largeDataIndices,v=Math.abs(a.__barWidth/2),_=a.__startPoint[l];Er[0]=n,Er[1]=t;for(var b=Er[i],T=Er[1-i],z=b-v,B=b+v,G=0,te=u.length/2;G<te;G++){var se=2*G,Ae=u[se+i],ze=u[se+l];if(Ae>=z&&Ae<=B&&(_<=ze?T>=_&&T<=ze:T>=ze&&T<=_))return d[G]}return-1}(this,a.offsetX,a.offsetY);(0,Hr.A)(this).dataIndex=t>=0?t:null},30,!1);function Zs(a,n,t){if(Ii(t,"cartesian2d")){var i=n,l=t.getArea();return{x:a?i.x:l.x,y:a?l.y:i.y,width:a?i.width:l.width,height:a?l.height:i.height}}return{cx:(l=t.getArea()).cx,cy:l.cy,r0:a?l.r0:n.r0,r:a?l.r:n.r,startAngle:a?n.startAngle:0,endAngle:a?n.endAngle:2*Math.PI}}const na=Ot;var Qr=E(1706),Mi=E(3180),Zo=2*Math.PI,bt=Math.PI/180;function pe(a,n){return Mi.ME(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function be(a,n){var t=pe(a,n),i=a.get("center"),l=a.get("radius");y.isArray(l)||(l=[0,l]),y.isArray(i)||(i=[i,i]);var u=(0,Xt.GM)(t.width,n.getWidth()),d=(0,Xt.GM)(t.height,n.getHeight()),v=Math.min(u,d);return{cx:(0,Xt.GM)(i[0],u)+t.x,cy:(0,Xt.GM)(i[1],d)+t.y,r0:(0,Xt.GM)(l[0],v/2),r:(0,Xt.GM)(l[1],v/2)}}function Xe(a,n,t){n.eachSeriesByType(a,function(i){var l=i.getData(),u=l.mapDimension("value"),d=pe(i,t),v=be(i,t),_=v.cx,b=v.cy,T=v.r,z=v.r0,B=-i.get("startAngle")*bt,G=i.get("minAngle")*bt,te=0;l.each(u,function(bn){!isNaN(bn)&&te++});var se=l.getSum(u),Ae=Math.PI/(se||te)*2,ze=i.get("clockwise"),Be=i.get("roseType"),We=i.get("stillShowZeroSum"),ut=l.getDataExtent(u);ut[0]=0;var mt=Zo,vt=0,At=B,Gt=ze?1:-1;if(l.setLayout({viewRect:d,r:T}),l.each(u,function(bn,yn){var On;if(isNaN(bn))l.setItemLayout(yn,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:ze,cx:_,cy:b,r0:z,r:Be?NaN:T});else{(On="area"!==Be?0===se&&We?Ae:bn*Ae:Zo/te)<G?(On=G,mt-=G):vt+=bn;var kn=At+Gt*On;l.setItemLayout(yn,{angle:On,startAngle:At,endAngle:kn,clockwise:ze,cx:_,cy:b,r0:z,r:Be?(0,Xt.NU)(bn,ut,[z,T]):T}),At=kn}}),mt<Zo&&te)if(mt<=.001){var on=Zo/te;l.each(u,function(bn,yn){if(!isNaN(bn)){var On=l.getItemLayout(yn);On.angle=on,On.startAngle=B+Gt*yn*on,On.endAngle=B+Gt*(yn+1)*on}})}else Ae=mt/vt,At=B,l.each(u,function(bn,yn){if(!isNaN(bn)){var On=l.getItemLayout(yn),kn=On.angle===G?G:bn*Ae;On.startAngle=At,On.endAngle=At+Gt*kn,At+=Gt*kn}})})}function Ct(a){return{seriesType:a,reset:function(n,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var l=n.getData();l.filterSelf(function(u){for(var d=l.getName(u),v=0;v<i.length;v++)if(!i[v].isSelected(d))return!1;return!0})}}}}var Ht=E(7140),hn=E(5359),_n=E(6389),Fn=E(2602),ir=Math.PI/180;function ar(a,n,t,i,l,u,d,v,_,b){if(!(a.length<2)){for(var B=a.length,G=0;G<B;G++)"outer"===a[G].position&&"labelLine"===a[G].labelAlignTo&&(a[G].linePoints[1][0]+=a[G].label.x-b,a[G].label.x=b);(0,Fn.GI)(a,_,_+d)&&function(se){for(var Ae={list:[],maxY:0},ze={list:[],maxY:0},Be=0;Be<se.length;Be++)if("none"===se[Be].labelAlignTo){var We=se[Be],ut=We.label.y>t?ze:Ae,mt=Math.abs(We.label.y-t);if(mt>ut.maxY){var vt=We.label.x-n-We.len2*l,At=i+We.len,Gt=Math.abs(vt)<At?Math.sqrt(mt*mt/(1-vt*vt/At/At)):At;ut.rB=Gt,ut.maxY=mt}ut.list.push(We)}T(Ae),T(ze)}(a)}function T(se){for(var Ae=se.rB,ze=Ae*Ae,Be=0;Be<se.list.length;Be++){var We=se.list[Be],ut=Math.abs(We.label.y-t),mt=i+We.len,vt=mt*mt,At=Math.sqrt((1-Math.abs(ut*ut/ze))*vt);We.label.x=n+(At+We.len2)*l}}}function fi(a){return"center"===a.position}function ai(a,n,t){var i=a.get("borderRadius");return null==i?t?{innerCornerRadius:0,cornerRadius:0}:null:((0,y.isArray)(i)||(i=[i,i]),{innerCornerRadius:(0,fe.GM)(i[0],n.r0),cornerRadius:(0,fe.GM)(i[1],n.r)})}var Ci=function(a){function n(t,i,l){var u=a.call(this)||this;u.z2=2;var d=new di.ZP;return u.setTextContent(d),u.updateData(t,i,l,!0),u}return(0,Zt.ZT)(n,a),n.prototype.updateData=function(t,i,l,u){var d=this,v=t.hostModel,_=t.getItemModel(i),b=_.getModel("emphasis"),T=t.getItemLayout(i),z=(0,y.extend)(ai(_.getModel("itemStyle"),T,!0),T);if(isNaN(z.startAngle))d.setShape(z);else{u?(d.setShape(z),"scale"===v.getShallow("animationType")?(d.shape.r=T.r0,lr.KZ(d,{shape:{r:T.r}},v,i)):null!=l?(d.setShape({startAngle:l,endAngle:l}),lr.KZ(d,{shape:{startAngle:T.startAngle,endAngle:T.endAngle}},v,i)):(d.shape.endAngle=T.startAngle,lr.D(d,{shape:{endAngle:T.endAngle}},v,i))):((0,lr.Zi)(d),lr.D(d,{shape:z},v,i)),d.useStyle(t.getItemVisual(i,"style")),(0,Xn.WO)(d,_);var G=(T.startAngle+T.endAngle)/2,te=v.get("selectedOffset"),se=Math.cos(G)*te,Ae=Math.sin(G)*te,ze=_.getShallow("cursor");ze&&d.attr("cursor",ze),this._updateLabel(v,t,i),d.ensureState("emphasis").shape=(0,Zt.pi)({r:T.r+(b.get("scale")&&b.get("scaleSize")||0)},ai(b.getModel("itemStyle"),T)),(0,y.extend)(d.ensureState("select"),{x:se,y:Ae,shape:ai(_.getModel(["select","itemStyle"]),T)}),(0,y.extend)(d.ensureState("blur"),{shape:ai(_.getModel(["blur","itemStyle"]),T)});var Be=d.getTextGuideLine(),We=d.getTextContent();Be&&(0,y.extend)(Be.ensureState("select"),{x:se,y:Ae}),(0,y.extend)(We.ensureState("select"),{x:se,y:Ae}),(0,Xn.vF)(this,b.get("focus"),b.get("blurScope"))}},n.prototype._updateLabel=function(t,i,l){var u=this,d=i.getItemModel(l),v=d.getModel("labelLine"),_=i.getItemVisual(l,"style"),b=_&&_.fill,T=_&&_.opacity;(0,$n.ni)(u,(0,$n.k3)(d),{labelFetcher:i.hostModel,labelDataIndex:l,inheritColor:b,defaultOpacity:T,defaultText:t.getFormattedLabel(l,"normal")||i.getName(l)});var z=u.getTextContent();u.setTextConfig({position:null,rotation:null}),z.attr({z2:10});var B=t.get(["label","position"]);if("outside"!==B&&"outer"!==B)u.removeTextGuideLine();else{var G=this.getTextGuideLine();G||(G=new Ht.Z,this.setTextGuideLine(G)),(0,_n.Iu)(this,(0,_n.$x)(d),{stroke:b,opacity:(0,y.retrieve3)(v.get(["lineStyle","opacity"]),T,1)})}},n}(Oi.C);const ka=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(){var t=new pr.Z;this._sectorGroup=t},n.prototype.render=function(t,i,l,u){var b,d=t.getData(),v=this._data,_=this.group;if(!v&&d.count()>0){for(var T=d.getItemLayout(0),z=1;isNaN(T&&T.startAngle)&&z<d.count();++z)T=d.getItemLayout(z);T&&(b=T.startAngle)}if(this._emptyCircleSector&&_.remove(this._emptyCircleSector),0===d.count()&&t.get("showEmptyCircle")){var B=new Oi.C({shape:be(t,l)});B.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=B,_.add(B)}d.diff(v).add(function(G){var te=new Ci(d,G,b);d.setItemGraphicEl(G,te),_.add(te)}).update(function(G,te){var se=v.getItemGraphicEl(te);se.updateData(d,G,b),se.off("click"),_.add(se),d.setItemGraphicEl(G,se)}).remove(function(G){var te=v.getItemGraphicEl(G);lr.XD(te,t,G)}).execute(),function(a){var i,l,n=a.getData(),t=[],u=!1,d=(a.get("minShowLabelAngle")||0)*ir,v=n.getLayout("viewRect"),_=n.getLayout("r"),b=v.width,T=v.x,z=v.y,B=v.height;function G(vt){vt.ignore=!0}n.each(function(vt){var At=n.getItemGraphicEl(vt),Gt=At.shape,on=At.getTextContent(),bn=At.getTextGuideLine(),yn=n.getItemModel(vt),On=yn.getModel("label"),kn=On.get("position")||yn.get(["emphasis","label","position"]),Bn=On.get("distanceToLabelLine"),Vn=On.get("alignTo"),rr=(0,Xt.GM)(On.get("edgeDistance"),b),Sr=On.get("bleedMargin"),hr=yn.getModel("labelLine"),Vr=hr.get("length");Vr=(0,Xt.GM)(Vr,b);var yi=hr.get("length2");if(yi=(0,Xt.GM)(yi,b),Math.abs(Gt.endAngle-Gt.startAngle)<d)return(0,y.each)(on.states,G),void(on.ignore=!0);if(function(vt){if(!vt.ignore)return!0;for(var At in vt.states)if(!1===vt.states[At].ignore)return!0;return!1}(on)){var fa,ea,Qi,Qa,hi=(Gt.startAngle+Gt.endAngle)/2,Xi=Math.cos(hi),ya=Math.sin(hi);i=Gt.cx,l=Gt.cy;var wa="inside"===kn||"inner"===kn;if("center"===kn)fa=Gt.cx,ea=Gt.cy,Qa="center";else{var Ra=(wa?(Gt.r+Gt.r0)/2*Xi:Gt.r*Xi)+i,No=(wa?(Gt.r+Gt.r0)/2*ya:Gt.r*ya)+l;if(fa=Ra+3*Xi,ea=No+3*ya,!wa){var As=Ra+Xi*(Vr+_-Gt.r),$o=No+ya*(Vr+_-Gt.r),zl=As+(Xi<0?-1:1)*yi;fa="edge"===Vn?Xi<0?T+rr:T+b-rr:zl+(Xi<0?-Bn:Bn),ea=$o,Qi=[[Ra,No],[As,$o],[zl,$o]]}Qa=wa?"center":"edge"===Vn?Xi>0?"right":"left":Xi>0?"left":"right"}var al,F1=On.get("rotate");if("number"==typeof F1)al=F1*(Math.PI/180);else if("center"===kn)al=0;else{var n4=Xi<0?-hi+Math.PI:-hi;"radial"===F1||!0===F1?al=n4:"tangential"===F1&&"outside"!==kn&&"outer"!==kn?(al=n4+Math.PI/2)>Math.PI/2&&(al-=Math.PI):al=0}if(u=!!al,on.x=fa,on.y=ea,on.rotation=al,on.setStyle({verticalAlign:"middle"}),wa){on.setStyle({align:Qa});var oy=on.states.select;oy&&(oy.x+=on.x,oy.y+=on.y)}else{var w3=on.getBoundingRect().clone();w3.applyTransform(on.getComputedTransform());var q9=(on.style.margin||0)+2.1;w3.y-=q9/2,w3.height+=q9,t.push({label:on,labelLine:bn,position:kn,len:Vr,len2:yi,minTurnAngle:hr.get("minTurnAngle"),maxSurfaceAngle:hr.get("maxSurfaceAngle"),surfaceNormal:new hn.Z(Xi,ya),linePoints:Qi,textAlign:Qa,labelDistance:Bn,labelAlignTo:Vn,edgeDistance:rr,bleedMargin:Sr,rect:w3})}At.setTextConfig({inside:wa})}}),!u&&a.get("avoidLabelOverlap")&&function(a,n,t,i,l,u,d,v){for(var _=[],b=[],T=Number.MAX_VALUE,z=-Number.MAX_VALUE,B=0;B<a.length;B++){var G=a[B].label;fi(a[B])||(G.x<n?(T=Math.min(T,G.x),_.push(a[B])):(z=Math.max(z,G.x),b.push(a[B])))}for(ar(b,n,t,i,1,0,u,0,v,z),ar(_,n,t,i,-1,0,u,0,v,T),B=0;B<a.length;B++){var te=a[B];if(G=te.label,!fi(te)){var se=te.linePoints;if(se){var Be,Ae="edge"===te.labelAlignTo,ze=te.rect.width;(Be=Ae?G.x<n?se[2][0]-te.labelDistance-d-te.edgeDistance:d+l-te.edgeDistance-se[2][0]-te.labelDistance:G.x<n?G.x-d-te.bleedMargin:d+l-G.x-te.bleedMargin)<te.rect.width&&(te.label.style.width=Be,"edge"===te.labelAlignTo&&(ze=Be));var We=se[1][0]-se[2][0];Ae?se[2][0]=G.x<n?d+te.edgeDistance+ze+te.labelDistance:d+l-te.edgeDistance-ze-te.labelDistance:(se[2][0]=G.x<n?G.x+te.labelDistance:G.x-te.labelDistance,se[1][0]=se[2][0]+We),se[1][1]=se[2][1]=G.y}}}}(t,i,l,_,b,B,T,z);for(var se=0;se<t.length;se++){var Ae=t[se],ze=Ae.label,Be=Ae.labelLine,We=isNaN(ze.x)||isNaN(ze.y);if(ze){ze.setStyle({align:Ae.textAlign}),We&&((0,y.each)(ze.states,G),ze.ignore=!0);var ut=ze.states.select;ut&&(ut.x+=ze.x,ut.y+=ze.y)}if(Be){var mt=Ae.linePoints;We||!mt?((0,y.each)(Be.states,G),Be.ignore=!0):((0,_n.qK)(mt,Ae.minTurnAngle),(0,_n._A)(mt,Ae.surfaceNormal,Ae.maxSurfaceAngle),Be.setShape({points:mt}),ze.__hostTarget.textGuideLineConfig={anchor:new hn.Z(mt[0][0],mt[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=d)},n.prototype.dispose=function(){},n.prototype.containPoint=function(t,i){var u=i.getData().getItemLayout(0);if(u){var d=t[0]-u.cx,v=t[1]-u.cy,_=Math.sqrt(d*d+v*v);return _<=u.r&&_>=u.r0}},n.type="pie",n}(Fr.Z);var za=E(1629),ji=E(9);function xa(a,n,t){n=(0,y.isArray)(n)&&{coordDimensions:n}||(0,y.extend)({encodeDefine:a.getEncode()},n);var i=a.getSource(),l=(0,za.Z)(i,n).dimensions,u=new ji.Z(l,a);return u.initData(i,t),u}var Fo=E(4241);const Wa=function(){function a(n,t){this._getDataWithEncodedVisual=n,this._getRawData=t}return a.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},a.prototype.containName=function(n){return this._getRawData().indexOfName(n)>=0},a.prototype.indexOfName=function(n){return this._getDataWithEncodedVisual().indexOfName(n)},a.prototype.getItemVisual=function(n,t){return this._getDataWithEncodedVisual().getItemVisual(n,t)},a}(),Bo=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wa(y.bind(this.getData,this),y.bind(this.getRawData,this)),this._defaultLabelLine(t)},n.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return xa(this,{coordDimensions:["value"],encodeDefaulter:y.curry(Fo.Ss,this)})},n.prototype.getDataParams=function(t){var i=this.getData(),l=a.prototype.getDataParams.call(this,t),u=[];return i.each(i.mapDimension("value"),function(d){u.push(d)}),l.percent=(0,Xt.eJ)(u,t,i.hostModel.get("percentPrecision")),l.$vars.push("percent"),l},n.prototype._defaultLabelLine=function(t){fr.Cc(t,"labelLine",["show"]);var i=t.labelLine,l=t.emphasis.labelLine;i.show=i.show&&t.label.show,l.show=l.show&&t.emphasis.label.show},n.type="series.pie",n.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(Un.Z),Mt=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.hasSymbolVisual=!0,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t,i){return(0,er.Z)(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},n.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},n.prototype.brushSelector=function(t,i,l){return l.point(i.getItemLayout(t))},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(Un.Z);var Rt=E(6324),Tt=function(){},Dt=function(a){function n(t){return a.call(this,t)||this}return(0,Zt.ZT)(n,a),n.prototype.getDefaultShape=function(){return new Tt},n.prototype.buildPath=function(t,i){var l=i.points,u=i.size,d=this.symbolProxy,v=d.shape,_=t.getContext?t.getContext():t;if(_&&u[0]<4)this._ctx=_;else{this._ctx=null;for(var T=0;T<l.length;){var z=l[T++],B=l[T++];isNaN(z)||isNaN(B)||this.softClipShape&&!this.softClipShape.contain(z,B)||(v.x=z-u[0]/2,v.y=B-u[1]/2,v.width=u[0],v.height=u[1],d.buildPath(t,v,!0))}}},n.prototype.afterBrush=function(){var t=this.shape,i=t.points,l=t.size,u=this._ctx;if(u)for(var d=0;d<i.length;){var v=i[d++],_=i[d++];isNaN(v)||isNaN(_)||this.softClipShape&&!this.softClipShape.contain(v,_)||u.fillRect(v-l[0]/2,_-l[1]/2,l[0],l[1])}},n.prototype.findDataIndex=function(t,i){for(var l=this.shape,u=l.points,d=l.size,v=Math.max(d[0],4),_=Math.max(d[1],4),b=u.length/2-1;b>=0;b--){var T=2*b,z=u[T]-v/2,B=u[T+1]-_/2;if(t>=z&&i>=B&&t<=z+v&&i<=B+_)return b}return-1},n}(ce.ZP);const pn=function(){function a(){this.group=new pr.Z}return a.prototype.isPersistent=function(){return!this._incremental},a.prototype.updateData=function(n,t){this.group.removeAll();var i=new Dt({rectHover:!0,cursor:"default"});i.setShape({points:n.getLayout("points")}),this._setCommon(i,n,!1,t),this.group.add(i),this._incremental=null},a.prototype.updateLayout=function(n){if(!this._incremental){var t=n.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(t=new Float32Array(t.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",t)})}},a.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clearIncremental(),n.count()>2e6?(this._incremental||(this._incremental=new Rt.Z({silent:!0})),this.group.add(this._incremental)):this._incremental=null},a.prototype.incrementalUpdate=function(n,t,i){var l;this._incremental?(l=new Dt,this._incremental.addDisplayable(l,!0)):((l=new Dt({rectHover:!0,cursor:"default",startIndex:n.start,endIndex:n.end})).incremental=!0,this.group.add(l)),l.setShape({points:t.getLayout("points")}),this._setCommon(l,t,!!this._incremental,i)},a.prototype._setCommon=function(n,t,i,l){var u=t.hostModel;l=l||{};var d=t.getVisual("symbolSize");n.setShape("size",d instanceof Array?d:[d,d]),n.softClipShape=l.clipShape||null,n.symbolProxy=(0,dr.th)(t.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var v=n.shape.size[0]<4;n.useStyle(u.getModel("itemStyle").getItemStyle(v?["color","shadowBlur","shadowColor"]:["color"]));var _=t.getVisual("style"),b=_&&_.fill;if(b&&n.setColor(b),!i){var T=(0,Hr.A)(n);T.seriesIndex=u.seriesIndex,n.on("mousemove",function(z){T.dataIndex=null;var B=n.findDataIndex(z.offsetX,z.offsetY);B>=0&&(T.dataIndex=B+(n.startIndex||0))})}},a.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},a.prototype._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()},a}(),jn=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=t.getData();this._updateSymbolDraw(u,t).updateData(u,{clipShape:this._getClipShape(t)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(t,i,l){var u=t.getData();this._updateSymbolDraw(u,t).incrementalPrepareUpdate(u),this._finished=!1},n.prototype.incrementalRender=function(t,i,l){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},n.prototype.updateTransform=function(t,i,l){var u=t.getData();if(this.group.dirty(),!this._finished||u.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var d=Aa("").reset(t,i,l);d.progress&&d.progress({start:0,end:u.count(),count:u.count()},u),this._symbolDraw.updateLayout(u)},n.prototype._getClipShape=function(t){var i=t.coordinateSystem,l=i&&i.getArea&&i.getArea();return t.get("clip",!0)?l:null},n.prototype._updateSymbolDraw=function(t,i){var l=this._symbolDraw,d=i.pipelineContext.large;return(!l||d!==this._isLargeDraw)&&(l&&l.remove(),l=this._symbolDraw=d?new pn:new oa,this._isLargeDraw=d,this.group.removeAll()),this.group.add(l.group),l},n.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n}(Fr.Z);var qt=E(5207),Cn=E(5747);const Hn=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(Cn.Z);var Gn=E(7498),mr=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",fr.C6).models[0]},n.type="cartesian2dAxis",n}(Cn.Z);y.mixin(mr,Gn.W);var Dr={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Mr=y.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Dr),ci=y.merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Dr);const $i={category:Mr,value:ci,time:y.merge({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ci),log:y.defaults({scale:!0,logBase:10},ci)};var Ca=E(6888),Ea={value:1,category:1,time:1,log:1};function Za(a,n,t,i){(0,y.each)(Ea,function(l,u){var d=(0,y.merge)((0,y.merge)({},$i[u],!0),i,!0),v=function(_){function b(){var T=null!==_&&_.apply(this,arguments)||this;return T.type=n+"Axis."+u,T}return(0,Zt.ZT)(b,_),b.prototype.mergeDefaultAndTheme=function(T,z){var B=(0,Mi.YD)(this),G=B?(0,Mi.tE)(T):{},te=z.getTheme();(0,y.merge)(T,te.get(u+"Axis")),(0,y.merge)(T,this.getDefaultOption()),T.type=ts(T),B&&(0,Mi.dt)(T,G,B)},b.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Ca.Z.createByAxisModel(this))},b.prototype.getCategories=function(T){var z=this.option;if("category"===z.type)return T?z.data:this.__ordinalMeta.categories},b.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},b.type=n+"Axis."+u,b.defaultOption=d,b}(t);a.registerComponentModel(v)}),a.registerSubTypeDefaulter(n+"Axis",ts)}function ts(a){return a.type||(a.data?"category":"value")}var Da=E(9016),ao=E(1436),Do=E(6043),Ni=E(926),pi=E(7322),Ql=["x","y"];function zs(a){return"interval"===a.type||"time"===a.type}const Os=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=Ql,t}return(0,Zt.ZT)(n,a),n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(zs(t)&&zs(i)){var l=t.getExtent(),u=i.getExtent(),d=this.dataToPoint([l[0],u[0]]),v=this.dataToPoint([l[1],u[1]]),_=l[1]-l[0],b=u[1]-u[0];if(_&&b){var T=(v[0]-d[0])/_,z=(v[1]-d[1])/b,te=this._transform=[T,0,0,z,d[0]-l[0]*T,d[1]-u[0]*z];this._invTransform=(0,Ni.invert)([],te)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(t){var i=this.getAxis("x"),l=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&l.contain(l.toLocalCoord(t[1]))},n.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},n.prototype.dataToPoint=function(t,i,l){l=l||[];var u=t[0],d=t[1];if(this._transform&&null!=u&&isFinite(u)&&null!=d&&isFinite(d))return(0,pi.applyTransform)(l,t,this._transform);var v=this.getAxis("x"),_=this.getAxis("y");return l[0]=v.toGlobalCoord(v.dataToCoord(u,i)),l[1]=_.toGlobalCoord(_.dataToCoord(d,i)),l},n.prototype.clampData=function(t,i){var l=this.getAxis("x").scale,u=this.getAxis("y").scale,d=l.getExtent(),v=u.getExtent(),_=l.parse(t[0]),b=u.parse(t[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(d[0],d[1]),_),Math.max(d[0],d[1])),i[1]=Math.min(Math.max(Math.min(v[0],v[1]),b),Math.max(v[0],v[1])),i},n.prototype.pointToData=function(t,i){var l=[];if(this._invTransform)return(0,pi.applyTransform)(l,t,this._invTransform);var u=this.getAxis("x"),d=this.getAxis("y");return l[0]=u.coordToData(u.toLocalCoord(t[0]),i),l[1]=d.coordToData(d.toLocalCoord(t[1]),i),l},n.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},n.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),l=Math.min(t[0],t[1]),u=Math.min(i[0],i[1]),d=Math.max(t[0],t[1])-l,v=Math.max(i[0],i[1])-u;return new ao.Z(l,u,d,v)},n}(Do.Z);var ma=E(7428);const Jl=function(a){function n(t,i,l,u,d){var v=a.call(this,t,i,l)||this;return v.index=0,v.type=u||"value",v.position=d||"bottom",v}return(0,Zt.ZT)(n,a),n.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},n.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},n.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),i)},n.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},n}(ma.Z);function Pc(a,n,t){t=t||{};var i=a.coordinateSystem,l=n.axis,u={},d=l.getAxesOnZeroOf()[0],v=l.position,_=d?"onZero":v,b=l.dim,T=i.getRect(),z=[T.x,T.x+T.width,T.y,T.y+T.height],B={left:0,right:1,top:0,bottom:1,onZero:2},G=n.get("offset")||0,te="x"===b?[z[2]-G,z[3]+G]:[z[0]-G,z[1]+G];if(d){var se=d.toGlobalCoord(d.dataToCoord(0));te[B.onZero]=Math.max(Math.min(se,te[1]),te[0])}u.position=["y"===b?te[B[_]]:z[0],"x"===b?te[B[_]]:z[3]],u.rotation=Math.PI/2*("x"===b?0:1),u.labelDirection=u.tickDirection=u.nameDirection={top:-1,bottom:1,left:-1,right:1}[v],u.labelOffset=d?te[B[v]]-te[B.onZero]:0,n.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),y.retrieve(t.labelInside,n.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var ze=n.get(["axisLabel","rotate"]);return u.labelRotate="top"===_?-ze:ze,u.z2=1,u}function oh(a){return"cartesian2d"===a.get("coordinateSystem")}function $e(a){var n={xAxisModel:null,yAxisModel:null};return y.each(n,function(t,i){var l=i.replace(/Model$/,""),u=a.getReferringComponents(l,fr.C6).models[0];n[i]=u}),n}function Ee(a,n){return a.getCoordSysModel()===n}function rt(a,n,t,i){t.getAxesOnZeroOf=function(){return u?[u]:[]};var u,l=a[n],d=t.model,v=d.get(["axisLine","onZero"]),_=d.get(["axisLine","onZeroAxisIndex"]);if(v){if(null!=_)dt(l[_])&&(u=l[_]);else for(var b in l)if(l.hasOwnProperty(b)&&dt(l[b])&&!i[T(l[b])]){u=l[b];break}u&&(i[T(u)]=!0)}function T(z){return z.dim+"_"+z.index}}function dt(a){return a&&"category"!==a.type&&"time"!==a.type&&(0,Da.Yb)(a)}const mn=function(){function a(n,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ql,this._initCartesian(n,t,i),this.model=n}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(n,t){var i=this._axesMap;this._updateScale(n,this.model),(0,y.each)(i.x,function(u){(0,Da.Jk)(u.scale,u.model)}),(0,y.each)(i.y,function(u){(0,Da.Jk)(u.scale,u.model)});var l={};(0,y.each)(i.x,function(u){rt(i,"y",u,l)}),(0,y.each)(i.y,function(u){rt(i,"x",u,l)}),this.resize(this.model,t)},a.prototype.resize=function(n,t,i){var l=n.getBoxLayoutParams(),u=!i&&n.get("containLabel"),d=(0,Mi.ME)(l,{width:t.getWidth(),height:t.getHeight()});this._rect=d;var v=this._axesList;function _(){(0,y.each)(v,function(b){var T=b.isHorizontal(),z=T?[0,d.width]:[0,d.height],B=b.inverse?1:0;b.setExtent(z[B],z[1-B]),function(a,n){var t=a.getExtent(),i=t[0]+t[1];a.toGlobalCoord="x"===a.dim?function(l){return l+n}:function(l){return i-l+n},a.toLocalCoord="x"===a.dim?function(l){return l-n}:function(l){return i-l+n}}(b,T?d.x:d.y)})}_(),u&&((0,y.each)(v,function(b){if(!b.model.get(["axisLabel","inside"])){var T=(0,Da.Do)(b);if(T){var z=b.isHorizontal()?"height":"width",B=b.model.get(["axisLabel","margin"]);d[z]-=T[z]+B,"top"===b.position?d.y+=T.height+B:"left"===b.position&&(d.x+=T.width+B)}}}),_()),(0,y.each)(this._coordsList,function(b){b.calcAffineTransform()})},a.prototype.getAxis=function(n,t){var i=this._axesMap[n];if(null!=i)return i[t||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(n,t){if(null!=n&&null!=t)return this._coordsMap["x"+n+"y"+t];(0,y.isObject)(n)&&(t=n.yAxisIndex,n=n.xAxisIndex);for(var l=0,u=this._coordsList;l<u.length;l++)if(u[l].getAxis("x").index===n||u[l].getAxis("y").index===t)return u[l]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(n,t,i){var l=this._findConvertTarget(t);return l.cartesian?l.cartesian.dataToPoint(i):l.axis?l.axis.toGlobalCoord(l.axis.dataToCoord(i)):null},a.prototype.convertFromPixel=function(n,t,i){var l=this._findConvertTarget(t);return l.cartesian?l.cartesian.pointToData(i):l.axis?l.axis.coordToData(l.axis.toLocalCoord(i)):null},a.prototype._findConvertTarget=function(n){var v,_,t=n.seriesModel,i=n.xAxisModel||t&&t.getReferringComponents("xAxis",fr.C6).models[0],l=n.yAxisModel||t&&t.getReferringComponents("yAxis",fr.C6).models[0],u=n.gridModel;return t?(0,y.indexOf)(this._coordsList,v=t.coordinateSystem)<0&&(v=null):i&&l?v=this.getCartesian(i.componentIndex,l.componentIndex):i?_=this.getAxis("x",i.componentIndex):l?_=this.getAxis("y",l.componentIndex):u&&u.coordinateSystem===this&&(v=this._coordsList[0]),{cartesian:v,axis:_}},a.prototype.containPoint=function(n){var t=this._coordsList[0];if(t)return t.containPoint(n)},a.prototype._initCartesian=function(n,t,i){var l=this,u=this,d={left:!1,right:!1,top:!1,bottom:!1},v={x:{},y:{}},_={x:0,y:0};if(t.eachComponent("xAxis",b("x"),this),t.eachComponent("yAxis",b("y"),this),!_.x||!_.y)return this._axesMap={},void(this._axesList=[]);function b(T){return function(z,B){if(Ee(z,n)){var G=z.get("position");"x"===T?"top"!==G&&"bottom"!==G&&(G=d.bottom?"top":"bottom"):"left"!==G&&"right"!==G&&(G=d.left?"right":"left"),d[G]=!0;var te=new Jl(T,(0,Da.aG)(z),[0,0],z.get("type"),G);te.onBand="category"===te.type&&z.get("boundaryGap"),te.inverse=z.get("inverse"),z.axis=te,te.model=z,te.grid=u,te.index=B,u._axesList.push(te),v[T][B]=te,_[T]++}}}this._axesMap=v,(0,y.each)(v.x,function(T,z){(0,y.each)(v.y,function(B,G){var te="x"+z+"y"+G,se=new Os(te);se.master=l,se.model=n,l._coordsMap[te]=se,l._coordsList.push(se),se.addAxis(T),se.addAxis(B)})})},a.prototype._updateScale=function(n,t){function i(l,u){(0,y.each)((0,Da.PY)(l,u.dim),function(d){u.scale.unionExtentFromData(l,d)})}(0,y.each)(this._axesList,function(l){if(l.scale.setExtent(1/0,-1/0),"category"===l.type){var u=l.model.get("categorySortInfo");l.scale.setSortInfo(u)}}),n.eachSeries(function(l){if(oh(l)){var u=$e(l),d=u.xAxisModel,v=u.yAxisModel;if(!Ee(d,t)||!Ee(v,t))return;var _=this.getCartesian(d.componentIndex,v.componentIndex),b=l.getData(),T=_.getAxis("x"),z=_.getAxis("y");"list"===b.type&&(i(b,T),i(b,z))}},this)},a.prototype.getTooltipAxes=function(n){var t=[],i=[];return(0,y.each)(this.getCartesians(),function(l){var u=null!=n&&"auto"!==n?l.getAxis(n):l.getBaseAxis(),d=l.getOtherAxis(u);(0,y.indexOf)(t,u)<0&&t.push(u),(0,y.indexOf)(i,d)<0&&i.push(d)}),{baseAxes:t,otherAxes:i}},a.create=function(n,t){var i=[];return n.eachComponent("grid",function(l,u){var d=new a(l,n,t);d.name="grid_"+u,d.resize(l,t,!0),l.coordinateSystem=d,i.push(d)}),n.eachSeries(function(l){if(oh(l)){var u=$e(l),d=u.xAxisModel,v=u.yAxisModel,_=d.getCoordSysModel();l.coordinateSystem=_.coordinateSystem.getCartesian(d.componentIndex,v.componentIndex)}}),i},a.dimensions=Ql,a}();var ln=E(2321),tr=E(3246),Yr=E(774),ha=Math.PI,Si=function(){function a(n,t){this.group=new pr.Z,this.opt=t,this.axisModel=n,(0,y.defaults)(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new pr.Z({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return a.prototype.hasBuilder=function(n){return!!Oa[n]},a.prototype.add=function(n){Oa[n](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(n,t,i){var u,d,l=(0,Xt.wW)(t-n);return(0,Xt.mW)(l)?(d=i>0?"top":"bottom",u="center"):(0,Xt.mW)(l-ha)?(d=i>0?"bottom":"top",u="center"):(d="middle",u=l>0&&l<ha?i>0?"right":"left":i>0?"left":"right"),{rotation:l,textAlign:u,textVerticalAlign:d}},a.makeAxisEventDataBase=function(n){var t={componentType:n.mainType,componentIndex:n.componentIndex};return t[n.mainType+"Index"]=n.componentIndex,t},a.isLabelSilent=function(n){var t=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||t&&t.show)},a}(),Oa={axisLine:function(a,n,t,i){var l=n.get(["axisLine","show"]);if("auto"===l&&a.handleAutoShown&&(l=a.handleAutoShown("axisLine")),l){var u=n.axis.getExtent(),d=i.transform,v=[u[0],0],_=[u[1],0];d&&((0,pi.applyTransform)(v,v,d),(0,pi.applyTransform)(_,_,d));var b=(0,y.extend)({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),T=new tr.Z({subPixelOptimize:!0,shape:{x1:v[0],y1:v[1],x2:_[0],y2:_[1]},style:b,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1});T.anid="line",t.add(T);var z=n.get(["axisLine","symbol"]);if(null!=z){var B=n.get(["axisLine","symbolSize"]);"string"==typeof z&&(z=[z,z]),("string"==typeof B||"number"==typeof B)&&(B=[B,B]);var G=(0,dr.Cq)(n.get(["axisLine","symbolOffset"])||0,B),te=B[0],se=B[1];(0,y.each)([{rotate:a.rotation+Math.PI/2,offset:G[0],r:0},{rotate:a.rotation-Math.PI/2,offset:G[1],r:Math.sqrt((v[0]-_[0])*(v[0]-_[0])+(v[1]-_[1])*(v[1]-_[1]))}],function(Ae,ze){if("none"!==z[ze]&&null!=z[ze]){var Be=(0,dr.th)(z[ze],-te/2,-se/2,te,se,b.stroke,!0),We=Ae.r+Ae.offset;Be.attr({rotation:Ae.rotate,x:v[0]+We*Math.cos(a.rotation),y:v[1]-We*Math.sin(a.rotation),silent:!0,z2:11}),t.add(Be)}})}}},axisTickLabel:function(a,n,t,i){var l=function(a,n,t,i){var l=t.axis,u=t.getModel("axisTick"),d=u.get("show");if("auto"===d&&i.handleAutoShown&&(d=i.handleAutoShown("axisTick")),d&&!l.scale.isBlank()){for(var v=u.getModel("lineStyle"),_=i.tickDirection*u.get("length"),T=ql(l.getTicksCoords(),n.transform,_,(0,y.defaults)(v.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),z=0;z<T.length;z++)a.add(T[z]);return T}}(t,i,n,a),u=function(a,n,t,i){var l=t.axis;if((0,y.retrieve)(i.axisLabelShow,t.get(["axisLabel","show"]))&&!l.scale.isBlank()){var d=t.getModel("axisLabel"),v=d.get("margin"),_=l.getViewLabels(),b=((0,y.retrieve)(i.labelRotate,d.get("rotate"))||0)*ha/180,T=Si.innerTextLayout(i.rotation,b,i.labelDirection),z=t.getCategories&&t.getCategories(!0),B=[],G=Si.isLabelSilent(t),te=t.get("triggerEvent");return(0,y.each)(_,function(se,Ae){var ze="ordinal"===l.scale.type?l.scale.getRawOrdinalNumber(se.tickValue):se.tickValue,Be=se.formattedLabel,We=se.rawLabel,ut=d;if(z&&z[ze]){var mt=z[ze];(0,y.isObject)(mt)&&mt.textStyle&&(ut=new Yr.Z(mt.textStyle,d,t.ecModel))}var vt=ut.getTextColor()||t.get(["axisLine","lineStyle","color"]),At=l.dataToCoord(ze),Gt=new di.ZP({x:At,y:i.labelOffset+i.labelDirection*v,rotation:T.rotation,silent:G,z2:10+(se.level||0),style:(0,$n.Lr)(ut,{text:Be,align:ut.getShallow("align",!0)||T.textAlign,verticalAlign:ut.getShallow("verticalAlign",!0)||ut.getShallow("baseline",!0)||T.textVerticalAlign,fill:"function"==typeof vt?vt("category"===l.type?We:"value"===l.type?ze+"":ze,Ae):vt})});if(Gt.anid="label_"+ze,te){var on=Si.makeAxisEventDataBase(t);on.targetType="axisLabel",on.value=We,(0,Hr.A)(Gt).eventData=on}n.add(Gt),Gt.updateTransform(),B.push(Gt),a.add(Gt),Gt.decomposeTransform()}),B}}(t,i,n,a);if(function(a,n,t){if(!(0,Da.WY)(a.axis)){var i=a.get(["axisLabel","showMinLabel"]),l=a.get(["axisLabel","showMaxLabel"]),u=(n=n||[])[0],d=n[1],v=n[n.length-1],_=n[n.length-2],b=(t=t||[])[0],T=t[1],z=t[t.length-1],B=t[t.length-2];!1===i?(lo(u),lo(b)):Rs(u,d)&&(i?(lo(d),lo(T)):(lo(u),lo(b))),!1===l?(lo(v),lo(z)):Rs(_,v)&&(l?(lo(_),lo(B)):(lo(v),lo(z)))}}(n,u,l),function(a,n,t,i){var l=t.axis,u=t.getModel("minorTick");if(u.get("show")&&!l.scale.isBlank()){var d=l.getMinorTicksCoords();if(d.length)for(var v=u.getModel("lineStyle"),_=i*u.get("length"),b=(0,y.defaults)(v.getLineStyle(),(0,y.defaults)(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),T=0;T<d.length;T++)for(var z=ql(d[T],n.transform,_,b,"minorticks_"+T),B=0;B<z.length;B++)a.add(z[B])}}(t,i,n,a.tickDirection),n.get(["axisLabel","hideOverlap"])){var d=(0,Fn.VT)((0,y.map)(u,function(v){return{label:v,priority:v.z2,defaultAttr:{ignore:v.ignore}}}));(0,Fn.yl)(d)}},axisName:function(a,n,t,i){var l=(0,y.retrieve)(a.axisName,n.get("name"));if(l){var B,te,u=n.get("nameLocation"),d=a.nameDirection,v=n.getModel("nameTextStyle"),_=n.get("nameGap")||0,b=n.axis.getExtent(),T=b[0]>b[1]?-1:1,z=["start"===u?b[0]-T*_:"end"===u?b[1]+T*_:(b[0]+b[1])/2,Ol(u)?a.labelOffset+d*_:0],G=n.get("nameRotate");null!=G&&(G=G*ha/180),Ol(u)?B=Si.innerTextLayout(a.rotation,null!=G?G:a.rotation,d):(B=function(a,n,t,i){var u,d,l=(0,Xt.wW)(t-a),v=i[0]>i[1],_="start"===n&&!v||"start"!==n&&v;return(0,Xt.mW)(l-ha/2)?(d=_?"bottom":"top",u="center"):(0,Xt.mW)(l-1.5*ha)?(d=_?"top":"bottom",u="center"):(d="middle",u=l<1.5*ha&&l>ha/2?_?"left":"right":_?"right":"left"),{rotation:l,textAlign:u,textVerticalAlign:d}}(a.rotation,u,G||0,b),null!=(te=a.axisNameAvailableWidth)&&(te=Math.abs(te/Math.sin(B.rotation)),!isFinite(te)&&(te=null)));var se=v.getFont(),Ae=n.get("nameTruncate",!0)||{},ze=Ae.ellipsis,Be=(0,y.retrieve)(a.nameTruncateMaxWidth,Ae.maxWidth,te),We=new di.ZP({x:z[0],y:z[1],rotation:B.rotation,silent:Si.isLabelSilent(n),style:(0,$n.Lr)(v,{text:l,font:se,overflow:"truncate",width:Be,ellipsis:ze,fill:v.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:v.get("align")||B.textAlign,verticalAlign:v.get("verticalAlign")||B.textVerticalAlign}),z2:1});if(ln.setTooltipConfig({el:We,componentModel:n,itemName:l}),We.__fullText=l,We.anid="name",n.get("triggerEvent")){var ut=Si.makeAxisEventDataBase(n);ut.targetType="axisName",ut.name=l,(0,Hr.A)(We).eventData=ut}i.add(We),We.updateTransform(),t.add(We),We.decomposeTransform()}}};function lo(a){a&&(a.ignore=!0)}function Rs(a,n){var t=a&&a.getBoundingRect().clone(),i=n&&n.getBoundingRect().clone();if(t&&i){var l=Ni.identity([]);return Ni.rotate(l,l,-a.rotation),t.applyTransform(Ni.mul([],l,a.getLocalTransform())),i.applyTransform(Ni.mul([],l,n.getLocalTransform())),t.intersect(i)}}function Ol(a){return"middle"===a||"center"===a}function ql(a,n,t,i,l){for(var u=[],d=[],v=[],_=0;_<a.length;_++){var b=a[_].coord;d[0]=b,d[1]=0,v[0]=b,v[1]=t,n&&((0,pi.applyTransform)(d,d,n),(0,pi.applyTransform)(v,v,n));var T=new tr.Z({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:v[0],y2:v[1]},style:i,z2:2,autoBatch:!0,silent:!0});T.anid=l+"_"+a[_].tickValue,u.push(T)}return u}const vl=Si;function tc(a,n){return"all"===a||(0,y.isArray)(a)&&(0,y.indexOf)(a,n)>=0||a===n}function A0(a){var n=r4(a);if(n){var t=n.axisPointerModel,i=n.axis.scale,l=t.option,u=t.get("status"),d=t.get("value");null!=d&&(d=i.parse(d));var v=P0(t);null==u&&(l.status=v?"show":"hide");var _=i.getExtent().slice();_[0]>_[1]&&_.reverse(),(null==d||d>_[1])&&(d=_[1]),d<_[0]&&(d=_[0]),l.value=d,v&&(l.status=n.axis.scale.isBlank()?"hide":"show")}}function r4(a){var n=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[uh(a)]}function P0(a){return!!a.get(["handle","show"])}function uh(a){return a.type+"||"+a.id}var fo={};const lu=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){this.axisPointerClass&&A0(t),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,l,!0)},n.prototype.updateAxisPointer=function(t,i,l,u){this._doUpdateAxisPointerClass(t,l,!1)},n.prototype.remove=function(t,i){var l=this._axisPointer;l&&l.remove(i)},n.prototype.dispose=function(t,i){this._disposeAxisPointer(i),a.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(t,i,l){var u=n.getAxisPointerClass(this.axisPointerClass);if(u){var d=function(a){var n=r4(a);return n&&n.axisPointerModel}(t);d?(this._axisPointer||(this._axisPointer=new u)).render(t,d,i,l):this._disposeAxisPointer(i)}},n.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},n.registerAxisPointerClass=function(t,i){fo[t]=i},n.getAxisPointerClass=function(t){return t&&fo[t]},n.type="axis",n}(qt.Z);var L0=(0,fr.Yf)();function o4(a,n,t,i){var l=t.axis;if(!l.scale.isBlank()){var u=t.getModel("splitArea"),d=u.getModel("areaStyle"),v=d.get("color"),_=i.coordinateSystem.getRect(),b=l.getTicksCoords({tickModel:u,clamp:!0});if(b.length){var T=v.length,z=L0(a).splitAreaColors,B=y.createHashMap(),G=0;if(z)for(var te=0;te<b.length;te++){var se=z.get(b[te].tickValue);if(null!=se){G=(se+(T-1)*te)%T;break}}var Ae=l.toGlobalCoord(b[0].coord),ze=d.getAreaStyle();for(v=y.isArray(v)?v:[v],te=1;te<b.length;te++){var Be=l.toGlobalCoord(b[te].coord),We=void 0,ut=void 0,mt=void 0,vt=void 0;l.isHorizontal()?(ut=_.y,vt=_.height,Ae=(We=Ae)+(mt=Be-We)):(We=_.x,mt=_.width,Ae=(ut=Ae)+(vt=Be-ut));var At=b[te-1].tickValue;null!=At&&B.set(At,G),n.add(new ri.Z({anid:null!=At?"area_"+At:null,shape:{x:We,y:ut,width:mt,height:vt},style:y.defaults({fill:v[G]},ze),autoBatch:!0,silent:!0})),G=(G+1)%T}L0(a).splitAreaColors=B}}}function s4(a){L0(a).splitAreaColors=null}var P3=["axisLine","axisTickLabel","axisName"],L3=["splitArea","splitLine","minorSplitLine"],cu=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.axisPointerClass="CartesianAxisPointer",t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){this.group.removeAll();var d=this._axisGroup;if(this._axisGroup=new pr.Z,this.group.add(this._axisGroup),t.get("show")){var v=t.getCoordSysModel(),_=Pc(v,t),b=new vl(t,y.extend({handleAutoShown:function(z){for(var B=v.coordinateSystem.getCartesians(),G=0;G<B.length;G++){var te=B[G].getOtherAxis(t.axis).type;if("value"===te||"log"===te)return!0}return!1}},_));y.each(P3,b.add,b),this._axisGroup.add(b.getGroup()),y.each(L3,function(z){t.get([z,"show"])&&K8[z](this,this._axisGroup,t,v)},this),u&&"changeAxisOrder"===u.type&&u.isInitSort||ln.groupTransition(d,this._axisGroup,t),a.prototype.render.call(this,t,i,l,u)}},n.prototype.remove=function(){s4(this)},n.type="cartesianAxis",n}(lu),K8={splitLine:function(a,n,t,i){var l=t.axis;if(!l.scale.isBlank()){var u=t.getModel("splitLine"),d=u.getModel("lineStyle"),v=d.get("color");v=y.isArray(v)?v:[v];for(var _=i.coordinateSystem.getRect(),b=l.isHorizontal(),T=0,z=l.getTicksCoords({tickModel:u}),B=[],G=[],te=d.getLineStyle(),se=0;se<z.length;se++){var Ae=l.toGlobalCoord(z[se].coord);b?(B[0]=Ae,B[1]=_.y,G[0]=Ae,G[1]=_.y+_.height):(B[0]=_.x,B[1]=Ae,G[0]=_.x+_.width,G[1]=Ae);var ze=T++%v.length;n.add(new tr.Z({anid:null!=z[se].tickValue?"line_"+z[se].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:B[0],y1:B[1],x2:G[0],y2:G[1]},style:y.defaults({stroke:v[ze]},te),silent:!0}))}}},minorSplitLine:function(a,n,t,i){var l=t.axis,d=t.getModel("minorSplitLine").getModel("lineStyle"),v=i.coordinateSystem.getRect(),_=l.isHorizontal(),b=l.getMinorTicksCoords();if(b.length)for(var T=[],z=[],B=d.getLineStyle(),G=0;G<b.length;G++)for(var te=0;te<b[G].length;te++){var se=l.toGlobalCoord(b[G][te].coord);_?(T[0]=se,T[1]=v.y,z[0]=se,z[1]=v.y+v.height):(T[0]=v.x,T[1]=se,z[0]=v.x+v.width,z[1]=se),n.add(new tr.Z({anid:"minor_line_"+b[G][te].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:T[0],y1:T[1],x2:z[0],y2:z[1]},style:B,silent:!0}))}},splitArea:function(a,n,t,i){o4(a,n,t,i)}},Eo=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="xAxis",n}(cu),z0=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=Eo.type,t}return(0,Zt.ZT)(n,a),n.type="yAxis",n}(cu),z3=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="grid",t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new ri.Z({shape:t.coordinateSystem.getRect(),style:(0,y.defaults)({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(qt.Z),O0={offset:0};function ns(a){a.registerComponentView(z3),a.registerComponentModel(Hn),a.registerCoordinateSystem("cartesian2d",mn),Za(a,"x",mr,O0),Za(a,"y",mr,O0),a.registerComponentView(Eo),a.registerComponentView(z0),a.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}function vd(a){a.eachSeriesByType("radar",function(n){var t=n.getData(),i=[],l=n.coordinateSystem;if(l){var u=l.getIndicatorAxes();y.each(u,function(d,v){t.each(t.mapDimension(u[v].dim),function(_,b){i[b]=i[b]||[];var T=l.dataToPoint(_,v);i[b][v]=nc(T)?T:Il(l)})}),t.each(function(d){var v=y.find(i[d],function(_){return nc(_)})||Il(l);i[d].push(v.slice()),t.setItemLayout(d,i[d])})}})}function nc(a){return!isNaN(a[0])&&!isNaN(a[1])}function Il(a){return[a.cx,a.cy]}function I0(a){var n=a.polar;if(n){y.isArray(n)||(n=[n]);var t=[];y.each(n,function(i,l){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),a.radar=a.radar||[],y.isArray(a.radar)||(a.radar=[a.radar]),a.radar.push(i)):t.push(i)}),a.polar=t}y.each(a.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var Ms=E(7204);const O3=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=t.coordinateSystem,d=this.group,v=t.getData(),_=this._data;function b(B,G){var te=B.getItemVisual(G,"symbol")||"circle";if("none"!==te){var se=dr.zp(B.getItemVisual(G,"symbolSize")),Ae=dr.th(te,-1,-1,2,2),ze=B.getItemVisual(G,"symbolRotate")||0;return Ae.attr({style:{strokeNoScale:!0},z2:100,scaleX:se[0]/2,scaleY:se[1]/2,rotation:ze*Math.PI/180||0}),Ae}}function T(B,G,te,se,Ae,ze){te.removeAll();for(var Be=0;Be<G.length-1;Be++){var We=b(se,Ae);We&&(We.__dimIdx=Be,B[Be]?(We.setPosition(B[Be]),ln[ze?"initProps":"updateProps"](We,{x:G[Be][0],y:G[Be][1]},t,Ae)):We.setPosition(G[Be]),te.add(We))}}function z(B){return y.map(B,function(G){return[u.cx,u.cy]})}v.diff(_).add(function(B){var G=v.getItemLayout(B);if(G){var te=new Ms.Z,se=new Ht.Z,Ae={shape:{points:G}};te.shape.points=z(G),se.shape.points=z(G),lr.KZ(te,Ae,t,B),lr.KZ(se,Ae,t,B);var ze=new pr.Z,Be=new pr.Z;ze.add(se),ze.add(te),ze.add(Be),T(se.shape.points,G,Be,v,B,!0),v.setItemGraphicEl(B,ze)}}).update(function(B,G){var te=_.getItemGraphicEl(G),se=te.childAt(0),Ae=te.childAt(1),ze=te.childAt(2),Be={shape:{points:v.getItemLayout(B)}};!Be.shape.points||(T(se.shape.points,Be.shape.points,ze,v,B,!1),(0,lr.Zi)(Ae),(0,lr.Zi)(se),lr.D(se,Be,t),lr.D(Ae,Be,t),v.setItemGraphicEl(B,te))}).remove(function(B){d.remove(_.getItemGraphicEl(B))}).execute(),v.eachItemGraphicEl(function(B,G){var te=v.getItemModel(G),se=B.childAt(0),Ae=B.childAt(1),ze=B.childAt(2),Be=v.getItemVisual(G,"style"),We=Be.fill;d.add(B),se.useStyle(y.defaults(te.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:We})),(0,Xn.WO)(se,te,"lineStyle"),(0,Xn.WO)(Ae,te,"areaStyle");var ut=te.getModel("areaStyle"),mt=ut.isEmpty()&&ut.parentModel.isEmpty();Ae.ignore=mt,y.each(["emphasis","select","blur"],function(Gt){var on=te.getModel([Gt,"areaStyle"]),bn=on.isEmpty()&&on.parentModel.isEmpty();Ae.ensureState(Gt).ignore=bn&&mt}),Ae.useStyle(y.defaults(ut.getAreaStyle(),{fill:We,opacity:.7,decal:Be.decal}));var vt=te.getModel("emphasis"),At=vt.getModel("itemStyle").getItemStyle();ze.eachChild(function(Gt){if(Gt instanceof q.ZP){var on=Gt.style;Gt.useStyle(y.extend({image:on.image,x:on.x,y:on.y,width:on.width,height:on.height},Be))}else Gt.useStyle(Be),Gt.setColor(We),Gt.style.strokeNoScale=!0;Gt.ensureState("emphasis").style=y.clone(At);var yn=v.getStore().get(v.getDimensionIndex(Gt.__dimIdx),G);(null==yn||isNaN(yn))&&(yn=""),(0,$n.ni)(Gt,(0,$n.k3)(te),{labelFetcher:v.hostModel,labelDataIndex:G,labelDimIndex:Gt.__dimIdx,defaultText:yn,inheritColor:We,defaultOpacity:Be.opacity})}),(0,Xn.vF)(B,vt.get("focus"),vt.get("blurScope"))}),this._data=v},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(Fr.Z);var vo=E(3853);const Vo=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.hasSymbolVisual=!0,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wa(y.bind(this.getData,this),y.bind(this.getRawData,this))},n.prototype.getInitialData=function(t,i){return xa(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(t,i,l){var u=this.getData(),v=this.coordinateSystem.getIndicatorAxes(),_=this.getData().getName(t),b=""===_?this.name:_,T=(0,vo.jT)(this,t);return(0,vo.TX)("section",{header:b,sortBlocks:!0,blocks:y.map(v,function(z){var B=u.get(u.mapDimension(z.dim),t);return(0,vo.TX)("nameValue",{markerType:"subItem",markerColor:T,name:z.name,value:B,sortParam:B})})})},n.prototype.getTooltipPosition=function(t){if(null!=t)for(var i=this.getData(),l=this.coordinateSystem,u=i.getValues(y.map(l.dimensions,function(b){return i.mapDimension(b)}),t),d=0,v=u.length;d<v;d++)if(!isNaN(u[d])){var _=l.getIndicatorAxes();return l.coordToPoint(_[d].dataToCoord(u[d]),d)}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(Un.Z);var Rl=$i.value;function ol(a,n){return y.defaults({show:n},a)}const N0=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),l=this.get("scale"),u=this.get("axisLine"),d=this.get("axisTick"),v=this.get("axisLabel"),_=this.get("axisName"),b=this.get(["axisName","show"]),T=this.get(["axisName","formatter"]),z=this.get("axisNameGap"),B=this.get("triggerEvent"),G=y.map(this.get("indicator")||[],function(te){null!=te.max&&te.max>0&&!te.min?te.min=0:null!=te.min&&te.min<0&&!te.max&&(te.max=0);var se=_;null!=te.color&&(se=y.defaults({color:te.color},_));var Ae=y.merge(y.clone(te),{boundaryGap:t,splitNumber:i,scale:l,axisLine:u,axisTick:d,axisLabel:v,name:te.text,nameLocation:"end",nameGap:z,nameTextStyle:se,triggerEvent:B},!1);if(b||(Ae.name=""),"string"==typeof T){var ze=Ae.name;Ae.name=T.replace("{value}",null!=ze?ze:"")}else"function"==typeof T&&(Ae.name=T(Ae.name,Ae));var Be=new Yr.Z(Ae,null,this.ecModel);return y.mixin(Be,Gn.W.prototype),Be.mainType="radar",Be.componentIndex=this.componentIndex,Be},this);this._indicatorModels=G},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type="radar",n.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:y.merge({lineStyle:{color:"#bbb"}},Rl.axisLine),axisLabel:ol(Rl.axisLabel,!1),axisTick:ol(Rl.axisTick,!1),splitLine:ol(Rl.splitLine,!0),splitArea:ol(Rl.splitArea,!0),indicator:[]},n}(Cn.Z);var uu=E(4756),Lc=E(7316),c4=["axisLine","axisTickLabel","axisName"];const F0=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},n.prototype._buildAxes=function(t){var i=t.coordinateSystem,l=i.getIndicatorAxes(),u=y.map(l,function(d){return new vl(d.model,{position:[i.cx,i.cy],rotation:d.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});y.each(u,function(d){y.each(c4,d.add,d),this.group.add(d.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,l=i.getIndicatorAxes();if(l.length){var u=t.get("shape"),d=t.getModel("splitLine"),v=t.getModel("splitArea"),_=d.getModel("lineStyle"),b=v.getModel("areaStyle"),T=d.get("show"),z=v.get("show"),B=_.get("color"),G=b.get("color"),te=y.isArray(B)?B:[B],se=y.isArray(G)?G:[G],Ae=[],ze=[];if("circle"===u)for(var We=l[0].getTicksCoords(),ut=i.cx,mt=i.cy,vt=0;vt<We.length;vt++)T&&Ae[Be(Ae,te,vt)].push(new uu.Z({shape:{cx:ut,cy:mt,r:We[vt].coord}})),z&&vt<We.length-1&&ze[Be(ze,se,vt)].push(new Lc.Z({shape:{cx:ut,cy:mt,r0:We[vt].coord,r:We[vt+1].coord}}));else{var Gt,on=y.map(l,function(Vn,rr){var Sr=Vn.getTicksCoords();return Gt=null==Gt?Sr.length-1:Math.min(Sr.length-1,Gt),y.map(Sr,function(hr){return i.coordToPoint(hr.coord,rr)})}),bn=[];for(vt=0;vt<=Gt;vt++){for(var yn=[],On=0;On<l.length;On++)yn.push(on[On][vt]);yn[0]&&yn.push(yn[0].slice()),T&&Ae[Be(Ae,te,vt)].push(new Ht.Z({shape:{points:yn}})),z&&bn&&ze[Be(ze,se,vt-1)].push(new Ms.Z({shape:{points:yn.concat(bn)}})),bn=yn.slice().reverse()}}var kn=_.getLineStyle(),Bn=b.getAreaStyle();y.each(ze,function(Vn,rr){this.group.add(ln.mergePath(Vn,{style:y.defaults({stroke:"none",fill:se[rr%se.length]},Bn),silent:!0}))},this),y.each(Ae,function(Vn,rr){this.group.add(ln.mergePath(Vn,{style:y.defaults({fill:"none",stroke:te[rr%te.length]},kn),silent:!0}))},this)}function Be(Vn,rr,Sr){var hr=Sr%rr.length;return Vn[hr]=Vn[hr]||[],hr}},n.type="radar",n}(qt.Z),B1=function(a){function n(t,i,l){var u=a.call(this,t,i,l)||this;return u.type="value",u.angle=0,u.name="",u}return(0,Zt.ZT)(n,a),n}(ma.Z);var oo=E(2120),k0=E(1802);const gl=function(){function a(n,t,i){this.dimensions=[],this._model=n,this._indicatorAxes=(0,y.map)(n.getIndicatorModels(),function(l,u){var d="indicator_"+u,v=new B1(d,new oo.Z);return v.name=l.get("name"),v.model=l,l.axis=v,this.dimensions.push(d),v},this),this.resize(n,i)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(n,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(n),t)},a.prototype.coordToPoint=function(n,t){var l=this._indicatorAxes[t].angle;return[this.cx+n*Math.cos(l),this.cy-n*Math.sin(l)]},a.prototype.pointToData=function(n){var t=n[0]-this.cx,i=n[1]-this.cy,l=Math.sqrt(t*t+i*i);t/=l,i/=l;for(var v,u=Math.atan2(-i,t),d=1/0,_=-1,b=0;b<this._indicatorAxes.length;b++){var T=this._indicatorAxes[b],z=Math.abs(u-T.angle);z<d&&(v=T,_=b,d=z)}return[_,+(v&&v.coordToData(l))]},a.prototype.resize=function(n,t){var i=n.get("center"),l=t.getWidth(),u=t.getHeight(),d=Math.min(l,u)/2;this.cx=Xt.GM(i[0],l),this.cy=Xt.GM(i[1],u),this.startAngle=n.get("startAngle")*Math.PI/180;var v=n.get("radius");("string"==typeof v||"number"==typeof v)&&(v=[0,v]),this.r0=Xt.GM(v[0],d),this.r=Xt.GM(v[1],d),(0,y.each)(this._indicatorAxes,function(_,b){_.setExtent(this.r0,this.r);var T=this.startAngle+b*Math.PI*2/this._indicatorAxes.length;T=Math.atan2(Math.sin(T),Math.cos(T)),_.angle=T},this)},a.prototype.update=function(n,t){var i=this._indicatorAxes,l=this._model;(0,y.each)(i,function(v){v.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(v,_){if("radar"===v.get("coordinateSystem")&&n.getComponent("radar",v.get("radarIndex"))===l){var b=v.getData();(0,y.each)(i,function(T){T.scale.unionExtentFromData(b,b.mapDimension(T.dim))})}},this);var u=l.get("splitNumber");function d(v){var _=Math.pow(10,Math.floor(Math.log(v)/Math.LN10)),b=v/_;return 2===b?b=5:b*=2,b*_}(0,y.each)(i,function(v,_){var b=(0,Da.Xv)(v.scale,v.model).extent;(0,Da.Jk)(v.scale,v.model);var T=v.model,z=v.scale,B=(0,k0.hj)(z,T.get("min",!0)),G=(0,k0.hj)(z,T.get("max",!0)),te=z.getInterval();if(null!=B&&null!=G)z.setExtent(+B,+G),z.setInterval((G-B)/u);else if(null!=B){var se=void 0;do{z.setExtent(+B,se=B+te*u),z.setInterval(te),te=d(te)}while(se<b[1]&&isFinite(se)&&isFinite(b[1]))}else if(null!=G){var Ae=void 0;do{z.setExtent(Ae=G-te*u,+G),z.setInterval(te),te=d(te)}while(Ae>b[0]&&isFinite(Ae)&&isFinite(b[0]))}else z.getTicks().length-1>u&&(te=d(te)),se=Math.ceil(b[1]/te)*te,Ae=Xt.NM(se-te*u),z.setExtent(Ae,se),z.setInterval(te)})},a.prototype.convertToPixel=function(n,t,i){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(n,t,i){return console.warn("Not implemented."),null},a.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},a.create=function(n,t){var i=[];return n.eachComponent("radar",function(l){var u=new a(l,n,t);i.push(u),l.coordinateSystem=u}),n.eachSeriesByType("radar",function(l){"radar"===l.get("coordinateSystem")&&(l.coordinateSystem=i[l.get("radarIndex")||0])}),i},a.dimensions=[],a}();function rc(a){a.registerCoordinateSystem("radar",gl),a.registerComponentModel(N0),a.registerComponentView(F0),a.registerVisual({seriesType:"radar",reset:function(n){var t=n.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var B0=E(4955),Ns=E(2377),hu=E(1347),gd="\0_ec_interaction_mutex";function h4(a,n){return!!So(a)[n]}function So(a){return a[gd]||(a[gd]={})}function V1(a,n,t,i,l){a.pointerChecker&&a.pointerChecker(i,l.originX,l.originY)&&(Ns.sT(i.event),ic(a,n,t,i,l))}function ic(a,n,t,i,l){l.isAvailableBehavior=(0,y.bind)(ac,null,t,i),a.trigger(n,l)}function ac(a,n,t){var i=t[a];return!a||i&&(!(0,y.isString)(i)||n.event[i+"Key"])}hu.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});const Ki=function(a){function n(t){var i=a.call(this)||this;i._zr=t;var l=(0,y.bind)(i._mousedownHandler,i),u=(0,y.bind)(i._mousemoveHandler,i),d=(0,y.bind)(i._mouseupHandler,i),v=(0,y.bind)(i._mousewheelHandler,i),_=(0,y.bind)(i._pinchHandler,i);return i.enable=function(b,T){this.disable(),this._opt=(0,y.defaults)((0,y.clone)(T)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==b&&(b=!0),(!0===b||"move"===b||"pan"===b)&&(t.on("mousedown",l),t.on("mousemove",u),t.on("mouseup",d)),(!0===b||"scale"===b||"zoom"===b)&&(t.on("mousewheel",v),t.on("pinch",_))},i.disable=function(){t.off("mousedown",l),t.off("mousemove",u),t.off("mouseup",d),t.off("mousewheel",v),t.off("pinch",_)},i}return(0,Zt.ZT)(n,a),n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(t){this.pointerChecker=t},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(t){if(!(Ns.x1(t)||t.target&&t.target.draggable)){var i=t.offsetX,l=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,l)&&(this._x=i,this._y=l,this._dragging=!0)}},n.prototype._mousemoveHandler=function(t){if(this._dragging&&ac("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!h4(this._zr,"globalPan")){var i=t.offsetX,l=t.offsetY,u=this._x,d=this._y,v=i-u,_=l-d;this._x=i,this._y=l,this._opt.preventDefaultMouseMove&&Ns.sT(t.event),ic(this,"pan","moveOnMouseMove",t,{dx:v,dy:_,oldX:u,oldY:d,newX:i,newY:l,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(t){Ns.x1(t)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(t){var i=ac("zoomOnMouseWheel",t,this._opt),l=ac("moveOnMouseWheel",t,this._opt),u=t.wheelDelta,d=Math.abs(u),v=t.offsetX,_=t.offsetY;if(0!==u&&(i||l)){if(i){var b=d>3?1.4:d>1?1.2:1.1;V1(this,"zoom","zoomOnMouseWheel",t,{scale:u>0?b:1/b,originX:v,originY:_,isAvailableBehavior:null})}if(l){var z=Math.abs(u);V1(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(u>0?1:-1)*(z>3?.4:z>1?.15:.05),originX:v,originY:_,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(t){h4(this._zr,"globalPan")||V1(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},n}(B0.Z);function md(a,n,t){var i=a.target;i.x+=n,i.y+=t,i.dirty()}function yd(a,n,t,i){var l=a.target,u=a.zoomLimit,d=a.zoom=a.zoom||1;if(d*=n,u){var v=u.min||0;d=Math.max(Math.min(u.max||1/0,d),v)}var b=d/a.zoom;a.zoom=d,l.x-=(t-l.x)*(b-1),l.y-=(i-l.y)*(b-1),l.scaleX*=b,l.scaleY*=b,l.dirty()}var fu={axisPointer:1,tooltip:1,brush:1};function Qs(a,n,t){var i=n.getComponentByElement(a.topTarget),l=i&&i.coordinateSystem;return i&&i!==t&&!fu.hasOwnProperty(i.mainType)&&l&&l.model!==t}var _d=E(7301),ws=E(6017),H1=E(341),zc=E(4031),vh=["rect","circle","line","ellipse","polygon","polyline","path"],xd=y.createHashMap(vh),ga=y.createHashMap(vh.concat(["g"])),ph=y.createHashMap(vh.concat(["g"])),gh=(0,fr.Yf)();function Nl(a){var n=a.getItemStyle(),t=a.get("areaColor");return null!=t&&(n.fill=t),n}function co(a,n,t,i){var l=i.getModel("itemStyle"),u=i.getModel(["emphasis","itemStyle"]),d=i.getModel(["blur","itemStyle"]),v=i.getModel(["select","itemStyle"]),_=Nl(l),b=Nl(u),T=Nl(v),z=Nl(d),B=a.data;if(B){var G=B.getItemVisual(t,"style"),te=B.getItemVisual(t,"decal");a.isVisualEncodedByVisualMap&&G.fill&&(_.fill=G.fill),te&&(_.decal=(0,H1.I)(te,a.api))}n.setStyle(_),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=b,n.ensureState("select").style=T,n.ensureState("blur").style=z,(0,Xn.MA)(n)}function ps(a,n,t,i,l,u,d){var v=a.data,_=a.isGeo,b=v&&isNaN(v.get(v.mapDimension("value"),u)),T=v&&v.getItemLayout(u);if(_||b||T&&T.showLabel){var z=_?t:u,B=void 0;(!v||u>=0)&&(B=l);var G=d?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,$n.ni)(n,(0,$n.k3)(i),{labelFetcher:B,labelDataIndex:z,defaultText:t},G);var te=n.getTextContent();if(te&&(gh(te).ignore=te.ignore,n.textConfig&&d)){var se=n.getBoundingRect().clone();n.textConfig.layoutRect=se,n.textConfig.position=[(d[0]-se.x)/se.width*100+"%",(d[1]-se.y)/se.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function U1(a,n,t,i,l,u){a.data?a.data.setItemGraphicEl(u,n):(0,Hr.A)(n).eventData={componentType:"geo",componentIndex:l.componentIndex,geoIndex:l.componentIndex,name:t,region:i&&i.option||{}}}function gs(a,n,t,i,l){a.data||ln.setTooltipConfig({el:n,componentModel:l,itemName:t,itemTooltipOption:i.get("tooltip")})}function To(a,n,t,i,l){n.highDownSilentOnTouch=!!l.get("selectedMode");var u=i.getModel("emphasis"),d=u.get("focus");return(0,Xn.vF)(n,d,u.get("blurScope")),a.isGeo&&(0,Xn.th)(n,l,t),d}const ms=function(){function a(n){var t=new pr.Z;this.uid=(0,_a.Kr)("ec_map_draw"),this._controller=new Ki(n.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new pr.Z),t.add(this._svgGroup=new pr.Z)}return a.prototype.draw=function(n,t,i,l,u){var d="geo"===n.mainType,v=n.getData&&n.getData();d&&t.eachComponent({mainType:"series",subType:"map"},function(ze){!v&&ze.getHostGeoModel()===n&&(v=ze.getData())});var _=n.coordinateSystem,b=this._regionsGroup,T=this.group,z=_.getTransformInfo(),B=z.raw,G=z.roam;!b.childAt(0)||u?(T.x=G.x,T.y=G.y,T.scaleX=G.scaleX,T.scaleY=G.scaleY,T.dirty()):lr.D(T,G,n);var se=v&&v.getVisual("visualMeta")&&v.getVisual("visualMeta").length>0,Ae={api:i,geo:_,mapOrGeoModel:n,data:v,isVisualEncodedByVisualMap:se,isGeo:d,transformInfoRaw:B};"geoJSON"===_.resourceType?this._buildGeoJSON(Ae):"geoSVG"===_.resourceType&&this._buildSVG(Ae),this._updateController(n,t,i),this._updateMapSelectHandler(n,b,i,l)},a.prototype._buildGeoJSON=function(n){var t=this._regionsGroupByName=y.createHashMap(),i=y.createHashMap(),l=this._regionsGroup,u=n.transformInfoRaw,d=n.mapOrGeoModel,v=n.data,_=function(b){return[b[0]*u.scaleX+u.x,b[1]*u.scaleY+u.y]};l.removeAll(),y.each(n.geo.regions,function(b){var T=b.name,z=t.get(T),B=i.get(T)||{},G=B.dataIdx,te=B.regionModel;z||(z=t.set(T,new pr.Z),l.add(z),G=v?v.indexOfName(T):null,te=n.isGeo?d.getRegionModel(T):v?v.getItemModel(G):null,i.set(T,{dataIdx:G,regionModel:te}));var se=new _d.Z({segmentIgnoreThreshold:1,shape:{paths:[]}});z.add(se),y.each(b.geometries,function(ze){if("polygon"===ze.type){for(var Be=[],We=0;We<ze.exterior.length;++We)Be.push(_(ze.exterior[We]));for(se.shape.paths.push(new Ms.Z({segmentIgnoreThreshold:1,shape:{points:Be}})),We=0;We<(ze.interiors?ze.interiors.length:0);++We){for(var ut=ze.interiors[We],mt=[],vt=0;vt<ut.length;++vt)mt.push(_(ut[vt]));se.shape.paths.push(new Ms.Z({segmentIgnoreThreshold:1,shape:{points:mt}}))}}}),co(n,se,G,te),se instanceof zc.ZP&&(se.culling=!0);var Ae=_(b.getCenter());ps(n,se,T,te,d,G,Ae)}),t.each(function(b,T){var z=i.get(T),G=z.regionModel;U1(n,b,T,G,d,z.dataIdx),gs(n,b,T,G,d),To(n,b,T,G,d)},this)},a.prototype._buildSVG=function(n){var t=n.geo.map,i=n.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var l=this._svgDispatcherMap=y.createHashMap(),u=!1;y.each(this._svgGraphicRecord.named,function(d){var v=d.name,_=n.mapOrGeoModel,b=n.data,T=d.svgNodeTagLower,z=d.el,B=b?b.indexOfName(v):null,G=_.getRegionModel(v);null!=xd.get(T)&&z instanceof zc.ZP&&co(n,z,B,G),z instanceof zc.ZP&&(z.culling=!0),z.z2EmphasisLift=0,d.namedFrom||(null!=ph.get(T)&&ps(n,z,v,G,_,B,null),U1(n,z,v,G,_,B),gs(n,z,v,G,_),null==ga.get(T))||("self"===To(n,z,v,G,_)&&(u=!0),(l.get(v)||l.set(v,[])).push(z))},this),this._enableBlurEntireSVG(u,n)},a.prototype._enableBlurEntireSVG=function(n,t){if(n&&t.isGeo){var l=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(u){if(!u.isGroup){(0,Xn.MA)(u);var d=u.ensureState("blur").style||{};null==d.opacity&&null!=l&&(d.opacity=l),u.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(n,t){if(null==n)return[];var i=t.coordinateSystem;if("geoJSON"===i.resourceType){var l=this._regionsGroupByName;if(l){var u=l.get(n);return u?[u]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},a.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},a.prototype._useSVG=function(n){var t=ws.Z.getGeoResource(n);if(t&&"geoSVG"===t.type){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=n}},a.prototype._freeSVG=function(){var n=this._svgMapName;if(null!=n){var t=ws.Z.getGeoResource(n);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(n,t,i){var l=n.coordinateSystem,u=this._controller,d=this._controllerHost;d.zoomLimit=n.get("scaleLimit"),d.zoom=l.getZoom(),u.enable(n.get("roam")||!1);var v=n.mainType;function _(){var b={type:"geoRoam",componentType:v};return b[v+"Id"]=n.id,b}u.off("pan").on("pan",function(b){this._mouseDownFlag=!1,md(d,b.dx,b.dy),i.dispatchAction(y.extend(_(),{dx:b.dx,dy:b.dy}))},this),u.off("zoom").on("zoom",function(b){this._mouseDownFlag=!1,yd(d,b.scale,b.originX,b.originY),i.dispatchAction(y.extend(_(),{zoom:b.scale,originX:b.originX,originY:b.originY}))},this),u.setPointerChecker(function(b,T,z){return l.containPoint([T,z])&&!Qs(b,i,n)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var t=n.getTextContent();t&&(t.ignore=gh(t).ignore)})},a.prototype._updateMapSelectHandler=function(n,t,i,l){var u=this;t.off("mousedown"),t.off("click"),n.get("selectedMode")&&(t.on("mousedown",function(){u._mouseDownFlag=!0}),t.on("click",function(d){!u._mouseDownFlag||(u._mouseDownFlag=!1)}))},a}(),Po=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){if(!u||"mapToggleSelect"!==u.type||u.from!==this.uid){var d=this.group;if(d.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&u&&"geoRoam"===u.type&&this._mapDraw.resetForLabelLayout(),u&&"geoRoam"===u.type&&"series"===u.componentType&&u.seriesId===t.id)(v=this._mapDraw)&&d.add(v.group);else if(t.needsDrawMap){var v=this._mapDraw||new ms(l);d.add(v.group),v.draw(t,i,l,this,u),this._mapDraw=v}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,l)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(t,i,l){var u=t.originalData,d=this.group;u.each(u.mapDimension("value"),function(v,_){if(!isNaN(v)){var b=u.getItemLayout(_);if(b&&b.point){var T=b.point,z=b.offset,B=new uu.Z({style:{fill:t.getData().getVisual("style").fill},shape:{cx:T[0]+9*z,cy:T[1],r:3},silent:!0,z2:8+(z?0:Xn.zr+1)});if(!z){var G=t.mainSeries.getData(),te=u.getName(_),se=G.indexOfName(te),Ae=u.getItemModel(_),ze=Ae.getModel("label"),Be=G.getItemGraphicEl(se);(0,$n.ni)(B,(0,$n.k3)(Ae),{labelFetcher:{getFormattedLabel:function(We,ut){return t.getFormattedLabel(se,ut)}}}),B.disableLabelAnimation=!0,ze.get("position")||B.setTextConfig({position:"bottom"}),Be.onHoverStateChange=function(We){(0,Xn.Gl)(B,We)}}d.add(B)}}})},n.type="map",n}(Fr.Z),Y1=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(null!=i){var l=this.getData().getName(i),u=this.coordinateSystem,d=u.getRegion(l);return d&&u.dataToPoint(d.getCenter())}},t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t){for(var i=xa(this,{coordDimensions:["value"],encodeDefaulter:y.curry(Fo.Ss,this)}),l=y.createHashMap(),u=[],d=0,v=i.count();d<v;d++){var _=i.getName(d);l.set(_,!0)}var b=ws.Z.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return y.each(b.regions,function(T){var z=T.name;l.get(z)||u.push(z)}),i.appendValues([],u),i},n.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},n.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},n.prototype.formatTooltip=function(t,i,l){for(var u=this.getData(),d=this.getRawValue(t),v=u.getName(t),_=this.seriesGroup,b=[],T=0;T<_.length;T++){var z=_[T].originalData.indexOfName(v),B=u.mapDimension("value");isNaN(_[T].originalData.get(B,z))||b.push(_[T].name)}return(0,vo.TX)("section",{header:b.join(", "),noHeader:!b.length,blocks:[(0,vo.TX)("nameValue",{name:v,value:d})]})},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",l=(0,dr.th)(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return l.setStyle(t.itemStyle),l.style.stroke="none",i.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),l},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(Un.Z);function f4(a){var n={};a.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),l=i?"o"+i.id:"i"+t.getMapType();(n[l]=n[l]||[]).push(t)}),y.each(n,function(t,i){for(var l=function(a,n){var t={};return y.each(a,function(i){i.each(i.mapDimension("value"),function(l,u){var d="ec-"+i.getName(u);t[d]=t[d]||[],isNaN(l)||t[d].push(l)})}),a[0].map(a[0].mapDimension("value"),function(i,l){for(var u="ec-"+a[0].getName(l),d=0,v=1/0,_=-1/0,b=t[u].length,T=0;T<b;T++)v=Math.min(v,t[u][T]),_=Math.max(_,t[u][T]),d+=t[u][T];return 0===b?NaN:"min"===n?v:"max"===n?_:"average"===n?d/b:d})}(y.map(t,function(d){return d.getData()}),t[0].get("mapValueCalculation")),u=0;u<t.length;u++)t[u].originalData=t[u].getData();for(u=0;u<t.length;u++)t[u].seriesGroup=t,t[u].needsDrawMap=0===u&&!t[u].getHostGeoModel(),t[u].setData(l.cloneShallow()),t[u].mainSeries=t[0]})}function H0(a){var n={};a.eachSeriesByType("map",function(t){var i=t.getMapType();if(!t.getHostGeoModel()&&!n[i]){var l={};y.each(t.seriesGroup,function(d){var v=d.coordinateSystem,_=d.originalData;d.get("showLegendSymbol")&&a.getComponent("legend")&&_.each(_.mapDimension("value"),function(b,T){var z=_.getName(T),B=v.getRegion(z);if(B&&!isNaN(b)){var G=l[z]||0,te=v.dataToPoint(B.getCenter());l[z]=G+1,_.setItemLayout(T,{point:te,offset:G})}})});var u=t.getData();u.each(function(d){var v=u.getName(d),_=u.getItemLayout(d)||{};_.showLabel=!l[v],u.setItemLayout(d,_)}),n[i]=!0}})}var Sd=E(9736),mh=pi.applyTransform;function W1(a){var n=a.seriesModel;return n?n.coordinateSystem:null}const Oc=function(a){function n(t){var i=a.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new Sd.Z,i._rawTransformable=new Sd.Z,i.name=t,i}return(0,Zt.ZT)(n,a),n.prototype.setBoundingRect=function(t,i,l,u){return this._rect=new ao.Z(t,i,l,u),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(t,i,l,u){this._transformTo(t,i,l,u),this._viewRect=new ao.Z(t,i,l,u)},n.prototype._transformTo=function(t,i,l,u){var d=this.getBoundingRect(),v=this._rawTransformable;v.transform=d.calculateTransform(new ao.Z(t,i,l,u));var _=v.parent;v.parent=null,v.decomposeTransform(),v.parent=_,this._updateTransform()},n.prototype.setCenter=function(t){!t||(this._center=t,this._updateCenterAndZoom())},n.prototype.setZoom=function(t){t=t||1;var i=this.zoomLimit;i&&(null!=i.max&&(t=Math.min(i.max,t)),null!=i.min&&(t=Math.max(i.min,t))),this._zoom=t,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,l=this.getDefaultCenter(),u=this.getCenter(),d=this.getZoom();u=pi.applyTransform([],u,t),l=pi.applyTransform([],l,t),i.originX=u[0],i.originY=u[1],i.x=l[0]-u[0],i.y=l[1]-u[1],i.scaleX=i.scaleY=d,this._updateTransform()},n.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),Ni.copy(this.transform||(this.transform=[]),i.transform||Ni.create()),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],Ni.invert(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,l=new Sd.Z;return l.transform=i.transform,l.decomposeTransform(),{roam:{x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},n.prototype.dataToPoint=function(t,i,l){var u=i?this._rawTransform:this.transform;return l=l||[],u?mh(l,t,u):pi.copy(l,t)},n.prototype.pointToData=function(t){var i=this.invTransform;return i?mh([],t,i):[t[0],t[1]]},n.prototype.convertToPixel=function(t,i,l){var u=W1(i);return u===this?u.dataToPoint(l):null},n.prototype.convertFromPixel=function(t,i,l){var u=W1(i);return u===this?u.pointToData(l):null},n.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},n.dimensions=["x","y"],n}(Sd.Z);var U0={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},oc=["lng","lat"],Z1=function(a){function n(t,i,l){var u=a.call(this,t)||this;u.dimensions=oc,u.type="geo",u._nameCoordMap=y.createHashMap(),u.map=i;var d=ws.Z.load(i,l.nameMap,l.nameProperty),v=ws.Z.getGeoResource(i);u.resourceType=v?v.type:null;var _=U0[v.type];u._regionsMap=d.regionsMap,u._invertLongitute=_.invertLongitute,u.regions=d.regions,u.aspectScale=y.retrieve2(l.aspectScale,_.aspectScale);var b=d.boundingRect;return u.setBoundingRect(b.x,b.y,b.width,b.height),u}return(0,Zt.ZT)(n,a),n.prototype._transformTo=function(t,i,l,u){var d=this.getBoundingRect(),v=this._invertLongitute;d=d.clone(),v&&(d.y=-d.y-d.height);var _=this._rawTransformable;_.transform=d.calculateTransform(new ao.Z(t,i,l,u));var b=_.parent;_.parent=null,_.decomposeTransform(),_.parent=b,v&&(_.scaleY=-_.scaleY),this._updateTransform()},n.prototype.getRegion=function(t){return this._regionsMap.get(t)},n.prototype.getRegionByCoord=function(t){for(var i=this.regions,l=0;l<i.length;l++){var u=i[l];if("geoJSON"===u.type&&u.contain(t))return i[l]}},n.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},n.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},n.prototype.dataToPoint=function(t,i,l){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return Oc.prototype.dataToPoint.call(this,t,i,l)},n.prototype.convertToPixel=function(t,i,l){var u=Y0(i);return u===this?u.dataToPoint(l):null},n.prototype.convertFromPixel=function(t,i,l){var u=Y0(i);return u===this?u.pointToData(l):null},n}(Oc);function Y0(a){var n=a.geoModel,t=a.seriesModel;return n?n.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",fr.C6).models[0]||{}).coordinateSystem:null}y.mixin(Z1,Oc);const G0=Z1;function W0(a,n){var t=a.get("boundingCoords");if(null!=t){var i=t[0],l=t[1];isNaN(i[0])||isNaN(i[1])||isNaN(l[0])||isNaN(l[1])||this.setBoundingRect(i[0],i[1],l[0]-i[0],l[1]-i[1])}var B,G,te,u=this.getBoundingRect(),d=a.get("layoutCenter"),v=a.get("layoutSize"),_=n.getWidth(),b=n.getHeight(),T=u.width/u.height*this.aspectScale,z=!1;if(d&&v&&(B=[Xt.GM(d[0],_),Xt.GM(d[1],b)],G=Xt.GM(v,Math.min(_,b)),!isNaN(B[0])&&!isNaN(B[1])&&!isNaN(G)&&(z=!0)),z)te={},T>1?(te.width=G,te.height=G/T):(te.height=G,te.width=G*T),te.y=B[1]-te.height/2,te.x=B[0]-te.width/2;else{var se=a.getBoxLayoutParams();se.aspect=T,te=Mi.ME(se,{width:_,height:b})}this.setViewRect(te.x,te.y,te.width,te.height),this.setCenter(a.get("center")),this.setZoom(a.get("zoom"))}const Td=new(function(){function a(){this.dimensions=oc}return a.prototype.create=function(n,t){var i=[];n.eachComponent("geo",function(u,d){var v=u.get("map"),_=new G0(v+d,v,{nameMap:u.get("nameMap"),nameProperty:u.get("nameProperty"),aspectScale:u.get("aspectScale")});_.zoomLimit=u.get("scaleLimit"),i.push(_),u.coordinateSystem=_,_.model=u,_.resize=W0,_.resize(u,t)}),n.eachSeries(function(u){if("geo"===u.get("coordinateSystem")){var v=u.get("geoIndex")||0;u.coordinateSystem=i[v]}});var l={};return n.eachSeriesByType("map",function(u){if(!u.getHostGeoModel()){var d=u.getMapType();l[d]=l[d]||[],l[d].push(u)}}),y.each(l,function(u,d){var v=y.map(u,function(b){return b.get("nameMap")}),_=new G0(d,d,{nameMap:y.mergeAll(v),nameProperty:u[0].get("nameProperty"),aspectScale:u[0].get("aspectScale")});_.zoomLimit=y.retrieve.apply(null,y.map(u,function(b){return b.get("scaleLimit")})),i.push(_),_.resize=W0,_.resize(u[0],t),y.each(u,function(b){b.coordinateSystem=_,function(a,n){y.each(n.get("geoCoord"),function(t,i){a.addGeoCoord(i,t)})}(_,b)})}),i},a.prototype.getFilledRegions=function(n,t,i,l){for(var u=(n||[]).slice(),d=y.createHashMap(),v=0;v<u.length;v++)d.set(u[v].name,u[v]);var _=ws.Z.load(t,i,l);return y.each(_.regions,function(b){var T=b.name;!d.get(T)&&u.push({name:T})}),u},a}()),dn=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i,l){var u=ws.Z.getGeoResource(t.map);if(u&&"geoJSON"===u.type){var d=t.itemStyle=t.itemStyle||{};"color"in d||(d.color="#eee")}this.mergeDefaultAndTheme(t,l),fr.Cc(t,"label",["show"])},n.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=Td.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var l={};this._optionModelMap=y.reduce(i.regions||[],function(u,d){var v=d.name;return v&&(u.set(v,new Yr.Z(d,t,t.ecModel)),d.selected&&(l[v]=!0)),u},y.createHashMap()),i.selectedMap||(i.selectedMap=l)},n.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Yr.Z(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(t,i){var u=this.getRegionModel(t).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),d={name:t};return"function"==typeof u?(d.status=i,u(d)):"string"==typeof u?u.replace("{a}",null!=t?t:""):void 0},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.select=function(t){var i=this.option,l=i.selectedMode;l&&("multiple"!==l&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[t]=!0)},n.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},n.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},n.prototype.isSelected=function(t){var i=this.option.selectedMap;return!(!i||!i[t])},n.type="geo",n.layoutMode="box",n.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},n}(Cn.Z);function yh(a,n,t){var i=a.getZoom(),l=a.getCenter(),u=n.zoom,d=a.dataToPoint(l);if(null!=n.dx&&null!=n.dy&&(d[0]-=n.dx,d[1]-=n.dy,a.setCenter(a.pointToData(d))),null!=u){if(t){var v=t.min||0;u=Math.max(Math.min(i*u,t.max||1/0),v)/i}a.scaleX*=u,a.scaleY*=u;var T=(n.originY-a.y)*(u-1);a.x-=(n.originX-a.x)*(u-1),a.y-=T,a.updateTransform(),a.setCenter(a.pointToData(d)),a.setZoom(u*i)}return{center:a.getCenter(),zoom:a.getZoom()}}var Va=E(7401);const K0=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.focusBlurEnabled=!0,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i){this._api=i},n.prototype.render=function(t,i,l,u){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new ms(l));var d=this._mapDraw;d.draw(t,i,l,this,u),d.group.on("click",this._handleRegionClick,this),d.group.silent=t.get("silent"),this.group.add(d.group),this.updateSelectStatus(t,i,l)},n.prototype._handleRegionClick=function(t){var i;(0,Va.o)(t.target,function(l){return null!=(i=(0,Hr.A)(l).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},n.prototype.updateSelectStatus=function(t,i,l){var u=this;this._mapDraw.group.traverse(function(d){var v=(0,Hr.A)(d).eventData;if(v)return u._model.isSelected(v.name)?l.enterSelect(d):l.leaveSelect(d),!0})},n.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n}(qt.Z);function _h(a){function n(t,i){i.update="geo:updateSelectStatus",a.registerAction(i,function(l,u){var d={},v=[];return u.eachComponent({mainType:"geo",query:l},function(_){_[t](l.name),(0,y.each)(_.coordinateSystem.regions,function(z){d[z.name]=_.isSelected(z.name)||!1});var T=[];(0,y.each)(d,function(z,B){d[B]&&T.push(B)}),v.push({geoIndex:_.componentIndex,name:T})}),{selected:d,allSelected:v,name:l.name}})}a.registerCoordinateSystem("geo",Td),a.registerComponentModel(dn),a.registerComponentView(K0),n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i){var l=t.componentType||"series";i.eachComponent({mainType:l,query:t},function(u){var d=u.coordinateSystem;if("geo"===d.type){var v=yh(d,t,u.get("scaleLimit"));u.setCenter&&u.setCenter(v.center),u.setZoom&&u.setZoom(v.zoom),"series"===l&&(0,y.each)(u.seriesGroup,function(_){_.setCenter(v.center),_.setZoom(v.zoom)})}})})}var bh=E(4487);function p4(a,n){var t=a.isExpand?a.children:[],i=a.parentNode.children,l=a.hierNode.i?i[a.hierNode.i-1]:null;if(t.length){!function(a){for(var n=a.children,t=n.length,i=0,l=0;--t>=0;){var u=n[t];u.hierNode.prelim+=i,u.hierNode.modifier+=i,i+=u.hierNode.shift+(l+=u.hierNode.change)}}(a);var u=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;l?(a.hierNode.prelim=l.hierNode.prelim+n(a,l),a.hierNode.modifier=a.hierNode.prelim-u):a.hierNode.prelim=u}else l&&(a.hierNode.prelim=l.hierNode.prelim+n(a,l));a.parentNode.hierNode.defaultAncestor=function(a,n,t,i){if(n){for(var l=a,u=a,d=u.parentNode.children[0],v=n,_=l.hierNode.modifier,b=u.hierNode.modifier,T=d.hierNode.modifier,z=v.hierNode.modifier;v=K1(v),u=Ic(u),v&&u;){l=K1(l),d=Ic(d),l.hierNode.ancestor=a;var B=v.hierNode.prelim+z-u.hierNode.prelim-b+i(v,u);B>0&&(Ch(Th(v,a,t),a,B),b+=B,_+=B),z+=v.hierNode.modifier,b+=u.hierNode.modifier,_+=l.hierNode.modifier,T+=d.hierNode.modifier}v&&!K1(l)&&(l.hierNode.thread=v,l.hierNode.modifier+=z-_),u&&!Ic(d)&&(d.hierNode.thread=u,d.hierNode.modifier+=b-T,t=a)}return t}(a,l,a.parentNode.hierNode.defaultAncestor||i[0],n)}function $0(a){a.setLayout({x:a.hierNode.prelim+a.parentNode.hierNode.modifier},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function ml(a){return arguments.length?a:$1}function gu(a,n){return a-=Math.PI/2,{x:n*Math.cos(a),y:n*Math.sin(a)}}function K1(a){var n=a.children;return n.length&&a.isExpand?n[n.length-1]:a.hierNode.thread}function Ic(a){var n=a.children;return n.length&&a.isExpand?n[0]:a.hierNode.thread}function Th(a,n,t){return a.hierNode.ancestor.parentNode===n.parentNode?a.hierNode.ancestor:t}function Ch(a,n,t){var i=t/(n.hierNode.i-a.hierNode.i);n.hierNode.change-=i,n.hierNode.shift+=t,n.hierNode.modifier+=t,n.hierNode.prelim+=t,a.hierNode.change+=i}function $1(a,n){return a.parentNode===n.parentNode?1:2}var mu=E(9393),yu=function(){this.parentPoint=[],this.childPoints=[]},Rc=function(a){function n(t){return a.call(this,t)||this}return(0,Zt.ZT)(n,a),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new yu},n.prototype.buildPath=function(t,i){var l=i.childPoints,u=l.length,d=i.parentPoint,v=l[0],_=l[u-1];if(1===u)return t.moveTo(d[0],d[1]),void t.lineTo(v[0],v[1]);var b=i.orient,T="TB"===b||"BT"===b?0:1,z=1-T,B=(0,Xt.GM)(i.forkPosition,1),G=[];G[T]=d[T],G[z]=d[z]+(_[z]-d[z])*B,t.moveTo(d[0],d[1]),t.lineTo(G[0],G[1]),t.moveTo(v[0],v[1]),G[T]=v[T],t.lineTo(G[0],G[1]),G[T]=_[T],t.lineTo(G[0],G[1]),t.lineTo(_[0],_[1]);for(var te=1;te<u-1;te++){var se=l[te];t.moveTo(se[0],se[1]),G[T]=se[T],t.lineTo(G[0],G[1])}},n}(ce.ZP);function X0(a,n){var t=a.getItemLayout(n);return t&&!isNaN(t.x)&&!isNaN(t.y)}function Cd(a,n,t,i,l){var u=!t,d=a.tree.getNodeByDataIndex(n),v=d.getModel(),_=d.getVisual("style").fill,b=!1===d.isExpand&&0!==d.children.length?_:"#fff",T=a.tree.root,z=d.parentNode===T?d:d.parentNode||d,B=a.getItemGraphicEl(z.dataIndex),G=z.getLayout(),te=B?{x:B.__oldX,y:B.__oldY,rawX:B.__radialOldRawX,rawY:B.__radialOldRawY}:G,se=d.getLayout();u?((t=new _r(a,n,null,{symbolInnerColor:b,useNameLabel:!0})).x=te.x,t.y=te.y):t.updateData(a,n,null,{symbolInnerColor:b,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=se.rawX,t.__radialRawY=se.rawY,i.add(t),a.setItemGraphicEl(n,t),t.__oldX=t.x,t.__oldY=t.y,lr.D(t,{x:se.x,y:se.y},l);var Ae=t.getSymbolPath();if("radial"===l.get("layout")){var ze=T.children[0],Be=ze.getLayout(),We=ze.children.length,ut=void 0,mt=void 0;if(se.x===Be.x&&!0===d.isExpand){var vt={x:(ze.children[0].getLayout().x+ze.children[We-1].getLayout().x)/2,y:(ze.children[0].getLayout().y+ze.children[We-1].getLayout().y)/2};(ut=Math.atan2(vt.y-Be.y,vt.x-Be.x))<0&&(ut=2*Math.PI+ut),(mt=vt.x<Be.x)&&(ut-=Math.PI)}else(ut=Math.atan2(se.y-Be.y,se.x-Be.x))<0&&(ut=2*Math.PI+ut),0===d.children.length||0!==d.children.length&&!1===d.isExpand?(mt=se.x<Be.x)&&(ut-=Math.PI):(mt=se.x>Be.x)||(ut-=Math.PI);var At=mt?"left":"right",Gt=v.getModel("label"),on=Gt.get("rotate"),bn=on*(Math.PI/180),yn=Ae.getTextContent();yn&&(Ae.setTextConfig({position:Gt.get("position")||At,rotation:null==on?-ut:bn,origin:"center"}),yn.setStyle("verticalAlign","middle"))}var On=v.get(["emphasis","focus"]),kn="ancestor"===On?d.getAncestorsIndices():"descendant"===On?d.getDescendantIndices():null;kn&&((0,Hr.A)(t).focus=kn),function(a,n,t,i,l,u,d,v){var _=n.getModel(),b=a.get("edgeShape"),T=a.get("layout"),z=a.getOrient(),B=a.get(["lineStyle","curveness"]),G=a.get("edgeForkPosition"),te=_.getModel("lineStyle").getLineStyle(),se=i.__edge;if("curve"===b)n.parentNode&&n.parentNode!==t&&(se||(se=i.__edge=new bh.Z({shape:xu(T,z,B,l,l)})),lr.D(se,{shape:xu(T,z,B,u,d)},a));else if("polyline"===b&&"orthogonal"===T&&n!==t&&n.children&&0!==n.children.length&&!0===n.isExpand){for(var Ae=n.children,ze=[],Be=0;Be<Ae.length;Be++){var We=Ae[Be].getLayout();ze.push([We.x,We.y])}se||(se=i.__edge=new Rc({shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]],orient:z,forkPosition:G}})),lr.D(se,{shape:{parentPoint:[d.x,d.y],childPoints:ze}},a)}se&&(se.useStyle(y.defaults({strokeNoScale:!0,fill:null},te)),(0,Xn.WO)(se,_,"lineStyle"),(0,Xn.MA)(se),v.add(se))}(l,d,T,t,te,G,se,i),t.__edge&&(t.onHoverStateChange=function(Bn){if("blur"!==Bn){var Vn=d.parentNode&&a.getItemGraphicEl(d.parentNode.dataIndex);Vn&&Vn.hoverState===Xn.CX||(0,Xn.Gl)(t.__edge,Bn)}})}function _u(a,n,t,i,l){var d=Q0(n.tree.root,a),v=d.source,_=d.sourceLayout,b=n.getItemGraphicEl(a.dataIndex);if(b){var T=n.getItemGraphicEl(v.dataIndex),B=b.__edge||(!1===v.isExpand||1===v.children.length?T.__edge:void 0),G=i.get("edgeShape"),te=i.get("layout"),se=i.get("orient"),Ae=i.get(["lineStyle","curveness"]);B&&("curve"===G?lr.bX(B,{shape:xu(te,se,Ae,_,_),style:{opacity:0}},i,{cb:function(){t.remove(B)},removeOpt:l}):"polyline"===G&&"orthogonal"===i.get("layout")&&lr.bX(B,{shape:{parentPoint:[_.x,_.y],childPoints:[[_.x,_.y]]},style:{opacity:0}},i,{cb:function(){t.remove(B)},removeOpt:l}))}}function Q0(a,n){for(var i,t=n.parentNode===a?n:n.parentNode||n;null==(i=t.getLayout());)t=t.parentNode===a?t:t.parentNode||t;return{source:t,sourceLayout:i}}function po(a,n,t,i,l){var u=a.tree.getNodeByDataIndex(n),v=Q0(a.tree.root,u).sourceLayout,_={duration:l.get("animationDurationUpdate"),easing:l.get("animationEasingUpdate")};lr.bX(t,{x:v.x+1,y:v.y+1},l,{cb:function(){i.remove(t),a.setItemGraphicEl(n,null)},removeOpt:_}),t.fadeOut(null,{fadeLabel:!0,animation:_}),u.children.forEach(function(b){_u(b,a,i,l,_)}),_u(u,a,i,l,_)}function xu(a,n,t,i,l){var u,d,v,_,b,T,z,B;if("radial"===a){T=l.rawX,B=l.rawY;var G=gu(b=i.rawX,z=i.rawY),te=gu(b,z+(B-z)*t),se=gu(T,B+(z-B)*t),Ae=gu(T,B);return{x1:G.x||0,y1:G.y||0,x2:Ae.x||0,y2:Ae.y||0,cpx1:te.x||0,cpy1:te.y||0,cpx2:se.x||0,cpy2:se.y||0}}return b=i.x,z=i.y,T=l.x,B=l.y,("LR"===n||"RL"===n)&&(u=b+(T-b)*t,d=z,v=T+(b-T)*t,_=B),("TB"===n||"BT"===n)&&(u=b,d=z+(B-z)*t,v=T,_=B+(z-B)*t),{x1:b,y1:z,x2:T,y2:B,cpx1:u,cpy1:d,cpx2:v,cpy2:_}}const Mh=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t._mainGroup=new pr.Z,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i){this._controller=new Ki(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(t,i,l){var u=t.getData(),d=t.layoutInfo,v=this._mainGroup;"radial"===t.get("layout")?(v.x=d.x+d.width/2,v.y=d.y+d.height/2):(v.x=d.x,v.y=d.y),this._updateViewCoordSys(t),this._updateController(t,i,l);var b=this._data;u.diff(b).add(function(T){X0(u,T)&&Cd(u,T,null,v,t)}).update(function(T,z){var B=b.getItemGraphicEl(z);X0(u,T)?Cd(u,T,B,v,t):B&&po(b,z,B,v,t)}).remove(function(T){var z=b.getItemGraphicEl(T);z&&po(b,T,z,v,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&u.eachItemGraphicEl(function(T,z){T.off("click").on("click",function(){l.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:z})})}),this._data=u},n.prototype._updateViewCoordSys=function(t){var i=t.getData(),l=[];i.each(function(T){var z=i.getItemLayout(T);z&&!isNaN(z.x)&&!isNaN(z.y)&&l.push([+z.x,+z.y])});var u=[],d=[];mu.zk(l,u,d);var v=this._min,_=this._max;d[0]-u[0]==0&&(u[0]=v?v[0]:u[0]-1,d[0]=_?_[0]:d[0]+1),d[1]-u[1]==0&&(u[1]=v?v[1]:u[1]-1,d[1]=_?_[1]:d[1]+1);var b=t.coordinateSystem=new Oc;b.zoomLimit=t.get("scaleLimit"),b.setBoundingRect(u[0],u[1],d[0]-u[0],d[1]-u[1]),b.setCenter(t.get("center")),b.setZoom(t.get("zoom")),this.group.attr({x:b.x,y:b.y,scaleX:b.scaleX,scaleY:b.scaleY}),this._min=u,this._max=d},n.prototype._updateController=function(t,i,l){var u=this,d=this._controller,v=this._controllerHost,_=this.group;d.setPointerChecker(function(b,T,z){var B=_.getBoundingRect();return B.applyTransform(_.transform),B.contain(T,z)&&!Qs(b,l,t)}),d.enable(t.get("roam")),v.zoomLimit=t.get("scaleLimit"),v.zoom=t.coordinateSystem.getZoom(),d.off("pan").off("zoom").on("pan",function(b){md(v,b.dx,b.dy),l.dispatchAction({seriesId:t.id,type:"treeRoam",dx:b.dx,dy:b.dy})}).on("zoom",function(b){yd(v,b.scale,b.originX,b.originY),l.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:b.scale,originX:b.originX,originY:b.originY}),u._updateNodeAndLinkScale(t),l.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),l=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(u,d){u.setSymbolScale(l)})},n.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if("view"!==i.type)return 1;var l=this._nodeScaleRatio,u=i.scaleX||1;return((i.getZoom()-1)*l+1)/u},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n}(Fr.Z);var wd=E(4100),Fl=function(){function a(n,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=t}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(n,t,i){"function"==typeof n&&(i=t,t=n,n=null),y.isString(n=n||{})&&(n={order:n});var d,l=n.order||"preorder",u=this[n.attr||"children"];"preorder"===l&&(d=t.call(i,this));for(var v=0;!d&&v<u.length;v++)u[v].eachNode(n,t,i);"postorder"===l&&t.call(i,this)},a.prototype.updateDepthAndHeight=function(n){var t=0;this.depth=n;for(var i=0;i<this.children.length;i++){var l=this.children[i];l.updateDepthAndHeight(n+1),l.height>t&&(t=l.height)}this.height=t+1},a.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var t=0,i=this.children,l=i.length;t<l;t++){var u=i[t].getNodeById(n);if(u)return u}},a.prototype.contains=function(n){if(n===this)return!0;for(var t=0,i=this.children,l=i.length;t<l;t++){var u=i[t].contains(n);if(u)return u}},a.prototype.getAncestors=function(n){for(var t=[],i=n?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},a.prototype.getAncestorsIndices=function(){for(var n=[],t=this;t;)n.push(t.dataIndex),t=t.parentNode;return n.reverse(),n},a.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(t){n.push(t.dataIndex)}),n},a.prototype.getValue=function(n){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(n||"value"),this.dataIndex)},a.prototype.setLayout=function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,t)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(n){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(n)},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,t)},a.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,t=0;t<n.length;++t)if(n[t]===this)return t;return-1}return-1},a.prototype.isAncestorOf=function(n){for(var t=n.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},a.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},a}();const bu=function(){function a(n){this.type="tree",this._nodes=[],this.hostModel=n}return a.prototype.eachNode=function(n,t,i){this.root.eachNode(n,t,i)},a.prototype.getNodeByDataIndex=function(n){var t=this.data.getRawIndex(n);return this._nodes[t]},a.prototype.getNodeById=function(n){return this.root.getNodeById(n)},a.prototype.update=function(){for(var n=this.data,t=this._nodes,i=0,l=t.length;i<l;i++)t[i].dataIndex=-1;for(i=0,l=n.count();i<l;i++)t[n.getRawIndex(i)].dataIndex=i},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(n,t,i){var l=new a(t),u=[],d=1;!function v(T,z){var B=T.value;d=Math.max(d,y.isArray(B)?B.length:1),u.push(T);var G=new Fl((0,fr.U5)(T.name,""),l);z?function(a,n){a.parentNode!==n&&(n.children.push(a),a.parentNode=n)}(G,z):l.root=G,l._nodes.push(G);var te=T.children;if(te)for(var se=0;se<te.length;se++)v(te[se],G)}(n),l.root.updateDepthAndHeight(0);var _=(0,za.Z)(u,{coordDimensions:["value"],dimensionsCount:d}).dimensions,b=new ji.Z(_,t);return b.initData(u),i&&i(b),(0,wd.Z)({mainData:b,struct:l,structAttr:"tree"}),l.update(),l},a}();function Nc(a,n,t){if(a&&y.indexOf(n,a.type)>=0){var i=t.getData().tree.root,l=a.targetNode;if("string"==typeof l&&(l=i.getNodeById(l)),l&&i.contains(l))return{node:l};var u=a.targetNodeId;if(null!=u&&(l=i.getNodeById(u)))return{node:l}}}function kl(a){for(var n=[];a;)(a=a.parentNode)&&n.push(a);return n.reverse()}function yl(a,n){var t=kl(a);return y.indexOf(t,n)>=0}function wh(a,n){for(var t=[];a;){var i=a.dataIndex;t.push({name:a.name,dataIndex:i,value:n.getRawValue(i)}),a=a.parentNode}return t.reverse(),t}const X1=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},u=new Yr.Z(t.leaves||{},this,this.ecModel),d=bu.createTree(i,this,function(z){z.wrapMethod("getItemModel",function(B,G){var te=d.getNodeByDataIndex(G);return te&&te.children.length&&te.isExpand||(B.parentModel=u),B})}),_=0;d.eachNode("preorder",function(z){z.depth>_&&(_=z.depth)});var T=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:_;return d.root.eachNode("preorder",function(z){var B=z.hostTree.data.getRawDataItem(z.dataIndex);z.isExpand=B&&null!=B.collapsed?!B.collapsed:z.depth<=T}),d.data},n.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.formatTooltip=function(t,i,l){for(var u=this.getData().tree,d=u.root.children[0],v=u.getNodeByDataIndex(t),_=v.getValue(),b=v.name;v&&v!==d;)b=v.parentNode.name+"."+b,v=v.parentNode;return(0,vo.TX)("nameValue",{name:b,value:_,noValue:isNaN(_)||null==_})},n.prototype.getDataParams=function(t){var i=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=wh(l,this),i},n.type="series.tree",n.layoutMode="box",n.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(Un.Z);function Dh(a,n){for(var i,t=[a];i=t.pop();)if(n(i),i.isExpand){var l=i.children;if(l.length)for(var u=l.length-1;u>=0;u--)t.push(l[u])}}function Q1(a,n){a.eachSeriesByType("tree",function(t){!function(a,n){var t=function(a,n){return Mi.ME(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}(a,n);a.layoutInfo=t;var i=a.get("layout"),l=0,u=0,d=null;"radial"===i?(l=2*Math.PI,u=Math.min(t.height,t.width)/2,d=ml(function(We,ut){return(We.parentNode===ut.parentNode?1:2)/We.depth})):(l=t.width,u=t.height,d=ml());var v=a.getData().tree.root,_=v.children[0];if(_){(function(a){var n=a;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var i,l,t=[n];i=t.pop();)if(l=i.children,i.isExpand&&l.length)for(var d=l.length-1;d>=0;d--){var v=l[d];v.hierNode={defaultAncestor:null,ancestor:v,prelim:0,modifier:0,change:0,shift:0,i:d,thread:null},t.push(v)}})(v),function(a,n,t){for(var u,i=[a],l=[];u=i.pop();)if(l.push(u),u.isExpand){var d=u.children;if(d.length)for(var v=0;v<d.length;v++)i.push(d[v])}for(;u=l.pop();)n(u,t)}(_,p4,d),v.hierNode.modifier=-_.hierNode.prelim,Dh(_,$0);var b=_,T=_,z=_;Dh(_,function(We){var ut=We.getLayout().x;ut<b.getLayout().x&&(b=We),ut>T.getLayout().x&&(T=We),We.depth>z.depth&&(z=We)});var B=b===T?1:d(b,T)/2,G=B-b.getLayout().x,te=0,se=0,Ae=0,ze=0;if("radial"===i)te=l/(T.getLayout().x+B+G),se=u/(z.depth-1||1),Dh(_,function(We){var ut=gu(Ae=(We.getLayout().x+G)*te,ze=(We.depth-1)*se);We.setLayout({x:ut.x,y:ut.y,rawX:Ae,rawY:ze},!0)});else{var Be=a.getOrient();"RL"===Be||"LR"===Be?(se=u/(T.getLayout().x+B+G),te=l/(z.depth-1||1),Dh(_,function(We){ze=(We.getLayout().x+G)*se,We.setLayout({x:Ae="LR"===Be?(We.depth-1)*te:l-(We.depth-1)*te,y:ze},!0)})):("TB"===Be||"BT"===Be)&&(te=l/(T.getLayout().x+B+G),se=u/(z.depth-1||1),Dh(_,function(We){Ae=(We.getLayout().x+G)*te,We.setLayout({x:Ae,y:ze="TB"===Be?(We.depth-1)*se:u-(We.depth-1)*se},!0)}))}}}(t,n)})}function Su(a){a.eachSeriesByType("tree",function(n){var t=n.getData();t.tree.eachNode(function(l){var d=l.getModel().getModel("itemStyle").getItemStyle(),v=t.ensureUniqueItemVisual(l.dataIndex,"style");(0,y.extend)(v,d)})})}var J0=function(){},Eh=["treemapZoomToNode","treemapRender","treemapMove"],ks=E(4279);function Tu(a){var n=a.getData(),i={};n.tree.eachNode(function(l){for(var u=l;u&&u.depth>1;)u=u.parentNode;var d=(0,ks.i)(a.ecModel,u.name||u.dataIndex+"",i);l.setVisual("decal",d)})}function q0(a){var n=0;y.each(a.children,function(i){q0(i);var l=i.value;y.isArray(l)&&(l=l[0]),n+=l});var t=a.value;y.isArray(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=n),t<0&&(t=0),y.isArray(a.value)?a.value[0]=t:a.value=t}const e2=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.preventUsingHoverLayer=!0,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t,i){var l={name:t.name,children:t.data};q0(l);var u=t.levels||[],d=this.designatedVisualItemStyle={},v=new Yr.Z({itemStyle:d},this,i);u=t.levels=function(a,n){var t=(0,fr.kF)(n.get("color")),i=(0,fr.kF)(n.get(["aria","decal","decals"]));if(t){var l,u;y.each(a=a||[],function(v){var _=new Yr.Z(v),b=_.get("color"),T=_.get("decal");(_.get(["itemStyle","color"])||b&&"none"!==b)&&(l=!0),(_.get(["itemStyle","decal"])||T&&"none"!==T)&&(u=!0)});var d=a[0]||(a[0]={});return l||(d.color=t.slice()),!u&&i&&(d.decal=i.slice()),a}}(u,i);var _=y.map(u||[],function(z){return new Yr.Z(z,v,i)},this),b=bu.createTree(l,this,function(z){z.wrapMethod("getItemModel",function(B,G){var te=b.getNodeByDataIndex(G);return B.parentModel=(te?_[te.depth]:null)||v,B})});return b.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(t,i,l){var u=this.getData(),d=this.getRawValue(t),v=u.getName(t);return(0,vo.TX)("nameValue",{name:v,value:d})},n.prototype.getDataParams=function(t){var i=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=wh(l,this),i.treePathInfo=i.treeAncestors,i},n.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},y.extend(this.layoutInfo,t)},n.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=y.createHashMap(),this._idIndexMapCount=0);var l=i.get(t);return null==l&&i.set(t,l=this._idIndexMapCount++),l},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},n.prototype.enableAriaDecal=function(){Tu(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(Un.Z);var ys=E(3121);function Pd(a,n,t,i,l,u){var d=[[l?a:a-5,n],[a+t,n],[a+t,n+i],[l?a:a-5,n+i]];return!u&&d.splice(2,0,[a+t+5,n+i/2]),!l&&d.push([a,n+i/2]),d}function t2(a,n,t){(0,Hr.A)(a).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&wh(t,n)}}const Mu=function(){function a(n){this.group=new pr.Z,n.add(this.group)}return a.prototype.render=function(n,t,i,l){var u=n.getModel("breadcrumb"),d=this.group;if(d.removeAll(),u.get("show")&&i){var v=u.getModel("itemStyle"),_=v.getModel("textStyle"),b={pos:{left:u.get("left"),right:u.get("right"),top:u.get("top"),bottom:u.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:u.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,b,_),this._renderContent(n,b,v,_,l),Mi.p$(d,b.pos,b.box)}},a.prototype._prepare=function(n,t,i){for(var l=n;l;l=l.parentNode){var u=(0,fr.U5)(l.getModel().get("name"),""),d=i.getTextRect(u),v=Math.max(d.width+16,t.emptyItemWidth);t.totalWidth+=v+8,t.renderList.push({node:l,text:u,width:v})}},a.prototype._renderContent=function(n,t,i,l,u){for(var d=0,v=t.emptyItemWidth,_=n.get(["breadcrumb","height"]),b=Mi.lq(t.pos,t.box),T=t.totalWidth,z=t.renderList,B=z.length-1;B>=0;B--){var G=z[B],te=G.node,se=G.width,Ae=G.text;T>b.width&&(T-=se-v,se=v,Ae=null);var ze=new Ms.Z({shape:{points:Pd(d,0,se,_,B===z.length-1,0===B)},style:(0,y.defaults)(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new di.ZP({style:{text:Ae,fill:l.getTextColor(),font:l.getFont()}}),textConfig:{position:"inside"},z2:1e4*Xn.zr,onclick:(0,y.curry)(u,te)});ze.disableLabelAnimation=!0,this.group.add(ze),t2(ze,n,te),d+=se+8}},a.prototype.remove=function(){this.group.removeAll()},a}();var Ld=function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(n,t,i,l,u){return!this._elExistsMap[n.id]&&(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:t,duration:i,delay:l,easing:u}),!0)},a.prototype.finished=function(n){return this._finishedCallback=n,this},a.prototype.start=function(){for(var n=this,t=this._storage.length,i=function(){--t<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},l=0,u=this._storage.length;l<u;l++){var d=this._storage[l];d.el.animateTo(d.target,{duration:d.duration,delay:d.delay,easing:d.easing,setToFinal:!0,done:i,aborted:i})}return this},a}(),ef=E(1237),Ph=pr.Z,wu=ri.Z,Fc="upperLabel",sc=10*Xn.zr,nf=2*Xn.zr,a2=3*Xn.zr,is=(0,ef.Z)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),o2=function(a){var n=is(a);return n.stroke=n.fill=n.lineWidth=null,n},kc=(0,fr.Yf)();const l2=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){var d=i.findComponents({mainType:"series",subType:"treemap",query:u});if(!((0,y.indexOf)(d,t)<0)){this.seriesModel=t,this.api=l,this.ecModel=i;var _=Nc(u,["treemapZoomToNode","treemapRootToNode"],t),b=u&&u.type,T=t.layoutInfo,z=!this._oldTree,B=this._storage,G="treemapRootToNode"===b&&_&&B?{rootNodeGroup:B.nodeGroup[_.node.getRawIndex()],direction:u.direction}:null,te=this._giveContainerGroup(T),se=t.get("animation"),Ae=this._doRender(te,t,G);!se||z||b&&"treemapZoomToNode"!==b&&"treemapRootToNode"!==b?Ae.renderFinally():this._doAnimation(te,Ae,t,G),this._resetController(l),this._renderBreadcrumb(t,l,_)}},n.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new Ph,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},n.prototype._doRender=function(t,i,l){var u=i.getData().tree,d=this._oldTree,v={nodeGroup:[],background:[],content:[]},_={nodeGroup:[],background:[],content:[]},b=this._storage,T=[];function z(Ae,ze,Be,We){return function(a,n,t,i,l,u,d,v,_,b){if(d){var T=d.getLayout(),z=a.getData(),B=d.getModel();if(z.setItemGraphicEl(d.dataIndex,null),T&&T.isInView){var G=T.width,te=T.height,se=T.borderWidth,Ae=T.invisible,ze=d.getRawIndex(),Be=v&&v.getRawIndex(),We=d.viewChildren,ut=T.upperHeight,mt=We&&We.length,vt=B.getModel("itemStyle"),At=B.getModel(["emphasis","itemStyle"]),Gt=B.getModel(["blur","itemStyle"]),on=B.getModel(["select","itemStyle"]),bn=vt.get("borderRadius")||0,yn=Xi("nodeGroup",Ph);if(yn){if(_.add(yn),yn.x=T.x||0,yn.y=T.y||0,yn.markRedraw(),kc(yn).nodeWidth=G,kc(yn).nodeHeight=te,T.isAboveViewRoot)return yn;var On=Xi("background",wu,b,nf);On&&function(ea,Qi,Qa){var wa=(0,Hr.A)(Qi);if(wa.dataIndex=d.dataIndex,wa.seriesIndex=a.seriesIndex,Qi.setShape({x:0,y:0,width:G,height:te,r:bn}),Ae)Vr(Qi);else{Qi.invisible=!1;var Ra=d.getVisual("style"),No=Ra.stroke,As=o2(vt);As.fill=No;var $o=is(At);$o.fill=At.get("borderColor");var zl=is(Gt);zl.fill=Gt.get("borderColor");var Ac=is(on);Ac.fill=on.get("borderColor"),Qa?yi(Qi,No,Ra.opacity,{x:se,y:0,width:G-2*se,height:ut}):Qi.removeTextContent(),Qi.setStyle(As),Qi.ensureState("emphasis").style=$o,Qi.ensureState("blur").style=zl,Qi.ensureState("select").style=Ac,(0,Xn.MA)(Qi)}ea.add(Qi)}(yn,On,mt&&T.upperLabelHeight);var kn=B.get(["emphasis","focus"]),Bn=B.get(["emphasis","blurScope"]),Vn="ancestor"===kn?d.getAncestorsIndices():"descendant"===kn?d.getDescendantIndices():kn;if(mt)(0,Xn.Av)(yn)&&(0,Xn.Nj)(yn,!1),On&&((0,Xn.Nj)(On,!0),z.setItemGraphicEl(d.dataIndex,On),(0,Xn.Ib)(On,Vn,Bn));else{var rr=Xi("content",wu,b,a2);rr&&function(ea,Qi){var Qa=(0,Hr.A)(Qi);Qa.dataIndex=d.dataIndex,Qa.seriesIndex=a.seriesIndex;var wa=Math.max(G-2*se,0),Ra=Math.max(te-2*se,0);if(Qi.culling=!0,Qi.setShape({x:se,y:se,width:wa,height:Ra,r:bn}),Ae)Vr(Qi);else{Qi.invisible=!1;var No=d.getVisual("style"),As=No.fill,$o=o2(vt);$o.fill=As,$o.decal=No.decal;var zl=is(At),Ac=is(Gt),al=is(on);yi(Qi,As,No.opacity,null),Qi.setStyle($o),Qi.ensureState("emphasis").style=zl,Qi.ensureState("blur").style=Ac,Qi.ensureState("select").style=al,(0,Xn.MA)(Qi)}ea.add(Qi)}(yn,rr),On.disableMorphing=!0,On&&(0,Xn.Av)(On)&&(0,Xn.Nj)(On,!1),(0,Xn.Nj)(yn,!0),z.setItemGraphicEl(d.dataIndex,yn),(0,Xn.Ib)(yn,Vn,Bn)}return yn}}}function Vr(ea){!ea.invisible&&u.push(ea)}function yi(ea,Qi,Qa,wa){var Ra=B.getModel(wa?Fc:"label"),No=(0,fr.U5)(B.get("name"),null),As=Ra.getShallow("show");(0,$n.ni)(ea,(0,$n.k3)(B,wa?Fc:"label"),{defaultText:As?No:null,inheritColor:Qi,defaultOpacity:Qa,labelFetcher:a,labelDataIndex:d.dataIndex});var $o=ea.getTextContent();if($o){var zl=$o.style,Ac=(0,y.normalizeCssArray)(zl.padding||0);wa&&(ea.setTextConfig({layoutRect:wa}),$o.disableLabelLayout=!0),$o.beforeUpdate=function(){var F1=Math.max((wa?wa.width:ea.shape.width)-Ac[1]-Ac[3],0),n4=Math.max((wa?wa.height:ea.shape.height)-Ac[0]-Ac[2],0);(zl.width!==F1||zl.height!==n4)&&$o.setStyle({width:F1,height:n4})},zl.truncateMinChar=2,zl.lineOverflow="truncate",hi(zl,wa,T);var al=$o.getState("emphasis");hi(al?al.style:null,wa,T)}}function hi(ea,Qi,Qa){var wa=ea?ea.text:null;if(!Qi&&Qa.isLeafRoot&&null!=wa){var Ra=a.get("drillDownIcon",!0);ea.text=Ra?Ra+" "+wa:wa}}function Xi(ea,Qi,Qa,wa){var Ra=null!=Be&&t[ea][Be],No=l[ea];return Ra?(t[ea][Be]=null,function(ea,Qi){var Qa=ea[ze]={};Qi instanceof Ph?(Qa.oldX=Qi.x,Qa.oldY=Qi.y):Qa.oldShape=(0,y.extend)({},Qi.shape)}(No,Ra)):Ae||((Ra=new Qi)instanceof zc.ZP&&(Ra.z2=function(a,n){return a*sc+n}(Qa,wa)),function(ea,Qi){var Qa=ea[ze]={},wa=d.parentNode,Ra=Qi instanceof pr.Z;if(wa&&(!i||"drillDown"===i.direction)){var No=0,As=0,$o=l.background[wa.getRawIndex()];!i&&$o&&$o.oldShape&&(No=$o.oldShape.width,As=$o.oldShape.height),Ra?(Qa.oldX=0,Qa.oldY=As):Qa.oldShape={x:No,y:As,width:0,height:0}}Qa.fadein=!Ra}(No,Ra)),n[ea][ze]=Ra}}(i,_,b,l,v,T,Ae,ze,Be,We)}!function G(Ae,ze,Be,We,ut){function mt(At){return At.getId()}function vt(At,Gt){var on=null!=At?Ae[At]:null,bn=null!=Gt?ze[Gt]:null,yn=z(on,bn,Be,ut);yn&&G(on&&on.viewChildren||[],bn&&bn.viewChildren||[],yn,We,ut+1)}We?(ze=Ae,(0,y.each)(Ae,function(At,Gt){!At.isRemoved()&&vt(Gt,Gt)})):new ys.Z(ze,Ae,mt,mt).add(vt).update(vt).remove((0,y.curry)(vt,null)).execute()}(u.root?[u.root]:[],d&&d.root?[d.root]:[],t,u===d||!d,0);var Ae,ze,B=(ze={nodeGroup:[],background:[],content:[]},(Ae=b)&&(0,y.each)(Ae,function(Be,We){var ut=ze[We];(0,y.each)(Be,function(mt){mt&&(ut.push(mt),kc(mt).willDelete=!0)})}),ze);return this._oldTree=u,this._storage=_,{lastsForAnimation:v,willDeleteEls:B,renderFinally:function(){(0,y.each)(B,function(Ae){(0,y.each)(Ae,function(ze){ze.parent&&ze.parent.remove(ze)})}),(0,y.each)(T,function(Ae){Ae.invisible=!0,Ae.dirty()})}}},n.prototype._doAnimation=function(t,i,l,u){var d=l.get("animationDurationUpdate"),v=l.get("animationEasing"),_=((0,y.isFunction)(d)?0:d)||0,b=((0,y.isFunction)(v)?null:v)||"cubicOut",T=new Ld;(0,y.each)(i.willDeleteEls,function(z,B){(0,y.each)(z,function(G,te){if(!G.invisible){var Ae,se=G.parent,ze=kc(se);if(u&&"drillDown"===u.direction)Ae=se===u.rootNodeGroup?{shape:{x:0,y:0,width:ze.nodeWidth,height:ze.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Be=0,We=0;ze.willDelete||(Be=ze.nodeWidth/2,We=ze.nodeHeight/2),Ae="nodeGroup"===B?{x:Be,y:We,style:{opacity:0}}:{shape:{x:Be,y:We,width:0,height:0},style:{opacity:0}}}Ae&&T.add(G,Ae,_,0,b)}})}),(0,y.each)(this._storage,function(z,B){(0,y.each)(z,function(G,te){var se=i.lastsForAnimation[B][te],Ae={};!se||(G instanceof pr.Z?null!=se.oldX&&(Ae.x=G.x,Ae.y=G.y,G.x=se.oldX,G.y=se.oldY):(se.oldShape&&(Ae.shape=(0,y.extend)({},G.shape),G.setShape(se.oldShape)),se.fadein?(G.setStyle("opacity",0),Ae.style={opacity:1}):1!==G.style.opacity&&(Ae.style={opacity:1})),T.add(G,Ae,_,0,b))})},this),this._state="animating",T.finished((0,y.bind)(function(){this._state="ready",i.renderFinally()},this)).start()},n.prototype._resetController=function(t){var i=this._controller;i||((i=this._controller=new Ki(t.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",(0,y.bind)(this._onPan,this)),i.on("zoom",(0,y.bind)(this._onZoom,this)));var l=new ao.Z(0,0,t.getWidth(),t.getHeight());i.setPointerChecker(function(u,d,v){return l.contain(d,v)})},n.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},n.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var l=i.getLayout();if(!l)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x+t.dx,y:l.y+t.dy,width:l.width,height:l.height}})}},n.prototype._onZoom=function(t){var i=t.originX,l=t.originY;if("animating"!==this._state){var u=this.seriesModel.getData().tree.root;if(!u)return;var d=u.getLayout();if(!d)return;var v=new ao.Z(d.x,d.y,d.width,d.height),_=this.seriesModel.layoutInfo;i-=_.x,l-=_.y;var b=Ni.create();Ni.translate(b,b,[-i,-l]),Ni.scale(b,b,[t.scale,t.scale]),Ni.translate(b,b,[i,l]),v.applyTransform(b),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:v.x,y:v.y,width:v.width,height:v.height}})}},n.prototype._initEvents=function(t){var i=this;t.on("click",function(l){if("ready"===i._state){var u=i.seriesModel.get("nodeClick",!0);if(u){var d=i.findTarget(l.offsetX,l.offsetY);if(d){var v=d.node;if(v.getLayout().isLeafRoot)i._rootToNode(d);else if("zoomToNode"===u)i._zoomToNode(d);else if("link"===u){var _=v.hostTree.data.getItemModel(v.dataIndex),b=_.get("link",!0),T=_.get("target",!0)||"blank";b&&(0,Ji.MI)(b,T)}}}}},this)},n.prototype._renderBreadcrumb=function(t,i,l){var u=this;l||(l=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(l={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Mu(this.group))).render(t,i,l.node,function(d){"animating"!==u._state&&(yl(t.getViewRoot(),d)?u._rootToNode({node:d}):u._zoomToNode({node:d}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},n.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},n.prototype.findTarget=function(t,i){var l;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var v=this._storage.background[d.getRawIndex()];if(v){var _=v.transformCoordToLocal(t,i),b=v.shape;if(!(b.x<=_[0]&&_[0]<=b.x+b.width&&b.y<=_[1]&&_[1]<=b.y+b.height))return!1;l={node:d,offsetX:_[0],offsetY:_[1]}}},this),l},n.type="treemap",n}(Fr.Z);var Eu=y.each,b4=y.isObject,rf=function(){function a(n){var t=n.mappingMethod,i=n.type,l=this.option=y.clone(n);this.type=i,this.mappingMethod=t,this._normalizeData=zu[t];var u=a.visualHandlers[i];this.applyVisual=u.applyVisual,this.getColorMapper=u.getColorMapper,this._normalizedToVisual=u._normalizedToVisual[t],"piecewise"===t?(c2(l),function(a){var n=a.pieceList;a.hasSpecialVisual=!1,y.each(n,function(t,i){t.originIndex=i,null!=t.visual&&(a.hasSpecialVisual=!0)})}(l)):"category"===t?l.categories?function(a){var n=a.categories,t=a.categoryMap={},i=a.visual;if(Eu(n,function(d,v){t[d]=v}),!y.isArray(i)){var l=[];y.isObject(i)?Eu(i,function(d,v){var _=t[v];l[null!=_?_:-1]=d}):l[-1]=i,i=Rd(a,l)}for(var u=n.length-1;u>=0;u--)null==i[u]&&(delete t[n[u]],n.pop())}(l):c2(l,!0):(y.assert("linear"!==t||l.dataExtent),c2(l))}return a.prototype.mapValueToVisual=function(n){var t=this._normalizeData(n);return this._normalizedToVisual(t,n)},a.prototype.getNormalizer=function(){return y.bind(this._normalizeData,this)},a.listVisualTypes=function(){return y.keys(a.visualHandlers)},a.isValidType=function(n){return a.visualHandlers.hasOwnProperty(n)},a.eachVisual=function(n,t,i){y.isObject(n)?y.each(n,t,i):t.call(i,n)},a.mapVisual=function(n,t,i){var l,u=y.isArray(n)?[]:y.isObject(n)?{}:(l=!0,null);return a.eachVisual(n,function(d,v){var _=t.call(i,d,v);l?u=_:u[v]=_}),u},a.retrieveVisuals=function(n){var i,t={};return n&&Eu(a.visualHandlers,function(l,u){n.hasOwnProperty(u)&&(t[u]=n[u],i=!0)}),i?t:null},a.prepareVisualTypes=function(n){if(y.isArray(n))n=n.slice();else{if(!b4(n))return[];var t=[];Eu(n,function(i,l){t.push(l)}),n=t}return n.sort(function(i,l){return"color"===l&&"color"!==i&&0===i.indexOf("color")?1:-1}),n},a.dependsOn=function(n,t){return"color"===t?!(!n||0!==n.indexOf(t)):n===t},a.findPieceIndex=function(n,t,i){for(var l,u=1/0,d=0,v=t.length;d<v;d++){var _=t[d].value;if(null!=_){if(_===n||"string"==typeof _&&_===n+"")return d;i&&B(_,d)}}for(d=0,v=t.length;d<v;d++){var b=t[d],T=b.interval,z=b.close;if(T){if(T[0]===-1/0){if(Lh(z[1],n,T[1]))return d}else if(T[1]===1/0){if(Lh(z[0],T[0],n))return d}else if(Lh(z[0],T[0],n)&&Lh(z[1],n,T[1]))return d;i&&B(T[0],d),i&&B(T[1],d)}}if(i)return n===1/0?t.length-1:n===-1/0?0:l;function B(G,te){var se=Math.abs(G-n);se<u&&(u=se,l=te)}},a.visualHandlers={color:{applyVisual:Pu("color"),getColorMapper:function(){var n=this.option;return y.bind("category"===n.mappingMethod?function(t,i){return!i&&(t=this._normalizeData(t)),Ds.call(this,t)}:function(t,i,l){var u=!!l;return!i&&(t=this._normalizeData(t)),l=k.fastLerp(t,n.parsedVisual,l),u?l:k.stringify(l,"rgba")},this)},_normalizedToVisual:{linear:function(n){return k.stringify(k.fastLerp(n,this.option.parsedVisual),"rgba")},category:Ds,piecewise:function(n,t){var i=Id.call(this,t);return null==i&&(i=k.stringify(k.fastLerp(n,this.option.parsedVisual),"rgba")),i},fixed:xl}},colorHue:Od(function(n,t){return k.modifyHSL(n,t)}),colorSaturation:Od(function(n,t){return k.modifyHSL(n,null,t)}),colorLightness:Od(function(n,t){return k.modifyHSL(n,null,null,t)}),colorAlpha:Od(function(n,t){return k.modifyAlpha(n,t)}),decal:{applyVisual:Pu("decal"),_normalizedToVisual:{linear:null,category:Ds,piecewise:null,fixed:null}},opacity:{applyVisual:Pu("opacity"),_normalizedToVisual:Lu([0,1])},liftZ:{applyVisual:Pu("liftZ"),_normalizedToVisual:{linear:xl,category:xl,piecewise:xl,fixed:xl}},symbol:{applyVisual:function(n,t,i){i("symbol",this.mapValueToVisual(n))},_normalizedToVisual:{linear:af,category:Ds,piecewise:function(n,t){var i=Id.call(this,t);return null==i&&(i=af.call(this,n)),i},fixed:xl}},symbolSize:{applyVisual:Pu("symbolSize"),_normalizedToVisual:Lu([0,1])}},a}();function c2(a,n){var t=a.visual,i=[];y.isObject(t)?Eu(t,function(u){i.push(u)}):null!=t&&i.push(t),!n&&1===i.length&&!{color:1,symbol:1}.hasOwnProperty(a.type)&&(i[1]=i[0]),Rd(a,i)}function Od(a){return{applyVisual:function(n,t,i){var l=this.mapValueToVisual(n);i("color",a(t("color"),l))},_normalizedToVisual:Lu([0,1])}}function af(a){var n=this.option.visual;return n[Math.round((0,Xt.NU)(a,[0,1],[0,n.length-1],!0))]||{}}function Pu(a){return function(n,t,i){i(a,this.mapValueToVisual(n))}}function Ds(a){var n=this.option.visual;return n[this.option.loop&&-1!==a?a%n.length:a]}function xl(){return this.option.visual[0]}function Lu(a){return{linear:function(n){return(0,Xt.NU)(n,a,this.option.visual,!0)},category:Ds,piecewise:function(n,t){var i=Id.call(this,t);return null==i&&(i=(0,Xt.NU)(n,a,this.option.visual,!0)),i},fixed:xl}}function Id(a){var n=this.option,t=n.pieceList;if(n.hasSpecialVisual){var l=t[rf.findPieceIndex(a,t)];if(l&&l.visual)return l.visual[this.type]}}function Rd(a,n){return a.visual=n,"color"===a.type&&(a.parsedVisual=y.map(n,function(t){return k.parse(t)})),n}var zu={linear:function(a){return(0,Xt.NU)(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var n=this.option.pieceList,t=rf.findPieceIndex(a,n,!0);if(null!=t)return(0,Xt.NU)(t,[0,n.length-1],[0,1],!0)},category:function(a){var n=this.option.categories?this.option.categoryMap[a]:a;return null==n?-1:n},fixed:y.noop};function Lh(a,n,t){return a?n<=t:n<t}const Ho=rf;var Fd=(0,fr.Yf)();const u2={seriesType:"treemap",reset:function(a){var t=a.getData().tree.root;t.isRemoved()||S4(t,{},a.getViewRoot().getAncestors(),a)}};function S4(a,n,t,i){var l=a.getModel(),u=a.getLayout(),d=a.hostTree.data;if(u&&!u.invisible&&u.isInView){var B,v=l.getModel("itemStyle"),_=function(a,n,t){var i=(0,y.extend)({},n),l=t.designatedVisualItemStyle;return(0,y.each)(["color","colorAlpha","colorSaturation"],function(u){l[u]=n[u];var d=a.get(u);l[u]=null,null!=d&&(i[u]=d)}),i}(v,n,i),b=d.ensureUniqueItemVisual(a.dataIndex,"style"),T=v.get("borderColor"),z=v.get("borderColorSaturation");null!=z&&(T=function(a,n){return null!=n?(0,k.modifyHSL)(n,null,null,a):null}(z,B=kd(_))),b.stroke=T;var G=a.viewChildren;if(G&&G.length){var te=function(a,n,t,i,l,u){if(u&&u.length){var d=sf(n,"color")||null!=l.color&&"none"!==l.color&&(sf(n,"colorAlpha")||sf(n,"colorSaturation"));if(d){var v=n.get("visualMin"),_=n.get("visualMax"),b=t.dataExtent.slice();null!=v&&v<b[0]&&(b[0]=v),null!=_&&_>b[1]&&(b[1]=_);var T=n.get("colorMappingBy"),z={type:d.name,dataExtent:b,visual:d.range};"color"!==z.type||"index"!==T&&"id"!==T?z.mappingMethod="linear":(z.mappingMethod="category",z.loop=!0);var B=new Ho(z);return Fd(B).drColorMappingBy=T,B}}}(0,l,u,0,_,G);(0,y.each)(G,function(se,Ae){if(se.depth>=t.length||se===t[se.depth]){var ze=function(a,n,t,i,l,u){var d=(0,y.extend)({},n);if(l){var v=l.type,_="color"===v&&Fd(l).drColorMappingBy,b="index"===_?i:"id"===_?u.mapIdToIndex(t.getId()):t.getValue(a.get("visualDimension"));d[v]=l.mapValueToVisual(b)}return d}(l,_,se,Ae,te,i);S4(se,ze,t,i)}})}else B=kd(_),b.fill=B}}function kd(a){var n=zh(a,"color");if(n){var t=zh(a,"colorAlpha"),i=zh(a,"colorSaturation");return i&&(n=(0,k.modifyHSL)(n,null,null,i)),t&&(n=(0,k.modifyAlpha)(n,t)),n}}function zh(a,n){var t=a[n];if(null!=t&&"none"!==t)return t}function sf(a,n){var t=a.get(n);return(0,y.isArray)(t)&&t.length?{name:n,range:t}:null}var Iu=Math.max,lf=Math.min,d2=y.retrieve,cf=y.each,lc=["itemStyle","borderWidth"],uf=["itemStyle","gapWidth"],hf=["upperLabel","show"],Bd=["upperLabel","height"];const C4={seriesType:"treemap",reset:function(a,n,t,i){var l=t.getWidth(),u=t.getHeight(),d=a.option,v=Mi.ME(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),_=d.size||[],b=(0,Xt.GM)(d2(v.width,_[0]),l),T=(0,Xt.GM)(d2(v.height,_[1]),u),z=i&&i.type,G=Nc(i,["treemapZoomToNode","treemapRootToNode"],a),te="treemapRender"===z||"treemapMove"===z?i.rootRect:null,se=a.getViewRoot(),Ae=kl(se);if("treemapMove"!==z){var ze="treemapZoomToNode"===z?function(a,n,t,i,l){var u=(n||{}).node,d=[i,l];if(!u||u===t)return d;for(var v,_=i*l,b=_*a.option.zoomToNodeRatio;v=u.parentNode;){for(var T=0,z=v.children,B=0,G=z.length;B<G;B++)T+=z[B].getValue();var te=u.getValue();if(0===te)return d;b*=T/te;var se=v.getModel(),Ae=se.get(lc);(b+=4*Ae*Ae+(3*Ae+Math.max(Ae,ff(se)))*Math.pow(b,.5))>Xt.YM&&(b=Xt.YM),u=v}b<_&&(b=_);var Be=Math.pow(b/_,.5);return[i*Be,l*Be]}(a,G,se,b,T):te?[te.width,te.height]:[b,T],Be=d.sort;Be&&"asc"!==Be&&"desc"!==Be&&(Be="desc");var We={squareRatio:d.squareRatio,sort:Be,leafDepth:d.leafDepth};se.hostTree.clearLayouts();var ut={x:0,y:0,width:ze[0],height:ze[1],area:ze[0]*ze[1]};se.setLayout(ut),bl(se,We,!1,0),ut=se.getLayout(),cf(Ae,function(vt,At){var Gt=(Ae[At+1]||se).getValue();vt.setLayout(y.extend({dataExtent:[Gt,Gt],borderWidth:0,upperHeight:0},ut))})}var mt=a.getData().tree.root;mt.setLayout(function(a,n,t){if(n)return{x:n.x,y:n.y};var i={x:0,y:0};if(!t)return i;var l=t.node,u=l.getLayout();if(!u)return i;for(var d=[u.width/2,u.height/2],v=l;v;){var _=v.getLayout();d[0]+=_.x,d[1]+=_.y,v=v.parentNode}return{x:a.width/2-d[0],y:a.height/2-d[1]}}(v,te,G),!0),a.setLayoutInfo(v),cc(mt,new ao.Z(-v.x,-v.y,l,u),Ae,se,0)}};function bl(a,n,t,i){var l,u;if(!a.isRemoved()){var d=a.getLayout();l=d.width,u=d.height;var v=a.getModel(),_=v.get(lc),b=v.get(uf)/2,T=ff(v),z=Math.max(_,T),B=_-b,G=z-b;a.setLayout({borderWidth:_,upperHeight:z,upperLabelHeight:T},!0);var te=(l=Iu(l-2*B,0))*(u=Iu(u-B-G,0)),se=function(a,n,t,i,l,u){var d=a.children||[],v=i.sort;"asc"!==v&&"desc"!==v&&(v=null);var _=null!=i.leafDepth&&i.leafDepth<=u;if(l&&!_)return a.viewChildren=[];d=y.filter(d,function(G){return!G.isRemoved()}),function(a,n){n&&a.sort(function(t,i){var l="asc"===n?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===l?"asc"===n?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:l})}(d,v);var b=function(a,n,t){for(var i=0,l=0,u=n.length;l<u;l++)i+=n[l].getValue();var v,d=a.get("visualDimension");return n&&n.length?"value"===d&&t?(v=[n[n.length-1].getValue(),n[0].getValue()],"asc"===t&&v.reverse()):(v=[1/0,-1/0],cf(n,function(_){var b=_.getValue(d);b<v[0]&&(v[0]=b),b>v[1]&&(v[1]=b)})):v=[NaN,NaN],{sum:i,dataExtent:v}}(n,d,v);if(0===b.sum)return a.viewChildren=[];if(b.sum=function(a,n,t,i,l){if(!i)return t;for(var u=a.get("visibleMin"),d=l.length,v=d,_=d-1;_>=0;_--){var b=l["asc"===i?d-_-1:_].getValue();b/t*n<u&&(v=_,t-=b)}return l.splice("asc"===i?0:v,d-v),t}(n,t,b.sum,v,d),0===b.sum)return a.viewChildren=[];for(var T=0,z=d.length;T<z;T++){var B=d[T].getValue()/b.sum*t;d[T].setLayout({area:B})}return _&&(d.length&&a.setLayout({isLeafRoot:!0},!0),d.length=0),a.viewChildren=d,a.setLayout({dataExtent:b.dataExtent},!0),d}(a,v,te,n,t,i);if(se.length){var Ae={x:B,y:G,width:l,height:u},ze=lf(l,u),Be=1/0,We=[];We.area=0;for(var ut=0,mt=se.length;ut<mt;){var vt=se[ut];We.push(vt),We.area+=vt.getLayout().area;var At=df(We,ze,n.squareRatio);At<=Be?(ut++,Be=At):(We.area-=We.pop().getLayout().area,g2(We,ze,Ae,b,!1),ze=lf(Ae.width,Ae.height),We.length=We.area=0,Be=1/0)}if(We.length&&g2(We,ze,Ae,b,!0),!t){var Gt=v.get("childrenVisibleMin");null!=Gt&&te<Gt&&(t=!0)}for(ut=0,mt=se.length;ut<mt;ut++)bl(se[ut],n,t,i+1)}}}function df(a,n,t){for(var i=0,l=1/0,u=0,d=void 0,v=a.length;u<v;u++)(d=a[u].getLayout().area)&&(d<l&&(l=d),d>i&&(i=d));var _=a.area*a.area,b=n*n*t;return _?Iu(b*i/_,_/(b*l)):1/0}function g2(a,n,t,i,l){var u=n===t.width?0:1,d=1-u,v=["x","y"],_=["width","height"],b=t[v[u]],T=n?a.area/n:0;(l||T>t[_[d]])&&(T=t[_[d]]);for(var z=0,B=a.length;z<B;z++){var G=a[z],te={},se=T?G.getLayout().area/T:0,Ae=te[_[d]]=Iu(T-2*i,0),ze=t[v[u]]+t[_[u]]-b,Be=z===B-1||ze<se?ze:se,We=te[_[u]]=Iu(Be-2*i,0);te[v[d]]=t[v[d]]+lf(i,Ae/2),te[v[u]]=b+lf(i,We/2),b+=Be,G.setLayout(te,!0)}t[v[d]]+=T,t[_[d]]-=T}function cc(a,n,t,i,l){var u=a.getLayout(),d=t[l],v=d&&d===a;if(!(d&&!v||l===t.length&&a!==i)){a.setLayout({isInView:!0,invisible:!v&&!n.intersect(u),isAboveViewRoot:v},!0);var _=new ao.Z(n.x-u.x,n.y-u.y,n.width,n.height);cf(a.viewChildren||[],function(b){cc(b,_,t,i,l+1)})}}function ff(a){return a.get(hf)?a.get(Bd):0}function vf(a){var n=a.findComponents({mainType:"legend"});!n||!n.length||a.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),u=t.getGraph().data,d=i.mapArray(i.getName);u.filterSelf(function(v){var b=u.getItemModel(v).getShallow("category");if(null!=b){"number"==typeof b&&(b=d[b]);for(var T=0;T<n.length;T++)if(!n[T].isSelected(b))return!1}return!0})})}function m2(a){var n={};a.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),l=t.getData(),u={};i.each(function(d){var v=i.getName(d);u["ec-"+v]=d;var _=i.getItemModel(d),b=_.getModel("itemStyle").getItemStyle();b.fill||(b.fill=t.getColorFromPalette(v,n)),i.setItemVisual(d,"style",b);for(var T=["symbol","symbolSize","symbolKeepAspect"],z=0;z<T.length;z++){var B=_.getShallow(T[z],!0);null!=B&&i.setItemVisual(d,T[z],B)}}),i.count()&&l.each(function(d){var _=l.getItemModel(d).getShallow("category");if(null!=_){"string"==typeof _&&(_=u["ec-"+_]);var b=i.getItemVisual(_,"style"),T=l.ensureUniqueItemVisual(d,"style");(0,y.extend)(T,b);for(var z=["symbol","symbolSize","symbolKeepAspect"],B=0;B<z.length;B++)l.setItemVisual(d,z[B],i.getItemVisual(_,z[B]))}})})}function Bc(a){return a instanceof Array||(a=[a,a]),a}function Vd(a){a.eachSeriesByType("graph",function(n){var t=n.getGraph(),i=n.getEdgeData(),l=Bc(n.get("edgeSymbol")),u=Bc(n.get("edgeSymbolSize"));i.setVisual("fromSymbol",l&&l[0]),i.setVisual("toSymbol",l&&l[1]),i.setVisual("fromSymbolSize",u&&u[0]),i.setVisual("toSymbolSize",u&&u[1]),i.setVisual("style",n.getModel("lineStyle").getLineStyle()),i.each(function(d){var v=i.getItemModel(d),_=t.getEdgeByIndex(d),b=Bc(v.getShallow("symbol",!0)),T=Bc(v.getShallow("symbolSize",!0)),z=v.getModel("lineStyle").getLineStyle(),B=i.ensureUniqueItemVisual(d,"style");switch((0,y.extend)(B,z),B.stroke){case"source":var G=_.node1.getVisual("style");B.stroke=G&&G.fill;break;case"target":G=_.node2.getVisual("style"),B.stroke=G&&G.fill}b[0]&&_.setVisual("fromSymbol",b[0]),b[1]&&_.setVisual("toSymbol",b[1]),T[0]&&_.setVisual("fromSymbolSize",T[0]),T[1]&&_.setVisual("toSymbolSize",T[1])})})}var uc=function(a){return a.get("autoCurveness")||null},ca=function(a,n){var t=uc(a),i=20,l=[];if("number"==typeof t)i=t;else if(y.isArray(t))return void(a.__curvenessList=t);n>i&&(i=n);var u=i%2?i+2:i+3;l=[];for(var d=0;d<u;d++)l.push((d%2?d+1:d)/10*(d%2?-1:1));a.__curvenessList=l},Vc=function(a,n,t){var i=[a.id,a.dataIndex].join("."),l=[n.id,n.dataIndex].join(".");return[t.uid,i,l].join("--\x3e")},hc=function(a){var n=a.split("--\x3e");return[n[0],n[2],n[1]].join("--\x3e")},Hd=function(a,n){var t=n.__edgeMap;return t[a]?t[a].length:0};function Ih(a,n,t,i){var l=uc(n),u=y.isArray(l);if(!l)return null;var d=function(a,n){var t=Vc(a.node1,a.node2,n);return n.__edgeMap[t]}(a,n);if(!d)return null;for(var v=-1,_=0;_<d.length;_++)if(d[_]===t){v=_;break}var b=function(a,n){return Hd(Vc(a.node1,a.node2,n),n)+Hd(Vc(a.node2,a.node1,n),n)}(a,n);ca(n,b),a.lineStyle=a.lineStyle||{};var T=Vc(a.node1,a.node2,n),z=n.__curvenessList,B=u||b%2?0:1;if(d.isForward)return z[B+v];var G=hc(T),te=Hd(G,n),se=z[v+te+B];return i?u?l&&0===l[0]?(te+B)%2?se:-se:((te%2?0:1)+B)%2?se:-se:(te+B)%2?se:-se:z[v+te+B]}function pf(a){var n=a.coordinateSystem;if(!n||"view"===n.type){var t=a.getGraph();t.eachNode(function(i){var l=i.getModel();i.setLayout([+l.get("x"),+l.get("y")])}),D4(t,a)}}function D4(a,n){a.eachEdge(function(t,i){var l=y.retrieve3(t.getModel().get(["lineStyle","curveness"]),-Ih(t,n,i,!0),0),u=pi.clone(t.node1.getLayout()),d=pi.clone(t.node2.getLayout()),v=[u,d];+l&&v.push([(u[0]+d[0])/2-(u[1]-d[1])*l,(u[1]+d[1])/2-(d[0]-u[0])*l]),t.setLayout(v)})}function gf(a,n){a.eachSeriesByType("graph",function(t){var i=t.get("layout"),l=t.coordinateSystem;if(l&&"view"!==l.type){var u=t.getData(),d=[];(0,y.each)(l.dimensions,function(B){d=d.concat(u.mapDimensionsAll(B))});for(var v=0;v<u.count();v++){for(var _=[],b=!1,T=0;T<d.length;T++){var z=u.get(d[T],v);isNaN(z)||(b=!0),_.push(z)}u.setItemLayout(v,b?l.dataToPoint(_):[NaN,NaN])}D4(u.graph,t)}else(!i||"none"===i)&&pf(t)})}function Rh(a){var n=a.coordinateSystem;if("view"!==n.type)return 1;var t=a.option.nodeScaleRatio,i=n.scaleX;return((n.getZoom()-1)*t+1)/i}function Hc(a){var n=a.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var _2=Math.PI,Nh=[];function qs(a,n){var t=a.coordinateSystem;if(!t||"view"===t.type){var i=t.getBoundingRect(),l=a.getData(),u=l.graph,d=i.width/2+i.x,v=i.height/2+i.y,_=Math.min(i.width,i.height)/2,b=l.count();l.setLayout({cx:d,cy:v}),b&&(x2[n](a,u,l,_,d,v,b),u.eachEdge(function(T,z){var se,B=y.retrieve3(T.getModel().get(["lineStyle","curveness"]),Ih(T,a,z),0),G=pi.clone(T.node1.getLayout()),te=pi.clone(T.node2.getLayout());+B&&(se=[d*(B*=3)+(G[0]+te[0])/2*(1-B),v*B+(G[1]+te[1])/2*(1-B)]),T.setLayout([G,te,se])}))}}var x2={value:function(a,n,t,i,l,u,d){var v=0,_=t.getSum("value"),b=2*Math.PI/(_||d);n.eachNode(function(T){var z=T.getValue("value"),B=b*(_?z:1)/2;v+=B,T.setLayout([i*Math.cos(v)+l,i*Math.sin(v)+u]),v+=B})},symbolSize:function(a,n,t,i,l,u,d){var v=0;Nh.length=d;var _=Rh(a);n.eachNode(function(z){var B=Hc(z);isNaN(B)&&(B=2),B<0&&(B=0),B*=_;var G=Math.asin(B/2/i);isNaN(G)&&(G=_2/2),Nh[z.dataIndex]=G,v+=2*G});var b=(2*_2-v)/d/2,T=0;n.eachNode(function(z){var B=b+Nh[z.dataIndex];T+=B,z.setLayout([i*Math.cos(T)+l,i*Math.sin(T)+u]),T+=B})}};function mf(a){a.eachSeriesByType("graph",function(n){"circular"===n.get("layout")&&qs(n,"symbolSize")})}var Fu=pi.scaleAndAdd;function A4(a){a.eachSeriesByType("graph",function(n){var t=n.coordinateSystem;if(!t||"view"===t.type)if("force"===n.get("layout")){var i=n.preservedPoints||{},l=n.getGraph(),u=l.data,d=l.edgeData,v=n.getModel("force"),_=v.get("initLayout");n.preservedPoints?u.each(function(We){var ut=u.getId(We);u.setItemLayout(We,i[ut]||[NaN,NaN])}):_&&"none"!==_?"circular"===_&&qs(n,"value"):pf(n);var b=u.getDataExtent("value"),T=d.getDataExtent("value"),z=v.get("repulsion"),B=v.get("edgeLength"),G=y.isArray(z)?z:[z,z],te=y.isArray(B)?B:[B,B];te=[te[1],te[0]];var se=u.mapArray("value",function(We,ut){var mt=u.getItemLayout(ut),vt=(0,Xt.NU)(We,b,G);return isNaN(vt)&&(vt=(G[0]+G[1])/2),{w:vt,rep:vt,fixed:u.getItemModel(ut).get("fixed"),p:!mt||isNaN(mt[0])||isNaN(mt[1])?null:mt}}),Ae=d.mapArray("value",function(We,ut){var mt=l.getEdgeByIndex(ut),vt=(0,Xt.NU)(We,T,te);isNaN(vt)&&(vt=(te[0]+te[1])/2);var At=mt.getModel(),Gt=y.retrieve3(mt.getModel().get(["lineStyle","curveness"]),-Ih(mt,n,ut,!0),0);return{n1:se[mt.node1.dataIndex],n2:se[mt.node2.dataIndex],d:vt,curveness:Gt,ignoreForceLayout:At.get("ignoreForceLayout")}}),ze=t.getBoundingRect(),Be=function(a,n,t){for(var i=a,l=n,u=t.rect,d=u.width,v=u.height,_=[u.x+d/2,u.y+v/2],b=null==t.gravity?.1:t.gravity,T=0;T<i.length;T++){var z=i[T];z.p||(z.p=pi.create(d*(Math.random()-.5)+_[0],v*(Math.random()-.5)+_[1])),z.pp=pi.clone(z.p),z.edges=null}var te,se,B=null==t.friction?.6:t.friction,G=B;return{warmUp:function(){G=.8*B},setFixed:function(Ae){i[Ae].fixed=!0},setUnfixed:function(Ae){i[Ae].fixed=!1},beforeStep:function(Ae){te=Ae},afterStep:function(Ae){se=Ae},step:function(Ae){te&&te(i,l);for(var ze=[],Be=i.length,We=0;We<l.length;We++){var ut=l[We];if(!ut.ignoreForceLayout){pi.sub(ze,(vt=ut.n2).p,(mt=ut.n1).p);var At=pi.len(ze)-ut.d,Gt=vt.w/(mt.w+vt.w);isNaN(Gt)&&(Gt=0),pi.normalize(ze,ze),!mt.fixed&&Fu(mt.p,mt.p,ze,Gt*At*G),!vt.fixed&&Fu(vt.p,vt.p,ze,-(1-Gt)*At*G)}}for(We=0;We<Be;We++)(on=i[We]).fixed||(pi.sub(ze,_,on.p),Fu(on.p,on.p,ze,b*G));for(We=0;We<Be;We++)for(var mt=i[We],bn=We+1;bn<Be;bn++){var vt;pi.sub(ze,(vt=i[bn]).p,mt.p),0===(At=pi.len(ze))&&(pi.set(ze,Math.random()-.5,Math.random()-.5),At=1);var yn=(mt.rep+vt.rep)/At/At;!mt.fixed&&Fu(mt.pp,mt.pp,ze,yn),!vt.fixed&&Fu(vt.pp,vt.pp,ze,-yn)}var On=[];for(We=0;We<Be;We++){var on;(on=i[We]).fixed||(pi.sub(On,on.p,on.pp),Fu(on.p,on.p,On,G),pi.copy(on.pp,on.p))}var kn=(G*=.992)<.01;se&&se(i,l,kn),Ae&&Ae(kn)}}}(se,Ae,{rect:ze,gravity:v.get("gravity"),friction:v.get("friction")});Be.beforeStep(function(We,ut){for(var mt=0,vt=We.length;mt<vt;mt++)We[mt].fixed&&pi.copy(We[mt].p,l.getNodeByIndex(mt).getLayout())}),Be.afterStep(function(We,ut,mt){for(var vt=0,At=We.length;vt<At;vt++)We[vt].fixed||l.getNodeByIndex(vt).setLayout(We[vt].p),i[u.getId(vt)]=We[vt].p;for(vt=0,At=ut.length;vt<At;vt++){var Gt=ut[vt],on=l.getEdgeByIndex(vt),bn=Gt.n1.p,yn=Gt.n2.p,On=on.getLayout();(On=On?On.slice():[])[0]=On[0]||[],On[1]=On[1]||[],pi.copy(On[0],bn),pi.copy(On[1],yn),+Gt.curveness&&(On[2]=[(bn[0]+yn[0])/2-(bn[1]-yn[1])*Gt.curveness,(bn[1]+yn[1])/2-(yn[0]-bn[0])*Gt.curveness]),on.setLayout(On)}}),n.forceLayout=Be,n.preservedPoints=i,Be.step()}else n.forceLayout=null})}function b2(a,n){var t=[];return a.eachSeriesByType("graph",function(i){var l=i.get("coordinateSystem");if(!l||"view"===l){var u=i.getData(),d=u.mapArray(function(Ae){var ze=u.getItemModel(Ae);return[+ze.get("x"),+ze.get("y")]}),v=[],_=[];mu.zk(d,v,_),_[0]-v[0]==0&&(_[0]+=1,v[0]-=1),_[1]-v[1]==0&&(_[1]+=1,v[1]-=1);var b=(_[0]-v[0])/(_[1]-v[1]),T=function(a,n,t){var i=(0,y.extend)(a.getBoxLayoutParams(),{aspect:t});return(0,Mi.ME)(i,{width:n.getWidth(),height:n.getHeight()})}(i,n,b);isNaN(b)&&(v=[T.x,T.y],_=[T.x+T.width,T.y+T.height]);var z=_[0]-v[0],B=_[1]-v[1],G=T.width,te=T.height,se=i.coordinateSystem=new Oc;se.zoomLimit=i.get("scaleLimit"),se.setBoundingRect(v[0],v[1],z,B),se.setViewRect(T.x,T.y,G,te),se.setCenter(i.get("center")),se.setZoom(i.get("zoom")),t.push(se)}}),t}var a,Uc=tr.Z.prototype,Ud=bh.Z.prototype,Yc=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function Yd(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}(0,Zt.ZT)(function(){return null!==a&&a.apply(this,arguments)||this},a=Yc);const Fh=function(a){function n(t){var i=a.call(this,t)||this;return i.type="ec-line",i}return(0,Zt.ZT)(n,a),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new Yc},n.prototype.buildPath=function(t,i){Yd(i)?Uc.buildPath.call(this,t,i):Ud.buildPath.call(this,t,i)},n.prototype.pointAt=function(t){return Yd(this.shape)?Uc.pointAt.call(this,t):Ud.pointAt.call(this,t)},n.prototype.tangentAt=function(t){var i=this.shape,l=Yd(i)?[i.x2-i.x1,i.y2-i.y1]:Ud.tangentAt.call(this,t);return pi.normalize(l,l)},n}(ce.ZP);var Qo=["fromSymbol","toSymbol"];function Gc(a){return"_"+a+"Type"}function S2(a,n,t){var i=n.getItemVisual(t,a);if(i&&"none"!==i){var l=n.getItemVisual(t,a+"Size"),u=n.getItemVisual(t,a+"Rotate"),d=n.getItemVisual(t,a+"Offset"),v=n.getItemVisual(t,a+"KeepAspect"),_=dr.zp(l),b=dr.Cq(d||0,_),T=dr.th(i,-_[0]/2+b[0],-_[1]/2+b[1],_[0],_[1],null,v);return T.__specifiedRotation=null==u||isNaN(u)?void 0:+u*Math.PI/180||0,T.name=a,T}}function sl(a,n){a.x1=n[0][0],a.y1=n[0][1],a.x2=n[1][0],a.y2=n[1][1],a.percent=1;var t=n[2];t?(a.cpx1=t[0],a.cpy1=t[1]):(a.cpx1=NaN,a.cpy1=NaN)}const Gd=function(a){function n(t,i,l){var u=a.call(this)||this;return u._createLine(t,i,l),u}return(0,Zt.ZT)(n,a),n.prototype._createLine=function(t,i,l){var u=t.hostModel,v=function(a){var n=new Fh({name:"line",subPixelOptimize:!0});return sl(n.shape,a),n}(t.getItemLayout(i));v.shape.percent=0,lr.KZ(v,{shape:{percent:1}},u,i),this.add(v),(0,y.each)(Qo,function(_){var b=S2(_,t,i);this.add(b),this[Gc(_)]=t.getItemVisual(i,_)},this),this._updateCommonStl(t,i,l)},n.prototype.updateData=function(t,i,l){var u=t.hostModel,d=this.childOfName("line"),v=t.getItemLayout(i),_={shape:{}};sl(_.shape,v),lr.D(d,_,u,i),(0,y.each)(Qo,function(b){var T=t.getItemVisual(i,b),z=Gc(b);if(this[z]!==T){this.remove(this.childOfName(b));var B=S2(b,t,i);this.add(B)}this[z]=T},this),this._updateCommonStl(t,i,l)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(t,i,l){var u=t.hostModel,d=this.childOfName("line"),v=l&&l.emphasisLineStyle,_=l&&l.blurLineStyle,b=l&&l.selectLineStyle,T=l&&l.labelStatesModels;if(!l||t.hasItemOption){var z=t.getItemModel(i);v=z.getModel(["emphasis","lineStyle"]).getLineStyle(),_=z.getModel(["blur","lineStyle"]).getLineStyle(),b=z.getModel(["select","lineStyle"]).getLineStyle(),T=(0,$n.k3)(z)}var B=t.getItemVisual(i,"style"),G=B.stroke;d.useStyle(B),d.style.fill=null,d.style.strokeNoScale=!0,d.ensureState("emphasis").style=v,d.ensureState("blur").style=_,d.ensureState("select").style=b,(0,y.each)(Qo,function(Be){var We=this.childOfName(Be);if(We){We.setColor(G),We.style.opacity=B.opacity;for(var ut=0;ut<Xn.L1.length;ut++){var mt=Xn.L1[ut],vt=d.getState(mt);if(vt){var At=vt.style||{},Gt=We.ensureState(mt),on=Gt.style||(Gt.style={});null!=At.stroke&&(on[We.__isEmptyBrush?"stroke":"fill"]=At.stroke),null!=At.opacity&&(on.opacity=At.opacity)}}We.markRedraw()}},this);var te=u.getRawValue(i);(0,$n.ni)(this,T,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(Be,We){return u.getFormattedLabel(Be,We,t.dataType)}},inheritColor:G||"#000",defaultOpacity:B.opacity,defaultText:(null==te?t.getName(i):isFinite(te)?(0,Xt.NM)(te):te)+""});var se=this.getTextContent();if(se){var Ae=T.normal;se.__align=se.style.align,se.__verticalAlign=se.style.verticalAlign,se.__position=Ae.get("position")||"middle";var ze=Ae.get("distance");(0,y.isArray)(ze)||(ze=[ze,ze]),se.__labelDistance=ze}this.setTextConfig({position:null,local:!0,inside:!1}),(0,Xn.vF)(this)},n.prototype.highlight=function(){(0,Xn.fD)(this)},n.prototype.downplay=function(){(0,Xn.Mh)(this)},n.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},n.prototype.setLinePoints=function(t){var i=this.childOfName("line");sl(i.shape,t),i.dirty()},n.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),l=t.childOfName("toSymbol"),u=t.getTextContent();if(i||l||u&&!u.ignore){for(var d=1,v=this.parent;v;)v.scaleX&&(d/=v.scaleX),v=v.parent;var _=t.childOfName("line");if(this.__dirty||_.__dirty){var b=_.shape.percent,T=_.pointAt(0),z=_.pointAt(b),B=pi.sub([],z,T);if(pi.normalize(B,B),i&&(i.setPosition(T),G(i,0),i.scaleX=i.scaleY=d*b,i.markRedraw()),l&&(l.setPosition(z),G(l,1),l.scaleX=l.scaleY=d*b,l.markRedraw()),u&&!u.ignore){u.x=u.y=0,u.originX=u.originY=0;var te=void 0,se=void 0,Ae=u.__labelDistance,ze=Ae[0]*d,Be=Ae[1]*d,We=b/2,ut=_.tangentAt(We),mt=[ut[1],-ut[0]],vt=_.pointAt(We);mt[1]>0&&(mt[0]=-mt[0],mt[1]=-mt[1]);var At=ut[0]<0?-1:1;if("start"!==u.__position&&"end"!==u.__position){var Gt=-Math.atan2(ut[1],ut[0]);z[0]<T[0]&&(Gt=Math.PI+Gt),u.rotation=Gt}var on=void 0;switch(u.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":on=-Be,se="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":on=Be,se="top";break;default:on=0,se="middle"}switch(u.__position){case"end":u.x=B[0]*ze+z[0],u.y=B[1]*Be+z[1],te=B[0]>.8?"left":B[0]<-.8?"right":"center",se=B[1]>.8?"top":B[1]<-.8?"bottom":"middle";break;case"start":u.x=-B[0]*ze+T[0],u.y=-B[1]*Be+T[1],te=B[0]>.8?"right":B[0]<-.8?"left":"center",se=B[1]>.8?"bottom":B[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":u.x=ze*At+T[0],u.y=T[1]+on,te=ut[0]<0?"right":"left",u.originX=-ze*At,u.originY=-on;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":u.x=vt[0],u.y=vt[1]+on,te="center",u.originY=-on;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":u.x=-ze*At+z[0],u.y=z[1]+on,te=ut[0]>=0?"right":"left",u.originX=ze*At,u.originY=-on}u.scaleX=u.scaleY=d,u.setStyle({verticalAlign:u.__verticalAlign||se,align:u.__align||te})}}}function G(bn,yn){var On=bn.__specifiedRotation;if(null==On){var kn=_.tangentAt(yn);bn.attr("rotation",(1===yn?-1:1)*Math.PI/2-Math.atan2(kn[1],kn[0]))}else bn.attr("rotation",On)}},n}(pr.Z);function Sf(a){var n=a.hostModel;return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:(0,$n.k3)(n)}}function L4(a){return isNaN(a[0])||isNaN(a[1])}function el(a){return!L4(a[0])&&!L4(a[1])}const fc=function(){function a(n){this.group=new pr.Z,this._LineCtor=n||Gd}return a.prototype.isPersistent=function(){return!0},a.prototype.updateData=function(n){var t=this,i=this,l=i.group,u=i._lineData;i._lineData=n,u||l.removeAll();var d=Sf(n);n.diff(u).add(function(v){t._doAdd(n,v,d)}).update(function(v,_){t._doUpdate(u,n,_,v,d)}).remove(function(v){l.remove(u.getItemGraphicEl(v))}).execute()},a.prototype.updateLayout=function(){var n=this._lineData;!n||n.eachItemGraphicEl(function(t,i){t.updateLayout(n,i)},this)},a.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=Sf(n),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(n,t){function i(v){!v.isGroup&&!function(a){return a.animators&&a.animators.length>0}(v)&&(v.incremental=!0,v.ensureState("emphasis").hoverLayer=!0)}for(var l=n.start;l<n.end;l++)if(el(t.getItemLayout(l))){var d=new this._LineCtor(t,l,this._seriesScope);d.traverse(i),this.group.add(d),t.setItemGraphicEl(l,d)}},a.prototype.remove=function(){this.group.removeAll()},a.prototype._doAdd=function(n,t,i){if(el(n.getItemLayout(t))){var u=new this._LineCtor(n,t,i);n.setItemGraphicEl(t,u),this.group.add(u)}},a.prototype._doUpdate=function(n,t,i,l,u){var d=n.getItemGraphicEl(i);el(t.getItemLayout(l))?(d?d.updateData(t,l,u):d=new this._LineCtor(t,l,u),t.setItemGraphicEl(l,d),this.group.add(d)):this.group.remove(d)},a}();var ku=[],vc=[],T2=[],Lo=gi.Zm,Sl=pi.distSquare,C2=Math.abs;function M2(a,n,t){for(var v,i=a[0],l=a[1],u=a[2],d=1/0,_=t*t,b=.1,T=.1;T<=.9;T+=.1)ku[0]=Lo(i[0],l[0],u[0],T),ku[1]=Lo(i[1],l[1],u[1],T),(z=C2(Sl(ku,n)-_))<d&&(d=z,v=T);for(var B=0;B<32;B++){var G=v+b;vc[0]=Lo(i[0],l[0],u[0],v),vc[1]=Lo(i[1],l[1],u[1],v),T2[0]=Lo(i[0],l[0],u[0],G),T2[1]=Lo(i[1],l[1],u[1],G);var z=Sl(vc,n)-_;if(C2(z)<.01)break;var te=Sl(T2,n)-_;b/=2,z<0?te>=0?v+=b:v-=b:te>=0?v-=b:v+=b}return v}function Bu(a,n){var t=[],i=gi.Lx,l=[[],[],[]],u=[[],[]],d=[];n/=2,a.eachEdge(function(v,_){var b=v.getLayout(),T=v.getVisual("fromSymbol"),z=v.getVisual("toSymbol");b.__original||(b.__original=[pi.clone(b[0]),pi.clone(b[1])],b[2]&&b.__original.push(pi.clone(b[2])));var B=b.__original;if(null!=b[2]){if(pi.copy(l[0],B[0]),pi.copy(l[1],B[2]),pi.copy(l[2],B[1]),T&&"none"!==T){var G=Hc(v.node1),te=M2(l,B[0],G*n);i(l[0][0],l[1][0],l[2][0],te,t),l[0][0]=t[3],l[1][0]=t[4],i(l[0][1],l[1][1],l[2][1],te,t),l[0][1]=t[3],l[1][1]=t[4]}z&&"none"!==z&&(G=Hc(v.node2),te=M2(l,B[1],G*n),i(l[0][0],l[1][0],l[2][0],te,t),l[1][0]=t[1],l[2][0]=t[2],i(l[0][1],l[1][1],l[2][1],te,t),l[1][1]=t[1],l[2][1]=t[2]),pi.copy(b[0],l[0]),pi.copy(b[1],l[2]),pi.copy(b[2],l[1])}else pi.copy(u[0],B[0]),pi.copy(u[1],B[1]),pi.sub(d,u[1],u[0]),pi.normalize(d,d),T&&"none"!==T&&(G=Hc(v.node1),pi.scaleAndAdd(u[0],u[0],d,G*n)),z&&"none"!==z&&(G=Hc(v.node2),pi.scaleAndAdd(u[1],u[1],d,-G*n)),pi.copy(b[0],u[0]),pi.copy(b[1],u[1])})}function Tf(a){return"view"===a.type}const w2=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i){var l=new oa,u=new fc,d=this.group;this._controller=new Ki(i.getZr()),this._controllerHost={target:d},d.add(l.group),d.add(u.group),this._symbolDraw=l,this._lineDraw=u,this._firstRender=!0},n.prototype.render=function(t,i,l){var u=this,d=t.coordinateSystem;this._model=t;var v=this._symbolDraw,_=this._lineDraw,b=this.group;if(Tf(d)){var T={x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY};this._firstRender?b.attr(T):lr.D(b,T,t)}Bu(t.getGraph(),Rh(t));var z=t.getData();v.updateData(z);var B=t.getEdgeData();_.updateData(B),this._updateNodeAndLinkScale(),this._updateController(t,i,l),clearTimeout(this._layoutTimeout);var G=t.forceLayout,te=t.get(["force","layoutAnimation"]);G&&this._startForceLayoutIteration(G,te),z.graph.eachNode(function(Be){var We=Be.dataIndex,ut=Be.getGraphicEl(),mt=Be.getModel();ut.off("drag").off("dragend");var vt=mt.get("draggable");vt&&ut.on("drag",function(){G&&(G.warmUp(),!u._layouting&&u._startForceLayoutIteration(G,te),G.setFixed(We),z.setItemLayout(We,[ut.x,ut.y]))}).on("dragend",function(){G&&G.setUnfixed(We)}),ut.setDraggable(vt&&!!G),"adjacency"===mt.get(["emphasis","focus"])&&((0,Hr.A)(ut).focus=Be.getAdjacentDataIndices())}),z.graph.eachEdge(function(Be){var We=Be.getGraphicEl();"adjacency"===Be.getModel().get(["emphasis","focus"])&&((0,Hr.A)(We).focus={edge:[Be.dataIndex],node:[Be.node1.dataIndex,Be.node2.dataIndex]})});var se="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),Ae=z.getLayout("cx"),ze=z.getLayout("cy");z.eachItemGraphicEl(function(Be,We){var mt=z.getItemModel(We).get(["label","rotate"])||0,vt=Be.getSymbolPath();if(se){var At=z.getItemLayout(We),Gt=Math.atan2(At[1]-ze,At[0]-Ae);Gt<0&&(Gt=2*Math.PI+Gt);var on=At[0]<Ae;on&&(Gt-=Math.PI);var bn=on?"left":"right";vt.setTextConfig({rotation:-Gt,position:bn,origin:"center"});var yn=vt.ensureState("emphasis");y.extend(yn.textConfig||(yn.textConfig={}),{position:bn})}else vt.setTextConfig({rotation:mt*=Math.PI/180})}),this._firstRender=!1},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(t,i){var l=this;!function u(){t.step(function(d){l.updateLayout(l._model),(l._layouting=!d)&&(i?l._layoutTimeout=setTimeout(u,16):u())})}()},n.prototype._updateController=function(t,i,l){var u=this,d=this._controller,v=this._controllerHost,_=this.group;d.setPointerChecker(function(b,T,z){var B=_.getBoundingRect();return B.applyTransform(_.transform),B.contain(T,z)&&!Qs(b,l,t)}),Tf(t.coordinateSystem)?(d.enable(t.get("roam")),v.zoomLimit=t.get("scaleLimit"),v.zoom=t.coordinateSystem.getZoom(),d.off("pan").off("zoom").on("pan",function(b){md(v,b.dx,b.dy),l.dispatchAction({seriesId:t.id,type:"graphRoam",dx:b.dx,dy:b.dy})}).on("zoom",function(b){yd(v,b.scale,b.originX,b.originY),l.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:b.scale,originX:b.originX,originY:b.originY}),u._updateNodeAndLinkScale(),Bu(t.getGraph(),Rh(t)),u._lineDraw.updateLayout(),l.updateLabelLayout()})):d.disable()},n.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),l=Rh(t);i.eachItemGraphicEl(function(u,d){u.setSymbolScale(l)})},n.prototype.updateLayout=function(t){Bu(t.getGraph(),Rh(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type="graph",n}(Fr.Z);var Wc=E(6381),Wd=E(1029);function Zd(a,n,t,i,l){for(var u=new Wc.ZP(i),d=0;d<a.length;d++)u.addNode(y.retrieve(a[d].id,a[d].name,d),d);var v=[],_=[],b=0;for(d=0;d<n.length;d++){var T=n[d],z=T.source,B=T.target;u.addEdge(z,B,b)&&(_.push(T),v.push(y.retrieve((0,fr.U5)(T.id,null),z+" > "+B)),b++)}var te,G=t.get("coordinateSystem");if("cartesian2d"===G||"polar"===G)te=(0,er.Z)(a,t);else{var se=Wd.Z.get(G),Ae=se&&se.dimensions||[];y.indexOf(Ae,"value")<0&&Ae.concat(["value"]);var ze=(0,za.Z)(a,{coordDimensions:Ae,encodeDefine:t.getEncode()}).dimensions;(te=new ji.Z(ze,t)).initData(a)}var Be=new ji.Z(["value"],t);return Be.initData(_,v),l&&l(te,Be),(0,wd.Z)({mainData:te,struct:u,structAttr:"graph",datas:{node:te,edge:Be},datasAttr:{node:"data",edge:"edgeData"}}),u.update(),u}var D2=E(9734);const Mf=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.hasSymbolVisual=!0,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t){a.prototype.init.apply(this,arguments);var i=this;function l(){return i._categoriesData}this.legendVisualProvider=new Wa(l,l),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},n.prototype.mergeOption=function(t){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(t){a.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,fr.Cc)(t,"edgeLabel",["show"])},n.prototype.getInitialData=function(t,i){var l=t.edges||t.links||[],u=t.data||t.nodes||[],d=this;if(u&&l){!function(a){!uc(a)||(a.__curvenessList=[],a.__edgeMap={},ca(a))}(this);var v=Zd(u,l,this,!0,function(b,T){b.wrapMethod("getItemModel",function(te){var ze=d._categoriesModels[te.getShallow("category")];return ze&&(ze.parentModel=te.parentModel,te.parentModel=ze),te});var z=Yr.Z.prototype.getModel;function B(te,se){var Ae=z.call(this,te,se);return Ae.resolveParentPath=G,Ae}function G(te){if(te&&("label"===te[0]||"label"===te[1])){var se=te.slice();return"label"===te[0]?se[0]="edgeLabel":"label"===te[1]&&(se[1]="edgeLabel"),se}return te}T.wrapMethod("getItemModel",function(te){return te.resolveParentPath=G,te.getModel=B,te})});return y.each(v.edges,function(b){!function(a,n,t,i){if(uc(t)){var l=Vc(a,n,t),u=t.__edgeMap,d=u[hc(l)];u[l]&&!d?u[l].isForward=!0:d&&u[l]&&(d.isForward=!0,u[l].isForward=!1),u[l]=u[l]||[],u[l].push(i)}}(b.node1,b.node2,this,b.dataIndex)},this),v.data}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(t,i,l){if("edge"===l){var u=this.getData(),d=this.getDataParams(t,l),v=u.graph.getEdgeByIndex(t),_=u.getName(v.node1.dataIndex),b=u.getName(v.node2.dataIndex),T=[];return null!=_&&T.push(_),null!=b&&T.push(b),(0,vo.TX)("nameValue",{name:T.join(" > "),value:d.value,noValue:null==d.value})}return(0,D2.w)({series:this,dataIndex:t,multipleSeries:i})},n.prototype._updateCategoriesData=function(){var t=y.map(this.option.categories||[],function(l){return null!=l.value?l:y.extend({value:0},l)}),i=new ji.Z(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(l){return i.getItemModel(l)})},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.isAnimationEnabled=function(){return a.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(Un.Z);var E2={type:"graphRoam",event:"graphRoam",update:"none"},kh=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0};const I4=function(a){function n(t){var i=a.call(this,t)||this;return i.type="pointer",i}return(0,Zt.ZT)(n,a),n.prototype.getDefaultShape=function(){return new kh},n.prototype.buildPath=function(t,i){var l=Math.cos,u=Math.sin,d=i.r,v=i.width,_=i.angle,b=i.x-l(_)*v*(v>=d/3?1:2),T=i.y-u(_)*v*(v>=d/3?1:2);_=i.angle-Math.PI/2,t.moveTo(b,T),t.lineTo(i.x+l(_)*v,i.y+u(_)*v),t.lineTo(i.x+l(i.angle)*d,i.y+u(i.angle)*d),t.lineTo(i.x-l(_)*v,i.y-u(_)*v),t.lineTo(b,T)},n}(ce.ZP);function Bs(a,n){var t=null==a?"":a+"";return n&&("string"==typeof n?t=n.replace("{value}",t):"function"==typeof n&&(t=n(a))),t}var Vu=2*Math.PI;const zo=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){this.group.removeAll();var u=t.get(["axisLine","lineStyle","color"]),d=function(a,n){var t=a.get("center"),i=n.getWidth(),l=n.getHeight(),u=Math.min(i,l);return{cx:(0,Xt.GM)(t[0],n.getWidth()),cy:(0,Xt.GM)(t[1],n.getHeight()),r:(0,Xt.GM)(a.get("radius"),u/2)}}(t,l);this._renderMain(t,i,l,u,d),this._data=t.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(t,i,l,u,d){for(var v=this.group,_=t.get("clockwise"),b=-t.get("startAngle")/180*Math.PI,T=-t.get("endAngle")/180*Math.PI,z=t.getModel("axisLine"),G=z.get("roundCap")?zi:Oi.C,te=z.get("show"),se=z.getModel("lineStyle"),Ae=se.get("width"),ze=(T-b)%Vu||T===b?(T-b)%Vu:Vu,Be=b,We=0;te&&We<u.length;We++){var mt=new G({shape:{startAngle:Be,endAngle:T=b+ze*Math.min(Math.max(u[We][0],0),1),cx:d.cx,cy:d.cy,clockwise:_,r0:d.r-Ae,r:d.r},silent:!0});mt.setStyle({fill:u[We][1]}),mt.setStyle(se.getLineStyle(["color","width"])),v.add(mt),Be=T}var vt=function(Gt){if(Gt<=0)return u[0][1];var on;for(on=0;on<u.length;on++)if(u[on][0]>=Gt&&(0===on?0:u[on-1][0])<Gt)return u[on][1];return u[on-1][1]};if(!_){var At=b;b=T,T=At}this._renderTicks(t,i,l,vt,d,b,T,_,Ae),this._renderTitleAndDetail(t,i,l,vt,d),this._renderAnchor(t,d),this._renderPointer(t,i,l,vt,d,b,T,_,Ae)},n.prototype._renderTicks=function(t,i,l,u,d,v,_,b,T){for(var Bn,Vn,z=this.group,B=d.cx,G=d.cy,te=d.r,se=+t.get("min"),Ae=+t.get("max"),ze=t.getModel("splitLine"),Be=t.getModel("axisTick"),We=t.getModel("axisLabel"),ut=t.get("splitNumber"),mt=Be.get("splitNumber"),vt=(0,Xt.GM)(ze.get("length"),te),At=(0,Xt.GM)(Be.get("length"),te),Gt=v,on=(_-v)/ut,bn=on/mt,yn=ze.getModel("lineStyle").getLineStyle(),On=Be.getModel("lineStyle").getLineStyle(),kn=ze.get("distance"),rr=0;rr<=ut;rr++){if(Bn=Math.cos(Gt),Vn=Math.sin(Gt),ze.get("show")){var hr=new tr.Z({shape:{x1:Bn*(te-(Sr=kn?kn+T:T))+B,y1:Vn*(te-Sr)+G,x2:Bn*(te-vt-Sr)+B,y2:Vn*(te-vt-Sr)+G},style:yn,silent:!0});"auto"===yn.stroke&&hr.setStyle({stroke:u(rr/ut)}),z.add(hr)}if(We.get("show")){var Sr=We.get("distance")+kn,Vr=Bs((0,Xt.NM)(rr/ut*(Ae-se)+se),We.get("formatter")),yi=u(rr/ut);z.add(new di.ZP({style:(0,$n.Lr)(We,{text:Vr,x:Bn*(te-vt-Sr)+B,y:Vn*(te-vt-Sr)+G,verticalAlign:Vn<-.8?"top":Vn>.8?"bottom":"middle",align:Bn<-.4?"left":Bn>.4?"right":"center"},{inheritColor:yi}),silent:!0}))}if(Be.get("show")&&rr!==ut){Sr=(Sr=Be.get("distance"))?Sr+T:T;for(var hi=0;hi<=mt;hi++){Bn=Math.cos(Gt),Vn=Math.sin(Gt);var Xi=new tr.Z({shape:{x1:Bn*(te-Sr)+B,y1:Vn*(te-Sr)+G,x2:Bn*(te-At-Sr)+B,y2:Vn*(te-At-Sr)+G},silent:!0,style:On});"auto"===On.stroke&&Xi.setStyle({stroke:u((rr+hi/mt)/ut)}),z.add(Xi),Gt+=bn}Gt-=bn}else Gt+=on}},n.prototype._renderPointer=function(t,i,l,u,d,v,_,b,T){var z=this.group,B=this._data,G=this._progressEls,te=[],se=t.get(["pointer","show"]),Ae=t.getModel("progress"),ze=Ae.get("show"),Be=t.getData(),We=Be.mapDimension("value"),ut=+t.get("min"),mt=+t.get("max"),vt=[ut,mt],At=[v,_];function Gt(bn,yn){var hi,kn=Be.getItemModel(bn).getModel("pointer"),Bn=(0,Xt.GM)(kn.get("width"),d.r),Vn=(0,Xt.GM)(kn.get("length"),d.r),rr=t.get(["pointer","icon"]),Sr=kn.get("offsetCenter"),hr=(0,Xt.GM)(Sr[0],d.r),Vr=(0,Xt.GM)(Sr[1],d.r),yi=kn.get("keepAspect");return(hi=rr?(0,dr.th)(rr,hr-Bn/2,Vr-Vn,Bn,Vn,null,yi):new I4({shape:{angle:-Math.PI/2,width:Bn,r:Vn,x:hr,y:Vr}})).rotation=-(yn+Math.PI/2),hi.x=d.cx,hi.y=d.cy,hi}function on(bn,yn){var kn=Ae.get("roundCap")?zi:Oi.C,Bn=Ae.get("overlap"),Vn=Bn?Ae.get("width"):T/Be.count(),hr=new kn({shape:{startAngle:v,endAngle:yn,cx:d.cx,cy:d.cy,clockwise:b,r0:Bn?d.r-Vn:d.r-(bn+1)*Vn,r:Bn?d.r:d.r-bn*Vn}});return Bn&&(hr.z2=mt-Be.get(We,bn)%mt),hr}(ze||se)&&(Be.diff(B).add(function(bn){if(se){var yn=Gt(bn,v);lr.KZ(yn,{rotation:-((0,Xt.NU)(Be.get(We,bn),vt,At,!0)+Math.PI/2)},t),z.add(yn),Be.setItemGraphicEl(bn,yn)}if(ze){var On=on(bn,v),kn=Ae.get("clip");lr.KZ(On,{shape:{endAngle:(0,Xt.NU)(Be.get(We,bn),vt,At,kn)}},t),z.add(On),(0,Hr.Q)(t.seriesIndex,Be.dataType,bn,On),te[bn]=On}}).update(function(bn,yn){if(se){var On=B.getItemGraphicEl(yn),kn=On?On.rotation:v,Bn=Gt(bn,kn);Bn.rotation=kn,lr.D(Bn,{rotation:-((0,Xt.NU)(Be.get(We,bn),vt,At,!0)+Math.PI/2)},t),z.add(Bn),Be.setItemGraphicEl(bn,Bn)}if(ze){var Vn=G[yn],Sr=on(bn,Vn?Vn.shape.endAngle:v),hr=Ae.get("clip");lr.D(Sr,{shape:{endAngle:(0,Xt.NU)(Be.get(We,bn),vt,At,hr)}},t),z.add(Sr),(0,Hr.Q)(t.seriesIndex,Be.dataType,bn,Sr),te[bn]=Sr}}).execute(),Be.each(function(bn){var yn=Be.getItemModel(bn),On=yn.getModel("emphasis");if(se){var kn=Be.getItemGraphicEl(bn),Bn=Be.getItemVisual(bn,"style"),Vn=Bn.fill;if(kn instanceof q.ZP){var rr=kn.style;kn.useStyle((0,y.extend)({image:rr.image,x:rr.x,y:rr.y,width:rr.width,height:rr.height},Bn))}else kn.useStyle(Bn),"pointer"!==kn.type&&kn.setColor(Vn);kn.setStyle(yn.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===kn.style.fill&&kn.setStyle("fill",u((0,Xt.NU)(Be.get(We,bn),vt,[0,1],!0))),kn.z2EmphasisLift=0,(0,Xn.WO)(kn,yn),(0,Xn.vF)(kn,On.get("focus"),On.get("blurScope"))}if(ze){var Sr=te[bn];Sr.useStyle(Be.getItemVisual(bn,"style")),Sr.setStyle(yn.getModel(["progress","itemStyle"]).getItemStyle()),Sr.z2EmphasisLift=0,(0,Xn.WO)(Sr,yn),(0,Xn.vF)(Sr,On.get("focus"),On.get("blurScope"))}}),this._progressEls=te)},n.prototype._renderAnchor=function(t,i){var l=t.getModel("anchor");if(l.get("show")){var d=l.get("size"),v=l.get("icon"),_=l.get("offsetCenter"),b=l.get("keepAspect"),T=(0,dr.th)(v,i.cx-d/2+(0,Xt.GM)(_[0],i.r),i.cy-d/2+(0,Xt.GM)(_[1],i.r),d,d,null,b);T.z2=l.get("showAbove")?1:0,T.setStyle(l.getModel("itemStyle").getItemStyle()),this.group.add(T)}},n.prototype._renderTitleAndDetail=function(t,i,l,u,d){var v=this,_=t.getData(),b=_.mapDimension("value"),T=+t.get("min"),z=+t.get("max"),B=new pr.Z,G=[],te=[],se=t.isAnimationEnabled(),Ae=t.get(["pointer","showAbove"]);_.diff(this._data).add(function(ze){G[ze]=new di.ZP({silent:!0}),te[ze]=new di.ZP({silent:!0})}).update(function(ze,Be){G[ze]=v._titleEls[Be],te[ze]=v._detailEls[Be]}).execute(),_.each(function(ze){var Be=_.getItemModel(ze),We=_.get(b,ze),ut=new pr.Z,mt=u((0,Xt.NU)(We,[T,z],[0,1],!0)),vt=Be.getModel("title");if(vt.get("show")){var At=vt.get("offsetCenter"),Gt=d.cx+(0,Xt.GM)(At[0],d.r),on=d.cy+(0,Xt.GM)(At[1],d.r);(bn=G[ze]).attr({z2:Ae?0:2,style:(0,$n.Lr)(vt,{x:Gt,y:on,text:_.getName(ze),align:"center",verticalAlign:"middle"},{inheritColor:mt})}),ut.add(bn)}var yn=Be.getModel("detail");if(yn.get("show")){var On=yn.get("offsetCenter"),kn=d.cx+(0,Xt.GM)(On[0],d.r),Bn=d.cy+(0,Xt.GM)(On[1],d.r),Vn=(0,Xt.GM)(yn.get("width"),d.r),rr=(0,Xt.GM)(yn.get("height"),d.r),Sr=t.get(["progress","show"])?_.getItemVisual(ze,"style").fill:mt,bn=te[ze],hr=yn.get("formatter");bn.attr({z2:Ae?0:2,style:(0,$n.Lr)(yn,{x:kn,y:Bn,text:Bs(We,hr),width:isNaN(Vn)?null:Vn,height:isNaN(rr)?null:rr,align:"center",verticalAlign:"middle"},{inheritColor:Sr})}),(0,$n.pe)(bn,{normal:yn},We,function(yi){return Bs(yi,hr)}),se&&(0,$n.tD)(bn,ze,_,t,{getFormattedLabel:function(yi,hi,Xi,ya,fa,ea){return Bs(ea?ea.interpolatedValue:We,hr)}}),ut.add(bn)}B.add(ut)}),this.group.add(B),this._titleEls=G,this._detailEls=te},n.type="gauge",n}(Fr.Z),Df=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.visualStyleAccessPath="itemStyle",t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t,i){return xa(this,["value"])},n.type="series.gauge",n.defaultOption={zlevel:0,z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(Un.Z);var Zc=["itemStyle","opacity"],Tl=function(a){function n(t,i){var l=a.call(this)||this,u=l,d=new Ht.Z,v=new di.ZP;return u.setTextContent(v),l.setTextGuideLine(d),l.updateData(t,i,!0),l}return(0,Zt.ZT)(n,a),n.prototype.updateData=function(t,i,l){var u=this,d=t.hostModel,v=t.getItemModel(i),_=t.getItemLayout(i),b=v.getModel("emphasis"),T=v.get(Zc);T=null==T?1:T,l||(0,lr.Zi)(u),u.useStyle(t.getItemVisual(i,"style")),u.style.lineJoin="round",l?(u.setShape({points:_.points}),u.style.opacity=0,lr.KZ(u,{style:{opacity:T}},d,i)):lr.D(u,{style:{opacity:T},shape:{points:_.points}},d,i),(0,Xn.WO)(u,v),this._updateLabel(t,i),(0,Xn.vF)(this,b.get("focus"),b.get("blurScope"))},n.prototype._updateLabel=function(t,i){var l=this,u=this.getTextGuideLine(),d=l.getTextContent(),v=t.hostModel,_=t.getItemModel(i),T=t.getItemLayout(i).label,z=t.getItemVisual(i,"style"),B=z.fill;(0,$n.ni)(d,(0,$n.k3)(_),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:z.opacity,defaultText:t.getName(i)},{normal:{align:T.textAlign,verticalAlign:T.verticalAlign}}),l.setTextConfig({local:!0,inside:!!T.inside,insideStroke:B,outsideFill:B});var G=T.linePoints;u.setShape({points:G}),l.textGuideLineConfig={anchor:G?new hn.Z(G[0][0],G[0][1]):null},lr.D(d,{style:{x:T.x,y:T.y}},v,i),d.attr({rotation:T.rotation,originX:T.x,originY:T.y,z2:10}),(0,_n.Iu)(l,(0,_n.$x)(_),{stroke:B})},n}(Ms.Z);const Ef=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.ignoreLabelLineUpdate=!0,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=t.getData(),d=this._data,v=this.group;u.diff(d).add(function(_){var b=new Tl(u,_);u.setItemGraphicEl(_,b),v.add(b)}).update(function(_,b){var T=d.getItemGraphicEl(b);T.updateData(u,_),v.add(T),u.setItemGraphicEl(_,T)}).remove(function(_){var b=d.getItemGraphicEl(_);lr.XD(b,t,_)}).execute(),this._data=u},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n}(Fr.Z),F4=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wa(y.bind(this.getData,this),y.bind(this.getRawData,this)),this._defaultLabelLine(t)},n.prototype.getInitialData=function(t,i){return xa(this,{coordDimensions:["value"],encodeDefaulter:y.curry(Fo.Ss,this)})},n.prototype._defaultLabelLine=function(t){(0,fr.Cc)(t,"labelLine",["show"]);var i=t.labelLine,l=t.emphasis.labelLine;i.show=i.show&&t.label.show,l.show=l.show&&t.emphasis.label.show},n.prototype.getDataParams=function(t){var i=this.getData(),l=a.prototype.getDataParams.call(this,t),u=i.mapDimension("value"),d=i.getSum(u);return l.percent=d?+(i.get(u,t)/d*100).toFixed(2):0,l.$vars.push("percent"),l},n.type="series.funnel",n.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(Un.Z);function Cl(a,n){a.eachSeriesByType("funnel",function(t){var i=t.getData(),l=i.mapDimension("value"),u=t.get("sort"),d=function(a,n){return Mi.ME(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}(t,n),v=t.get("orient"),_=d.width,b=d.height,T=function(a,n){for(var t=a.mapDimension("value"),i=a.mapArray(t,function(_){return _}),l=[],u="ascending"===n,d=0,v=a.count();d<v;d++)l[d]=d;return"function"==typeof n?l.sort(n):"none"!==n&&l.sort(function(_,b){return u?i[_]-i[b]:i[b]-i[_]}),l}(i,u),z=d.x,B=d.y,G="horizontal"===v?[(0,Xt.GM)(t.get("minSize"),b),(0,Xt.GM)(t.get("maxSize"),b)]:[(0,Xt.GM)(t.get("minSize"),_),(0,Xt.GM)(t.get("maxSize"),_)],te=i.getDataExtent(l),se=t.get("min"),Ae=t.get("max");null==se&&(se=Math.min(te[0],0)),null==Ae&&(Ae=te[1]);var ze=t.get("funnelAlign"),Be=t.get("gap"),ut=(("horizontal"===v?_:b)-Be*(i.count()-1))/i.count(),mt=function(Bn,Vn){if("horizontal"===v){var rr=i.get(l,Bn)||0,Sr=(0,Xt.NU)(rr,[se,Ae],G,!0),hr=void 0;switch(ze){case"top":hr=B;break;case"center":hr=B+(b-Sr)/2;break;case"bottom":hr=B+(b-Sr)}return[[Vn,hr],[Vn,hr+Sr]]}var hi,Vr=i.get(l,Bn)||0,yi=(0,Xt.NU)(Vr,[se,Ae],G,!0);switch(ze){case"left":hi=z;break;case"center":hi=z+(_-yi)/2;break;case"right":hi=z+_-yi}return[[hi,Vn],[hi+yi,Vn]]};"ascending"===u&&(ut=-ut,Be=-Be,"horizontal"===v?z+=_:B+=b,T=T.reverse());for(var vt=0;vt<T.length;vt++){var At=T[vt],Gt=T[vt+1],on=i.getItemModel(At);if("horizontal"===v){var bn=on.get(["itemStyle","width"]);null==bn?bn=ut:(bn=(0,Xt.GM)(bn,_),"ascending"===u&&(bn=-bn));var yn=mt(At,z),On=mt(Gt,z+bn);z+=bn+Be,i.setItemLayout(At,{points:yn.concat(On.slice().reverse())})}else{var kn=on.get(["itemStyle","height"]);null==kn?kn=ut:(kn=(0,Xt.GM)(kn,b),"ascending"===u&&(kn=-kn)),yn=mt(At,B),On=mt(Gt,B+kn),B+=kn+Be,i.setItemLayout(At,{points:yn.concat(On.slice().reverse())})}}!function(a){var t=a.hostModel.get("orient");a.each(function(i){var z,B,G,te,l=a.getItemModel(i),d=l.getModel("label").get("position"),v=l.getModel("labelLine"),_=a.getItemLayout(i),b=_.points,T="inner"===d||"inside"===d||"center"===d||"insideLeft"===d||"insideRight"===d;if(T)"insideLeft"===d?(B=(b[0][0]+b[3][0])/2+5,G=(b[0][1]+b[3][1])/2,z="left"):"insideRight"===d?(B=(b[1][0]+b[2][0])/2-5,G=(b[1][1]+b[2][1])/2,z="right"):(B=(b[0][0]+b[1][0]+b[2][0]+b[3][0])/4,G=(b[0][1]+b[1][1]+b[2][1]+b[3][1])/4,z="center"),te=[[B,G],[B,G]];else{var se=void 0,Ae=void 0,ze=void 0,Be=void 0,We=v.get("length");"left"===d?(Ae=(b[3][1]+b[0][1])/2,B=(ze=(se=(b[3][0]+b[0][0])/2)-We)-5,z="right"):"right"===d?(Ae=(b[1][1]+b[2][1])/2,B=(ze=(se=(b[1][0]+b[2][0])/2)+We)+5,z="left"):"top"===d?(se=(b[3][0]+b[0][0])/2,G=(Be=(Ae=(b[3][1]+b[0][1])/2)-We)-5,z="center"):"bottom"===d?(se=(b[1][0]+b[2][0])/2,G=(Be=(Ae=(b[1][1]+b[2][1])/2)+We)+5,z="center"):"rightTop"===d?(se="horizontal"===t?b[3][0]:b[1][0],Ae="horizontal"===t?b[3][1]:b[1][1],"horizontal"===t?(G=(Be=Ae-We)-5,z="center"):(B=(ze=se+We)+5,z="top")):"rightBottom"===d?(se=b[2][0],Ae=b[2][1],"horizontal"===t?(G=(Be=Ae+We)+5,z="center"):(B=(ze=se+We)+5,z="bottom")):"leftTop"===d?(se=b[0][0],Ae="horizontal"===t?b[0][1]:b[1][1],"horizontal"===t?(G=(Be=Ae-We)-5,z="center"):(B=(ze=se-We)-5,z="right")):"leftBottom"===d?(se="horizontal"===t?b[1][0]:b[3][0],Ae="horizontal"===t?b[1][1]:b[2][1],"horizontal"===t?(G=(Be=Ae+We)+5,z="center"):(B=(ze=se-We)-5,z="right")):(se=(b[1][0]+b[2][0])/2,Ae=(b[1][1]+b[2][1])/2,"horizontal"===t?(G=(Be=Ae+We)+5,z="center"):(B=(ze=se+We)+5,z="left")),"horizontal"===t?B=ze=se:G=Be=Ae,te=[[se,Ae],[ze,Be]]}_.label={linePoints:te,x:B,y:G,verticalAlign:"middle",textAlign:z,inside:T}})}(i)})}function Kc(a,n,t,i){for(var l=[],u=0;u<t.length;u++){var d=t[u],v=a.get(a.mapDimension(d),n);$d(v,i.getAxis(d).type)||l.push(i.dataToPoint(v,d))}return l}function V4(a,n,t,i,l){var u=Kc(a,t,i,l),d=new Ht.Z({shape:{points:u},z2:10});return n.add(d),a.setItemGraphicEl(t,d),d}function Kd(a){var n=a.get("smooth",!0);return!0===n&&(n=.3),n=(0,Xt.FK)(n),(0,y.eqNaN)(n)&&(n=0),{smooth:n}}function Hh(a,n,t,i){a.useStyle(n.getItemVisual(t,"style")),a.style.fill=null,a.setShape("smooth",i.smooth);var l=n.getItemModel(t),u=l.getModel("emphasis");(0,Xn.WO)(a,l,"lineStyle"),(0,Xn.vF)(a,u.get("focus"),u.get("blurScope"))}function $d(a,n){return"category"===n?null==a:null==a||isNaN(a)}const Xd=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t._dataGroup=new pr.Z,t._initialized=!1,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(t,i,l,u){var d=this._dataGroup,v=t.getData(),_=this._data,b=t.coordinateSystem,T=b.dimensions,z=Kd(t);if(v.diff(_).add(function(Ae){Hh(V4(v,d,Ae,T,b),v,Ae,z)}).update(function(Ae,ze){var Be=_.getItemGraphicEl(ze),We=Kc(v,Ae,T,b);v.setItemGraphicEl(Ae,Be),lr.D(Be,{shape:{points:We}},t,Ae),(0,lr.Zi)(Be),Hh(Be,v,Ae,z)}).remove(function(Ae){var ze=_.getItemGraphicEl(Ae);d.remove(ze)}).execute(),!this._initialized){this._initialized=!0;var se=function(a,n,t){var i=a.model,l=a.getRect(),u=new ri.Z({shape:{x:l.x,y:l.y,width:l.width,height:l.height}}),d="horizontal"===i.get("layout")?"width":"height";return u.setShape(d,0),lr.KZ(u,{shape:{width:l.width,height:l.height}},n,t),u}(b,t,function(){setTimeout(function(){d.removeClipPath()})});d.setClipPath(se)}this._data=v},n.prototype.incrementalPrepareRender=function(t,i,l){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(t,i,l){for(var u=i.getData(),d=i.coordinateSystem,v=d.dimensions,_=Kd(i),b=t.start;b<t.end;b++){var T=V4(u,this._dataGroup,b,v,d);T.incremental=!0,Hh(T,u,b,_)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n}(Fr.Z);function Ml(a){var n=a.ecModel.getComponent("parallel",a.get("parallelIndex"));if(n){var t={};return(0,y.each)(n.dimensions,function(i){var l=function(a){return+a.replace("dim","")}(i);t[i]=l}),t}}const Pf=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t,i){return(0,er.Z)(null,this,{useEncodeDefaulter:(0,y.bind)(Ml,null,this)})},n.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,l=this.getData(),u=[];return i.eachActiveState(l,function(d,v){t===d&&u.push(l.getRawIndex(v))}),u},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(Un.Z);var ll=["lineStyle","opacity"];const Lf={seriesType:"parallel",reset:function(a,n){var t=a.coordinateSystem,i={normal:a.get(["lineStyle","opacity"]),active:a.get("activeOpacity"),inactive:a.get("inactiveOpacity")};return{progress:function(l,u){t.eachActiveState(u,function(d,v){var _=i[d];if("normal"===d&&u.hasItemOption){var b=u.getItemModel(v).get(ll,!0);null!=b&&(_=b)}u.ensureUniqueItemVisual(v,"style").opacity=_},l.start,l.end)}}}};function P2(a){(function(a){if(!a.parallel){var n=!1;y.each(a.series,function(t){t&&"parallel"===t.type&&(n=!0)}),n&&(a.parallel=[{}])}})(a),function(a){var n=fr.kF(a.parallelAxis);y.each(n,function(t){if(y.isObject(t)){var i=t.parallelIndex||0,l=fr.kF(a.parallel)[i];l&&l.parallelAxisDefault&&y.merge(t,l.parallelAxisDefault,!1)}})}(a)}var Vs=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){this._model=t,this._api=l,this._handlers||(this._handlers={},(0,y.each)(Y4,function(u,d){l.getZr().on(d,this._handlers[d]=(0,y.bind)(u,this))},this)),(0,zr.T9)(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(t,i){(0,y.each)(this._handlers,function(l,u){i.getZr().off(u,l)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},n.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction((0,y.extend)({type:"parallelAxisExpand"},t))},n.type="parallel",n}(qt.Z),Y4={mousedown:function(a){Of(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var n=this._mouseDownPoint;if(Of(this,"click")&&n){var t=[a.offsetX,a.offsetY];if(Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)>5)return;var l=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);"none"!==l.behavior&&this._dispatchExpand({axisExpandWindow:l.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!this._mouseDownPoint&&Of(this,"mousemove")){var n=this._model,t=n.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),i=t.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:t.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function Of(a,n){var t=a._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===n}const N3=Vs,L2=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(t){t&&y.merge(this.option,t,!0),this._initDimensions()},n.prototype.contains=function(t,i){var l=t.get("parallelIndex");return null!=l&&i.getComponent("parallel",l)===this},n.prototype.setAxisExpand=function(t){y.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},n.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[],l=y.filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(u){return(u.get("parallelIndex")||0)===this.componentIndex},this);y.each(l,function(u){t.push("dim"+u.get("dim")),i.push(u.componentIndex)})},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n}(Cn.Z),G4=function(a){function n(t,i,l,u,d){var v=a.call(this,t,i,l)||this;return v.type=u||"value",v.axisIndex=d,v}return(0,Zt.ZT)(n,a),n.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},n}(ma.Z);function Bl(a,n,t,i,l,u){a=a||0;var d=t[1]-t[0];if(null!=l&&(l=Yu(l,[0,d])),null!=u&&(u=Math.max(u,null!=l?l:0)),"all"===i){var v=Math.abs(n[1]-n[0]);v=Yu(v,[0,d]),l=u=Yu(v,[l,u]),i=0}n[0]=Yu(n[0],t),n[1]=Yu(n[1],t);var _=Qd(n,i);n[i]+=a;var z,b=l||0,T=t.slice();return _.sign<0?T[0]+=b:T[1]-=b,n[i]=Yu(n[i],T),z=Qd(n,i),null!=l&&(z.sign!==_.sign||z.span<l)&&(n[1-i]=n[i]+_.sign*l),z=Qd(n,i),null!=u&&z.span>u&&(n[1-i]=n[i]+z.sign*u),n}function Qd(a,n){var t=a[n]-a[1-n];return{span:Math.abs(t),sign:t>0?-1:t<0?1:n?-1:1}}function Yu(a,n){return Math.min(null!=n[1]?n[1]:1/0,Math.max(null!=n[0]?n[0]:-1/0,a))}var Rf=y.each,z2=Math.min,Jd=Math.max,O2=Math.floor,I2=Math.ceil,R2=Xt.NM,W4=Math.PI;function Gu(a,n){return z2(Jd(a,n[0]),n[1])}function N2(a,n){var t=n.layoutLength/(n.axisCount-1);return{position:t*a,axisNameAvailableWidth:t,axisLabelShow:!0}}function Dl(a,n){var v,T,i=n.axisExpandWidth,u=n.axisCollapseWidth,d=n.winInnerIndices,_=u,b=!1;return a<d[0]?(v=a*u,T=u):a<=d[1]?(v=n.axisExpandWindow0Pos+a*i-n.axisExpandWindow[0],_=i,b=!0):(v=n.layoutLength-(n.axisCount-1-a)*u,T=u),{position:v,axisNameAvailableWidth:_,axisLabelShow:b,nameTruncateMaxWidth:T}}const Nf=function(){function a(n,t,i){this.type="parallel",this._axesMap=y.createHashMap(),this._axesLayout={},this.dimensions=n.dimensions,this._model=n,this._init(n,t,i)}return a.prototype._init=function(n,t,i){var u=n.parallelAxisIndex;Rf(n.dimensions,function(d,v){var _=u[v],b=t.getComponent("parallelAxis",_),T=this._axesMap.set(d,new G4(d,Da.aG(b),[0,0],b.get("type"),_));T.onBand="category"===T.type&&b.get("boundaryGap"),T.inverse=b.get("inverse"),b.axis=T,T.model=b,T.coordinateSystem=b.coordinateSystem=this},this)},a.prototype.update=function(n,t){this._updateAxesFromSeries(this._model,n)},a.prototype.containPoint=function(n){var t=this._makeLayoutInfo(),i=t.axisBase,l=t.layoutBase,u=t.pixelDimIndex,d=n[1-u],v=n[u];return d>=i&&d<=i+t.axisLength&&v>=l&&v<=l+t.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(n,t){t.eachSeries(function(i){if(n.contains(i,t)){var l=i.getData();Rf(this.dimensions,function(u){var d=this._axesMap.get(u);d.scale.unionExtentFromData(l,l.mapDimension(u)),Da.Jk(d.scale,d.model)},this)}},this)},a.prototype.resize=function(n,t){this._rect=Mi.ME(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var te,n=this._model,t=this._rect,i=["x","y"],l=["width","height"],u=n.get("layout"),d="horizontal"===u?0:1,v=t[l[d]],_=[0,v],b=this.dimensions.length,T=Gu(n.get("axisExpandWidth"),_),z=Gu(n.get("axisExpandCount")||0,[0,b]),B=n.get("axisExpandable")&&b>3&&b>z&&z>1&&T>0&&v>0,G=n.get("axisExpandWindow");G?(te=Gu(G[1]-G[0],_),G[1]=G[0]+te):(te=Gu(T*(z-1),_),(G=[T*(n.get("axisExpandCenter")||O2(b/2))-te/2])[1]=G[0]+te);var Ae=(v-te)/(b-z);Ae<3&&(Ae=0);var ze=[O2(R2(G[0]/T,1))+1,I2(R2(G[1]/T,1))-1];return{layout:u,pixelDimIndex:d,layoutBase:t[i[d]],layoutLength:v,axisBase:t[i[1-d]],axisLength:t[l[1-d]],axisExpandable:B,axisExpandWidth:T,axisCollapseWidth:Ae,axisExpandWindow:G,axisCount:b,winInnerIndices:ze,axisExpandWindow0Pos:Ae/T*G[0]}},a.prototype._layoutAxes=function(){var n=this._rect,t=this._axesMap,i=this.dimensions,l=this._makeLayoutInfo(),u=l.layout;t.each(function(d){var v=[0,l.axisLength],_=d.inverse?1:0;d.setExtent(v[_],v[1-_])}),Rf(i,function(d,v){var _=(l.axisExpandable?Dl:N2)(v,l),b={horizontal:{x:_.position,y:l.axisLength},vertical:{x:0,y:_.position}},z=[b[u].x+n.x,b[u].y+n.y],B={horizontal:W4/2,vertical:0}[u],G=Ni.create();Ni.rotate(G,G,B),Ni.translate(G,G,z),this._axesLayout[d]={position:z,rotation:B,transform:G,axisNameAvailableWidth:_.axisNameAvailableWidth,axisLabelShow:_.axisLabelShow,nameTruncateMaxWidth:_.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(n){return this._axesMap.get(n)},a.prototype.dataToPoint=function(n,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(n),t)},a.prototype.eachActiveState=function(n,t,i,l){null==i&&(i=0),null==l&&(l=n.count());var u=this._axesMap,d=this.dimensions,v=[],_=[];y.each(d,function(Ae){v.push(n.mapDimension(Ae)),_.push(u.get(Ae).model)});for(var b=this.hasAxisBrushed(),T=i;T<l;T++){var z=void 0;if(b){z="active";for(var B=n.getValues(v,T),G=0,te=d.length;G<te;G++)if("inactive"===_[G].getActiveState(B[G])){z="inactive";break}}else z="normal";t(z,T)}},a.prototype.hasAxisBrushed=function(){for(var n=this.dimensions,t=this._axesMap,i=!1,l=0,u=n.length;l<u;l++)"normal"!==t.get(n[l]).model.getActiveState()&&(i=!0);return i},a.prototype.axisCoordToPoint=function(n,t){return ln.applyTransform([n,0],this._axesLayout[t].transform)},a.prototype.getAxisLayout=function(n){return y.clone(this._axesLayout[n])},a.prototype.getSlidedAxisExpandWindow=function(n){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,l=t.axisExpandWindow.slice(),u=l[1]-l[0],d=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:l};var _,v=n[i]-t.layoutBase-t.axisExpandWindow0Pos,b="slide",T=t.axisCollapseWidth,z=this._model.get("axisExpandSlideTriggerArea"),B=null!=z[0];if(T)B&&T&&v<u*z[0]?(b="jump",_=v-u*z[2]):B&&T&&v>u*(1-z[0])?(b="jump",_=v-u*(1-z[2])):(_=v-u*z[1])>=0&&(_=v-u*(1-z[1]))<=0&&(_=0),(_*=t.axisExpandWidth/T)?Bl(_,l,d,"all"):b="none";else{var G=l[1]-l[0];(l=[Jd(0,d[1]*v/G-G/2)])[1]=z2(d[1],l[0]+G),l[0]=l[1]-G}return{axisExpandWindow:l,behavior:b}},a}(),k3={create:function(a,n){var t=[];return a.eachComponent("parallel",function(i,l){var u=new Nf(i,a,n);u.name="parallel_"+l,u.resize(i,n),i.coordinateSystem=u,u.model=i,t.push(u)}),a.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var l=i.getReferringComponents("parallel",fr.C6).models[0];i.coordinateSystem=l.coordinateSystem}}),t}};var e1=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.activeIntervals=[],t}return(0,Zt.ZT)(n,a),n.prototype.getAreaSelectStyle=function(){return(0,ef.Z)([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=y.clone(t);if(i)for(var l=i.length-1;l>=0;l--)Xt.dt(i[l])},n.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===i.length){var l=i[0];if(l[0]<=t&&t<=l[1])return"active"}else for(var u=0,d=i.length;u<d;u++)if(i[u][0]<=t&&t<=i[u][1])return"active";return"inactive"},n}(Cn.Z);y.mixin(e1,Gn.W);const t1=e1;var pc=!0,tl=Math.min,Vl=Math.max,K4=Math.pow,Hl="globalPan",Xc={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Uh={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},os={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Wu=0,Bf=function(a){function n(t){var i=a.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new pr.Z,i._uid="brushController_"+Wu++,(0,y.each)(Zu,function(l,u){this._handlers[u]=(0,y.bind)(l,this)},i),i}return(0,Zt.ZT)(n,a),n.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},n.prototype._doEnableBrush=function(t){var i=this._zr;this._enableGlobalPan||function(a,n,t){So(a).globalPan=t}(i,0,this._uid),(0,y.each)(this._handlers,function(l,u){i.on(u,l)}),this._brushType=t.brushType,this._brushOption=(0,y.merge)((0,y.clone)(os),t,!0)},n.prototype._doDisableBrush=function(){var t=this._zr;(function(a,n,t){var i=So(a);i[n]===t&&(i[n]=null)})(t,Hl,this._uid),(0,y.each)(this._handlers,function(i,l){t.off(l,i)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};(0,y.each)(t,function(l){i[l.panelId]=(0,y.clone)(l)})}else this._panels=null;return this},n.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},n.prototype.updateCovers=function(t){t=(0,y.map)(t,function(B){return(0,y.merge)((0,y.clone)(os),B,!0)});var l=this._covers,u=this._covers=[],d=this,v=this._creatingCover;return new ys.Z(l,t,function(B,G){return _(B.__brushOption,G)},_).add(T).update(T).remove(function(B){l[B]!==v&&d.group.remove(l[B])}).execute(),this;function _(B,G){return(null!=B.id?B.id:"\0-brush-index-"+G)+"-"+B.brushType}function T(B,G){var te=t[B];if(null!=G&&l[G]===v)u[B]=l[G];else{var se=u[B]=null!=G?(l[G].__brushOption=te,l[G]):Yh(d,Qc(d,te));r1(d,se)}}},n.prototype.unmount=function(){return this.enableBrush(!1),Hs(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(B0.Z);function Qc(a,n){var t=ju[n.brushType].createCover(a,n);return t.__brushOption=n,n1(t,n),a.group.add(t),t}function Yh(a,n){var t=a1(n);return t.endCreating&&(t.endCreating(a,n),n1(n,n.__brushOption)),n}function k2(a,n){var t=n.__brushOption;a1(n).updateCoverShape(a,n,t.range,t)}function n1(a,n){var t=n.z;null==t&&(t=1e4),a.traverse(function(i){i.z=t,i.z2=t})}function r1(a,n){a1(n).updateCommon(a,n),k2(a,n)}function a1(a){return ju[a.__brushOption.brushType]}function o1(a,n,t){var i=a._panels;if(!i)return pc;var l,u=a._transform;return(0,y.each)(i,function(d){d.isTargetByCursor(n,t,u)&&(l=d)}),l}function s1(a,n){var t=a._panels;if(!t)return pc;var i=n.__brushOption.panelId;return null!=i?t[i]:pc}function Hs(a){var n=a._covers,t=n.length;return(0,y.each)(n,function(i){a.group.remove(i)},a),n.length=0,!!t}function El(a,n){var t=(0,y.map)(a._covers,function(i){var l=i.__brushOption,u=(0,y.clone)(l.range);return{brushType:l.brushType,panelId:l.panelId,range:u}});a.trigger("brush",{areas:t,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function Vf(a){var n=a.length-1;return n<0&&(n=0),[a[0],a[n]]}function $4(a,n,t,i){var l=new pr.Z;return l.add(new ri.Z({name:"main",style:cl(t),silent:!0,draggable:!0,cursor:"move",drift:(0,y.curry)(Uf,a,n,l,["n","s","w","e"]),ondragend:(0,y.curry)(El,n,{isEnd:!0})})),(0,y.each)(i,function(u){l.add(new ri.Z({name:u.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,y.curry)(Uf,a,n,l,u),ondragend:(0,y.curry)(El,n,{isEnd:!0})}))}),l}function Jc(a,n,t,i){var l=i.brushStyle.lineWidth||0,u=Vl(l,6),d=t[0][0],v=t[1][0],_=d-l/2,b=v-l/2,T=t[0][1],z=t[1][1],B=T-u+l/2,G=z-u+l/2,te=T-d,se=z-v,Ae=te+l,ze=se+l;Us(a,n,"main",d,v,te,se),i.transformable&&(Us(a,n,"w",_,b,u,ze),Us(a,n,"e",B,b,u,ze),Us(a,n,"n",_,b,Ae,u),Us(a,n,"s",_,G,Ae,u),Us(a,n,"nw",_,b,u,u),Us(a,n,"ne",B,b,u,u),Us(a,n,"sw",_,G,u,u),Us(a,n,"se",B,G,u,u))}function l1(a,n){var t=n.__brushOption,i=t.transformable,l=n.childAt(0);l.useStyle(cl(t)),l.attr({silent:!i,cursor:i?"move":"default"}),(0,y.each)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(u){var d=n.childOfName(u.join("")),v=1===u.length?c1(a,u[0]):function(a,n){var t=[c1(a,n[0]),c1(a,n[1])];return("e"===t[0]||"w"===t[0])&&t.reverse(),t.join("")}(a,u);d&&d.attr({silent:!i,invisible:!i,cursor:i?Uh[v]+"-resize":null})})}function Us(a,n,t,i,l,u,d){var v=n.childOfName(t);v&&v.setShape(function(a){var n=tl(a[0][0],a[1][0]),t=tl(a[0][1],a[1][1]);return{x:n,y:t,width:Vl(a[0][0],a[1][0])-n,height:Vl(a[0][1],a[1][1])-t}}(Yf(a,n,[[i,l],[i+u,l+d]])))}function cl(a){return(0,y.defaults)({strokeNoScale:!0},a.brushStyle)}function X4(a,n,t,i){var l=[tl(a,t),tl(n,i)],u=[Vl(a,t),Vl(n,i)];return[[l[0],u[0]],[l[1],u[1]]]}function c1(a,n){var l=ln.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[n],function(a){return ln.getTransform(a.group)}(a));return{left:"w",right:"e",top:"n",bottom:"s"}[l]}function Uf(a,n,t,i,l,u){var d=t.__brushOption,v=a.toRectRange(d.range),_=u1(n,l,u);(0,y.each)(i,function(b){var T=Xc[b];v[T[0]][T[1]]+=_[T[0]]}),d.range=a.fromRectRange(X4(v[0][0],v[1][0],v[0][1],v[1][1])),r1(n,t),El(n,{isEnd:!1})}function J4(a,n,t,i){var l=n.__brushOption.range,u=u1(a,t,i);(0,y.each)(l,function(d){d[0]+=u[0],d[1]+=u[1]}),r1(a,n),El(a,{isEnd:!1})}function u1(a,n,t){var i=a.group,l=i.transformCoordToLocal(n,t),u=i.transformCoordToLocal(0,0);return[l[0]-u[0],l[1]-u[1]]}function Yf(a,n,t){var i=s1(a,n);return i&&i!==pc?i.clipPath(t,a._transform):(0,y.clone)(t)}function Ul(a){var n=a.event;n.preventDefault&&n.preventDefault()}function d1(a,n,t){return a.childOfName("main").contain(n,t)}function B2(a,n,t,i){var v,l=a._creatingCover,u=a._creatingPanel,d=a._brushOption;if(a._track.push(t.slice()),function(a){var n=a._track;if(!n.length)return!1;var t=n[n.length-1],i=n[0],l=t[0]-i[0],u=t[1]-i[1];return K4(l*l+u*u,.5)>6}(a)||l){if(u&&!l){"single"===d.brushMode&&Hs(a);var _=(0,y.clone)(d);_.brushType=V2(_.brushType,u),_.panelId=u===pc?null:u.panelId,l=a._creatingCover=Qc(a,_),a._covers.push(l)}if(l){var b=ju[V2(a._brushType,u)];l.__brushOption.range=b.getCreatingRange(Yf(a,l,a._track)),i&&(Yh(a,l),b.updateCommon(a,l)),k2(a,l),v={isEnd:i}}}else i&&"single"===d.brushMode&&d.removeOnClick&&o1(a,n,t)&&Hs(a)&&(v={isEnd:i,removeOnClick:!0});return v}function V2(a,n){return"auto"===a?n.defaultBrushType:a}var Zu={mousedown:function(a){if(this._dragging)f1(this,a);else if(!a.target||!a.target.draggable){Ul(a);var n=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null,(this._creatingPanel=o1(this,a,n))&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(a){var i=this.group.transformCoordToLocal(a.offsetX,a.offsetY);if(function(a,n,t){if(a._brushType&&!function(a,n,t){var i=a._zr;return n<0||n>i.getWidth()||t<0||t>i.getHeight()}(a,n.offsetX,n.offsetY)){var i=a._zr,l=a._covers,u=o1(a,n,t);if(!a._dragging)for(var d=0;d<l.length;d++){var v=l[d].__brushOption;if(u&&(u===pc||v.panelId===u.panelId)&&ju[v.brushType].contain(l[d],t[0],t[1]))return}u&&i.setCursorStyle("crosshair")}}(this,a,i),this._dragging){Ul(a);var l=B2(this,a,i,!1);l&&El(this,l)}},mouseup:function(a){f1(this,a)}};function f1(a,n){if(a._dragging){Ul(n);var l=a.group.transformCoordToLocal(n.offsetX,n.offsetY),u=B2(a,n,l,!0);a._dragging=!1,a._track=[],a._creatingCover=null,u&&El(a,u)}}var ju={lineX:qc(0),lineY:qc(1),rect:{createCover:function(a,n){function t(i){return i}return $4({toRectRange:t,fromRectRange:t},a,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var n=Vf(a);return X4(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(a,n,t,i){Jc(a,n,t,i)},updateCommon:l1,contain:d1},polygon:{createCover:function(a,n){var t=new pr.Z;return t.add(new Ht.Z({name:"main",style:cl(n),silent:!0})),t},getCreatingRange:function(a){return a},endCreating:function(a,n){n.remove(n.childAt(0)),n.add(new Ms.Z({name:"main",draggable:!0,drift:(0,y.curry)(J4,a,n),ondragend:(0,y.curry)(El,a,{isEnd:!0})}))},updateCoverShape:function(a,n,t,i){n.childAt(0).setShape({points:Yf(a,n,t)})},updateCommon:l1,contain:d1}};function qc(a){return{createCover:function(n,t){return $4({toRectRange:function(i){var l=[i,[0,100]];return a&&l.reverse(),l},fromRectRange:function(i){return i[a]}},n,t,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(n){var t=Vf(n);return[tl(t[0][a],t[1][a]),Vl(t[0][a],t[1][a])]},updateCoverShape:function(n,t,i,l){var u,d=s1(n,t);if(d!==pc&&d.getLinearBrushOtherExtent)u=d.getLinearBrushOtherExtent(a);else{var v=n._zr;u=[0,[v.getWidth(),v.getHeight()][1-a]]}var _=[i,u];a&&_.reverse(),Jc(n,t,_,l)},updateCommon:l1,contain:d1}}const Gf=Bf;function Ku(a){return a=Gh(a),function(n){return ln.clipPointsByRect(n,a)}}function $u(a,n){return a=Gh(a),function(t){var i=null!=n?n:t,u=i?a.x:a.y;return[u,u+((i?a.width:a.height)||0)]}}function to(a,n,t){var i=Gh(a);return function(l,u){return i.contain(u[0],u[1])&&!Qs(l,n,t)}}function Gh(a){return ao.Z.create(a)}var Ia=["axisLine","axisTickLabel","axisName"];const H2=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i){a.prototype.init.apply(this,arguments),(this._brushController=new Gf(i.getZr())).on("brush",y.bind(this._onBrush,this))},n.prototype.render=function(t,i,l,u){if(!function(a,n,t){return t&&"axisAreaSelect"===t.type&&n.findComponents({mainType:"parallelAxis",query:t})[0]===a}(t,i,u)){this.axisModel=t,this.api=l,this.group.removeAll();var d=this._axisGroup;if(this._axisGroup=new pr.Z,this.group.add(this._axisGroup),t.get("show")){var v=function(a,n){return n.getComponent("parallel",a.get("parallelIndex"))}(t,i),_=v.coordinateSystem,b=t.getAreaSelectStyle(),T=b.width,B=_.getAxisLayout(t.axis.dim),G=y.extend({strokeContainThreshold:T},B),te=new vl(t,G);y.each(Ia,te.add,te),this._axisGroup.add(te.getGroup()),this._refreshBrushController(G,b,t,v,T,l),ln.groupTransition(d,this._axisGroup,t)}}},n.prototype._refreshBrushController=function(t,i,l,u,d,v){var _=l.axis.getExtent(),b=_[1]-_[0],T=Math.min(30,.1*Math.abs(b)),z=ao.Z.create({x:_[0],y:-d/2,width:b,height:d});z.x-=T,z.width+=2*T,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Ku(z),isTargetByCursor:to(z,v,u),getLinearBrushOtherExtent:$u(z,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(function(a){var n=a.axis;return y.map(a.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(t[0],!0),n.dataToCoord(t[1],!0)]}})}(l))},n.prototype._onBrush=function(t){var l=this.axisModel,u=l.axis,d=y.map(t.areas,function(v){return[u.coordToData(v.range[0],!0),u.coordToData(v.range[1],!0)]});(!l.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:l.id,intervals:d})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n}(qt.Z);var U2={type:"axisAreaSelect",event:"axisAreaSelected"},G2={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function W2(a){a.registerComponentView(N3),a.registerComponentModel(L2),a.registerCoordinateSystem("parallel",k3),a.registerPreprocessor(P2),a.registerComponentModel(t1),a.registerComponentView(H2),Za(a,"parallel",t1,G2),function(a){a.registerAction(U2,function(n,t){t.eachComponent({mainType:"parallelAxis",query:n},function(i){i.axis.model.setActiveIntervals(n.intervals)})}),a.registerAction("parallelAxisExpand",function(n,t){t.eachComponent({mainType:"parallel",query:n},function(i){i.setAxisExpand(n)})})}(a)}var Zh=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},Zf=function(a){function n(t){return a.call(this,t)||this}return(0,Zt.ZT)(n,a),n.prototype.getDefaultShape=function(){return new Zh},n.prototype.buildPath=function(t,i){var l=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(t.lineTo(i.x2+l,i.y2),t.bezierCurveTo(i.cpx2+l,i.cpy2,i.cpx1+l,i.cpy1,i.x1+l,i.y1)):(t.lineTo(i.x2,i.y2+l),t.bezierCurveTo(i.cpx2,i.cpy2+l,i.cpx1,i.cpy1+l,i.x1,i.y1+l)),t.closePath()},n.prototype.highlight=function(){(0,Xn.fD)(this)},n.prototype.downplay=function(){(0,Xn.Mh)(this)},n}(ce.ZP);const j2=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t._focusAdjacencyDisabled=!1,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=this,d=t.getGraph(),v=this.group,_=t.layoutInfo,b=_.width,T=_.height,z=t.getData(),B=t.getData("edge"),G=t.get("orient");this._model=t,v.removeAll(),v.x=_.x,v.y=_.y,d.eachEdge(function(te){var se=new Zf,Ae=(0,Hr.A)(se);Ae.dataIndex=te.dataIndex,Ae.seriesIndex=t.seriesIndex,Ae.dataType="edge";var kn,Bn,Vn,rr,Sr,hr,Vr,yi,ze=te.getModel(),Be=ze.getModel("lineStyle"),We=Be.get("curveness"),ut=te.node1.getLayout(),mt=te.node1.getModel(),vt=mt.get("localX"),At=mt.get("localY"),Gt=te.node2.getLayout(),on=te.node2.getModel(),bn=on.get("localX"),yn=on.get("localY"),On=te.getLayout();switch(se.shape.extent=Math.max(1,On.dy),se.shape.orient=G,"vertical"===G?(Sr=kn=(null!=vt?vt*b:ut.x)+On.sy,hr=(Bn=(null!=At?At*T:ut.y)+ut.dy)*(1-We)+(rr=null!=yn?yn*T:Gt.y)*We,Vr=Vn=(null!=bn?bn*b:Gt.x)+On.ty,yi=Bn*We+rr*(1-We)):(Sr=(kn=(null!=vt?vt*b:ut.x)+ut.dx)*(1-We)+(Vn=null!=bn?bn*b:Gt.x)*We,hr=Bn=(null!=At?At*T:ut.y)+On.sy,Vr=kn*We+Vn*(1-We),yi=rr=(null!=yn?yn*T:Gt.y)+On.ty),se.setShape({x1:kn,y1:Bn,x2:Vn,y2:rr,cpx1:Sr,cpy1:hr,cpx2:Vr,cpy2:yi}),se.useStyle(Be.getItemStyle()),se.style.fill){case"source":se.style.fill=te.node1.getVisual("color"),se.style.decal=te.node1.getVisual("style").decal;break;case"target":se.style.fill=te.node2.getVisual("color"),se.style.decal=te.node2.getVisual("style").decal;break;case"gradient":var hi=te.node1.getVisual("color"),Xi=te.node2.getVisual("color");"string"==typeof hi&&"string"==typeof Xi&&(se.style.fill=new Hi.Z(0,0,+("horizontal"===G),+("vertical"===G),[{color:hi,offset:0},{color:Xi,offset:1}]))}var ya=ze.getModel("emphasis");(0,Xn.WO)(se,ze,"lineStyle",function(ea){return ea.getItemStyle()}),v.add(se),B.setItemGraphicEl(te.dataIndex,se);var fa=ya.get("focus");(0,Xn.vF)(se,"adjacency"===fa?te.getAdjacentDataIndices():fa,ya.get("blurScope")),(0,Hr.A)(se).dataType="edge"}),d.eachNode(function(te){var se=te.getLayout(),Ae=te.getModel(),ze=Ae.get("localX"),Be=Ae.get("localY"),We=Ae.getModel("emphasis"),ut=new ri.Z({shape:{x:null!=ze?ze*b:se.x,y:null!=Be?Be*T:se.y,width:se.dx,height:se.dy},style:Ae.getModel("itemStyle").getItemStyle(),z2:10});(0,$n.ni)(ut,(0,$n.k3)(Ae),{labelFetcher:t,labelDataIndex:te.dataIndex,defaultText:te.id}),ut.disableLabelAnimation=!0,ut.setStyle("fill",te.getVisual("color")),ut.setStyle("decal",te.getVisual("style").decal),(0,Xn.WO)(ut,Ae),v.add(ut),z.setItemGraphicEl(te.dataIndex,ut),(0,Hr.A)(ut).dataType="node";var mt=We.get("focus");(0,Xn.vF)(ut,"adjacency"===mt?te.getAdjacentDataIndices():mt,We.get("blurScope"))}),z.eachItemGraphicEl(function(te,se){z.getItemModel(se).get("draggable")&&(te.drift=function(ze,Be){u._focusAdjacencyDisabled=!0,this.shape.x+=ze,this.shape.y+=Be,this.dirty(),l.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:z.getRawIndex(se),localX:this.shape.x/b,localY:this.shape.y/T})},te.ondragend=function(){u._focusAdjacencyDisabled=!1},te.draggable=!0,te.cursor="move")}),!this._data&&t.isAnimationEnabled()&&v.setClipPath(function(a,n,t){var i=new ri.Z({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return lr.KZ(i,{shape:{width:a.width+20}},n,function(){v.removeClipPath()}),i}(v.getBoundingRect(),t)),this._data=t.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(Fr.Z),Kf=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t,i){var l=t.edges||t.links,u=t.data||t.nodes,d=t.levels;this.levelModels=[];for(var v=this.levelModels,_=0;_<d.length;_++)null!=d[_].depth&&d[_].depth>=0&&(v[d[_].depth]=new Yr.Z(d[_],this,i));if(u&&l)return Zd(u,l,this,!0,function(z,B){z.wrapMethod("getItemModel",function(G,te){var se=G.parentModel,Ae=se.getData().getItemLayout(te);if(Ae){var Be=se.levelModels[Ae.depth];Be&&(G.parentModel=Be)}return G}),B.wrapMethod("getItemModel",function(G,te){var se=G.parentModel,ze=se.getGraph().getEdgeByIndex(te).node1.getLayout();if(ze){var We=se.levelModels[ze.depth];We&&(G.parentModel=We)}return G})}).data},n.prototype.setNodePosition=function(t,i){var u=(this.option.data||this.option.nodes)[t];u.localX=i[0],u.localY=i[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(t,i,l){function u(G){return isNaN(G)||null==G}if("edge"===l){var d=this.getDataParams(t,l),v=d.data,_=d.value;return(0,vo.TX)("nameValue",{name:v.source+" -- "+v.target,value:_,noValue:u(_)})}var z=this.getGraph().getNodeByIndex(t).getLayout().value,B=this.getDataParams(t,l).data.name;return(0,vo.TX)("nameValue",{name:null!=B?B+"":null,value:z,noValue:u(z)})},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(t,i){var l=a.prototype.getDataParams.call(this,t,i);if(null==l.value&&"node"===i){var d=this.getGraph().getNodeByIndex(t).getLayout().value;l.value=d}return l},n.type="series.sankey",n.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(Un.Z);function K2(a,n){a.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),l=t.get("nodeGap"),u=function(a,n){return Mi.ME(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}(t,n);t.layoutInfo=u;var d=u.width,v=u.height,_=t.getGraph(),b=_.nodes,T=_.edges;!function(a){y.each(a,function(n){var t=ss(n.outEdges,eu),i=ss(n.inEdges,eu),l=n.getValue()||0,u=Math.max(t,i,l);n.setLayout({value:u},!0)})}(b),function(a,n,t,i,l,u,d,v,_){(function(a,n,t,i,l,u,d){for(var v=[],_=[],b=[],T=[],z=0,B=0;B<n.length;B++)v[B]=1;for(B=0;B<a.length;B++)_[B]=a[B].inEdges.length,0===_[B]&&b.push(a[B]);for(var G=-1;b.length;){for(var te=0;te<b.length;te++){var se=b[te],Ae=se.hostGraph.data.getRawDataItem(se.dataIndex),ze=null!=Ae.depth&&Ae.depth>=0;ze&&Ae.depth>G&&(G=Ae.depth),se.setLayout({depth:ze?Ae.depth:z},!0),se.setLayout("vertical"===u?{dy:t}:{dx:t},!0);for(var Be=0;Be<se.outEdges.length;Be++){var We=se.outEdges[Be];v[n.indexOf(We)]=0;var mt=We.node2;0==--_[a.indexOf(mt)]&&T.indexOf(mt)<0&&T.push(mt)}}++z,b=T,T=[]}for(B=0;B<v.length;B++)if(1===v[B])throw new Error("Sankey is a DAG, the original data has cycle!");var At=G>z-1?G:z-1;d&&"left"!==d&&function(a,n,t,i){if("right"===n){for(var l=[],u=a,d=0;u.length;){for(var v=0;v<u.length;v++){var _=u[v];_.setLayout({skNodeHeight:d},!0);for(var b=0;b<_.inEdges.length;b++){var T=_.inEdges[b];l.indexOf(T.node1)<0&&l.push(T.node1)}}u=l,l=[],++d}y.each(a,function(z){$f(z)||z.setLayout({depth:Math.max(0,i-z.getLayout().skNodeHeight)},!0)})}else"justify"===n&&function(a,n){y.each(a,function(t){!$f(t)&&!t.outEdges.length&&t.setLayout({depth:n},!0)})}(a,i)}(a,d,0,At),function(a,n,t){y.each(a,function(i){var l=i.getLayout().depth*n;i.setLayout("vertical"===t?{y:l}:{x:l},!0)})}(a,"vertical"===u?(l-t)/At:(i-t)/At,u)})(a,n,t,l,u,v,_),function(a,n,t,i,l,u,d){var v=function(a,n){var t=[],i="vertical"===n?"y":"x",l=(0,fr.pv)(a,function(u){return u.getLayout()[i]});return l.keys.sort(function(u,d){return u-d}),y.each(l.keys,function(u){t.push(l.buckets.get(u))}),t}(a,d);(function(a,n,t,i,l,u){var d=1/0;y.each(a,function(v){var _=v.length,b=0;y.each(v,function(z){b+=z.getLayout().value});var T="vertical"===u?(i-(_-1)*l)/b:(t-(_-1)*l)/b;T<d&&(d=T)}),y.each(a,function(v){y.each(v,function(_,b){var T=_.getLayout().value*d;"vertical"===u?(_.setLayout({x:b},!0),_.setLayout({dx:T},!0)):(_.setLayout({y:b},!0),_.setLayout({dy:T},!0))})}),y.each(n,function(v){var _=+v.getValue()*d;v.setLayout({dy:_},!0)})})(v,n,t,i,l,d),v1(v,l,t,i,d);for(var _=1;u>0;u--)q2(v,_*=.99,d),v1(v,l,t,i,d),yc(v,_,d),v1(v,l,t,i,d)}(a,n,u,l,i,d,v),function(a,n){var t="vertical"===n?"x":"y";y.each(a,function(i){i.outEdges.sort(function(l,u){return l.node2.getLayout()[t]-u.node2.getLayout()[t]}),i.inEdges.sort(function(l,u){return l.node1.getLayout()[t]-u.node1.getLayout()[t]})}),y.each(a,function(i){var l=0,u=0;y.each(i.outEdges,function(d){d.setLayout({sy:l},!0),l+=d.getLayout().dy}),y.each(i.inEdges,function(d){d.setLayout({ty:u},!0),u+=d.getLayout().dy})})}(a,v)}(b,T,i,l,d,v,0!==y.filter(b,function(se){return 0===se.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function $f(a){var n=a.hostGraph.data.getRawDataItem(a.dataIndex);return null!=n.depth&&n.depth>=0}function v1(a,n,t,i,l){var u="vertical"===l?"x":"y";y.each(a,function(d){d.sort(function(se,Ae){return se.getLayout()[u]-Ae.getLayout()[u]});for(var v,_,b,T=0,z=d.length,B="vertical"===l?"dx":"dy",G=0;G<z;G++)(b=T-(_=d[G]).getLayout()[u])>0&&(v=_.getLayout()[u]+b,_.setLayout("vertical"===l?{x:v}:{y:v},!0)),T=_.getLayout()[u]+_.getLayout()[B]+n;if((b=T-n-("vertical"===l?i:t))>0)for(v=_.getLayout()[u]-b,_.setLayout("vertical"===l?{x:v}:{y:v},!0),T=v,G=z-2;G>=0;--G)(b=(_=d[G]).getLayout()[u]+_.getLayout()[B]+n-T)>0&&(v=_.getLayout()[u]-b,_.setLayout("vertical"===l?{x:v}:{y:v},!0)),T=_.getLayout()[u]})}function q2(a,n,t){y.each(a.slice().reverse(),function(i){y.each(i,function(l){if(l.outEdges.length){var u=ss(l.outEdges,Uo,t)/ss(l.outEdges,eu);if(isNaN(u)){var d=l.outEdges.length;u=d?ss(l.outEdges,nl,t)/d:0}if("vertical"===t){var v=l.getLayout().x+(u-Al(l,t))*n;l.setLayout({x:v},!0)}else{var _=l.getLayout().y+(u-Al(l,t))*n;l.setLayout({y:_},!0)}}})})}function Uo(a,n){return Al(a.node2,n)*a.getValue()}function nl(a,n){return Al(a.node2,n)}function mc(a,n){return Al(a.node1,n)*a.getValue()}function Xf(a,n){return Al(a.node1,n)}function Al(a,n){return"vertical"===n?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function eu(a){return a.getValue()}function ss(a,n,t){for(var i=0,l=a.length,u=-1;++u<l;){var d=+n(a[u],t);isNaN(d)||(i+=d)}return i}function yc(a,n,t){y.each(a,function(i){y.each(i,function(l){if(l.inEdges.length){var u=ss(l.inEdges,mc,t)/ss(l.inEdges,eu);if(isNaN(u)){var d=l.inEdges.length;u=d?ss(l.inEdges,Xf,t)/d:0}if("vertical"===t){var v=l.getLayout().x+(u-Al(l,t))*n;l.setLayout({x:v},!0)}else{var _=l.getLayout().y+(u-Al(l,t))*n;l.setLayout({y:_},!0)}}})})}function Yl(a){a.eachSeriesByType("sankey",function(n){var i=n.getGraph().nodes;if(i.length){var l=1/0,u=-1/0;y.each(i,function(d){var v=d.getLayout().value;v<l&&(l=v),v>u&&(u=v)}),y.each(i,function(d){var _=new Ho({type:"color",mappingMethod:"linear",dataExtent:[l,u],visual:n.get("color")}).mapValueToVisual(d.getLayout().value),b=d.getModel().get(["itemStyle","color"]);null!=b?(d.setVisual("color",b),d.setVisual("style",{fill:b})):(d.setVisual("color",_),d.setVisual("style",{fill:_}))})}})}var p1=E(8100),Xh=function(){function a(){}return a.prototype.getInitialData=function(n,t){var i,_,l=t.getComponent("xAxis",this.get("xAxisIndex")),u=t.getComponent("yAxis",this.get("yAxisIndex")),d=l.get("type"),v=u.get("type");"category"===d?(n.layout="horizontal",i=l.getOrdinalMeta(),_=!0):"category"===v?(n.layout="vertical",i=u.getOrdinalMeta(),_=!0):n.layout=n.layout||"horizontal";var b=["x","y"],T="horizontal"===n.layout?0:1,z=this._baseAxisDim=b[T],B=b[1-T],G=[l,u],te=G[T].get("type"),se=G[1-T].get("type"),Ae=n.data;if(Ae&&_){var ze=[];y.each(Ae,function(ut,mt){var vt;y.isArray(ut)?(vt=ut.slice(),ut.unshift(mt)):y.isArray(ut.value)?((vt=y.extend({},ut)).value=vt.value.slice(),ut.value.unshift(mt)):vt=ut,ze.push(vt)}),n.data=ze}var Be=this.defaultValueDimensions,We=[{name:z,type:(0,p1.T)(te),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:B,type:(0,p1.T)(se),dimsDef:Be.slice()}];return xa(this,{coordDimensions:We,dimensionsCount:Be.length+1,encodeDefaulter:y.curry(Fo.pY,We,this)})},a.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},a}(),ev=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return(0,Zt.ZT)(n,a),n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(Un.Z);(0,y.mixin)(ev,Xh,!0);const sp=ev;var tv=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=t.getData(),d=this.group,v=this._data;this._data||d.removeAll();var _="horizontal"===t.get("layout")?1:0;u.diff(v).add(function(b){if(u.hasValue(b)){var z=Jf(u.getItemLayout(b),u,b,_,!0);u.setItemGraphicEl(b,z),d.add(z)}}).update(function(b,T){var z=v.getItemGraphicEl(T);if(u.hasValue(b)){var B=u.getItemLayout(b);z?((0,lr.Zi)(z),g1(B,z,u,b)):z=Jf(B,u,b,_),d.add(z),u.setItemGraphicEl(b,z)}else d.remove(z)}).remove(function(b){var T=v.getItemGraphicEl(b);T&&d.remove(T)}).execute(),this._data=u},n.prototype.remove=function(t){var i=this.group,l=this._data;this._data=null,l&&l.eachItemGraphicEl(function(u){u&&i.remove(u)})},n.type="boxplot",n}(Fr.Z),Qf=function(){},nv=function(a){function n(t){var i=a.call(this,t)||this;return i.type="boxplotBoxPath",i}return(0,Zt.ZT)(n,a),n.prototype.getDefaultShape=function(){return new Qf},n.prototype.buildPath=function(t,i){var l=i.points,u=0;for(t.moveTo(l[u][0],l[u][1]),u++;u<4;u++)t.lineTo(l[u][0],l[u][1]);for(t.closePath();u<l.length;u++)t.moveTo(l[u][0],l[u][1]),u++,t.lineTo(l[u][0],l[u][1])},n}(ce.ZP);function Jf(a,n,t,i,l){var u=a.ends,d=new nv({shape:{points:l?Qh(u,i,a):u}});return g1(a,d,n,t,l),d}function g1(a,n,t,i,l){(0,ln[l?"initProps":"updateProps"])(n,{shape:{points:a.ends}},t.hostModel,i),n.useStyle(t.getItemVisual(i,"style")),n.style.strokeNoScale=!0,n.z2=100;var v=t.getItemModel(i);(0,Xn.WO)(n,v),(0,Xn.vF)(n,v.get(["emphasis","focus"]),v.get(["emphasis","blurScope"]))}function Qh(a,n,t){return y.map(a,function(i){return(i=i.slice())[n]=t.initBaseline,i})}const lp=tv;function Jh(a,n){}var m1=y.each;function V3(a){var n=function(a){var n=[],t=[];return a.eachSeriesByType("boxplot",function(i){var l=i.getBaseAxis(),u=y.indexOf(t,l);u<0&&(t[u=t.length]=l,n[u]={axis:l,seriesModels:[]}),n[u].seriesModels.push(i)}),n}(a);m1(n,function(t){var i=t.seriesModels;!i.length||(function(a){var n,_,t=a.axis,i=a.seriesModels,l=i.length,u=a.boxWidthList=[],d=a.boxOffsetList=[],v=[];if("category"===t.type)_=t.getBandWidth();else{var b=0;m1(i,function(te){b=Math.max(b,te.getData().count())}),n=t.getExtent(),Math.abs(n[1]-n[0])}m1(i,function(te){var se=te.get("boxWidth");y.isArray(se)||(se=[se,se]),v.push([(0,Xt.GM)(se[0],_)||0,(0,Xt.GM)(se[1],_)||0])});var T=.8*_-2,z=T/l*.3,B=(T-z*(l-1))/l,G=B/2-T/2;m1(i,function(te,se){d.push(G),G+=z+B,u.push(Math.min(Math.max(B,v[se][0]),v[se][1]))})}(t),m1(i,function(l,u){!function(a,n,t){var i=a.coordinateSystem,l=a.getData(),u=t/2,d="horizontal"===a.get("layout")?0:1,v=1-d,_=["x","y"],b=l.mapDimension(_[d]),T=l.mapDimensionsAll(_[v]);if(!(null==b||T.length<5))for(var z=0;z<l.count();z++){var B=l.get(b,z),G=We(B,T[2],z),te=We(B,T[0],z),se=We(B,T[1],z),Ae=We(B,T[3],z),ze=We(B,T[4],z),Be=[];ut(Be,se,!1),ut(Be,Ae,!0),Be.push(te,se,ze,Ae),mt(Be,te),mt(Be,ze),mt(Be,G),l.setItemLayout(z,{initBaseline:G[v],ends:Be})}function We(vt,At,Gt){var yn,on=l.get(At,Gt),bn=[];return bn[d]=vt,bn[v]=on,isNaN(vt)||isNaN(on)?yn=[NaN,NaN]:(yn=i.dataToPoint(bn))[d]+=n,yn}function ut(vt,At,Gt){var on=At.slice(),bn=At.slice();on[d]+=u,bn[d]-=u,Gt?vt.push(on,bn):vt.push(bn,on)}function mt(vt,At){var Gt=At.slice(),on=At.slice();Gt[d]-=u,on[d]+=u,vt.push(Gt,on)}}(l,t.boxOffsetList[u],t.boxWidthList[u])}))})}var Ya=E(942),qh=E(616),hl={type:"echarts:boxplot",transform:function(n){var t=n.upstream;t.sourceFormat!==qh.XD&&(0,Ya._y)("");var l=function(a,n){for(var t=[],i=[],l=(n=n||{}).boundIQR,u="none"===l||0===l,d=0;d<a.length;d++){var v=(0,Xt.dt)(a[d].slice()),_=(0,Xt.VR)(v,.25),b=(0,Xt.VR)(v,.5),T=(0,Xt.VR)(v,.75),z=v[0],B=v[v.length-1],G=(null==l?1.5:l)*(T-_),te=u?z:Math.max(z,_-G),se=u?B:Math.min(B,T+G),Ae=n.itemNameFormatter,ze=(0,y.isFunction)(Ae)?Ae({value:d}):(0,y.isString)(Ae)?Ae.replace("{value}",d+""):d+"";t.push([ze,te,_,b,T,se]);for(var Be=0;Be<v.length;Be++){var We=v[Be];(We<te||We>se)&&i.push([ze,We])}}return{boxData:t,outliers:i}}(t.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:l.boxData},{data:l.outliers}]}},Xu=["color","borderColor"],ed=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},n.prototype.incrementalPrepareRender=function(t,i,l){this._clear(),this._updateDrawMode(t)},n.prototype.incrementalRender=function(t,i,l,u){this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},n.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},n.prototype._renderNormal=function(t){var i=t.getData(),l=this._data,u=this.group,d=i.getLayout("isSimpleBox"),v=t.get("clip",!0),_=t.coordinateSystem,b=_.getArea&&_.getArea();this._data||u.removeAll(),i.diff(l).add(function(T){if(i.hasValue(T)){var z=i.getItemLayout(T);if(v&&Qu(b,z))return;var B=nu(z,0,!0);lr.KZ(B,{shape:{points:z.ends}},t,T),_c(B,i,T,d),u.add(B),i.setItemGraphicEl(T,B)}}).update(function(T,z){var B=l.getItemGraphicEl(z);if(i.hasValue(T)){var G=i.getItemLayout(T);v&&Qu(b,G)?u.remove(B):(B?(lr.D(B,{shape:{points:G.ends}},t,T),(0,lr.Zi)(B)):B=nu(G),_c(B,i,T,d),u.add(B),i.setItemGraphicEl(T,B))}else u.remove(B)}).remove(function(T){var z=l.getItemGraphicEl(T);z&&u.remove(z)}).execute(),this._data=i},n.prototype._renderLarge=function(t){this._clear(),ov(t,this.group);var i=t.get("clip",!0)?xr(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(t,i){for(var d,l=i.getData(),u=l.getLayout("isSimpleBox");null!=(d=t.next());){var _=nu(l.getItemLayout(d));_c(_,l,d,u),_.incremental=!0,this.group.add(_)}},n.prototype._incrementalRenderLarge=function(t,i){ov(i,this.group,!0)},n.prototype.remove=function(t){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n}(Fr.Z),dl=function(){},td=function(a){function n(t){var i=a.call(this,t)||this;return i.type="normalCandlestickBox",i}return(0,Zt.ZT)(n,a),n.prototype.getDefaultShape=function(){return new dl},n.prototype.buildPath=function(t,i){var l=i.points;this.__simpleBox?(t.moveTo(l[4][0],l[4][1]),t.lineTo(l[6][0],l[6][1])):(t.moveTo(l[0][0],l[0][1]),t.lineTo(l[1][0],l[1][1]),t.lineTo(l[2][0],l[2][1]),t.lineTo(l[3][0],l[3][1]),t.closePath(),t.moveTo(l[4][0],l[4][1]),t.lineTo(l[5][0],l[5][1]),t.moveTo(l[6][0],l[6][1]),t.lineTo(l[7][0],l[7][1]))},n}(ce.ZP);function nu(a,n,t){var i=a.ends;return new td({shape:{points:t?Pl(i,a):i},z2:100})}function Qu(a,n){for(var t=!0,i=0;i<n.ends.length;i++)if(a.contain(n.ends[i][0],n.ends[i][1])){t=!1;break}return t}function _c(a,n,t,i){var l=n.getItemModel(t);a.useStyle(n.getItemVisual(t,"style")),a.style.strokeNoScale=!0,a.__simpleBox=i,(0,Xn.WO)(a,l)}function Pl(a,n){return y.map(a,function(t){return(t=t.slice())[1]=n.initBaseline,t})}var nd=function(){},av=function(a){function n(t){var i=a.call(this,t)||this;return i.type="largeCandlestickBox",i}return(0,Zt.ZT)(n,a),n.prototype.getDefaultShape=function(){return new nd},n.prototype.buildPath=function(t,i){for(var l=i.points,u=0;u<l.length;)if(this.__sign===l[u++]){var d=l[u++];t.moveTo(d,l[u++]),t.lineTo(d,l[u++])}else u+=3},n}(ce.ZP);function ov(a,n,t){var i=a.getData(),l=i.getLayout("largePoints"),u=new av({shape:{points:l},__sign:1});n.add(u);var d=new av({shape:{points:l},__sign:-1});n.add(d),sv(1,u,a),sv(-1,d,a),t&&(u.incremental=!0,d.incremental=!0)}function sv(a,n,t,i){var l=t.get(["itemStyle",a>0?"borderColor":"borderColor0"])||t.get(["itemStyle",a>0?"color":"color0"]),u=t.getModel("itemStyle").getItemStyle(Xu);n.useStyle(u),n.style.fill=null,n.style.stroke=l}const lv=ed;var qf=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return(0,Zt.ZT)(n,a),n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(t,i,l){var u=i.getItemLayout(t);return u&&l.rect(u.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(Un.Z);(0,y.mixin)(qf,Xh,!0);const xc=qf;function cv(a){!a||!y.isArray(a.series)||y.each(a.series,function(n){y.isObject(n)&&"k"===n.type&&(n.type="candlestick")})}var cp=["itemStyle","borderColor"],up=["itemStyle","borderColor0"],H3=["itemStyle","color"],hp=["itemStyle","color0"];const dp={seriesType:"candlestick",plan:(0,ei.Z)(),performRawSeries:!0,reset:function(a,n){function t(u,d){return d.get(u>0?H3:hp)}function i(u,d){return d.get(u>0?cp:up)}if(!n.isSeriesFiltered(a))return!a.pipelineContext.large&&{progress:function(u,d){for(var v;null!=(v=u.next());){var _=d.getItemModel(v),b=d.getItemLayout(v).sign,T=_.getItemStyle();T.fill=t(b,_),T.stroke=i(b,_)||T.fill;var z=d.ensureUniqueItemVisual(v,"style");(0,y.extend)(z,T)}}}}};var rd="undefined"!=typeof Float32Array?Float32Array:Array;function Oo(a,n,t,i,l){return t>i?-1:t<i?1:n>0?a.get(l,n-1)<=i?1:-1:1}const fp={seriesType:"candlestick",plan:(0,ei.Z)(),reset:function(a){var n=a.coordinateSystem,t=a.getData(),i=function(a,n){var i,t=a.getBaseAxis(),l="category"===t.type?t.getBandWidth():(i=t.getExtent(),Math.abs(i[1]-i[0])/n.count()),u=(0,Xt.GM)((0,y.retrieve2)(a.get("barMaxWidth"),l),l),d=(0,Xt.GM)((0,y.retrieve2)(a.get("barMinWidth"),1),l),v=a.get("barWidth");return null!=v?(0,Xt.GM)(v,l):Math.max(Math.min(l/2,u),d)}(a,t),d=["x","y"],v=t.getDimensionIndex(t.mapDimension(d[0])),_=(0,y.map)(t.mapDimensionsAll(d[1]),t.getDimensionIndex,t),b=_[0],T=_[1],z=_[2],B=_[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(v<0||_.length<4))return{progress:a.pipelineContext.large?function(se,Ae){for(var We,vt,ze=new rd(4*se.count),Be=0,ut=[],mt=[],At=Ae.getStore();null!=(vt=se.next());){var Gt=At.get(v,vt),on=At.get(b,vt),bn=At.get(T,vt),yn=At.get(z,vt),On=At.get(B,vt);isNaN(Gt)||isNaN(yn)||isNaN(On)?(ze[Be++]=NaN,Be+=3):(ze[Be++]=Oo(At,vt,on,bn,T),ut[0]=Gt,ut[1]=yn,We=n.dataToPoint(ut,null,mt),ze[Be++]=We?We[0]:NaN,ze[Be++]=We?We[1]:NaN,ut[1]=On,We=n.dataToPoint(ut,null,mt),ze[Be++]=We?We[1]:NaN)}Ae.setLayout("largePoints",ze)}:function(se,Ae){for(var ze,Be=Ae.getStore();null!=(ze=se.next());){var We=Be.get(v,ze),ut=Be.get(b,ze),mt=Be.get(T,ze),vt=Be.get(z,ze),At=Be.get(B,ze),Gt=Math.min(ut,mt),on=Math.max(ut,mt),bn=Vn(Gt,We),yn=Vn(on,We),On=Vn(vt,We),kn=Vn(At,We),Bn=[];rr(Bn,yn,0),rr(Bn,bn,1),Bn.push(hr(kn),hr(yn),hr(On),hr(bn)),Ae.setItemLayout(ze,{sign:Oo(Be,ze,ut,mt,T),initBaseline:ut>mt?yn[1]:bn[1],ends:Bn,brushRect:(Vr=vt,yi=At,hi=We,Xi=void 0,ya=void 0,Xi=Vn(Vr,hi),ya=Vn(yi,hi),Xi[0]-=i/2,ya[0]-=i/2,{x:Xi[0],y:Xi[1],width:i,height:ya[1]-Xi[1]})})}var Vr,yi,hi,Xi,ya;function Vn(Vr,yi){var hi=[];return hi[0]=yi,hi[1]=Vr,isNaN(yi)||isNaN(Vr)?[NaN,NaN]:n.dataToPoint(hi)}function rr(Vr,yi,hi){var Xi=yi.slice(),ya=yi.slice();Xi[0]=(0,ln.subPixelOptimize)(Xi[0]+i/2,1,!1),ya[0]=(0,ln.subPixelOptimize)(ya[0]-i/2,1,!0),hi?Vr.push(Xi,ya):Vr.push(ya,Xi)}function hr(Vr){return Vr[0]=(0,ln.subPixelOptimize)(Vr[0],1),Vr}}}}};function vp(a,n){var t=n.rippleEffectColor||n.color;a.eachChild(function(i){i.attr({z:n.z,zlevel:n.zlevel,style:{stroke:"stroke"===n.brushType?t:null,fill:"fill"===n.brushType?t:null}})})}const Jo=function(a){function n(t,i){var l=a.call(this)||this,u=new _r(t,i),d=new pr.Z;return l.add(u),l.add(d),l.updateData(t,i),l}return(0,Zt.ZT)(n,a),n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,l=t.color,u=t.rippleNumber,d=this.childAt(1),v=0;v<u;v++){var _=(0,dr.th)(i,-1,-1,2,2,l);_.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var b=-v/u*t.period+t.effectOffset;_.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(b).start(),_.animateStyle(!0).when(t.period,{opacity:0}).delay(b).start(),d.add(_)}vp(d,t)},n.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,l=this.childAt(1),u=["symbolType","period","rippleScale","rippleNumber"],d=0;d<u.length;d++){var v=u[d];if(i[v]!==t[v])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}vp(l,t)},n.prototype.highlight=function(){(0,Xn.fD)(this)},n.prototype.downplay=function(){(0,Xn.Mh)(this)},n.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},n.prototype.updateData=function(t,i){var l=this,u=t.hostModel;this.childAt(0).updateData(t,i);var d=this.childAt(1),v=t.getItemModel(i),_=t.getItemVisual(i,"symbol"),b=(0,dr.zp)(t.getItemVisual(i,"symbolSize")),T=t.getItemVisual(i,"style"),z=T&&T.fill;d.setScale(b),d.traverse(function(se){se.setStyle("fill",z)});var B=(0,dr.Cq)(t.getItemVisual(i,"symbolOffset"),b);B&&(d.x=B[0],d.y=B[1]);var G=t.getItemVisual(i,"symbolRotate");d.rotation=(G||0)*Math.PI/180||0;var te={};te.showEffectOn=u.get("showEffectOn"),te.rippleScale=v.get(["rippleEffect","scale"]),te.brushType=v.get(["rippleEffect","brushType"]),te.period=1e3*v.get(["rippleEffect","period"]),te.effectOffset=i/t.count(),te.z=u.getShallow("z")||0,te.zlevel=u.getShallow("zlevel")||0,te.symbolType=_,te.color=z,te.rippleEffectColor=v.get(["rippleEffect","color"]),te.rippleNumber=v.get(["rippleEffect","number"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===te.showEffectOn?(this._effectCfg?this.updateEffectAnimation(te):this.startEffectAnimation(te),this._effectCfg=te):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(se){"emphasis"===se?"render"!==te.showEffectOn&&l.startEffectAnimation(te):"normal"===se&&"render"!==te.showEffectOn&&l.stopEffectAnimation()}),this._effectCfg=te,(0,Xn.vF)(this)},n.prototype.fadeOut=function(t){this.off("mouseover").off("mouseout"),t&&t()},n}(pr.Z),$8=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(){this._symbolDraw=new oa(Jo)},n.prototype.render=function(t,i,l){var u=t.getData(),d=this._symbolDraw;d.updateData(u,{clipShape:this._getClipShape(t)}),this.group.add(d.group)},n.prototype._getClipShape=function(t){var i=t.coordinateSystem,l=i&&i.getArea&&i.getArea();return t.get("clip",!0)?l:null},n.prototype.updateTransform=function(t,i,l){var u=t.getData();this.group.dirty();var d=Aa("").reset(t,i,l);d.progress&&d.progress({start:0,end:u.count(),count:u.count()},u),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=Ni.clone(i.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n}(Fr.Z),_1=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.hasSymbolVisual=!0,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t,i){return(0,er.Z)(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(t,i,l){return l.point(i.getItemLayout(t))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(Un.Z),fv=function(a){function n(t,i,l){var u=a.call(this)||this;return u.add(u.createLine(t,i,l)),u._updateEffectSymbol(t,i),u}return(0,Zt.ZT)(n,a),n.prototype.createLine=function(t,i,l){return new Gd(t,i,l)},n.prototype._updateEffectSymbol=function(t,i){var u=t.getItemModel(i).getModel("effect"),d=u.get("symbolSize"),v=u.get("symbol");y.isArray(d)||(d=[d,d]);var _=t.getItemVisual(i,"style"),b=u.get("color")||_&&_.stroke,T=this.childAt(1);this._symbolType!==v&&(this.remove(T),(T=(0,dr.th)(v,-.5,-.5,1,1,b)).z2=100,T.culling=!0,this.add(T)),T&&(T.setStyle("shadowColor",b),T.setStyle(u.getItemStyle(["color"])),T.scaleX=d[0],T.scaleY=d[1],T.setColor(b),this._symbolType=v,this._symbolScale=d,this._updateEffectAnimation(t,u,i))},n.prototype._updateEffectAnimation=function(t,i,l){var u=this.childAt(1);if(u){var d=this,v=t.getItemLayout(l),_=1e3*i.get("period"),b=i.get("loop"),T=i.get("constantSpeed"),z=y.retrieve(i.get("delay"),function(te){return te/t.count()*_/3});if(u.ignore=!0,this._updateAnimationPoints(u,v),T>0&&(_=this._getLineLength(u)/T*1e3),(_!==this._period||b!==this._loop)&&(u.stopAnimation(),_>0)){var B=void 0;B="function"==typeof z?z(l):z,u.__t>0&&(B=-_*u.__t),u.__t=0;var G=u.animate("",b).when(_,{__t:1}).delay(B).during(function(){d._updateSymbolPosition(u)});b||G.done(function(){d.remove(u)}),G.start()}this._period=_,this._loop=b}},n.prototype._getLineLength=function(t){return pi.dist(t.__p1,t.__cp1)+pi.dist(t.__cp1,t.__p2)},n.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},n.prototype.updateData=function(t,i,l){this.childAt(0).updateData(t,i,l),this._updateEffectSymbol(t,i)},n.prototype._updateSymbolPosition=function(t){var i=t.__p1,l=t.__p2,u=t.__cp1,d=t.__t,v=[t.x,t.y],_=v.slice(),b=gi.Zm,T=gi.AZ;v[0]=b(i[0],u[0],l[0],d),v[1]=b(i[1],u[1],l[1],d);var z=T(i[0],u[0],l[0],d),B=T(i[1],u[1],l[1],d);t.rotation=-Math.atan2(B,z)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*pi.dist(_,v),1===d&&(v[0]=_[0]+(v[0]-_[0])/2,v[1]=_[1]+(v[1]-_[1])/2)):t.scaleY=1===t.__lastT?2*pi.dist(i,v):this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=v[0],t.y=v[1]},n.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var l=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,l,i)},n}(pr.Z),n0=function(a){function n(t,i,l){var u=a.call(this)||this;return u._createPolyline(t,i,l),u}return(0,Zt.ZT)(n,a),n.prototype._createPolyline=function(t,i,l){var u=t.getItemLayout(i),d=new Ht.Z({shape:{points:u}});this.add(d),this._updateCommonStl(t,i,l)},n.prototype.updateData=function(t,i,l){var u=t.hostModel,d=this.childAt(0),v={shape:{points:t.getItemLayout(i)}};lr.D(d,v,u,i),this._updateCommonStl(t,i,l)},n.prototype._updateCommonStl=function(t,i,l){var u=this.childAt(0),d=t.getItemModel(i),v=l&&l.emphasisLineStyle;(!l||t.hasItemOption)&&(v=d.getModel(["emphasis","lineStyle"]).getLineStyle()),u.useStyle(t.getItemVisual(i,"style")),u.style.fill=null,u.style.strokeNoScale=!0,u.ensureState("emphasis").style=v,(0,Xn.vF)(this)},n.prototype.updateLayout=function(t,i){this.childAt(0).setShape("points",t.getItemLayout(i))},n}(pr.Z),pv=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,Zt.ZT)(n,a),n.prototype.createLine=function(t,i,l){return new n0(t,i,l)},n.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var l=[0],u=0,d=1;d<i.length;d++)u+=pi.dist(i[d-1],i[d]),l.push(u);if(0!==u){for(d=0;d<l.length;d++)l[d]/=u;this._offsets=l,this._length=u}else this._length=0},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(t){var i=t.__t,l=this._points,u=this._offsets,d=l.length;if(u){var _,v=this._lastFrame;if(i<this._lastFramePercent){for(_=Math.min(v+1,d-1);_>=0&&!(u[_]<=i);_--);_=Math.min(_,d-2)}else{for(_=v;_<d&&!(u[_]>i);_++);_=Math.min(_-1,d-2)}var T=(i-u[_])/(u[_+1]-u[_]),z=l[_],B=l[_+1];t.x=z[0]*(1-T)+T*B[0],t.y=z[1]*(1-T)+T*B[1],t.rotation=-Math.atan2(B[1]-z[1],B[0]-z[0])-Math.PI/2,this._lastFrame=_,this._lastFramePercent=i,t.ignore=!1}},n}(fv);var W3=E(8074),X8=E(3075),r0=function(){this.polyline=!1,this.curveness=0,this.segs=[]},gv=function(a){function n(t){return a.call(this,t)||this}return(0,Zt.ZT)(n,a),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new r0},n.prototype.buildPath=function(t,i){var l=i.segs,u=i.curveness;if(i.polyline)for(var d=0;d<l.length;){var v=l[d++];if(v>0){t.moveTo(l[d++],l[d++]);for(var _=1;_<v;_++)t.lineTo(l[d++],l[d++])}}else for(d=0;d<l.length;){var b=l[d++],T=l[d++],z=l[d++],B=l[d++];t.moveTo(b,T),u>0?t.quadraticCurveTo((b+z)/2-(T-B)*u,(T+B)/2-(z-b)*u,z,B):t.lineTo(z,B)}},n.prototype.findDataIndex=function(t,i){var l=this.shape,u=l.segs,d=l.curveness,v=this.style.lineWidth;if(l.polyline)for(var _=0,b=0;b<u.length;){var T=u[b++];if(T>0)for(var z=u[b++],B=u[b++],G=1;G<T;G++){var te=u[b++],se=u[b++];if(W3.m(z,B,te,se,v,t,i))return _}_++}else for(_=0,b=0;b<u.length;){if(z=u[b++],B=u[b++],te=u[b++],se=u[b++],d>0){if(X8.m(z,B,(z+te)/2-(B-se)*d,(B+se)/2-(te-z)*d,te,se,v,t,i))return _}else if(W3.m(z,B,te,se,v,t,i))return _;_++}return-1},n}(ce.ZP);const Z3=function(){function a(){this.group=new pr.Z}return a.prototype.isPersistent=function(){return!this._incremental},a.prototype.updateData=function(n){this.group.removeAll();var t=new gv({rectHover:!0,cursor:"default"});t.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(t,n),this.group.add(t),this._incremental=null},a.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clearIncremental(),n.count()>5e5?(this._incremental||(this._incremental=new Rt.Z({silent:!0})),this.group.add(this._incremental)):this._incremental=null},a.prototype.incrementalUpdate=function(n,t){var i=new gv;i.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(i,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=n.start,this.group.add(i))},a.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},a.prototype._setCommon=function(n,t,i){var l=t.hostModel;n.setShape({polyline:l.get("polyline"),curveness:l.get(["lineStyle","curveness"])}),n.useStyle(l.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var u=t.getVisual("style");if(u&&u.stroke&&n.setStyle("stroke",u.stroke),n.setStyle("fill",null),!i){var d=(0,Hr.A)(n);d.seriesIndex=l.seriesIndex,n.on("mousemove",function(v){d.dataIndex=null;var _=n.findDataIndex(v.offsetX,v.offsetY);_>0&&(d.dataIndex=_+n.__startIndex)})}},a.prototype._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()},a}(),pp={seriesType:"lines",plan:(0,ei.Z)(),reset:function(a){var n=a.coordinateSystem,t=a.get("polyline"),i=a.pipelineContext.large;return{progress:function(l,u){var d=[];if(i){var v=void 0,_=l.end-l.start;if(t){for(var b=0,T=l.start;T<l.end;T++)b+=a.getLineCoordsCount(T);v=new Float32Array(_+2*b)}else v=new Float32Array(4*_);var z=0,B=[];for(T=l.start;T<l.end;T++){var G=a.getLineCoords(T,d);t&&(v[z++]=G);for(var te=0;te<G;te++)B=n.dataToPoint(d[te],!1,B),v[z++]=B[0],v[z++]=B[1]}u.setLayout("linesPoints",v)}else for(T=l.start;T<l.end;T++){var se=u.getItemModel(T),Ae=(G=a.getLineCoords(T,d),[]);if(t)for(var ze=0;ze<G;ze++)Ae.push(n.dataToPoint(d[ze]));else{Ae[0]=n.dataToPoint(d[0]),Ae[1]=n.dataToPoint(d[1]);var Be=se.get(["lineStyle","curveness"]);+Be&&(Ae[2]=[(Ae[0][0]+Ae[1][0])/2-(Ae[0][1]-Ae[1][1])*Be,(Ae[0][1]+Ae[1][1])/2-(Ae[1][0]-Ae[0][0])*Be])}u.setItemLayout(T,Ae)}}}}},mv=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=t.getData(),d=this._updateLineDraw(u,t),v=t.get("zlevel"),_=t.get(["effect","trailLength"]),b=l.getZr(),T="svg"===b.painter.getType();T||b.painter.getLayer(v).clear(!0),null!=this._lastZlevel&&!T&&b.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&_&&(T||b.configLayer(v,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(_/10+.9,1),0)})),d.updateData(u);var B=t.get("clip",!0)&&xr(t.coordinateSystem,!1,t);B?this.group.setClipPath(B):this.group.removeClipPath(),this._lastZlevel=v,this._finished=!0},n.prototype.incrementalPrepareRender=function(t,i,l){var u=t.getData();this._updateLineDraw(u,t).incrementalPrepareUpdate(u),this._clearLayer(l),this._finished=!1},n.prototype.incrementalRender=function(t,i,l){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},n.prototype.updateTransform=function(t,i,l){var u=t.getData(),d=t.pipelineContext;if(!this._finished||d.large||d.progressiveRender)return{update:!0};var v=pp.reset(t,i,l);v.progress&&v.progress({start:0,end:u.count(),count:u.count()},u),this._lineDraw.updateLayout(),this._clearLayer(l)},n.prototype._updateLineDraw=function(t,i){var l=this._lineDraw,u=this._showEffect(i),d=!!i.get("polyline"),_=i.pipelineContext.large;return(!l||u!==this._hasEffet||d!==this._isPolyline||_!==this._isLargeDraw)&&(l&&l.remove(),l=this._lineDraw=_?new Z3:new fc(d?u?pv:n0:u?fv:Gd),this._hasEffet=u,this._isPolyline=d,this._isLargeDraw=_),this.group.add(l.group),l},n.prototype._showEffect=function(t){return!!t.get(["effect","show"])},n.prototype._clearLayer=function(t){var i=t.getZr();"svg"!==i.painter.getType()&&null!=this._lastZlevel&&i.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},n.prototype.dispose=function(t,i){this.remove(t,i)},n.type="lines",n}(Fr.Z);var mp="undefined"==typeof Uint32Array?Array:Uint32Array,a0="undefined"==typeof Float64Array?Array:Float64Array;function yp(a){var n=a.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(a.data=(0,y.map)(n,function(t){var l={coords:[t[0].coord,t[1].coord]};return t[0].name&&(l.fromName=t[0].name),t[1].name&&(l.toName=t[1].name),(0,y.mergeAll)([l,t[0],t[1]])}))}const _v=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t){t.data=t.data||[],yp(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),a.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(t){if(yp(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}a.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=(0,y.concatArray)(this._flatCoords,i.flatCoords),this._flatCoordsOffset=(0,y.concatArray)(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},n.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t);return i.option instanceof Array?i.option:i.getShallow("coords")},n.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},n.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var l=this._flatCoordsOffset[2*t],u=this._flatCoordsOffset[2*t+1],d=0;d<u;d++)i[d]=i[d]||[],i[d][0]=this._flatCoords[l+2*d],i[d][1]=this._flatCoords[l+2*d+1];return u}var v=this._getCoordsFromItemModel(t);for(d=0;d<v.length;d++)i[d]=i[d]||[],i[d][0]=v[d][0],i[d][1]=v[d][1];return v.length},n.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),"number"==typeof t[0]){for(var l=t.length,u=new mp(l),d=new a0(l),v=0,_=0,b=0,T=0;T<l;){b++;var z=t[T++];u[_++]=v+i,u[_++]=z;for(var B=0;B<z;B++){var G=t[T++],te=t[T++];d[v++]=G,d[v++]=te}}return{flatCoordsOffset:new Uint32Array(u.buffer,0,_),flatCoords:d,count:b}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},n.prototype.getInitialData=function(t,i){var u=new ji.Z(["value"],this);return u.hasItemOption=!1,u.initData(t.data,[],function(d,v,_,b){if(d instanceof Array)return NaN;u.hasItemOption=!0;var T=d.value;return null!=T?T instanceof Array?T[b]:T:void 0}),u},n.prototype.formatTooltip=function(t,i,l){var d=this.getData().getItemModel(t),v=d.get("name");if(v)return v;var _=d.get("fromName"),b=d.get("toName"),T=[];return null!=_&&T.push(_),null!=b&&T.push(b),(0,vo.TX)("nameValue",{name:T.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},n.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(Un.Z);function o0(a){return a instanceof Array||(a=[a,a]),a}const K3={seriesType:"lines",reset:function(a){var n=o0(a.get("symbol")),t=o0(a.get("symbolSize")),i=a.getData();return i.setVisual("fromSymbol",n&&n[0]),i.setVisual("toSymbol",n&&n[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]),{dataEach:i.hasItemOption?function(u,d){var v=u.getItemModel(d),_=o0(v.getShallow("symbol",!0)),b=o0(v.getShallow("symbolSize",!0));_[0]&&u.setItemVisual(d,"fromSymbol",_[0]),_[1]&&u.setItemVisual(d,"toSymbol",_[1]),b[0]&&u.setItemVisual(d,"fromSymbolSize",b[0]),b[1]&&u.setItemVisual(d,"toSymbolSize",b[1])}:null}}},e=function(){function a(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=y.createCanvas();this.canvas=n}return a.prototype.update=function(n,t,i,l,u,d){var v=this._getBrush(),_=this._getGradient(u,"inRange"),b=this._getGradient(u,"outOfRange"),T=this.pointSize+this.blurSize,z=this.canvas,B=z.getContext("2d"),G=n.length;z.width=t,z.height=i;for(var te=0;te<G;++te){var se=n[te],Ae=se[0],ze=se[1],We=l(se[2]);B.globalAlpha=We,B.drawImage(v,Ae-T,ze-T)}if(!z.width||!z.height)return z;for(var ut=B.getImageData(0,0,z.width,z.height),mt=ut.data,vt=0,At=mt.length,Gt=this.minOpacity,bn=this.maxOpacity-Gt;vt<At;){We=mt[vt+3]/256;var yn=4*Math.floor(255*We);if(We>0){var On=d(We)?_:b;We>0&&(We=We*bn+Gt),mt[vt++]=On[yn],mt[vt++]=On[yn+1],mt[vt++]=On[yn+2],mt[vt++]=On[yn+3]*We*256}else vt+=4}return B.putImageData(ut,0,0),z},a.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=y.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;n.width=i,n.height=i;var l=n.getContext("2d");return l.clearRect(0,0,i,i),l.shadowOffsetX=i,l.shadowBlur=this.blurSize,l.shadowColor="#000",l.beginPath(),l.arc(-t,t,this.pointSize,0,2*Math.PI,!0),l.closePath(),l.fill(),n},a.prototype._getGradient=function(n,t){for(var i=this._gradientPixels,l=i[t]||(i[t]=new Uint8ClampedArray(1024)),u=[0,0,0,0],d=0,v=0;v<256;v++)n[t](v/255,!0,u),l[d++]=u[0],l[d++]=u[1],l[d++]=u[2],l[d++]=u[3];return l},a}();function f(a){var n=a.dimensions;return"lng"===n[0]&&"lat"===n[1]}const x=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u;i.eachComponent("visualMap",function(v){v.eachTargetSeries(function(_){_===t&&(u=v)})}),this.group.removeAll(),this._incrementalDisplayable=null;var d=t.coordinateSystem;"cartesian2d"===d.type||"calendar"===d.type?this._renderOnCartesianAndCalendar(t,l,0,t.getData().count()):f(d)&&this._renderOnGeo(d,t,u,l)},n.prototype.incrementalPrepareRender=function(t,i,l){this.group.removeAll()},n.prototype.incrementalRender=function(t,i,l,u){var d=i.coordinateSystem;d&&(f(d)?this.render(i,l,u):this._renderOnCartesianAndCalendar(i,u,t.start,t.end,!0))},n.prototype._renderOnCartesianAndCalendar=function(t,i,l,u,d){var _,b,T,z,v=t.coordinateSystem;if(Ii(v,"cartesian2d")){var B=v.getAxis("x"),G=v.getAxis("y");_=B.getBandWidth(),b=G.getBandWidth(),T=B.scale.getExtent(),z=G.scale.getExtent()}for(var te=this.group,se=t.getData(),Ae=t.getModel(["emphasis","itemStyle"]).getItemStyle(),ze=t.getModel(["blur","itemStyle"]).getItemStyle(),Be=t.getModel(["select","itemStyle"]).getItemStyle(),We=(0,$n.k3)(t),ut=t.get(["emphasis","focus"]),mt=t.get(["emphasis","blurScope"]),vt=Ii(v,"cartesian2d")?[se.mapDimension("x"),se.mapDimension("y"),se.mapDimension("value")]:[se.mapDimension("time"),se.mapDimension("value")],At=l;At<u;At++){var Gt=void 0,on=se.getItemVisual(At,"style");if(Ii(v,"cartesian2d")){var bn=se.get(vt[0],At),yn=se.get(vt[1],At);if(isNaN(se.get(vt[2],At))||bn<T[0]||bn>T[1]||yn<z[0]||yn>z[1])continue;var On=v.dataToPoint([bn,yn]);Gt=new ri.Z({shape:{x:Math.floor(Math.round(On[0])-_/2),y:Math.floor(Math.round(On[1])-b/2),width:Math.ceil(_),height:Math.ceil(b)},style:on})}else{if(isNaN(se.get(vt[1],At)))continue;Gt=new ri.Z({z2:1,shape:v.dataToRect([se.get(vt[0],At)]).contentShape,style:on})}var kn=se.getItemModel(At);if(se.hasItemOption){var Bn=kn.getModel("emphasis");Ae=Bn.getModel("itemStyle").getItemStyle(),ze=kn.getModel(["blur","itemStyle"]).getItemStyle(),Be=kn.getModel(["select","itemStyle"]).getItemStyle(),ut=Bn.get("focus"),mt=Bn.get("blurScope"),We=(0,$n.k3)(kn)}var Vn=t.getRawValue(At),rr="-";Vn&&null!=Vn[2]&&(rr=Vn[2]+""),(0,$n.ni)(Gt,We,{labelFetcher:t,labelDataIndex:At,defaultOpacity:on.opacity,defaultText:rr}),Gt.ensureState("emphasis").style=Ae,Gt.ensureState("blur").style=ze,Gt.ensureState("select").style=Be,(0,Xn.vF)(Gt,ut,mt),Gt.incremental=d,d&&(Gt.states.emphasis.hoverLayer=!0),te.add(Gt),se.setItemGraphicEl(At,Gt)}},n.prototype._renderOnGeo=function(t,i,l,u){var d=l.targetVisuals.inRange,v=l.targetVisuals.outOfRange,_=i.getData(),b=this._hmLayer||this._hmLayer||new e;b.blurSize=i.get("blurSize"),b.pointSize=i.get("pointSize"),b.minOpacity=i.get("minOpacity"),b.maxOpacity=i.get("maxOpacity");var T=t.getViewRect().clone(),z=t.getRoamTransform();T.applyTransform(z);var B=Math.max(T.x,0),G=Math.max(T.y,0),te=Math.min(T.width+T.x,u.getWidth()),se=Math.min(T.height+T.y,u.getHeight()),Ae=te-B,ze=se-G,Be=[_.mapDimension("lng"),_.mapDimension("lat"),_.mapDimension("value")],We=_.mapArray(Be,function(At,Gt,on){var bn=t.dataToPoint([At,Gt]);return bn[0]-=B,bn[1]-=G,bn.push(on),bn}),ut=l.getExtent(),mt="visualMap.continuous"===l.type?function(a,n){var t=a[1]-a[0];return n=[(n[0]-a[0])/t,(n[1]-a[0])/t],function(i){return i>=n[0]&&i<=n[1]}}(ut,l.option.range):function(a,n,t){var i=a[1]-a[0],l=(n=y.map(n,function(d){return{interval:[(d.interval[0]-a[0])/i,(d.interval[1]-a[0])/i]}})).length,u=0;return function(d){var v;for(v=u;v<l;v++)if((_=n[v].interval)[0]<=d&&d<=_[1]){u=v;break}if(v===l)for(v=u-1;v>=0;v--){var _;if((_=n[v].interval)[0]<=d&&d<=_[1]){u=v;break}}return v>=0&&v<l&&t[v]}}(ut,l.getPieceList(),l.option.selected);b.update(We,Ae,ze,d.color.getNormalizer(),{inRange:d.color.getColorMapper(),outOfRange:v.color.getColorMapper()},mt);var vt=new q.ZP({style:{width:Ae,height:ze,x:B,y:G,image:b.canvas},silent:!0});this.group.add(vt)},n.type="heatmap",n}(Fr.Z),I=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t,i){return(0,er.Z)(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var t=Wd.Z.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(Un.Z);var $=["itemStyle","borderWidth"],ue=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Pe=new uu.Z;function Ge(a,n,t,i){var l=a.getItemLayout(n),u=t.get("symbolRepeat"),d=t.get("symbolClip"),v=t.get("symbolPosition")||"start",b=(t.get("symbolRotate")||0)*Math.PI/180||0,T=t.get("symbolPatternSize")||2,z=t.isAnimationEnabled(),B={dataIndex:n,layout:l,itemModel:t,symbolType:a.getItemVisual(n,"symbol")||"circle",style:a.getItemVisual(n,"style"),symbolClip:d,symbolRepeat:u,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:T,rotation:b,animationModel:z?t:null,hoverScale:z&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function(a,n,t,i,l){var T,u=i.valueDim,d=a.get("symbolBoundingData"),v=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),_=v.toGlobalCoord(v.dataToCoord(0)),b=1-+(t[u.wh]<=0);if(y.isArray(d)){var z=[st(v,d[0])-_,st(v,d[1])-_];z[1]<z[0]&&z.reverse(),T=z[b]}else T=null!=d?st(v,d)-_:n?i.coordSysExtent[u.index][b]-_:t[u.wh];l.boundingLength=T,n&&(l.repeatCutLength=t[u.wh]),l.pxSign=T>0?1:T<0?-1:0})(t,u,l,i,B),function(a,n,t,i,l,u,d,v,_,b){var te,T=_.valueDim,z=_.categoryDim,B=Math.abs(t[z.wh]),G=a.getItemVisual(n,"symbolSize");(te=y.isArray(G)?G.slice():null==G?["100%","100%"]:[G,G])[z.index]=(0,Xt.GM)(te[z.index],B),te[T.index]=(0,Xt.GM)(te[T.index],i?B:Math.abs(u)),b.symbolSize=te,(b.symbolScale=[te[0]/v,te[1]/v])[T.index]*=(_.isHorizontal?-1:1)*d}(a,n,l,u,0,B.boundingLength,B.pxSign,T,i,B),function(a,n,t,i,l){var u=a.get($)||0;u&&(Pe.attr({scaleX:n[0],scaleY:n[1],rotation:t}),Pe.updateTransform(),u/=Pe.getLineScale(),u*=n[i.valueDim.index]),l.valueLineWidth=u}(t,B.symbolScale,b,i,B);var G=B.symbolSize,te=(0,dr.Cq)(t.get("symbolOffset"),G);return function(a,n,t,i,l,u,d,v,_,b,T,z){var B=T.categoryDim,G=T.valueDim,te=z.pxSign,se=Math.max(n[G.index]+v,0),Ae=se;if(i){var ze=Math.abs(_),Be=y.retrieve(a.get("symbolMargin"),"15%")+"",We=!1;Be.lastIndexOf("!")===Be.length-1&&(We=!0,Be=Be.slice(0,Be.length-1));var ut=(0,Xt.GM)(Be,n[G.index]),mt=Math.max(se+2*ut,0),vt=We?0:2*ut,At=(0,Xt.kE)(i),Gt=At?i:Gr((ze+vt)/mt);mt=se+2*(ut=(ze-Gt*se)/2/(We?Gt:Math.max(Gt-1,1))),vt=We?0:2*ut,!At&&"fixed"!==i&&(Gt=b?Gr((Math.abs(b)+vt)/mt):0),Ae=Gt*mt-vt,z.repeatTimes=Gt,z.symbolMargin=ut}var bn=te*(Ae/2),yn=z.pathPosition=[];yn[B.index]=t[B.wh]/2,yn[G.index]="start"===d?bn:"end"===d?_-bn:_/2,u&&(yn[0]+=u[0],yn[1]+=u[1]);var On=z.bundlePosition=[];On[B.index]=t[B.xy],On[G.index]=t[G.xy];var kn=z.barRectShape=y.extend({},t);kn[G.wh]=te*Math.max(Math.abs(t[G.wh]),Math.abs(yn[G.index]+bn)),kn[B.wh]=t[B.wh];var Bn=z.clipShape={};Bn[B.xy]=-t[B.xy],Bn[B.wh]=T.ecSize[B.wh],Bn[G.xy]=0,Bn[G.wh]=t[G.wh]}(t,G,l,u,0,te,v,B.valueLineWidth,B.boundingLength,B.repeatCutLength,i,B),B}function st(a,n){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(n)))}function nn(a){var n=a.symbolPatternSize,t=(0,dr.th)(a.symbolType,-n/2,-n/2,n,n);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function en(a,n,t,i){var l=a.__pictorialBundle,v=t.pathPosition,_=n.valueDim,b=t.repeatTimes||0,T=0,z=t.symbolSize[n.valueDim.index]+t.valueLineWidth+2*t.symbolMargin;for(Br(a,function(se){se.__pictorialAnimationIndex=T,se.__pictorialRepeatTimes=b,T<b?Xr(se,null,te(T),t,i):Xr(se,null,{scaleX:0,scaleY:0},t,i,function(){l.remove(se)}),T++});T<b;T++){var B=nn(t);B.__pictorialAnimationIndex=T,B.__pictorialRepeatTimes=b,l.add(B);var G=te(T);Xr(B,{x:G.x,y:G.y,scaleX:0,scaleY:0},{scaleX:G.scaleX,scaleY:G.scaleY,rotation:G.rotation},t,i)}function te(se){var Ae=v.slice(),ze=t.pxSign,Be=se;return("start"===t.symbolRepeatDirection?ze>0:ze<0)&&(Be=b-1-se),Ae[_.index]=z*(Be-b/2+.5)+v[_.index],{x:Ae[0],y:Ae[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function Tn(a,n,t,i){var l=a.__pictorialBundle,u=a.__pictorialMainPath;u?Xr(u,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(u=a.__pictorialMainPath=nn(t),l.add(u),Xr(u,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function wn(a,n,t){var i=y.extend({},n.barRectShape),l=a.__pictorialBarRect;l?Xr(l,null,{shape:i},n,t):((l=a.__pictorialBarRect=new ri.Z({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,a.add(l))}function Zn(a,n,t,i){if(t.symbolClip){var l=a.__pictorialClipPath,u=y.extend({},t.clipShape),d=n.valueDim,v=t.animationModel,_=t.dataIndex;if(l)lr.D(l,{shape:u},v,_);else{u[d.wh]=0,l=new ri.Z({shape:u}),a.__pictorialBundle.setClipPath(l),a.__pictorialClipPath=l;var b={};b[d.wh]=t.clipShape[d.wh],ln[i?"updateProps":"initProps"](l,{shape:b},v,_)}}}function Yn(a,n){var t=a.getItemModel(n);return t.getAnimationDelayParams=nr,t.isAnimationEnabled=Pr,t}function nr(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function Pr(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function cr(a,n,t,i){var l=new pr.Z,u=new pr.Z;return l.add(u),l.__pictorialBundle=u,u.x=t.bundlePosition[0],u.y=t.bundlePosition[1],t.symbolRepeat?en(l,n,t):Tn(l,0,t),wn(l,t,i),Zn(l,n,t,i),l.__pictorialShapeStr=Cr(a,t),l.__pictorialSymbolMeta=t,l}function Ir(a,n,t,i){var l=i.__pictorialBarRect;l&&l.removeTextContent();var u=[];Br(i,function(d){u.push(d)}),i.__pictorialMainPath&&u.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),y.each(u,function(d){lr.bX(d,{scaleX:0,scaleY:0},t,n,function(){i.parent&&i.parent.remove(i)})}),a.setItemGraphicEl(n,null)}function Cr(a,n){return[a.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function Br(a,n,t){y.each(a.__pictorialBundle.children(),function(i){i!==a.__pictorialBarRect&&n.call(t,i)})}function Xr(a,n,t,i,l,u){n&&a.attr(n),i.symbolClip&&!l?t&&a.attr(t):t&&ln[l?"updateProps":"initProps"](a,t,i.animationModel,i.dataIndex,u)}function mi(a,n,t){var i=t.dataIndex,l=t.itemModel,u=l.getModel("emphasis"),d=u.getModel("itemStyle").getItemStyle(),v=l.getModel(["blur","itemStyle"]).getItemStyle(),_=l.getModel(["select","itemStyle"]).getItemStyle(),b=l.getShallow("cursor"),T=u.get("focus"),z=u.get("blurScope"),B=u.get("scale");Br(a,function(se){if(se instanceof q.ZP){var Ae=se.style;se.useStyle(y.extend({image:Ae.image,x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height},t.style))}else se.useStyle(t.style);var ze=se.ensureState("emphasis");ze.style=d,B&&(ze.scaleX=1.1*se.scaleX,ze.scaleY=1.1*se.scaleY),se.ensureState("blur").style=v,se.ensureState("select").style=_,b&&(se.cursor=b),se.z2=t.z2});var G=n.valueDim.posDesc[+(t.boundingLength>0)];(0,$n.ni)(a.__pictorialBarRect,(0,$n.k3)(l),{labelFetcher:n.seriesModel,labelDataIndex:i,defaultText:yr(n.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:G}),(0,Xn.vF)(a,T,z)}function Gr(a){var n=Math.round(a);return Math.abs(a-n)<1e-4?n:Math.ceil(a)}const Ta=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=this.group,d=t.getData(),v=this._data,_=t.coordinateSystem,T=_.getBaseAxis().isHorizontal(),z=_.master.getRect(),B={ecSize:{width:l.getWidth(),height:l.getHeight()},seriesModel:t,coordSys:_,coordSysExtent:[[z.x,z.x+z.width],[z.y,z.y+z.height]],isHorizontal:T,valueDim:ue[+T],categoryDim:ue[1-+T]};return d.diff(v).add(function(G){if(d.hasValue(G)){var te=Yn(d,G),se=Ge(d,G,te,B),Ae=cr(d,B,se);d.setItemGraphicEl(G,Ae),u.add(Ae),mi(Ae,B,se)}}).update(function(G,te){var se=v.getItemGraphicEl(te);if(d.hasValue(G)){var Ae=Yn(d,G),ze=Ge(d,G,Ae,B),Be=Cr(d,ze);se&&Be!==se.__pictorialShapeStr&&(u.remove(se),d.setItemGraphicEl(G,null),se=null),se?function(a,n,t){lr.D(a.__pictorialBundle,{x:t.bundlePosition[0],y:t.bundlePosition[1]},t.animationModel,t.dataIndex),t.symbolRepeat?en(a,n,t,!0):Tn(a,0,t,!0),wn(a,t,!0),Zn(a,n,t,!0)}(se,B,ze):se=cr(d,B,ze,!0),d.setItemGraphicEl(G,se),se.__pictorialSymbolMeta=ze,u.add(se),mi(se,B,ze)}else u.remove(se)}).remove(function(G){var te=v.getItemGraphicEl(G);te&&Ir(v,G,te.__pictorialSymbolMeta.animationModel,te)}).execute(),this._data=d,this.group},n.prototype.remove=function(t,i){var l=this.group,u=this._data;t.get("animation")?u&&u.eachItemGraphicEl(function(d){Ir(u,(0,Hr.A)(d).dataIndex,t,d)}):l.removeAll()},n.type="pictorialBar",n}(Fr.Z),Ha=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t){return t.stack=null,a.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=(0,_a.ZL)(Pa.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(Pa),da=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t._layers=[],t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=t.getData(),d=this,v=this.group,_=t.getLayerSeries(),b=u.getLayout("layoutInfo"),T=b.rect,z=b.boundaryGap;function B(Ae){return Ae.name}v.x=0,v.y=T.y+z[0];var G=new ys.Z(this._layersSeries||[],_,B,B),te=[];function se(Ae,ze,Be){var We=d._layers;if("remove"!==Ae){for(var vt,ut=[],mt=[],At=_[ze].indices,Gt=0;Gt<At.length;Gt++){var on=u.getItemLayout(At[Gt]),bn=on.x,yn=on.y0,On=on.y;ut.push(bn,yn),mt.push(bn,yn+On),vt=u.getItemVisual(At[Gt],"style")}var kn,Bn=u.getItemLayout(At[0]),rr=t.getModel("label").get("margin"),Sr=t.getModel("emphasis");if("add"===Ae){var hr=te[ze]=new pr.Z;kn=new kr({shape:{points:ut,stackedOnPoints:mt,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),hr.add(kn),v.add(hr),t.isAnimationEnabled()&&kn.setClipPath(function(a,n,t){var i=new ri.Z({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return lr.KZ(i,{shape:{x:a.x-50,width:a.width+100,height:a.height+20}},n,function(){kn.removeClipPath()}),i}(kn.getBoundingRect(),t))}else kn=(hr=We[Be]).childAt(0),v.add(hr),te[ze]=hr,lr.D(kn,{shape:{points:ut,stackedOnPoints:mt}},t),(0,lr.Zi)(kn);(0,$n.ni)(kn,(0,$n.k3)(t),{labelDataIndex:At[Gt-1],defaultText:u.getName(At[Gt-1]),inheritColor:vt.fill},{normal:{verticalAlign:"middle"}}),kn.setTextConfig({position:null,local:!0});var Vr=kn.getTextContent();Vr&&(Vr.x=Bn.x-rr,Vr.y=Bn.y0+Bn.y/2),kn.useStyle(vt),u.setItemGraphicEl(ze,kn),(0,Xn.WO)(kn,t),(0,Xn.vF)(kn,Sr.get("focus"),Sr.get("blurScope"))}else v.remove(We[ze])}G.add((0,y.bind)(se,this,"add")).update((0,y.bind)(se,this,"update")).remove((0,y.bind)(se,this,"remove")).execute(),this._layersSeries=_,this._layers=te},n.type="themeRiver",n}(Fr.Z),Io=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wa(y.bind(this.getData,this),y.bind(this.getRawData,this))},n.prototype.fixData=function(t){var i=t.length,l={},u=(0,fr.pv)(t,function(B){return l.hasOwnProperty(B[0]+"")||(l[B[0]+""]=-1),B[2]}),d=[];u.buckets.each(function(B,G){d.push({name:G,dataList:B})});for(var v=d.length,_=0;_<v;++_){for(var b=d[_].name,T=0;T<d[_].dataList.length;++T)l[z=d[_].dataList[T][0]+""]=_;for(var z in l)l.hasOwnProperty(z)&&l[z]!==_&&(l[z]=_,t[i]=[z,0,b],i++)}return t},n.prototype.getInitialData=function(t,i){for(var u=this.getReferringComponents("singleAxis",fr.C6).models[0].get("type"),d=y.filter(t.data,function(te){return void 0!==te[2]}),v=this.fixData(d||[]),_=[],b=this.nameMap=y.createHashMap(),T=0,z=0;z<v.length;++z)_.push(v[z][2]),b.get(v[z][2])||(b.set(v[z][2],T),T++);var B=(0,za.Z)(v,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,p1.T)(u)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,G=new ji.Z(B,this);return G.initData(v),G},n.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),l=[],u=0;u<i;++u)l[u]=u;var d=t.mapDimension("single"),v=(0,fr.pv)(l,function(b){return t.get("name",b)}),_=[];return v.buckets.each(function(b,T){b.sort(function(z,B){return t.get(d,z)-t.get(d,B)}),_.push({name:T,indices:b})}),_},n.prototype.getAxisTooltipData=function(t,i,l){y.isArray(t)||(t=t?[t]:[]);for(var b,u=this.getData(),d=this.getLayerSeries(),v=[],_=d.length,T=0;T<_;++T){for(var z=Number.MAX_VALUE,B=-1,G=d[T].indices.length,te=0;te<G;++te){var se=u.get(t[0],d[T].indices[te]),Ae=Math.abs(se-i);Ae<=z&&(b=se,z=Ae,B=d[T].indices[te])}v.push(B)}return{dataIndices:v,nestestValue:b}},n.prototype.formatTooltip=function(t,i,l){var u=this.getData(),d=u.getName(t),v=u.get(u.mapDimension("value"),t);return(0,vo.TX)("nameValue",{name:d,value:v})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(Un.Z);function cs(a,n){a.eachSeriesByType("themeRiver",function(t){var i=t.getData(),l=t.coordinateSystem,u={},d=l.getRect();u.rect=d;var v=t.get("boundaryGap"),_=l.getAxis();u.boundaryGap=v,"horizontal"===_.orient?(v[0]=Xt.GM(v[0],d.height),v[1]=Xt.GM(v[1],d.height),Yo(i,t,d.height-v[0]-v[1])):(v[0]=Xt.GM(v[0],d.width),v[1]=Xt.GM(v[1],d.width),Yo(i,t,d.width-v[0]-v[1])),i.setLayout("layoutInfo",u)})}function Yo(a,n,t){if(a.count())for(var G,i=n.coordinateSystem,l=n.getLayerSeries(),u=a.mapDimension("single"),d=a.mapDimension("value"),v=y.map(l,function(Ae){return y.map(Ae.indices,function(ze){var Be=i.dataToPoint(a.get(u,ze));return Be[1]=a.get(d,ze),Be})}),_=function(a){for(var n=a.length,t=a[0].length,i=[],l=[],u=0,d=0;d<t;++d){for(var v=0,_=0;_<n;++_)v+=a[_][d][1];v>u&&(u=v),i.push(v)}for(var b=0;b<t;++b)l[b]=(u-i[b])/2;u=0;for(var T=0;T<t;++T){var z=i[T]+l[T];z>u&&(u=z)}return{y0:l,max:u}}(v),b=_.y0,T=t/_.max,z=l.length,B=l[0].indices.length,te=0;te<B;++te){a.setItemLayout(l[0].indices[te],{layerIndex:0,x:v[0][te][0],y0:G=b[te]*T,y:v[0][te][1]*T});for(var se=1;se<z;++se)a.setItemLayout(l[se].indices[te],{layerIndex:se,x:v[se][te][0],y0:G+=v[se-1][te][1]*T,y:v[se][te][1]*T})}}const s0=function(a){function n(t,i,l,u){var d=a.call(this)||this;d.z2=2,d.textConfig={inside:!0},(0,Hr.A)(d).seriesIndex=i.seriesIndex;var v=new di.ZP({z2:4,silent:t.getModel().get(["label","silent"])});return d.setTextContent(v),d.updateData(!0,t,i,l,u),d}return(0,Zt.ZT)(n,a),n.prototype.updateData=function(t,i,l,u,d){this.node=i,i.piece=this,l=l||this._seriesModel,u=u||this._ecModel;var v=this;(0,Hr.A)(v).dataIndex=i.dataIndex;var _=i.getModel(),b=_.getModel("emphasis"),T=i.getLayout(),z=y.extend({},T);z.label=null;var B=i.getVisual("style");B.lineJoin="bevel";var G=i.getVisual("decal");G&&(B.decal=(0,H1.I)(G,d));var te=ai(_.getModel("itemStyle"),z,!0);y.extend(z,te),y.each(Xn.L1,function(Be){var We=v.ensureState(Be),ut=_.getModel([Be,"itemStyle"]);We.style=ut.getItemStyle();var mt=ai(ut,z);mt&&(We.shape=mt)}),t?(v.setShape(z),v.shape.r=T.r0,lr.D(v,{shape:{r:T.r}},l,i.dataIndex)):(lr.D(v,{shape:z},l),(0,lr.Zi)(v)),v.useStyle(B),this._updateLabel(l);var se=_.getShallow("cursor");se&&v.attr("cursor",se),this._seriesModel=l||this._seriesModel,this._ecModel=u||this._ecModel;var Ae=b.get("focus"),ze="ancestor"===Ae?i.getAncestorsIndices():"descendant"===Ae?i.getDescendantIndices():Ae;(0,Xn.vF)(this,ze,b.get("blurScope"))},n.prototype._updateLabel=function(t){var i=this,l=this.node.getModel(),u=l.getModel("label"),d=this.node.getLayout(),v=d.endAngle-d.startAngle,_=(d.startAngle+d.endAngle)/2,b=Math.cos(_),T=Math.sin(_),z=this,B=z.getTextContent(),G=this.node.dataIndex,te=u.get("minAngle")/180*Math.PI,se=u.get("show")&&!(null!=te&&Math.abs(v)<te);function Ae(ze,Be){var We=ze.get(Be);return null==We?u.get(Be):We}B.ignore=!se,y.each(Xn.qc,function(ze){var Be=l.getModel("normal"===ze?"label":[ze,"label"]),We="normal"===ze,ut=We?B:B.ensureState(ze),mt=t.getFormattedLabel(G,ze);We&&(mt=mt||i.node.name),ut.style=(0,$n.Lr)(Be,{},null,"normal"!==ze,!0),mt&&(ut.style.text=mt);var vt=Be.get("show");null!=vt&&!We&&(ut.ignore=!vt);var At=Ae(Be,"position"),Gt=We?z:z.states[ze],on=Gt.style.fill;Gt.textConfig={outsideFill:"inherit"===Be.get("color")?on:null,inside:"outside"!==At};var bn,yn=Ae(Be,"distance")||0,On=Ae(Be,"align");"outside"===At?(bn=d.r+yn,On=_>Math.PI/2?"right":"left"):On&&"center"!==On?"left"===On?(bn=d.r0+yn,_>Math.PI/2&&(On="right")):"right"===On&&(bn=d.r-yn,_>Math.PI/2&&(On="left")):(bn=(d.r+d.r0)/2,On="center"),ut.style.align=On,ut.style.verticalAlign=Ae(Be,"verticalAlign")||"middle",ut.x=bn*b+d.cx,ut.y=bn*T+d.cy;var kn=Ae(Be,"rotate"),Bn=0;"radial"===kn?(Bn=-_)<-Math.PI/2&&(Bn+=Math.PI):"tangential"===kn?(Bn=Math.PI/2-_)>Math.PI/2?Bn-=Math.PI:Bn<-Math.PI/2&&(Bn+=Math.PI):"number"==typeof kn&&(Bn=kn*Math.PI/180),ut.rotation=Bn}),B.dirtyStyle()},n}(Oi.C);var xp="sunburstRootToNode",e6="sunburstHighlight";const ly=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){var d=this;this.seriesModel=t,this.api=l,this.ecModel=i;var Be,We,v=t.getData(),_=v.tree.root,b=t.getViewRoot(),T=this.group,z=t.get("renderLabelForZeroData"),B=[];b.eachNode(function(Be){B.push(Be)}),function(Be,We){function ut(vt){return vt.getId()}function mt(vt,At){!function(Be,We){if(!z&&Be&&!Be.getValue()&&(Be=null),Be!==_&&We!==_)if(We&&We.piece)Be?(We.piece.updateData(!1,Be,t,i,l),v.setItemGraphicEl(Be.dataIndex,We.piece)):function(Be){!Be||Be.piece&&(T.remove(Be.piece),Be.piece=null)}(We);else if(Be){var ut=new s0(Be,t,i,l);T.add(ut),v.setItemGraphicEl(Be.dataIndex,ut)}}(null==vt?null:Be[vt],null==At?null:We[At])}0===Be.length&&0===We.length||new ys.Z(We,Be,ut,ut).add(mt).update(mt).remove(y.curry(mt,null)).execute()}(B,this._oldChildren||[]),Be=_,(We=b).depth>0?(d.virtualPiece?d.virtualPiece.updateData(!1,Be,t,i,l):(d.virtualPiece=new s0(Be,t,i,l),T.add(d.virtualPiece)),We.piece.off("click"),d.virtualPiece.on("click",function(ut){d._rootToNode(We.parentNode)})):d.virtualPiece&&(T.remove(d.virtualPiece),d.virtualPiece=null),this._initEvents(),this._oldChildren=B},n.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var l=!1;t.seriesModel.getViewRoot().eachNode(function(d){if(!l&&d.piece&&d.piece===i.target){var v=d.getModel().get("nodeClick");if("rootToNode"===v)t._rootToNode(d);else if("link"===v){var _=d.getModel(),b=_.get("link");if(b){var T=_.get("target",!0)||"_blank";(0,Ji.MI)(b,T)}}l=!0}})})},n.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:xp,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},n.prototype.containPoint=function(t,i){var u=i.getData().getItemLayout(0);if(u){var d=t[0]-u.cx,v=t[1]-u.cy,_=Math.sqrt(d*d+v*v);return _<=u.r&&_>=u.r0}},n.type="sunburst",n}(Fr.Z);function $3(a){var n=0;y.each(a.children,function(i){$3(i);var l=i.value;y.isArray(l)&&(l=l[0]),n+=l});var t=a.value;y.isArray(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=n),t<0&&(t=0),y.isArray(a.value)?a.value[0]=t:a.value=t}const uy=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.ignoreStyleOnData=!0,t}return(0,Zt.ZT)(n,a),n.prototype.getInitialData=function(t,i){var l={name:t.name,children:t.data};$3(l);var u=this._levelModels=y.map(t.levels||[],function(_){return new Yr.Z(_,this,i)},this),d=bu.createTree(l,this,function(_){_.wrapMethod("getItemModel",function(b,T){var z=d.getNodeByDataIndex(T),B=u[z.depth];return B&&(b.parentModel=B),b})});return d.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(t){var i=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=wh(l,this),i},n.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},n.prototype.enableAriaDecal=function(){Tu(this)},n.type="series.sunburst",n.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(Un.Z);var X3=Math.PI/180;function ax(a,n,t){n.eachSeriesByType(a,function(i){var l=i.get("center"),u=i.get("radius");y.isArray(u)||(u=[0,u]),y.isArray(l)||(l=[l,l]);var d=t.getWidth(),v=t.getHeight(),_=Math.min(d,v),b=(0,Xt.GM)(l[0],d),T=(0,Xt.GM)(l[1],v),z=(0,Xt.GM)(u[0],_/2),B=(0,Xt.GM)(u[1],_/2),G=-i.get("startAngle")*X3,te=i.get("minAngle")*X3,se=i.getData().tree.root,Ae=i.getViewRoot(),ze=Ae.depth,Be=i.get("sort");null!=Be&&bp(Ae,Be);var We=0;y.each(Ae.children,function(rr){!isNaN(rr.getValue())&&We++});var ut=Ae.getValue(),mt=Math.PI/(ut||We)*2,vt=Ae.depth>0,Gt=(B-z)/(Ae.height-(vt?-1:1)||1),on=i.get("clockwise"),bn=i.get("stillShowZeroSum"),yn=on?1:-1,On=function(rr,Sr){if(rr){var hr=Sr;if(rr!==se){var Vr=rr.getValue(),yi=0===ut&&bn?mt:Vr*mt;yi<te&&(yi=te),hr=Sr+yn*yi;var hi=rr.depth-ze-(vt?-1:1),Xi=z+Gt*hi,ya=z+Gt*(hi+1),fa=i.getLevelModel(rr);if(fa){var ea=fa.get("r0",!0),Qi=fa.get("r",!0),Qa=fa.get("radius",!0);null!=Qa&&(ea=Qa[0],Qi=Qa[1]),null!=ea&&(Xi=(0,Xt.GM)(ea,_/2)),null!=Qi&&(ya=(0,Xt.GM)(Qi,_/2))}rr.setLayout({angle:yi,startAngle:Sr,endAngle:hr,clockwise:on,cx:b,cy:T,r0:Xi,r:ya})}if(rr.children&&rr.children.length){var wa=0;y.each(rr.children,function(Ra){wa+=On(Ra,Sr+wa)})}return hr-Sr}};if(vt){var Vn=2*Math.PI;se.setLayout({angle:Vn,startAngle:G,endAngle:G+Vn,clockwise:on,cx:b,cy:T,r0:z,r:z+Gt})}On(Ae,G)})}function bp(a,n){var t=a.children||[];a.children=function(a,n){if("function"==typeof n){var t=y.map(a,function(l,u){var d=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return d}},index:u}});return t.sort(function(l,u){return n(l.params,u.params)}),y.map(t,function(l){return a[l.index]})}var i="asc"===n;return a.sort(function(l,u){var d=(l.getValue()-u.getValue())*(i?1:-1);return 0===d?(l.dataIndex-u.dataIndex)*(i?-1:1):d})}(t,n),t.length&&y.each(a.children,function(i){bp(i,n)})}function ru(a){var n={};a.eachSeriesByType("sunburst",function(i){var l=i.getData(),u=l.tree;u.eachNode(function(d){var _=d.getModel().getModel("itemStyle").getItemStyle();_.fill||(_.fill=function(i,l,u){for(var d=i;d&&d.depth>1;)d=d.parentNode;var v=l.getColorFromPalette(d.name||d.dataIndex+"",n);return i.depth>1&&"string"==typeof v&&(v=(0,k.lift)(v,(i.depth-1)/(u-1)*.5)),v}(d,i,u.root.height));var b=l.ensureUniqueItemVisual(d.dataIndex,"style");(0,y.extend)(b,_)})})}var bc={color:"fill",borderColor:"stroke"},Sc={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Ko=(0,fr.Yf)();const i6=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(t,i){return(0,er.Z)(null,this)},n.prototype.getDataParams=function(t,i,l){var u=a.prototype.getDataParams.call(this,t,i);return l&&(u.info=Ko(l).info),u},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},n}(Un.Z);function fy(a,n){return n=n||[0,0],y.map(["x","y"],function(t,i){var l=this.getAxis(t),u=n[i],d=a[i]/2;return"category"===l.type?l.getBandWidth():Math.abs(l.dataToCoord(u-d)-l.dataToCoord(u+d))},this)}function py(a,n){return n=n||[0,0],y.map([0,1],function(t){var i=n[t],l=a[t]/2,u=[],d=[];return u[t]=i-l,d[t]=i+l,u[1-t]=d[1-t]=n[1-t],Math.abs(this.dataToPoint(u)[t]-this.dataToPoint(d)[t])},this)}function J3(a,n){var t=this.getAxis(),i=n instanceof Array?n[0]:n,l=(a instanceof Array?a[0]:a)/2;return"category"===t.type?t.getBandWidth():Math.abs(t.dataToCoord(i-l)-t.dataToCoord(i+l))}function my(a,n){return n=n||[0,0],y.map(["Radius","Angle"],function(t,i){var u=this["get"+t+"Axis"](),d=n[i],v=a[i]/2,_="category"===u.type?u.getBandWidth():Math.abs(u.dataToCoord(d-v)-u.dataToCoord(d+v));return"Angle"===t&&(_=_*Math.PI/180),_},this)}function q3(a,n,t,i){return a&&(a.legacy||!1!==a.legacy&&!t&&!i&&"tspan"!==n&&("text"===n||(0,y.hasOwn)(a,"text")))}function bv(a,n,t){var l,u,d,i=a;if("text"===n)d=i;else{d={},(0,y.hasOwn)(i,"text")&&(d.text=i.text),(0,y.hasOwn)(i,"rich")&&(d.rich=i.rich),(0,y.hasOwn)(i,"textFill")&&(d.fill=i.textFill),(0,y.hasOwn)(i,"textStroke")&&(d.stroke=i.textStroke),(0,y.hasOwn)(i,"fontFamily")&&(d.fontFamily=i.fontFamily),(0,y.hasOwn)(i,"fontSize")&&(d.fontSize=i.fontSize),(0,y.hasOwn)(i,"fontStyle")&&(d.fontStyle=i.fontStyle),(0,y.hasOwn)(i,"fontWeight")&&(d.fontWeight=i.fontWeight),u={type:"text",style:d,silent:!0},l={};var v=(0,y.hasOwn)(i,"textPosition");t?l.position=v?i.textPosition:"inside":v&&(l.position=i.textPosition),(0,y.hasOwn)(i,"textPosition")&&(l.position=i.textPosition),(0,y.hasOwn)(i,"textOffset")&&(l.offset=i.textOffset),(0,y.hasOwn)(i,"textRotation")&&(l.rotation=i.textRotation),(0,y.hasOwn)(i,"textDistance")&&(l.distance=i.textDistance)}return o6(d,a),(0,y.each)(d.rich,function(_){o6(_,_)}),{textConfig:l,textContent:u}}function o6(a,n){!n||(n.font=n.textFont||n.font,(0,y.hasOwn)(n,"textStrokeWidth")&&(a.lineWidth=n.textStrokeWidth),(0,y.hasOwn)(n,"textAlign")&&(a.align=n.textAlign),(0,y.hasOwn)(n,"textVerticalAlign")&&(a.verticalAlign=n.textVerticalAlign),(0,y.hasOwn)(n,"textLineHeight")&&(a.lineHeight=n.textLineHeight),(0,y.hasOwn)(n,"textWidth")&&(a.width=n.textWidth),(0,y.hasOwn)(n,"textHeight")&&(a.height=n.textHeight),(0,y.hasOwn)(n,"textBackgroundColor")&&(a.backgroundColor=n.textBackgroundColor),(0,y.hasOwn)(n,"textPadding")&&(a.padding=n.textPadding),(0,y.hasOwn)(n,"textBorderColor")&&(a.borderColor=n.textBorderColor),(0,y.hasOwn)(n,"textBorderWidth")&&(a.borderWidth=n.textBorderWidth),(0,y.hasOwn)(n,"textBorderRadius")&&(a.borderRadius=n.textBorderRadius),(0,y.hasOwn)(n,"textBoxShadowColor")&&(a.shadowColor=n.textBoxShadowColor),(0,y.hasOwn)(n,"textBoxShadowBlur")&&(a.shadowBlur=n.textBoxShadowBlur),(0,y.hasOwn)(n,"textBoxShadowOffsetX")&&(a.shadowOffsetX=n.textBoxShadowOffsetX),(0,y.hasOwn)(n,"textBoxShadowOffsetY")&&(a.shadowOffsetY=n.textBoxShadowOffsetY))}function eg(a,n,t){var i=a;i.textPosition=i.textPosition||t.position||"inside",null!=t.offset&&(i.textOffset=t.offset),null!=t.rotation&&(i.textRotation=t.rotation),null!=t.distance&&(i.textDistance=t.distance);var l=i.textPosition.indexOf("inside")>=0,u=a.fill||"#000";tg(i,n);var d=null==i.textFill;return l?d&&(i.textFill=t.insideFill||"#fff",!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=u),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(d&&(i.textFill=a.fill||t.outsideFill||"#000"),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=n.text,i.rich=n.rich,(0,y.each)(n.rich,function(v){tg(v,v)}),i}function tg(a,n){!n||((0,y.hasOwn)(n,"fill")&&(a.textFill=n.fill),(0,y.hasOwn)(n,"stroke")&&(a.textStroke=n.fill),(0,y.hasOwn)(n,"lineWidth")&&(a.textStrokeWidth=n.lineWidth),(0,y.hasOwn)(n,"font")&&(a.font=n.font),(0,y.hasOwn)(n,"fontStyle")&&(a.fontStyle=n.fontStyle),(0,y.hasOwn)(n,"fontWeight")&&(a.fontWeight=n.fontWeight),(0,y.hasOwn)(n,"fontSize")&&(a.fontSize=n.fontSize),(0,y.hasOwn)(n,"fontFamily")&&(a.fontFamily=n.fontFamily),(0,y.hasOwn)(n,"align")&&(a.textAlign=n.align),(0,y.hasOwn)(n,"verticalAlign")&&(a.textVerticalAlign=n.verticalAlign),(0,y.hasOwn)(n,"lineHeight")&&(a.textLineHeight=n.lineHeight),(0,y.hasOwn)(n,"width")&&(a.textWidth=n.width),(0,y.hasOwn)(n,"height")&&(a.textHeight=n.height),(0,y.hasOwn)(n,"backgroundColor")&&(a.textBackgroundColor=n.backgroundColor),(0,y.hasOwn)(n,"padding")&&(a.textPadding=n.padding),(0,y.hasOwn)(n,"borderColor")&&(a.textBorderColor=n.borderColor),(0,y.hasOwn)(n,"borderWidth")&&(a.textBorderWidth=n.borderWidth),(0,y.hasOwn)(n,"borderRadius")&&(a.textBorderRadius=n.borderRadius),(0,y.hasOwn)(n,"shadowColor")&&(a.textBoxShadowColor=n.shadowColor),(0,y.hasOwn)(n,"shadowBlur")&&(a.textBoxShadowBlur=n.shadowBlur),(0,y.hasOwn)(n,"shadowOffsetX")&&(a.textBoxShadowOffsetX=n.shadowOffsetX),(0,y.hasOwn)(n,"shadowOffsetY")&&(a.textBoxShadowOffsetY=n.shadowOffsetY),(0,y.hasOwn)(n,"textShadowColor")&&(a.textShadowColor=n.textShadowColor),(0,y.hasOwn)(n,"textShadowBlur")&&(a.textShadowBlur=n.textShadowBlur),(0,y.hasOwn)(n,"textShadowOffsetX")&&(a.textShadowOffsetX=n.textShadowOffsetX),(0,y.hasOwn)(n,"textShadowOffsetY")&&(a.textShadowOffsetY=n.textShadowOffsetY))}var Sp=E(547),l6={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};function Tp(a,n,t){var i=a[t],l=l6[t];i&&(n[l[0]]=i[0],n[l[1]]=i[1])}function Ju(a,n,t){null!=a[t]&&(n[t]=a[t])}function ng(a,n,t){t&&(a[n]=t[n])}function rg(a,n,t,i,l){var u=t[a];if(u){var v,d=n[a],_=u.enterFrom;if(l&&_){!v&&(v=i[a]={});for(var b=(0,y.keys)(_),T=0;T<b.length;T++)v[z=b[T]]=_[z]}if(!l&&d)if(u.transition){!v&&(v=i[a]={});var B=(0,fr.kF)(u.transition);for(T=0;T<B.length;T++)v[z=B[T]]=G=d[z]}else if((0,y.indexOf)(t.transition,a)>=0){!v&&(v=i[a]={});var te=(0,y.keys)(d);for(T=0;T<te.length;T++){var G;by(u[z=te[T]],G=d[z])&&(v[z]=G)}}var se=u.leaveTo;if(se){var Ae=ag(n),ze=Ae[a]||(Ae[a]={}),Be=(0,y.keys)(se);for(T=0;T<Be.length;T++){var z;ze[z=Be[T]]=se[z]}}}}function ig(a,n,t){var i=n[a];if(i)for(var l=t[a]={},u=(0,y.keys)(i),d=0;d<u.length;d++){var v=u[d];l[v]=(0,Sp.Ve)(i[v])}}function by(a,n){return(0,y.isArrayLike)(a)?a!==n:null!=a&&isFinite(a)}function ag(a){var n=Ko(a);return n.leaveToProps||(n.leaveToProps={})}(0,y.keys)({x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1}).join(", ");var qu="emphasis",ad="normal",og="blur",sg="select",od=[ad,qu,og,sg],lg={normal:["itemStyle"],emphasis:[qu,"itemStyle"],blur:[og,"itemStyle"],select:[sg,"itemStyle"]},cg={normal:["label"],emphasis:[qu,"label"],blur:[og,"label"],select:[sg,"label"]},Wl={normal:{},emphasis:{},blur:{},select:{}},Ty={cartesian2d:function(a){var n=a.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(t){return a.dataToPoint(t)},size:y.bind(fy,a)}}},geo:function(a){var n=a.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:a.getZoom()},api:{coord:function(t){return a.dataToPoint(t)},size:y.bind(py,a)}}},singleAxis:function(a){var n=a.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(t){return a.dataToPoint(t)},size:(0,y.bind)(J3,a)}}},polar:function(a){var n=a.getRadiusAxis(),t=a.getAngleAxis(),i=n.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:i[1],r0:i[0]},api:{coord:function(l){var u=n.dataToRadius(l[0]),d=t.dataToAngle(l[1]),v=a.coordToPoint([u,d]);return v.push(u,d*Math.PI/180),v},size:y.bind(my,a)}}},calendar:function(a){var n=a.getRect(),t=a.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,l){return a.dataToPoint(i,l)}}}}};function Cp(a){return a instanceof ce.ZP}function ug(a){return a instanceof zc.ZP}const f6=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){var d=this._data,v=t.getData(),_=this.group,b=x6(t,v,i,l);d||_.removeAll(),v.diff(d).add(function(z){b6(l,null,z,b(z,u),t,_,v)}).remove(function(z){T6(d.getItemGraphicEl(z),t,_)}).update(function(z,B){var G=d.getItemGraphicEl(B);b6(l,G,z,b(z,u),t,_,v)}).execute();var T=t.get("clip",!0)?xr(t.coordinateSystem,!1,t):null;T?_.setClipPath(T):_.removeClipPath(),this._data=v},n.prototype.incrementalPrepareRender=function(t,i,l){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(t,i,l,u,d){var v=i.getData(),_=x6(i,v,l,u);function b(B){B.isGroup||(B.incremental=!0,B.ensureState("emphasis").hoverLayer=!0)}for(var T=t.start;T<t.end;T++){var z=b6(null,null,T,_(T,d),i,this.group,v);z&&z.traverse(b)}},n.prototype.filterForExposedEvent=function(t,i,l,u){var d=i.element;if(null==d||l.name===d)return!0;for(;(l=l.__hostTarget||l.parent)&&l!==this.group;)if(l.name===d)return!0;return!1},n.type="custom",n}(Fr.Z);function Mp(a){var t,n=a.type;if("path"===n){var i=a.shape,l=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,u=vg(i);t=ln.makePath(u,null,l,i.layout||"center"),Ko(t).customPathData=u}else if("image"===n)t=new q.ZP({}),Ko(t).customImagePath=a.style.image;else if("text"===n)t=new di.ZP({});else if("group"===n)t=new pr.Z;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var d=ln.getShapeClass(n);d||(0,Ya._y)(""),t=new d}return Ko(t).customGraphicType=n,t.name=a.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function wp(a,n,t,i,l,u,d,v){var _=l&&l.normal.cfg;_&&n.setTextConfig(_);var b=i&&i.style;if(b){if("text"===n.type){var T=b;(0,y.hasOwn)(T,"textFill")&&(T.fill=T.textFill),(0,y.hasOwn)(T,"textStroke")&&(T.stroke=T.textStroke)}var z=void 0,B=Cp(n)?b.decal:null;a&&B&&(B.dirty=!0,z=(0,H1.I)(B,a)),b.__decalPattern=z}Ko(n).userDuring=i.during;var te={},se={};rg("shape",n,i,te,d),ig("shape",i,se),function(a,n,t,i){var l=n.enterFrom;if(i&&l)for(var u=(0,y.keys)(l),d=0;d<u.length;d++)t[v=u[d]]=l[v];if(!i)if(n.transition){var _=(0,fr.kF)(n.transition);for(d=0;d<_.length;d++)"style"!==(v=_[d])&&"shape"!==v&&"extra"!==v&&(t[v]=a[v])}else ng(t,"x",a),ng(t,"y",a);var T=n.leaveTo;if(T){var z=ag(a),B=(0,y.keys)(T);for(d=0;d<B.length;d++){var v;z[v=B[d]]=T[v]}}}(n,i,te,d),function(a,n,t){Tp(n,t,"position"),Tp(n,t,"scale"),Tp(n,t,"origin"),Ju(n,t,"x"),Ju(n,t,"y"),Ju(n,t,"scaleX"),Ju(n,t,"scaleY"),Ju(n,t,"originX"),Ju(n,t,"originY"),Ju(n,t,"rotation")}(0,i,se),rg("extra",n,i,te,d),ig("extra",i,se),function(a,n,t,i,l){if(t){var d,u=a.style,v=t.enterFrom;if(l&&v){var _=(0,y.keys)(v);!d&&(d=i.style={});for(var b=0;b<_.length;b++)d[T=_[b]]=v[T]}if(!l&&u)if(t.transition){var z=(0,fr.kF)(t.transition);for(!d&&(d=i.style={}),b=0;b<z.length;b++)d[T=z[b]]=u[T]}else if(a.getAnimationStyleProps&&(0,y.indexOf)(n.transition,"style")>=0){var G=a.getAnimationStyleProps(),te=G?G.style:null;if(te){!d&&(d=i.style={});var se=(0,y.keys)(t);for(b=0;b<se.length;b++)te[T=se[b]]&&(d[T]=u[T])}}var Ae=t.leaveTo;if(Ae){var ze=(0,y.keys)(Ae),Be=ag(a),We=Be.style||(Be.style={});for(b=0;b<ze.length;b++){var T;We[T=ze[b]]=Ae[T]}}}}(n,i,b,te,d),se.style=b,function(a,n){var t=a.isGroup?null:a,i=n.style;if(t&&i){t.useStyle(i);var l=i.__decalPattern;l&&(t.style.decal=l);for(var u=t.animators,d=0;d<u.length;d++){var v=u[d];"style"===v.targetName&&v.changeTarget(t.style)}}n&&(n.style=null,n&&a.attr(n),n.style=i)}(n,se),function(a,n,t,i,l){if(i){var u=Ko(a).userDuring,v={dataIndex:n,isFrom:!0,during:u?(0,y.bind)(b1,{el:a,userDuring:u}):null};l?lr.KZ(a,i,t,v):lr.D(a,i,t,v)}}(n,t,u,te,d),function(a,n,t){(0,y.hasOwn)(n,"silent")&&(a.silent=n.silent),(0,y.hasOwn)(n,"ignore")&&(a.ignore=n.ignore),ug(a)&&(0,y.hasOwn)(n,"invisible")&&(a.invisible=n.invisible),Cp(a)&&(0,y.hasOwn)(n,"autoBatch")&&(a.autoBatch=n.autoBatch),t||(0,y.hasOwn)(n,"info")&&(Ko(a).info=n.info)}(n,i,v),b?n.dirty():n.markRedraw()}var Ss={},m6={setTransform:function(a,n){return Ss.el[a]=n,this},getTransform:function(a){return Ss.el[a]},setShape:function(a,n){return(Ss.el.shape||(Ss.el.shape={}))[a]=n,Ss.isShapeDirty=!0,this},getShape:function(a){var n=Ss.el.shape;if(n)return n[a]},setStyle:function(a,n){var t=Ss.el.style;return t&&(t[a]=n,Ss.isStyleDirty=!0),this},getStyle:function(a){var n=Ss.el.style;if(n)return n[a]},setExtra:function(a,n){return(Ss.el.extra||(Ss.el.extra={}))[a]=n,this},getExtra:function(a){var n=Ss.el.extra;if(n)return n[a]}};function b1(){var a=this,n=a.el;if(n){var t=Ko(n).userDuring,i=a.userDuring;if(t!==i)return void(a.el=a.userDuring=null);Ss.el=n,Ss.isShapeDirty=!1,Ss.isStyleDirty=!1,i(m6),Ss.isShapeDirty&&n.dirtyShape&&n.dirtyShape(),Ss.isStyleDirty&&n.dirtyStyle&&n.dirtyStyle()}}function _6(a,n,t,i,l,u,d){var v=n.isGroup?null:n,_=l&&l[a].cfg;if(v){var b=v.ensureState(a);if(!1===i){var T=v.getState(a);T&&(T.style=null)}else b.style=i||null;_&&(b.textConfig=_),(0,Xn.MA)(v)}}function c0(a,n,t){var i=t===ad,l=i?n:Ep(n,t),u=l?l.z2:null;null!=u&&((i?a:a.ensureState(t)).z2=u||0)}function x6(a,n,t,i){var l=a.get("renderItem"),u=a.coordinateSystem,d={};u&&(d=u.prepareCustoms?u.prepareCustoms(u):Ty[u.type](u));for(var b,T,v=(0,y.defaults)({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(Bn,Vn){return null==Vn&&(Vn=b),n.getStore().get(n.getDimensionIndex(Bn||0),Vn)},style:function(Bn,Vn){null==Vn&&(Vn=b);var rr=n.getItemVisual(Vn,"style"),Sr=rr&&rr.fill,hr=rr&&rr.opacity,Vr=Be(Vn,ad).getItemStyle();null!=Sr&&(Vr.fill=Sr),null!=hr&&(Vr.opacity=hr);var yi={inheritColor:(0,y.isString)(Sr)?Sr:"#000"},hi=We(Vn,ad),Xi=$n.Lr(hi,null,yi,!1,!0);Xi.text=hi.getShallow("show")?(0,y.retrieve2)(a.getFormattedLabel(Vn,ad),yr(n,Vn)):null;var ya=$n.nC(hi,yi,!1);return on(Bn,Vr),Vr=eg(Vr,Xi,ya),Bn&&Gt(Vr,Bn),Vr.legacy=!0,Vr},ordinalRawValue:function(Bn,Vn){null==Vn&&(Vn=b);var rr=n.getDimensionInfo(Bn=Bn||0);if(!rr){var Sr=n.getDimensionIndex(Bn);return Sr>=0?n.getStore().get(Sr,Vn):void 0}var hr=n.get(rr.name,Vn),Vr=rr&&rr.ordinalMeta;return Vr?Vr.categories[hr]:hr},styleEmphasis:function(Bn,Vn){null==Vn&&(Vn=b);var rr=Be(Vn,qu).getItemStyle(),Sr=We(Vn,qu),hr=$n.Lr(Sr,null,null,!0,!0);hr.text=Sr.getShallow("show")?(0,y.retrieve3)(a.getFormattedLabel(Vn,qu),a.getFormattedLabel(Vn,ad),yr(n,Vn)):null;var Vr=$n.nC(Sr,null,!0);return on(Bn,rr),rr=eg(rr,hr,Vr),Bn&&Gt(rr,Bn),rr.legacy=!0,rr},visual:function(Bn,Vn){if(null==Vn&&(Vn=b),(0,y.hasOwn)(bc,Bn)){var rr=n.getItemVisual(Vn,"style");return rr?rr[bc[Bn]]:null}if((0,y.hasOwn)(Sc,Bn))return n.getItemVisual(Vn,Bn)},barLayout:function(Bn){if("cartesian2d"===u.type){var Vn=u.getBaseAxis();return(0,$a.Gk)((0,y.defaults)({axis:Vn},Bn))}},currentSeriesIndices:function(){return t.getCurrentSeriesIndices()},font:function(Bn){return $n.qT(Bn,t)}},d.api||{}),_={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:d.coordSys,dataInsideLength:n.count(),encode:hg(a.getData())},z={},B={},G={},te={},se=0;se<od.length;se++){var Ae=od[se];G[Ae]=a.getModel(lg[Ae]),te[Ae]=a.getModel(cg[Ae])}function ze(Bn){return Bn===b?T||(T=n.getItemModel(Bn)):n.getItemModel(Bn)}function Be(Bn,Vn){return n.hasItemOption?Bn===b?z[Vn]||(z[Vn]=ze(Bn).getModel(lg[Vn])):ze(Bn).getModel(lg[Vn]):G[Vn]}function We(Bn,Vn){return n.hasItemOption?Bn===b?B[Vn]||(B[Vn]=ze(Bn).getModel(cg[Vn])):ze(Bn).getModel(cg[Vn]):te[Vn]}return function(Bn,Vn){return b=Bn,T=null,z={},B={},l&&l((0,y.defaults)({dataIndexInside:Bn,dataIndex:n.getRawIndex(Bn),actionType:Vn?Vn.type:null},_),v)};function Gt(Bn,Vn){for(var rr in Vn)(0,y.hasOwn)(Vn,rr)&&(Bn[rr]=Vn[rr])}function on(Bn,Vn){Bn&&(Bn.textFill&&(Vn.textFill=Bn.textFill),Bn.textPosition&&(Vn.textPosition=Bn.textPosition))}}function hg(a){var n={};return(0,y.each)(a.dimensions,function(t){var i=a.getDimensionInfo(t);if(!i.isExtraCoord){var l=i.coordDim;(n[l]=n[l]||[])[i.coordDimIndex]=a.getDimensionIndex(t)}}),n}function b6(a,n,t,i,l,u,d){if(i){var v=Dp(a,n,t,i,l,u);return v&&d.setItemGraphicEl(t,v),v&&(0,Xn.vF)(v,i.focus,i.blurScope),v}u.remove(n)}function Dp(a,n,t,i,l,u,d){var v=-1,_=n;n&&dg(n,i,l)&&(v=(0,y.indexOf)(u.childrenRef(),n),n=null);var b=!n,T=n;T?T.clearStates():(T=Mp(i),_&&function(a,n){n.copyTransform(a),ug(n)&&ug(a)&&(n.setStyle(a.style),n.z=a.z,n.z2=a.z2,n.zlevel=a.zlevel,n.invisible=a.invisible,n.ignore=a.ignore,Cp(n)&&Cp(a)&&n.setShape(a.shape))}(_,T)),!1===i.morph?T.disableMorphing=!0:T.disableMorphing&&(T.disableMorphing=!1),Wl.normal.cfg=Wl.normal.conOpt=Wl.emphasis.cfg=Wl.emphasis.conOpt=Wl.blur.cfg=Wl.blur.conOpt=Wl.select.cfg=Wl.select.conOpt=null,Wl.isLegacy=!1,function(a,n,t,i,l,u){if(!a.isGroup){S6(t,null,u),S6(t,qu,u);var d=u.normal.conOpt;if(null!=d||null!=u.emphasis.conOpt||null!=u.select.conOpt||null!=u.blur.conOpt){var T=a.getTextContent();if(!1===d)T&&a.removeTextContent();else{d=u.normal.conOpt=d||{type:"text"},T?T.clearStates():(T=Mp(d),a.setTextContent(T)),wp(null,T,n,d,null,i,l,!0);for(var z=d&&d.style,B=0;B<od.length;B++){var G=od[B];if(G!==ad)_6(G,T,0,fg(d,u[G].conOpt,G),null)}z?T.dirty():T.markRedraw()}}}}(T,t,i,l,b,Wl),function(a,n,t,i,l){var u=t.clipPath;if(!1===u)a&&a.getClipPath()&&a.removeClipPath();else if(u){var d=a.getClipPath();d&&dg(d,u,i)&&(d=null),d||(d=Mp(u),a.setClipPath(d)),wp(null,d,n,u,null,i,l,!1)}}(T,t,i,l,b),wp(a,T,t,i,Wl,l,b,!1);for(var z=0;z<od.length;z++){var B=od[z];if(B!==ad)_6(B,T,0,fg(i,Ep(i,B),B),Wl)}return function(a,n,t){if(!a.isGroup){var i=a,u=t.currentZLevel;i.z=t.currentZ,i.zlevel=u;var d=n.z2;null!=d&&(i.z2=d||0);for(var v=0;v<od.length;v++)c0(i,n,od[v])}}(T,i,l),"group"===i.type&&function(a,n,t,i,l){var u=i.children,d=u?u.length:0,v=i.$mergeChildren,_="byName"===v||i.diffChildrenByName,b=!1===v;if(d||_||b){if(_)return void function(a){new ys.Z(a.oldChildren,a.newChildren,Sv,Sv,a).add(Tv).update(Tv).remove(Wo).execute()}({api:a,oldChildren:n.children()||[],newChildren:u||[],dataIndex:t,seriesModel:l,group:n});b&&n.removeAll();for(var T=0;T<d;T++)u[T]&&Dp(a,n.childAt(T),t,u[T],l,n);for(var z=n.childCount()-1;z>=T;z--)T6(n.childAt(z),l,n)}}(a,T,t,i,l),v>=0?u.replaceAt(T,v):u.add(T),T}function dg(a,n,t){var i=Ko(a),l=n.type,u=n.shape,d=n.style;return t.isUniversalTransitionEnabled()||null!=l&&l!==i.customGraphicType||"path"===l&&function(a){return a&&((0,y.hasOwn)(a,"pathData")||(0,y.hasOwn)(a,"d"))}(u)&&vg(u)!==i.customPathData||"image"===l&&(0,y.hasOwn)(d,"image")&&d.image!==i.customImagePath}function S6(a,n,t){var i=n?Ep(a,n):a,l=n?fg(a,i,qu):a.style,u=a.type,d=i?i.textConfig:null,v=a.textContent,_=v?n?Ep(v,n):v:null;if(l&&(t.isLegacy||q3(l,u,!!d,!!_))){t.isLegacy=!0;var b=bv(l,u,!n);!d&&b.textConfig&&(d=b.textConfig),!_&&b.textContent&&(_=b.textContent)}!n&&_&&!_.type&&(_.type="text");var z=n?t[n]:t.normal;z.cfg=d,z.conOpt=_}function Ep(a,n){return n?a?a[n]:null:a}function fg(a,n,t){var i=n&&n.style;return null==i&&t===qu&&a&&(i=a.styleEmphasis),i}function Sv(a,n){var t=a&&a.name;return null!=t?t:"e\0\0"+n}function Tv(a,n){var t=this.context;Dp(t.api,null!=n?t.oldChildren[n]:null,t.dataIndex,null!=a?t.newChildren[a]:null,t.seriesModel,t.group)}function Wo(a){var n=this.context;T6(n.oldChildren[a],n.seriesModel,n.group)}function T6(a,n,t){if(a){var i=Ko(a).leaveToProps;i?lr.D(a,i,n,{cb:function(){t.remove(a)}}):t.remove(a)}}function vg(a){return a&&(a.pathData||a.d)}var sd=(0,fr.Yf)(),pg=y.clone,Pp=y.bind;function M6(a,n,t,i){w6(sd(t).lastProp,i)||(sd(t).lastProp=i,n?lr.D(t,i,a):(t.stopAnimation(),t.attr(i)))}function w6(a,n){if(y.isObject(a)&&y.isObject(n)){var t=!0;return y.each(n,function(i,l){t=t&&w6(a[l],i)}),!!t}return a===n}function D6(a,n){a[n.get(["label","show"])?"show":"hide"]()}function S1(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function E6(a,n,t){var i=n.get("z"),l=n.get("zlevel");a&&a.traverse(function(u){"group"!==u.type&&(null!=i&&(u.z=i),null!=l&&(u.zlevel=l),u.silent=t)})}const gg=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(n,t,i,l){var u=t.get("value"),d=t.get("status");if(this._axisModel=n,this._axisPointerModel=t,this._api=i,l||this._lastValue!==u||this._lastStatus!==d){this._lastValue=u,this._lastStatus=d;var v=this._group,_=this._handle;if(!d||"hide"===d)return v&&v.hide(),void(_&&_.hide());v&&v.show(),_&&_.show();var b={};this.makeElOption(b,u,n,t,i);var T=b.graphicKey;T!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=T;var z=this._moveAnimation=this.determineAnimation(n,t);if(v){var B=y.curry(M6,t,z);this.updatePointerEl(v,b,B),this.updateLabelEl(v,b,B,t)}else v=this._group=new pr.Z,this.createPointerEl(v,b,n,t),this.createLabelEl(v,b,n,t),i.getZr().add(v);E6(v,t,!0),this._renderHandle(u)}},a.prototype.remove=function(n){this.clear(n)},a.prototype.dispose=function(n){this.clear(n)},a.prototype.determineAnimation=function(n,t){var i=t.get("animation"),l=n.axis,u="category"===l.type,d=t.get("snap");if(!d&&!u)return!1;if("auto"===i||null==i){var v=this.animationThreshold;if(u&&l.getBandWidth()>v)return!0;if(d){var _=r4(n).seriesDataCount,b=l.getExtent();return Math.abs(b[0]-b[1])/_>v}return!1}return!0===i},a.prototype.makeElOption=function(n,t,i,l,u){},a.prototype.createPointerEl=function(n,t,i,l){var u=t.pointer;if(u){var d=sd(n).pointerEl=new ln[u.type](pg(t.pointer));n.add(d)}},a.prototype.createLabelEl=function(n,t,i,l){if(t.label){var u=sd(n).labelEl=new di.ZP(pg(t.label));n.add(u),D6(u,l)}},a.prototype.updatePointerEl=function(n,t,i){var l=sd(n).pointerEl;l&&t.pointer&&(l.setStyle(t.pointer.style),i(l,{shape:t.pointer.shape}))},a.prototype.updateLabelEl=function(n,t,i,l){var u=sd(n).labelEl;u&&(u.setStyle(t.label.style),i(u,{x:t.label.x,y:t.label.y}),D6(u,l))},a.prototype._renderHandle=function(n){if(!this._dragging&&this.updateHandleTransform){var v,t=this._axisPointerModel,i=this._api.getZr(),l=this._handle,u=t.getModel("handle"),d=t.get("status");if(!u.get("show")||!d||"hide"===d)return l&&i.remove(l),void(this._handle=null);this._handle||(v=!0,l=this._handle=ln.createIcon(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(b){Ns.sT(b.event)},onmousedown:Pp(this._onHandleDragMove,this,0,0),drift:Pp(this._onHandleDragMove,this),ondragend:Pp(this._onHandleDragEnd,this)}),i.add(l)),E6(l,t,!1),l.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var _=u.get("size");y.isArray(_)||(_=[_,_]),l.scaleX=_[0]/2,l.scaleY=_[1]/2,zr.T9(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,v)}},a.prototype._moveHandleToValue=function(n,t){M6(this._axisPointerModel,!t&&this._moveAnimation,this._handle,S1(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(n,t){var i=this._handle;if(i){this._dragging=!0;var l=this.updateHandleTransform(S1(i),[n,t],this._axisModel,this._axisPointerModel);this._payloadInfo=l,i.stopAnimation(),i.attr(S1(l)),sd(i).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var t=n.getZr(),i=this._group,l=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),l&&t.remove(l),this._group=null,this._handle=null,this._payloadInfo=null)},a.prototype.doClear=function(){},a.prototype.buildLabel=function(n,t,i){return{x:n[i=i||0],y:n[1-i],width:t[i],height:t[1-i]}},a}();function mg(a){var i,n=a.get("type"),t=a.getModel(n+"Style");return"line"===n?(i=t.getLineStyle()).fill=null:"shadow"===n&&((i=t.getAreaStyle()).stroke=null),i}function Cv(a,n,t,i,l){var d=yg(t.get("value"),n.axis,n.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),v=t.getModel("label"),_=Ji.MY(v.get("padding")||0),b=v.getFont(),T=fe.lP(d,b),z=l.position,B=T.width+_[1]+_[3],G=T.height+_[0]+_[2],te=l.align;"right"===te&&(z[0]-=B),"center"===te&&(z[0]-=B/2);var se=l.verticalAlign;"bottom"===se&&(z[1]-=G),"middle"===se&&(z[1]-=G/2),function(a,n,t,i){var l=i.getWidth(),u=i.getHeight();a[0]=Math.min(a[0]+n,l)-n,a[1]=Math.min(a[1]+t,u)-t,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}(z,B,G,i);var Ae=v.get("backgroundColor");(!Ae||"auto"===Ae)&&(Ae=n.get(["axisLine","lineStyle","color"])),a.label={x:z[0],y:z[1],style:(0,$n.Lr)(v,{text:d,font:b,fill:v.getTextColor(),padding:_,backgroundColor:Ae}),z2:10}}function yg(a,n,t,i,l){a=n.scale.parse(a);var u=n.scale.getLabel({value:a},{precision:l.precision}),d=l.formatter;if(d){var v={value:Da.DX(n,{value:a}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};y.each(i,function(_){var b=t.getSeriesByIndex(_.seriesIndex),z=b&&b.getDataParams(_.dataIndexInside);z&&v.seriesData.push(z)}),y.isString(d)?u=d.replace("{value}",u):y.isFunction(d)&&(u=d(v))}return u}function Lp(a,n,t){var i=Ni.create();return Ni.rotate(i,i,t.rotation),Ni.translate(i,i,t.position),ln.applyTransform([a.dataToCoord(n),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function P6(a,n,t,i,l,u){var d=vl.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=l.get(["label","margin"]),Cv(n,i,l,u,{position:Lp(i.axis,a,t),align:d.textAlign,verticalAlign:d.textVerticalAlign})}function T1(a,n,t){return{x1:a[t=t||0],y1:a[1-t],x2:n[t],y2:n[1-t]}}function u0(a,n,t){return{x:a[t=t||0],y:a[1-t],width:n[t],height:n[1-t]}}function L6(a,n,t,i,l,u){return{cx:a,cy:n,r0:t,r:i,startAngle:l,endAngle:u,clockwise:!0}}var Ey=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.makeElOption=function(t,i,l,u,d){var v=l.axis,_=v.grid,b=u.get("type"),T=z6(_,v).getOtherAxis(v).getGlobalExtent(),z=v.toGlobalCoord(v.dataToCoord(i,!0));if(b&&"none"!==b){var B=mg(u),G=O6[b](v,z,T);G.style=B,t.graphicKey=G.type,t.pointer=G}P6(i,t,Pc(_.model,l),l,u,d)},n.prototype.getHandleTransform=function(t,i,l){var u=Pc(i.axis.grid.model,i,{labelInside:!1});u.labelMargin=l.get(["handle","margin"]);var d=Lp(i.axis,t,u);return{x:d[0],y:d[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(t,i,l,u){var d=l.axis,v=d.grid,_=d.getGlobalExtent(!0),b=z6(v,d).getOtherAxis(d).getGlobalExtent(),T="x"===d.dim?0:1,z=[t.x,t.y];z[T]+=i[T],z[T]=Math.min(_[1],z[T]),z[T]=Math.max(_[0],z[T]);var B=(b[1]+b[0])/2,G=[B,B];return G[T]=z[T],{x:z[0],y:z[1],rotation:t.rotation,cursorPoint:G,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][T]}},n}(gg);function z6(a,n){var t={};return t[n.dim+"AxisIndex"]=n.index,a.getCartesian(t)}var O6={line:function(a,n,t){return{type:"Line",subPixelOptimize:!0,shape:T1([n,t[0]],[n,t[1]],_g(a))}},shadow:function(a,n,t){var i=Math.max(1,a.getBandWidth());return{type:"Rect",shape:u0([n-i/2,t[0]],[i,t[1]-t[0]],_g(a))}}};function _g(a){return"x"===a.dim?0:1}const I6=Ey,R6=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="axisPointer",n.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(Cn.Z);var qo=E(5065),eh=(0,fr.Yf)(),ux=y.each;function Py(a,n,t){if(!qo.Z.node){var i=n.getZr();eh(i).records||(eh(i).records={}),function(a,n){function t(i,l){a.on(i,function(u){var d=function(a){var n={showTip:[],hideTip:[]},t=function(i){var l=n[i.type];l?l.push(i):(i.dispatchAction=t,a.dispatchAction(i))};return{dispatchAction:t,pendings:n}}(n);ux(eh(a).records,function(v){v&&l(v,u,d.dispatchAction)}),function(a,n){var l,t=a.showTip.length,i=a.hideTip.length;t?l=a.showTip[t-1]:i&&(l=a.hideTip[i-1]),l&&(l.dispatchAction=null,n.dispatchAction(l))}(d.pendings,n)})}eh(a).initialized||(eh(a).initialized=!0,t("click",y.curry(Mv,"click")),t("mousemove",y.curry(Mv,"mousemove")),t("globalout",N6))}(i,n),(eh(i).records[a]||(eh(i).records[a]={})).handler=t}}function N6(a,n,t){a.handler("leave",null,t)}function Mv(a,n,t,i){n.handler(a,t,i)}function xg(a,n){if(!qo.Z.node){var t=n.getZr();(eh(t).records||{})[a]&&(eh(t).records[a]=null)}}const wv=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=i.getComponent("tooltip"),d=t.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";Py("axisPointer",l,function(v,_,b){"none"!==d&&("leave"===v||d.indexOf(v)>=0)&&b({type:"updateAxisPointer",currTrigger:v,x:_&&_.offsetX,y:_&&_.offsetY})})},n.prototype.remove=function(t,i){xg("axisPointer",i)},n.prototype.dispose=function(t,i){xg("axisPointer",i)},n.type="axisPointer",n}(qt.Z);function k6(a,n){var l,t=[],i=a.seriesIndex;if(null==i||!(l=n.getSeriesByIndex(i)))return{point:[]};var u=l.getData(),d=fr.gO(u,a);if(null==d||d<0||y.isArray(d))return{point:[]};var v=u.getItemGraphicEl(d),_=l.coordinateSystem;if(l.getTooltipPosition)t=l.getTooltipPosition(d)||[];else if(_&&_.dataToPoint)if(a.isStacked){var b=_.getBaseAxis(),z=_.getOtherAxis(b).dim,G="x"===z||"radius"===z?1:0,te=u.mapDimension(b.dim),se=[];se[G]=u.get(te,d),se[1-G]=u.get(u.getCalculationInfo("stackResultDimension"),d),t=_.dataToPoint(se)||[]}else t=_.dataToPoint(u.getValues(y.map(_.dimensions,function(ze){return u.mapDimension(ze)}),d))||[];else if(v){var Ae=v.getBoundingRect().clone();Ae.applyTransform(v.transform),t=[Ae.x+Ae.width/2,Ae.y+Ae.height/2]}return{point:t,el:v}}var B6=(0,fr.Yf)();function zy(a,n,t){var i=a.currTrigger,l=[a.x,a.y],u=a,d=a.dispatchAction||(0,y.bind)(t.dispatchAction,t),v=n.getComponent("axisPointer").coordSysAxesInfo;if(v){Dv(l)&&(l=k6({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},n).point);var _=Dv(l),b=u.axesInfo,T=v.axesInfo,z="leave"===i||Dv(l),B={},G={},te={list:[],map:{}},se={showPointer:(0,y.curry)(H6,G),showTooltip:(0,y.curry)(Iy,te)};(0,y.each)(v.coordSysMap,function(ze,Be){var We=_||ze.containPoint(l);(0,y.each)(v.coordSysAxesInfo[Be],function(ut,mt){var vt=ut.axis,At=function(a,n){for(var t=0;t<(a||[]).length;t++){var i=a[t];if(n.axis.dim===i.axisDim&&n.axis.model.componentIndex===i.axisIndex)return i}}(b,ut);if(!z&&We&&(!b||At)){var Gt=At&&At.value;null==Gt&&!_&&(Gt=vt.pointToData(l)),null!=Gt&&V6(ut,Gt,se,!1,B)}})});var Ae={};return(0,y.each)(T,function(ze,Be){var We=ze.linkGroup;We&&!G[Be]&&(0,y.each)(We.axesInfo,function(ut,mt){var vt=G[mt];if(ut!==ze&&vt){var At=vt.value;We.mapper&&(At=ze.axis.scale.parse(We.mapper(At,Y6(ut),Y6(ze)))),Ae[ze.key]=At}})}),(0,y.each)(Ae,function(ze,Be){V6(T[Be],ze,se,!0,B)}),function(a,n,t){var i=t.axesInfo=[];(0,y.each)(n,function(l,u){var d=l.axisPointerModel.option,v=a[u];v?(!l.useHandle&&(d.status="show"),d.value=v.value,d.seriesDataIndices=(v.payloadBatch||[]).slice()):!l.useHandle&&(d.status="hide"),"show"===d.status&&i.push({axisDim:l.axis.dim,axisIndex:l.axis.model.componentIndex,value:d.value})})}(G,T,B),function(a,n,t,i){if(!Dv(n)&&a.list.length){var l=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:l.dataIndexInside,dataIndex:l.dataIndex,seriesIndex:l.seriesIndex,dataByCoordSys:a.list})}else i({type:"hideTip"})}(te,l,a,d),function(a,n,t){var i=t.getZr(),l="axisPointerLastHighlights",u=B6(i)[l]||{},d=B6(i)[l]={};(0,y.each)(a,function(b,T){var z=b.axisPointerModel.option;"show"===z.status&&(0,y.each)(z.seriesDataIndices,function(B){d[B.seriesIndex+" | "+B.dataIndex]=B})});var v=[],_=[];(0,y.each)(u,function(b,T){!d[T]&&_.push(b)}),(0,y.each)(d,function(b,T){!u[T]&&v.push(b)}),_.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:_}),v.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:v})}(T,0,t),B}}function V6(a,n,t,i,l){var u=a.axis;if(!u.scale.isBlank()&&u.containData(n)){if(!a.involveSeries)return void t.showPointer(a,n);var d=function(a,n){var t=n.axis,i=t.dim,l=a,u=[],d=Number.MAX_VALUE,v=-1;return(0,y.each)(n.seriesModels,function(_,b){var z,B,T=_.getData().mapDimensionsAll(i);if(_.getAxisTooltipData){var G=_.getAxisTooltipData(T,a,t);B=G.dataIndices,z=G.nestestValue}else{if(!(B=_.getData().indicesOfNearest(T[0],a,"category"===t.type?.5:null)).length)return;z=_.getData().get(T[0],B[0])}if(null!=z&&isFinite(z)){var te=a-z,se=Math.abs(te);se<=d&&((se<d||te>=0&&v<0)&&(d=se,v=te,l=z,u.length=0),(0,y.each)(B,function(Ae){u.push({seriesIndex:_.seriesIndex,dataIndexInside:Ae,dataIndex:_.getData().getRawIndex(Ae)})}))}}),{payloadBatch:u,snapToValue:l}}(n,a),v=d.payloadBatch,_=d.snapToValue;v[0]&&null==l.seriesIndex&&(0,y.extend)(l,v[0]),!i&&a.snap&&u.containData(_)&&null!=_&&(n=_),t.showPointer(a,n,v),t.showTooltip(a,d,_)}}function H6(a,n,t,i){a[n.key]={value:t,payloadBatch:i}}function Iy(a,n,t,i){var l=t.payloadBatch,u=n.axis,d=u.model,v=n.axisPointerModel;if(n.triggerTooltip&&l.length){var _=n.coordSys.model,b=uh(_),T=a.map[b];T||(T=a.map[b]={coordSysId:_.id,coordSysIndex:_.componentIndex,coordSysType:_.type,coordSysMainType:_.mainType,dataByAxis:[]},a.list.push(T)),T.dataByAxis.push({axisDim:u.dim,axisIndex:d.componentIndex,axisType:d.type,axisId:d.id,value:i,valueLabelOpt:{precision:v.get(["label","precision"]),formatter:v.get(["label","formatter"])},seriesDataIndices:l.slice()})}}function Y6(a){var n=a.axis.model,t={},i=t.axisDim=a.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=n.componentIndex,t.axisName=t[i+"AxisName"]=n.name,t.axisId=t[i+"AxisId"]=n.id,t}function Dv(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function Ev(a){lu.registerAxisPointerClass("CartesianAxisPointer",I6),a.registerComponentModel(R6),a.registerComponentView(wv),a.registerPreprocessor(function(n){if(n){(!n.axisPointer||0===n.axisPointer.length)&&(n.axisPointer={});var t=n.axisPointer.link;t&&!(0,y.isArray)(t)&&(n.axisPointer.link=[t])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(n,t){n.getComponent("axisPointer").coordSysAxesInfo=function(a,n){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(a,n,t){var i=n.getComponent("tooltip"),l=n.getComponent("axisPointer"),u=l.get("link",!0)||[],d=[];(0,y.each)(t.getCoordinateSystems(),function(v){if(v.axisPointerEnabled){var _=uh(v.model),b=a.coordSysAxesInfo[_]={};a.coordSysMap[_]=v;var z=v.model.getModel("tooltip",i);if((0,y.each)(v.getAxes(),(0,y.curry)(se,!1,null)),v.getTooltipAxes&&i&&z.get("show")){var B="axis"===z.get("trigger"),G="cross"===z.get(["axisPointer","type"]),te=v.getTooltipAxes(z.get(["axisPointer","axis"]));(B||G)&&(0,y.each)(te.baseAxes,(0,y.curry)(se,!G||"cross",B)),G&&(0,y.each)(te.otherAxes,(0,y.curry)(se,"cross",!1))}}function se(Ae,ze,Be){var We=Be.model.getModel("axisPointer",l),ut=We.get("show");if(ut&&("auto"!==ut||Ae||P0(We))){null==ze&&(ze=We.get("triggerTooltip")),We=Ae?function(a,n,t,i,l,u){var d=n.getModel("axisPointer"),_={};(0,y.each)(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(B){_[B]=(0,y.clone)(d.get(B))}),_.snap="category"!==a.type&&!!u,"cross"===d.get("type")&&(_.type="line");var b=_.label||(_.label={});if(null==b.show&&(b.show=!1),"cross"===l){var T=d.get(["label","show"]);if(b.show=null==T||T,!u){var z=_.lineStyle=d.get("crossStyle");z&&(0,y.defaults)(b,z.textStyle)}}return a.model.getModel("axisPointer",new Yr.Z(_,t,i))}(Be,z,l,n,Ae,ze):We;var mt=We.get("snap"),vt=uh(Be.model),At=ze||mt||"category"===Be.type,Gt=a.axesInfo[vt]={key:vt,axis:Be,coordSys:v,axisPointerModel:We,triggerTooltip:ze,involveSeries:At,snap:mt,useHandle:P0(We),seriesModels:[],linkGroup:null};b[vt]=Gt,a.seriesInvolved=a.seriesInvolved||At;var on=function(a,n){for(var t=n.model,i=n.dim,l=0;l<a.length;l++){var u=a[l]||{};if(tc(u[i+"AxisId"],t.id)||tc(u[i+"AxisIndex"],t.componentIndex)||tc(u[i+"AxisName"],t.name))return l}}(u,Be);if(null!=on){var bn=d[on]||(d[on]={axesInfo:{}});bn.axesInfo[vt]=Gt,bn.mapper=u[on].mapper,Gt.linkGroup=bn}}}})}(t,a,n),t.seriesInvolved&&function(a,n){n.eachSeries(function(t){var i=t.coordinateSystem,l=t.get(["tooltip","trigger"],!0),u=t.get(["tooltip","show"],!0);!i||"none"===l||!1===l||"item"===l||!1===u||!1===t.get(["axisPointer","show"],!0)||(0,y.each)(a.coordSysAxesInfo[uh(i.model)],function(d){var v=d.axis;i.getAxis(v.dim)===v&&(d.seriesModels.push(t),null==d.seriesDataCount&&(d.seriesDataCount=0),d.seriesDataCount+=t.getData().count())})})}(t,a),t}(n,t)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},zy)}var Fy=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.makeElOption=function(t,i,l,u,d){var v=l.axis;"angle"===v.dim&&(this.animationThreshold=Math.PI/18);var _=v.polar,T=_.getOtherAxis(v).getExtent(),z=v.dataToCoord(i),B=u.get("type");if(B&&"none"!==B){var G=mg(u),te=ky[B](v,_,z,T);te.style=G,t.graphicKey=te.type,t.pointer=te}var Ae=function(a,n,t,i,l){var u=n.axis,d=u.dataToCoord(a),v=i.getAngleAxis().getExtent()[0];v=v/180*Math.PI;var b,T,z,_=i.getRadiusAxis().getExtent();if("radius"===u.dim){var B=Ni.create();Ni.rotate(B,B,v),Ni.translate(B,B,[i.cx,i.cy]),b=ln.applyTransform([d,-l],B);var G=n.getModel("axisLabel").get("rotate")||0,te=vl.innerTextLayout(v,G*Math.PI/180,-1);T=te.textAlign,z=te.textVerticalAlign}else{var se=_[1];b=i.coordToPoint([se+l,d]);var Ae=i.cx,ze=i.cy;T=Math.abs(b[0]-Ae)/se<.3?"center":b[0]>Ae?"left":"right",z=Math.abs(b[1]-ze)/se<.3?"middle":b[1]>ze?"top":"bottom"}return{position:b,align:T,verticalAlign:z}}(i,l,0,_,u.get(["label","margin"]));Cv(t,l,u,d,Ae)},n}(gg),ky={line:function(a,n,t,i){return"angle"===a.dim?{type:"Line",shape:T1(n.coordToPoint([i[0],t]),n.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r:t}}},shadow:function(a,n,t,i){var l=Math.max(1,a.getBandWidth()),u=Math.PI/180;return"angle"===a.dim?{type:"Sector",shape:L6(n.cx,n.cy,i[0],i[1],(-t-l/2)*u,(l/2-t)*u)}:{type:"Sector",shape:L6(n.cx,n.cy,t-l/2,t+l/2,0,2*Math.PI)}}};const W6=Fy,By=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.findAxisModel=function(t){var i;return this.ecModel.eachComponent(t,function(u){u.getCoordSysModel()===this&&(i=u)},this),i},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},n}(Cn.Z);var Sg=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",fr.C6).models[0]},n.type="polarAxis",n}(Cn.Z);y.mixin(Sg,Gn.W);var Vy=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="angleAxis",n}(Sg),Tg=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="radiusAxis",n}(Sg),Cg=function(a){function n(t,i){return a.call(this,"radius",t,i)||this}return(0,Zt.ZT)(n,a),n.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},n}(ma.Z);Cg.prototype.dataToRadius=ma.Z.prototype.dataToCoord,Cg.prototype.radiusToData=ma.Z.prototype.coordToData;const j6=Cg;var Hy=(0,fr.Yf)(),Mg=function(a){function n(t,i){return a.call(this,"angle",t,i||[0,360])||this}return(0,Zt.ZT)(n,a),n.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},n.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),l=t.scale,u=l.getExtent(),d=l.count();if(u[1]-u[0]<1)return 0;var v=u[0],_=t.dataToCoord(v+1)-t.dataToCoord(v),b=Math.abs(_),T=fe.lP(null==v?"":v+"",i.getFont(),"center","top"),B=Math.max(T.height,7)/b;isNaN(B)&&(B=1/0);var G=Math.max(0,Math.floor(B)),te=Hy(t.model),se=te.lastAutoInterval,Ae=te.lastTickCount;return null!=se&&null!=Ae&&Math.abs(se-G)<=1&&Math.abs(Ae-d)<=1&&se>G?G=se:(te.lastTickCount=d,te.lastAutoInterval=G),G},n}(ma.Z);Mg.prototype.dataToAngle=ma.Z.prototype.dataToCoord,Mg.prototype.angleToData=ma.Z.prototype.coordToData;const Uy=Mg;var K6=["radius","angle"];function $6(a){var n=a.seriesModel,t=a.polarModel;return t&&t.coordinateSystem||n&&n.coordinateSystem}const Gy=function(){function a(n){this.dimensions=K6,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new j6,this._angleAxis=new Uy,this.axisPointerEnabled=!0,this.name=n||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(n){var t=this.pointToCoord(n);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},a.prototype.containData=function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},a.prototype.getAxis=function(n){return this["_"+n+"Axis"]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(n){var t=[],i=this._angleAxis,l=this._radiusAxis;return i.scale.type===n&&t.push(i),l.scale.type===n&&t.push(l),t},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(n){var t=this._angleAxis;return n===t?this._radiusAxis:t},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(n){var t=null!=n&&"auto"!==n?this.getAxis(n):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},a.prototype.dataToPoint=function(n,t){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],t),this._angleAxis.dataToAngle(n[1],t)])},a.prototype.pointToData=function(n,t){var i=this.pointToCoord(n);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},a.prototype.pointToCoord=function(n){var t=n[0]-this.cx,i=n[1]-this.cy,l=this.getAngleAxis(),u=l.getExtent(),d=Math.min(u[0],u[1]),v=Math.max(u[0],u[1]);l.inverse?d=v-360:v=d+360;var _=Math.sqrt(t*t+i*i);t/=_,i/=_;for(var b=Math.atan2(-i,t)/Math.PI*180,T=b<d?1:-1;b<d||b>v;)b+=360*T;return[_,b]},a.prototype.coordToPoint=function(n){var t=n[0],i=n[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},a.prototype.getArea=function(){var n=this.getAngleAxis(),i=this.getRadiusAxis().getExtent().slice();i[0]>i[1]&&i.reverse();var l=n.getExtent(),u=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-l[0]*u,endAngle:-l[1]*u,clockwise:n.inverse,contain:function(d,v){var _=d-this.cx,b=v-this.cy,T=_*_+b*b,z=this.r,B=this.r0;return T<=z*z&&T>=B*B}}},a.prototype.convertToPixel=function(n,t,i){return $6(t)===this?this.dataToPoint(i):null},a.prototype.convertFromPixel=function(n,t,i){return $6(t)===this?this.pointToData(i):null},a}();function X6(a,n){var t=this,i=t.getAngleAxis(),l=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),l.scale.setExtent(1/0,-1/0),a.eachSeries(function(v){if(v.coordinateSystem===t){var _=v.getData();y.each((0,Da.PY)(_,"radius"),function(b){l.scale.unionExtentFromData(_,b)}),y.each((0,Da.PY)(_,"angle"),function(b){i.scale.unionExtentFromData(_,b)})}}),(0,Da.Jk)(i.scale,i.model),(0,Da.Jk)(l.scale,l.model),"category"===i.type&&!i.onBand){var u=i.getExtent(),d=360/i.scale.count();i.inverse?u[1]+=d:u[1]-=d,i.setExtent(u[0],u[1])}}function J6(a,n){if(a.type=n.get("type"),a.scale=(0,Da.aG)(n),a.onBand=n.get("boundaryGap")&&"category"===a.type,a.inverse=n.get("inverse"),function(a){return"angleAxis"===a.mainType}(n)){a.inverse=a.inverse!==n.get("clockwise");var t=n.get("startAngle");a.setExtent(t,t+(a.inverse?-360:360))}n.axis=a,a.model=n}const q6={dimensions:K6,create:function(a,n){var t=[];return a.eachComponent("polar",function(i,l){var u=new Gy(l+"");u.update=X6;var d=u.getRadiusAxis(),v=u.getAngleAxis(),_=i.findAxisModel("radiusAxis"),b=i.findAxisModel("angleAxis");J6(d,_),J6(v,b),function(a,n,t){var i=n.get("center"),l=t.getWidth(),u=t.getHeight();a.cx=(0,Xt.GM)(i[0],l),a.cy=(0,Xt.GM)(i[1],u);var d=a.getRadiusAxis(),v=Math.min(l,u)/2,_=n.get("radius");null==_?_=[0,"100%"]:y.isArray(_)||(_=[0,_]);var b=[(0,Xt.GM)(_[0],v),(0,Xt.GM)(_[1],v)];d.inverse?d.setExtent(b[1],b[0]):d.setExtent(b[0],b[1])}(u,i,n),t.push(u),i.coordinateSystem=u,u.model=i}),a.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var l=i.getReferringComponents("polar",fr.C6).models[0];i.coordinateSystem=l.coordinateSystem}}),t}};var jy=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function zp(a,n,t){n[1]>n[0]&&(n=n.slice().reverse());var i=a.coordToPoint([n[0],t]),l=a.coordToPoint([n[1],t]);return{x1:i[0],y1:i[1],x2:l[0],y2:l[1]}}function Op(a){return a.getRadiusAxis().inverse?0:1}function Ip(a){var n=a[0],t=a[a.length-1];n&&t&&Math.abs(Math.abs(n.coord-t.coord)-360)<1e-4&&a.pop()}var wg=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.axisPointerClass="PolarAxisPointer",t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var l=t.axis,u=l.polar,d=u.getRadiusAxis().getExtent(),v=l.getTicksCoords(),_=l.getMinorTicksCoords(),b=y.map(l.getViewLabels(),function(T){T=y.clone(T);var z=l.scale,B="ordinal"===z.type?z.getRawOrdinalNumber(T.tickValue):T.tickValue;return T.coord=l.dataToCoord(B),T});Ip(b),Ip(v),y.each(jy,function(T){t.get([T,"show"])&&(!l.scale.isBlank()||"axisLine"===T)&&em[T](this.group,t,u,v,_,d,b)},this)}},n.type="angleAxis",n}(lu),em={axisLine:function(a,n,t,i,l,u){var b,d=n.getModel(["axisLine","lineStyle"]),v=Op(t),_=v?0:1;(b=0===u[_]?new uu.Z({shape:{cx:t.cx,cy:t.cy,r:u[v]},style:d.getLineStyle(),z2:1,silent:!0}):new Lc.Z({shape:{cx:t.cx,cy:t.cy,r:u[v],r0:u[_]},style:d.getLineStyle(),z2:1,silent:!0})).style.fill=null,a.add(b)},axisTick:function(a,n,t,i,l,u){var d=n.getModel("axisTick"),v=(d.get("inside")?-1:1)*d.get("length"),_=u[Op(t)],b=y.map(i,function(T){return new tr.Z({shape:zp(t,[_,_+v],T.coord)})});a.add(ln.mergePath(b,{style:y.defaults(d.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,n,t,i,l,u){if(l.length){for(var d=n.getModel("axisTick"),v=n.getModel("minorTick"),_=(d.get("inside")?-1:1)*v.get("length"),b=u[Op(t)],T=[],z=0;z<l.length;z++)for(var B=0;B<l[z].length;B++)T.push(new tr.Z({shape:zp(t,[b,b+_],l[z][B].coord)}));a.add(ln.mergePath(T,{style:y.defaults(v.getModel("lineStyle").getLineStyle(),y.defaults(d.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,n,t,i,l,u,d){var v=n.getCategories(!0),_=n.getModel("axisLabel"),b=_.get("margin"),T=n.get("triggerEvent");y.each(d,function(z,B){var G=_,te=z.tickValue,se=u[Op(t)],Ae=t.coordToPoint([se+b,z.coord]),ze=t.cx,Be=t.cy,We=Math.abs(Ae[0]-ze)/se<.3?"center":Ae[0]>ze?"left":"right",ut=Math.abs(Ae[1]-Be)/se<.3?"middle":Ae[1]>Be?"top":"bottom";if(v&&v[te]){var mt=v[te];y.isObject(mt)&&mt.textStyle&&(G=new Yr.Z(mt.textStyle,_,_.ecModel))}var vt=new di.ZP({silent:vl.isLabelSilent(n),style:(0,$n.Lr)(G,{x:Ae[0],y:Ae[1],fill:G.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:z.formattedLabel,align:We,verticalAlign:ut})});if(a.add(vt),T){var At=vl.makeAxisEventDataBase(n);At.targetType="axisLabel",At.value=z.rawLabel,(0,Hr.A)(vt).eventData=At}},this)},splitLine:function(a,n,t,i,l,u){var v=n.getModel("splitLine").getModel("lineStyle"),_=v.get("color"),b=0;_=_ instanceof Array?_:[_];for(var T=[],z=0;z<i.length;z++){var B=b++%_.length;T[B]=T[B]||[],T[B].push(new tr.Z({shape:zp(t,u,i[z].coord)}))}for(z=0;z<T.length;z++)a.add(ln.mergePath(T[z],{style:y.defaults({stroke:_[z%_.length]},v.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(a,n,t,i,l,u){if(l.length){for(var v=n.getModel("minorSplitLine").getModel("lineStyle"),_=[],b=0;b<l.length;b++)for(var T=0;T<l[b].length;T++)_.push(new tr.Z({shape:zp(t,u,l[b][T].coord)}));a.add(ln.mergePath(_,{style:v.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(a,n,t,i,l,u){if(i.length){var v=n.getModel("splitArea").getModel("areaStyle"),_=v.get("color"),b=0;_=_ instanceof Array?_:[_];for(var T=[],z=Math.PI/180,B=-i[0].coord*z,G=Math.min(u[0],u[1]),te=Math.max(u[0],u[1]),se=n.get("clockwise"),Ae=1,ze=i.length;Ae<=ze;Ae++){var Be=Ae===ze?i[0].coord:i[Ae].coord,We=b++%_.length;T[We]=T[We]||[],T[We].push(new Oi.C({shape:{cx:t.cx,cy:t.cy,r0:G,r:te,startAngle:B,endAngle:-Be*z,clockwise:se},silent:!0})),B=-Be*z}for(Ae=0;Ae<T.length;Ae++)a.add(ln.mergePath(T[Ae],{style:y.defaults({fill:_[Ae%_.length]},v.getAreaStyle()),silent:!0}))}}};const Dg=wg;var Ky=["axisLine","axisTickLabel","axisName"],$y=["splitLine","splitArea","minorSplitLine"],Eg=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.axisPointerClass="PolarAxisPointer",t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var l=this._axisGroup,u=this._axisGroup=new pr.Z;this.group.add(u);var d=t.axis,v=d.polar,_=v.getAngleAxis(),b=d.getTicksCoords(),T=d.getMinorTicksCoords(),z=_.getExtent()[0],B=d.getExtent(),G=function(a,n,t){return{position:[a.cx,a.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}(v,t,z),te=new vl(t,G);y.each(Ky,te.add,te),u.add(te.getGroup()),ln.groupTransition(l,u,t),y.each($y,function(se){t.get([se,"show"])&&!d.scale.isBlank()&&Xy[se](this.group,t,v,z,B,b,T)},this)}},n.type="radiusAxis",n}(lu),Xy={splitLine:function(a,n,t,i,l,u){var v=n.getModel("splitLine").getModel("lineStyle"),_=v.get("color"),b=0;_=_ instanceof Array?_:[_];for(var T=[],z=0;z<u.length;z++){var B=b++%_.length;T[B]=T[B]||[],T[B].push(new uu.Z({shape:{cx:t.cx,cy:t.cy,r:u[z].coord}}))}for(z=0;z<T.length;z++)a.add(ln.mergePath(T[z],{style:y.defaults({stroke:_[z%_.length],fill:null},v.getLineStyle()),silent:!0}))},minorSplitLine:function(a,n,t,i,l,u,d){if(d.length){for(var _=n.getModel("minorSplitLine").getModel("lineStyle"),b=[],T=0;T<d.length;T++)for(var z=0;z<d[T].length;z++)b.push(new uu.Z({shape:{cx:t.cx,cy:t.cy,r:d[T][z].coord}}));a.add(ln.mergePath(b,{style:y.defaults({fill:null},_.getLineStyle()),silent:!0}))}},splitArea:function(a,n,t,i,l,u){if(u.length){var v=n.getModel("splitArea").getModel("areaStyle"),_=v.get("color"),b=0;_=_ instanceof Array?_:[_];for(var T=[],z=u[0].coord,B=1;B<u.length;B++){var G=b++%_.length;T[G]=T[G]||[],T[G].push(new Oi.C({shape:{cx:t.cx,cy:t.cy,r0:z,r:u[B].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),z=u[B].coord}for(B=0;B<T.length;B++)a.add(ln.mergePath(T[B],{style:y.defaults({fill:_[B%_.length]},v.getAreaStyle()),silent:!0}))}}};const Qy=Eg;function Ag(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function Pg(a,n){return n.dim+a.model.componentIndex}const Jy=function(a,n,t){var i={},l=function(a){var n={};y.each(a,function(i,l){var u=i.getData(),d=i.coordinateSystem,v=d.getBaseAxis(),_=Pg(d,v),b=v.getExtent(),T="category"===v.type?v.getBandWidth():Math.abs(b[1]-b[0])/u.count(),z=n[_]||{bandWidth:T,remainedWidth:T,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},B=z.stacks;n[_]=z;var G=Ag(i);B[G]||z.autoWidthCount++,B[G]=B[G]||{width:0,maxWidth:0};var te=(0,Xt.GM)(i.get("barWidth"),T),se=(0,Xt.GM)(i.get("barMaxWidth"),T),Ae=i.get("barGap"),ze=i.get("barCategoryGap");te&&!B[G].width&&(te=Math.min(z.remainedWidth,te),B[G].width=te,z.remainedWidth-=te),se&&(B[G].maxWidth=se),null!=Ae&&(z.gap=Ae),null!=ze&&(z.categoryGap=ze)});var t={};return y.each(n,function(i,l){t[l]={};var u=i.stacks,v=(0,Xt.GM)(i.categoryGap,i.bandWidth),_=(0,Xt.GM)(i.gap,1),b=i.remainedWidth,T=i.autoWidthCount,z=(b-v)/(T+(T-1)*_);z=Math.max(z,0),y.each(u,function(se,Ae){var ze=se.maxWidth;ze&&ze<z&&(ze=Math.min(ze,b),se.width&&(ze=Math.min(ze,se.width)),b-=ze,se.width=ze,T--)}),z=(b-v)/(T+(T-1)*_),z=Math.max(z,0);var G,B=0;y.each(u,function(se,Ae){se.width||(se.width=z),G=se,B+=se.width*(1+_)}),G&&(B-=G.width*_);var te=-B/2;y.each(u,function(se,Ae){t[l][Ae]=t[l][Ae]||{offset:te,width:se.width},te+=se.width*(1+_)})}),t}(y.filter(n.getSeriesByType(a),function(u){return!n.isSeriesFiltered(u)&&u.coordinateSystem&&"polar"===u.coordinateSystem.type}));n.eachSeriesByType(a,function(u){if("polar"===u.coordinateSystem.type){var d=u.getData(),v=u.coordinateSystem,_=v.getBaseAxis(),b=Pg(v,_),T=Ag(u),z=l[b][T],B=z.offset,G=z.width,te=v.getOtherAxis(_),se=u.coordinateSystem.cx,Ae=u.coordinateSystem.cy,ze=u.get("barMinHeight")||0,Be=u.get("barMinAngle")||0;i[T]=i[T]||[];for(var We=d.mapDimension(te.dim),ut=d.mapDimension(_.dim),mt=(0,zn.M)(d,We),vt="radius"!==_.dim||!u.get("roundCap",!0),At=te.dataToCoord(0),Gt=0,on=d.count();Gt<on;Gt++){var bn=d.get(We,Gt),yn=d.get(ut,Gt),On=bn>=0?"p":"n",kn=At;mt&&(i[T][yn]||(i[T][yn]={p:At,n:At}),kn=i[T][yn][On]);var Bn=void 0,Vn=void 0,rr=void 0,Sr=void 0;if("radius"===te.dim){var hr=te.dataToCoord(bn)-At,Vr=_.dataToCoord(yn);Math.abs(hr)<ze&&(hr=(hr<0?-1:1)*ze),Bn=kn,Vn=kn+hr,Sr=(rr=Vr-B)-G,mt&&(i[T][yn][On]=Vn)}else{var yi=te.dataToCoord(bn,vt)-At,hi=_.dataToCoord(yn);Math.abs(yi)<Be&&(yi=(yi<0?-1:1)*Be),Vn=(Bn=hi+B)+G,rr=kn,Sr=kn+yi,mt&&(i[T][yn][On]=Sr)}d.setItemLayout(Gt,{cx:se,cy:Ae,r0:Bn,r:Vn,startAngle:-rr*Math.PI/180,endAngle:-Sr*Math.PI/180,clockwise:rr>=Sr})}}})};var d0={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},vx={splitNumber:5},Lg=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="polar",n}(qt.Z);function zg(a,n){n=n||{};var i=a.axis,l={},u=i.position,d=i.orient,v=a.coordinateSystem.getRect(),_=[v.x,v.x+v.width,v.y,v.y+v.height],b={horizontal:{top:_[2],bottom:_[3]},vertical:{left:_[0],right:_[1]}};l.position=["vertical"===d?b.vertical[u]:_[0],"horizontal"===d?b.horizontal[u]:_[3]],l.rotation=Math.PI/2*{horizontal:0,vertical:1}[d],l.labelDirection=l.tickDirection=l.nameDirection={top:-1,bottom:1,right:1,left:-1}[u],a.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),y.retrieve(n.labelInside,a.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var B=n.rotate;return null==B&&(B=a.get(["axisLabel","rotate"])),l.labelRotation="top"===u?-B:B,l.z2=1,l}var f0=["axisLine","axisTickLabel","axisName"],qy=["splitArea","splitLine"],px=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.axisPointerClass="SingleAxisPointer",t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){var d=this.group;d.removeAll();var v=this._axisGroup;this._axisGroup=new pr.Z;var _=zg(t),b=new vl(t,_);y.each(f0,b.add,b),d.add(this._axisGroup),d.add(b.getGroup()),y.each(qy,function(T){t.get([T,"show"])&&e_[T](this,this.group,this._axisGroup,t)},this),ln.groupTransition(v,this._axisGroup,t),a.prototype.render.call(this,t,i,l,u)},n.prototype.remove=function(){s4(this)},n.type="singleAxis",n}(lu),e_={splitLine:function(a,n,t,i){var l=i.axis;if(!l.scale.isBlank()){var u=i.getModel("splitLine"),d=u.getModel("lineStyle"),v=d.get("color");v=v instanceof Array?v:[v];for(var _=i.coordinateSystem.getRect(),b=l.isHorizontal(),T=[],z=0,B=l.getTicksCoords({tickModel:u}),G=[],te=[],se=0;se<B.length;++se){var Ae=l.toGlobalCoord(B[se].coord);b?(G[0]=Ae,G[1]=_.y,te[0]=Ae,te[1]=_.y+_.height):(G[0]=_.x,G[1]=Ae,te[0]=_.x+_.width,te[1]=Ae);var ze=z++%v.length;T[ze]=T[ze]||[],T[ze].push(new tr.Z({subPixelOptimize:!0,shape:{x1:G[0],y1:G[1],x2:te[0],y2:te[1]},silent:!0}))}var Be=d.getLineStyle(["color"]);for(se=0;se<T.length;++se)n.add(ln.mergePath(T[se],{style:y.defaults({stroke:v[se%v.length]},Be),silent:!0}))}},splitArea:function(a,n,t,i){o4(a,t,i,i)}};const iu=px;var Og=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n}(Cn.Z);(0,y.mixin)(Og,Gn.W.prototype);const rm=Og,t_=function(a){function n(t,i,l,u,d){var v=a.call(this,t,i,l)||this;return v.type=u||"value",v.position=d||"bottom",v}return(0,Zt.ZT)(n,a),n.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},n.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},n}(ma.Z);var im=["single"];function am(a){var n=a.seriesModel,t=a.singleAxisModel;return t&&t.coordinateSystem||n&&n.coordinateSystem}const n_=function(){function a(n,t,i){this.type="single",this.dimension="single",this.dimensions=im,this.axisPointerEnabled=!0,this.model=n,this._init(n,t,i)}return a.prototype._init=function(n,t,i){var u=new t_(this.dimension,Da.aG(n),[0,0],n.get("type"),n.get("position"));u.onBand="category"===u.type&&n.get("boundaryGap"),u.inverse=n.get("inverse"),u.orient=n.get("orient"),n.axis=u,u.model=n,u.coordinateSystem=this,this._axis=u},a.prototype.update=function(n,t){n.eachSeries(function(i){if(i.coordinateSystem===this){var l=i.getData();(0,y.each)(l.mapDimensionsAll(this.dimension),function(u){this._axis.scale.unionExtentFromData(l,u)},this),Da.Jk(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(n,t){this._rect=(0,Mi.ME)({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var n=this._rect,t=this._axis,i=t.isHorizontal(),l=i?[0,n.width]:[0,n.height],u=t.reverse?1:0;t.setExtent(l[u],l[1-u]),this._updateAxisTransform(t,i?n.x:n.y)},a.prototype._updateAxisTransform=function(n,t){var i=n.getExtent(),l=i[0]+i[1],u=n.isHorizontal();n.toGlobalCoord=u?function(d){return d+t}:function(d){return l-d+t},n.toLocalCoord=u?function(d){return d-t}:function(d){return l-d+t}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(n){var t=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(n[0]))&&n[1]>=t.y&&n[1]<=t.y+t.height:i.contain(i.toLocalCoord(n[1]))&&n[0]>=t.y&&n[0]<=t.y+t.height},a.prototype.pointToData=function(n){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(n["horizontal"===t.orient?0:1]))]},a.prototype.dataToPoint=function(n){var t=this.getAxis(),i=this.getRect(),l=[],u="horizontal"===t.orient?0:1;return n instanceof Array&&(n=n[0]),l[u]=t.toGlobalCoord(t.dataToCoord(+n)),l[1-u]=0===u?i.y+i.height/2:i.x+i.width/2,l},a.prototype.convertToPixel=function(n,t,i){return am(t)===this?this.dataToPoint(i):null},a.prototype.convertFromPixel=function(n,t,i){return am(t)===this?this.pointToData(i):null},a}(),om={create:function(a,n){var t=[];return a.eachComponent("singleAxis",function(i,l){var u=new n_(i,a,n);u.name="single_"+l,u.resize(i,n),i.coordinateSystem=u,t.push(u)}),a.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var l=i.getReferringComponents("singleAxis",fr.C6).models[0];i.coordinateSystem=l&&l.coordinateSystem}}),t},dimensions:im};var Rg=["x","y"],v0=["width","height"],Fp=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.makeElOption=function(t,i,l,u,d){var v=l.axis,_=v.coordinateSystem,b=Bp(_,1-kp(v)),T=_.dataToPoint(i)[0],z=u.get("type");if(z&&"none"!==z){var B=mg(u),G=Av[z](v,T,b);G.style=B,t.graphicKey=G.type,t.pointer=G}P6(i,t,zg(l),l,u,d)},n.prototype.getHandleTransform=function(t,i,l){var u=zg(i,{labelInside:!1});u.labelMargin=l.get(["handle","margin"]);var d=Lp(i.axis,t,u);return{x:d[0],y:d[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(t,i,l,u){var d=l.axis,v=d.coordinateSystem,_=kp(d),b=Bp(v,_),T=[t.x,t.y];T[_]+=i[_],T[_]=Math.min(b[1],T[_]),T[_]=Math.max(b[0],T[_]);var z=Bp(v,1-_),B=(z[1]+z[0])/2,G=[B,B];return G[_]=T[_],{x:T[0],y:T[1],rotation:t.rotation,cursorPoint:G,tooltipOption:{verticalAlign:"middle"}}},n}(gg),Av={line:function(a,n,t){return{type:"Line",subPixelOptimize:!0,shape:T1([n,t[0]],[n,t[1]],kp(a))}},shadow:function(a,n,t){var i=a.getBandWidth();return{type:"Rect",shape:u0([n-i/2,t[0]],[i,t[1]-t[0]],kp(a))}}};function kp(a){return a.isHorizontal()?0:1}function Bp(a,n){var t=a.getRect();return[t[Rg[n]],t[Rg[n]]+t[v0[n]]]}const sm=Fp;var i_=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="single",n}(qt.Z);function Vp(a,n){var i,t=a.cellSize;1===(i=y.isArray(t)?t:a.cellSize=[t,t]).length&&(i[1]=i[0]);var l=y.map([0,1],function(u){return(0,Mi.QM)(n,u)&&(i[u]="auto"),null!=i[u]&&"auto"!==i[u]});(0,Mi.dt)(a,n,{type:"box",ignoreSize:l})}const s_=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i,l){var u=(0,Mi.tE)(t);a.prototype.init.apply(this,arguments),Vp(t,u)},n.prototype.mergeOption=function(t){a.prototype.mergeOption.apply(this,arguments),Vp(this.option,t)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n}(Cn.Z);var l_=E(3669);const u_=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u=this.group;u.removeAll();var d=t.coordinateSystem,v=d.getRangeInfo(),_=d.getOrient(),b=i.getLocaleModel();this._renderDayRect(t,v,u),this._renderLines(t,v,_,u),this._renderYearText(t,v,_,u),this._renderMonthText(t,b,_,u),this._renderWeekText(t,b,v,_,u)},n.prototype._renderDayRect=function(t,i,l){for(var u=t.coordinateSystem,d=t.getModel("itemStyle").getItemStyle(),v=u.getCellWidth(),_=u.getCellHeight(),b=i.start.time;b<=i.end.time;b=u.getNextNDay(b,1).time){var T=u.dataToRect([b],!1).tl,z=new ri.Z({shape:{x:T[0],y:T[1],width:v,height:_},cursor:"default",style:d});l.add(z)}},n.prototype._renderLines=function(t,i,l,u){var d=this,v=t.coordinateSystem,_=t.getModel(["splitLine","lineStyle"]).getLineStyle(),b=t.get(["splitLine","show"]),T=_.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var z=i.start,B=0;z.time<=i.end.time;B++){te(z.formatedDate),0===B&&(z=v.getDateInfo(i.start.y+"-"+i.start.m));var G=z.date;G.setMonth(G.getMonth()+1),z=v.getDateInfo(G)}function te(se){d._firstDayOfMonth.push(v.getDateInfo(se)),d._firstDayPoints.push(v.dataToRect([se],!1).tl);var Ae=d._getLinePointsOfOneWeek(t,se,l);d._tlpoints.push(Ae[0]),d._blpoints.push(Ae[Ae.length-1]),b&&d._drawSplitline(Ae,_,u)}te(v.getNextNDay(i.end.time,1).formatedDate),b&&this._drawSplitline(d._getEdgesPoints(d._tlpoints,T,l),_,u),b&&this._drawSplitline(d._getEdgesPoints(d._blpoints,T,l),_,u)},n.prototype._getEdgesPoints=function(t,i,l){var u=[t[0].slice(),t[t.length-1].slice()],d="horizontal"===l?0:1;return u[0][d]=u[0][d]-i/2,u[1][d]=u[1][d]+i/2,u},n.prototype._drawSplitline=function(t,i,l){var u=new Ht.Z({z2:20,shape:{points:t},style:i});l.add(u)},n.prototype._getLinePointsOfOneWeek=function(t,i,l){for(var u=t.coordinateSystem,d=u.getDateInfo(i),v=[],_=0;_<7;_++){var b=u.getNextNDay(d.time,_),T=u.dataToRect([b.time],!1);v[2*b.day]=T.tl,v[2*b.day+1]=T["horizontal"===l?"bl":"tr"]}return v},n.prototype._formatterLabel=function(t,i){return"string"==typeof t&&t?(0,Ji.wx)(t,i):"function"==typeof t?t(i):i.nameMap},n.prototype._yearTextPositionControl=function(t,i,l,u,d){var v=i[0],_=i[1],b=["center","bottom"];"bottom"===u?(_+=d,b=["center","top"]):"left"===u?v-=d:"right"===u?(v+=d,b=["center","top"]):_-=d;var T=0;return("left"===u||"right"===u)&&(T=Math.PI/2),{rotation:T,x:v,y:_,style:{align:b[0],verticalAlign:b[1]}}},n.prototype._renderYearText=function(t,i,l,u){var d=t.getModel("yearLabel");if(d.get("show")){var v=d.get("margin"),_=d.get("position");_||(_="horizontal"!==l?"top":"left");var b=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],T=(b[0][0]+b[1][0])/2,z=(b[0][1]+b[1][1])/2,B="horizontal"===l?0:1,G={top:[T,b[B][1]],bottom:[T,b[1-B][1]],left:[b[1-B][0],z],right:[b[B][0],z]},te=i.start.y;+i.end.y>+i.start.y&&(te=te+"-"+i.end.y);var se=d.get("formatter"),ze=this._formatterLabel(se,{start:i.start.y,end:i.end.y,nameMap:te}),Be=new di.ZP({z2:30,style:(0,$n.Lr)(d,{text:ze})});Be.attr(this._yearTextPositionControl(Be,G[_],l,_,v)),u.add(Be)}},n.prototype._monthTextPositionControl=function(t,i,l,u,d){var v="left",_="top",b=t[0],T=t[1];return"horizontal"===l?(T+=d,i&&(v="center"),"start"===u&&(_="bottom")):(b+=d,i&&(_="middle"),"start"===u&&(v="right")),{x:b,y:T,align:v,verticalAlign:_}},n.prototype._renderMonthText=function(t,i,l,u){var d=t.getModel("monthLabel");if(d.get("show")){var v=d.get("nameMap"),_=d.get("margin"),b=d.get("position"),T=d.get("align"),z=[this._tlpoints,this._blpoints];(!v||(0,y.isString)(v))&&(v&&(i=(0,l_.G8)(v)||i),v=i.get(["time","monthAbbr"])||[]);var B="start"===b?0:1,G="horizontal"===l?0:1;_="start"===b?-_:_;for(var te="center"===T,se=0;se<z[B].length-1;se++){var Ae=z[B][se].slice(),ze=this._firstDayOfMonth[se];te&&(Ae[G]=(this._firstDayPoints[se][G]+z[0][se+1][G])/2);var We=d.get("formatter"),ut=v[+ze.m-1],mt={yyyy:ze.y,yy:(ze.y+"").slice(2),MM:ze.m,M:+ze.m,nameMap:ut},vt=this._formatterLabel(We,mt),At=new di.ZP({z2:30,style:(0,y.extend)((0,$n.Lr)(d,{text:vt}),this._monthTextPositionControl(Ae,te,l,b,_))});u.add(At)}}},n.prototype._weekTextPositionControl=function(t,i,l,u,d){var v="center",_="middle",b=t[0],T=t[1],z="start"===l;return"horizontal"===i?(b=b+u+(z?1:-1)*d[0]/2,v=z?"right":"left"):(T=T+u+(z?1:-1)*d[1]/2,_=z?"bottom":"top"),{x:b,y:T,align:v,verticalAlign:_}},n.prototype._renderWeekText=function(t,i,l,u,d){var v=t.getModel("dayLabel");if(v.get("show")){var _=t.coordinateSystem,b=v.get("position"),T=v.get("nameMap"),z=v.get("margin"),B=_.getFirstDayOfWeek();T&&!(0,y.isString)(T)||(T&&(i=(0,l_.G8)(T)||i),T=i.get(["time","dayOfWeekShort"])||(0,y.map)(i.get(["time","dayOfWeekAbbr"]),function(mt){return mt[0]}));var te=_.getNextNDay(l.end.time,7-l.lweek).time,se=[_.getCellWidth(),_.getCellHeight()];z=(0,Xt.GM)(z,Math.min(se[1],se[0])),"start"===b&&(te=_.getNextNDay(l.start.time,-(7+l.fweek)).time,z=-z);for(var Ae=0;Ae<7;Ae++){var We,ze=_.getNextNDay(te,Ae),Be=_.dataToRect([ze.time],!1).center;We=Math.abs((Ae+B)%7);var ut=new di.ZP({z2:30,style:(0,y.extend)((0,$n.Lr)(v,{text:T[We]}),this._weekTextPositionControl(Be,u,b,z,se))});d.add(ut)}}},n.type="calendar",n}(qt.Z);var th=864e5;function C1(a){var n=a.calendarModel,t=a.seriesModel;return n?n.coordinateSystem:t?t.coordinateSystem:null}const mx=function(){function a(n,t,i){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=n}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(n){var t=(n=Xt.sG(n)).getFullYear(),i=n.getMonth()+1,l=i<10?"0"+i:""+i,u=n.getDate(),d=u<10?"0"+u:""+u,v=n.getDay();return{y:t+"",m:l,d,day:v=Math.abs((v+7-this.getFirstDayOfWeek())%7),time:n.getTime(),formatedDate:t+"-"+l+"-"+d,date:n}},a.prototype.getNextNDay=function(n,t){return 0===(t=t||0)||(n=new Date(this.getDateInfo(n).time)).setDate(n.getDate()+t),this.getDateInfo(n)},a.prototype.update=function(n,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,l=["width","height"],u=this._model.getCellSize().slice(),d=this._model.getBoxLayoutParams(),v="horizontal"===this._orient?[i,7]:[7,i];y.each([0,1],function(z){T(u,z)&&(d[l[z]]=u[z]*v[z])});var _={width:t.getWidth(),height:t.getHeight()},b=this._rect=Mi.ME(d,_);function T(z,B){return null!=z[B]&&"auto"!==z[B]}y.each([0,1],function(z){T(u,z)||(u[z]=b[l[z]]/v[z])}),this._sw=u[0],this._sh=u[1]},a.prototype.dataToPoint=function(n,t){y.isArray(n)&&(n=n[0]),null==t&&(t=!0);var i=this.getDateInfo(n),l=this._rangeInfo;if(t&&!(i.time>=l.start.time&&i.time<l.end.time+th))return[NaN,NaN];var d=i.day,v=this._getRangeInfo([l.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+d*this._sw+this._sw/2,this._rect.y+v*this._sh+this._sh/2]:[this._rect.x+v*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]},a.prototype.pointToData=function(n){var t=this.pointToDate(n);return t&&t.time},a.prototype.dataToRect=function(n,t){var i=this.dataToPoint(n,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},a.prototype.pointToDate=function(n){var t=Math.floor((n[0]-this._rect.x)/this._sw)+1,i=Math.floor((n[1]-this._rect.y)/this._sh)+1,l=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,l):this._getDateByWeeksAndDay(t,i-1,l)},a.prototype.convertToPixel=function(n,t,i){var l=C1(t);return l===this?l.dataToPoint(i):null},a.prototype.convertFromPixel=function(n,t,i){var l=C1(t);return l===this?l.pointToData(i):null},a.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var t,n=this._model.get("range");if(y.isArray(n)&&1===n.length&&(n=n[0]),y.isArray(n))t=n;else{var i=n.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var l=this.getDateInfo(i),u=l.date;u.setMonth(u.getMonth()+1);var d=this.getNextNDay(u,-1);t=[l.formatedDate,d.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return n;var v=this._getRangeInfo(t);return v.start.time>v.end.time&&t.reverse(),t},a.prototype._getRangeInfo=function(n){var i,t=[this.getDateInfo(n[0]),this.getDateInfo(n[1])];t[0].time>t[1].time&&(i=!0,t.reverse());var l=Math.floor(t[1].time/th)-Math.floor(t[0].time/th)+1,u=new Date(t[0].time),d=u.getDate(),v=t[1].date.getDate();u.setDate(d+l-1);var _=u.getDate();if(_!==v)for(var b=u.getTime()-t[1].time>0?1:-1;(_=u.getDate())!==v&&(u.getTime()-t[1].time)*b>0;)l-=b,u.setDate(_-b);var T=Math.floor((l+t[0].day+6)/7),z=i?1-T:T-1;return i&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:l,weeks:T,nthWeek:z,fweek:t[0].day,lweek:t[1].day}},a.prototype._getDateByWeeksAndDay=function(n,t,i){var l=this._getRangeInfo(i);if(n>l.weeks||0===n&&t<l.fweek||n===l.weeks&&t>l.lweek)return null;var u=7*(n-1)-l.fweek+t,d=new Date(l.start.time);return d.setDate(+l.start.d+u),this.getDateInfo(d)},a.create=function(n,t){var i=[];return n.eachComponent("calendar",function(l){var u=new a(l,n,t);i.push(u),l.coordinateSystem=u}),n.eachSeries(function(l){"calendar"===l.get("coordinateSystem")&&(l.coordinateSystem=i[l.get("calendarIndex")||0])}),i},a.dimensions=["time","value"],a}();var Pv=fr.Yf(),Hp={path:null,compoundPath:null,group:pr.Z,image:q.ZP,text:di.ZP},_x=function(a){var n=a.graphic;y.isArray(n)?a.graphic=n[0]&&n[0].elements?[a.graphic[0]]:[{elements:n}]:n&&!n.elements&&(a.graphic=[{elements:[n]}])},xx=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.preventAutoZ=!0,t}return(0,Zt.ZT)(n,a),n.prototype.mergeOption=function(t,i){var l=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,t,i),this.option.elements=l},n.prototype.optionUpdated=function(t,i){var l=this.option,u=(i?l:t).elements,d=l.elements=i?[]:l.elements,v=[];this._flatten(u,v,null);var _=fr.ab(d,v,"normalMerge"),b=this._elOptionsToUpdate=[];y.each(_,function(z,B){var G=z.newOption;!G||(b.push(G),function(a,n){var t=a.existing;if(n.id=a.keyInfo.id,!n.type&&t&&(n.type=t.type),null==n.parentId){var i=n.parentOption;i?n.parentId=i.id:t&&(n.parentId=t.parentId)}n.parentOption=null}(z,G),function(a,n,t){var i=y.extend({},t),l=a[n],u=t.$action||"merge";"merge"===u?l?(y.merge(l,i,!0),Mi.dt(l,i,{ignoreSize:!0}),Mi.QT(t,l)):a[n]=i:"replace"===u?a[n]=i:"remove"===u&&l&&(a[n]=null)}(d,B,G),function(a,n){if(a&&(a.hv=n.hv=[hm(n,["left","right"]),hm(n,["top","bottom"])],"group"===a.type)){var t=a,i=n;null==t.width&&(t.width=i.width=0),null==t.height&&(t.height=i.height=0)}}(d[B],G))},this);for(var T=d.length-1;T>=0;T--)null==d[T]?d.splice(T,1):delete d[T].$action},n.prototype._flatten=function(t,i,l){y.each(t,function(u){if(u){l&&(u.parentOption=l),i.push(u);var d=u.children;"group"===u.type&&d&&this._flatten(d,i,u),delete u.children}},this)},n.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},n.type="graphic",n.defaultOption={elements:[]},n}(Cn.Z),bx=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(){this._elMap=y.createHashMap()},n.prototype.render=function(t,i,l){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,l)},n.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var l=this._elMap,u=this.group;y.each(i,function(d){var v=fr.U5(d.id,null),_=null!=v?l.get(v):null,b=fr.U5(d.parentId,null),T=null!=b?l.get(b):u,z=d.type,B=d.style;"text"===z&&B&&d.hv&&d.hv[1]&&(B.textVerticalAlign=B.textBaseline=B.verticalAlign=B.align=null);var G=d.textContent,te=d.textConfig;if(B&&q3(B,z,!!te,!!G)){var se=bv(B,z,!0);!te&&se.textConfig&&(te=d.textConfig=se.textConfig),!G&&se.textContent&&(G=se.textContent)}var Ae=function(a){return a=y.extend({},a),y.each(["id","parentId","$action","hv","bounding","textContent"].concat(Mi.gN),function(n){delete a[n]}),a}(d),ze=d.$action||"merge";"merge"===ze?_?_.attr(Ae):Ng(v,T,Ae,l):"replace"===ze?(p0(_,l),Ng(v,T,Ae,l)):"remove"===ze&&p0(_,l);var Be=l.get(v);if(Be&&G)if("merge"===ze){var We=Be.getTextContent();We?We.attr(G):Be.setTextContent(new di.ZP(G))}else"replace"===ze&&Be.setTextContent(new di.ZP(G));if(Be){var ut=Pv(Be);ut.__ecGraphicWidthOption=d.width,ut.__ecGraphicHeightOption=d.height,function(a,n,t){var i=(0,Hr.A)(a).eventData;!a.silent&&!a.ignore&&!i&&(i=(0,Hr.A)(a).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:a.name}),i&&(i.info=t.info)}(Be,t,d),ln.setTooltipConfig({el:Be,componentModel:t,itemName:Be.name,itemTooltipOption:d.tooltip})}})}},n.prototype._relocate=function(t,i){for(var l=t.option.elements,u=this.group,d=this._elMap,v=i.getWidth(),_=i.getHeight(),b=0;b<l.length;b++)if((B=null!=(z=fr.U5((T=l[b]).id,null))?d.get(z):null)&&B.isGroup){var te=(G=B.parent)===u,se=Pv(B),Ae=Pv(G);se.__ecGraphicWidth=(0,Xt.GM)(se.__ecGraphicWidthOption,te?v:Ae.__ecGraphicWidth)||0,se.__ecGraphicHeight=(0,Xt.GM)(se.__ecGraphicHeightOption,te?_:Ae.__ecGraphicHeight)||0}for(b=l.length-1;b>=0;b--){var T,z,B,G;if(B=null!=(z=fr.U5((T=l[b]).id,null))?d.get(z):null)Ae=Pv(G=B.parent),Mi.p$(B,T,G===u?{width:v,height:_}:{width:Ae.__ecGraphicWidth,height:Ae.__ecGraphicHeight},null,{hv:T.hv,boundingMode:T.bounding})}},n.prototype._clear=function(){var t=this._elMap;t.each(function(i){p0(i,t)}),this._elMap=y.createHashMap()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n}(qt.Z);function Ng(a,n,t,i){var l=t.type,d=new(y.hasOwn(Hp,l)?Hp[l]:ln.getShapeClass(l))(t);n.add(d),i.set(a,d),Pv(d).__ecGraphicId=a}function p0(a,n){var t=a&&a.parent;t&&("group"===a.type&&a.traverse(function(i){p0(i,n)}),n.removeKey(Pv(a).__ecGraphicId),t.remove(a))}function hm(a,n){var t;return y.each(n,function(i){null!=a[i]&&"auto"!==a[i]&&(t=!0)}),t}var dm=["x","y","radius","angle","single"],g_=["cartesian2d","polar","singleAxis"];function Zl(a){return a+"Axis"}function Fg(a){var n=a.ecModel,t={infoList:[],infoMap:(0,y.createHashMap)()};return a.eachTargetAxis(function(i,l){var u=n.getComponent(Zl(i),l);if(u){var d=u.getCoordSysModel();if(d){var v=d.uid,_=t.infoMap.get(v);_||(t.infoList.push(_={model:d,axisModels:[]}),t.infoMap.set(v,_)),_.axisModels.push(u)}}}),t}var Up=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},a}();function pm(a){var n={};return(0,y.each)(["start","end","startValue","endValue","throttle"],function(t){a.hasOwnProperty(t)&&(n[t]=a[t])}),n}const g0=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i,l){var u=pm(t);this.settledOption=u,this.mergeDefaultAndTheme(t,l),this._doInit(u)},n.prototype.mergeOption=function(t){var i=pm(t);(0,y.merge)(this.option,t,!0),(0,y.merge)(this.settledOption,i,!0),this._doInit(i)},n.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var l=this.settledOption;(0,y.each)([["start","startValue"],["end","endValue"]],function(u,d){"value"===this._rangePropMode[d]&&(i[u[0]]=l[u[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=(0,y.createHashMap)();this._fillSpecifiedTargetAxis(i)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(u){u.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return(0,y.each)(dm,function(l){var u=this.getReferringComponents(Zl(l),fr.iP);if(u.specified){i=!0;var d=new Up;(0,y.each)(u.models,function(v){d.add(v.componentIndex)}),t.set(l,d)}},this),i},n.prototype._fillAutoTargetAxisByOrient=function(t,i){var l=this.ecModel,u=!0;if(u){var d="vertical"===i?"y":"x";_(l.findComponents({mainType:d+"Axis"}),d)}function _(b,T){var z=b[0];if(z){var B=new Up;if(B.add(z.componentIndex),t.set(T,B),u=!1,"x"===T||"y"===T){var G=z.getReferringComponents("grid",fr.C6).models[0];G&&(0,y.each)(b,function(te){z.componentIndex!==te.componentIndex&&G===te.getReferringComponents("grid",fr.C6).models[0]&&B.add(te.componentIndex)})}}}u&&_(l.findComponents({mainType:"singleAxis",filter:function(T){return T.get("orient",!0)===i}}),"single"),u&&(0,y.each)(dm,function(b){if(u){var T=l.findComponents({mainType:Zl(b),filter:function(B){return"category"===B.get("type",!0)}});if(T[0]){var z=new Up;z.add(T[0].componentIndex),t.set(b,z),u=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),"y"===t?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(t){var i=this._rangePropMode,l=this.get("rangeMode");(0,y.each)([["start","startValue"],["end","endValue"]],function(u,d){var v=null!=t[u[0]],_=null!=t[u[1]];v&&!_?i[d]="percent":!v&&_?i[d]="value":l?i[d]=l[d]:v&&(i[d]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,l){null==t&&(t=this.ecModel.getComponent(Zl(i),l))},this),t},n.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(l,u){(0,y.each)(l.indexList,function(d){t.call(i,u,d)})})},n.prototype.getAxisProxy=function(t,i){var l=this.getAxisModel(t,i);if(l)return l.__dzAxisProxy},n.prototype.getAxisModel=function(t,i){var l=this._targetAxisInfoMap.get(t);if(l&&l.indexMap[i])return this.ecModel.getComponent(Zl(t),i)},n.prototype.setRawRange=function(t){var i=this.option,l=this.settledOption;(0,y.each)([["start","startValue"],["end","endValue"]],function(u){(null!=t[u[0]]||null!=t[u[1]])&&(i[u[0]]=l[u[0]]=t[u[0]],i[u[1]]=l[u[1]]=t[u[1]])},this),this._updateRangeUse(t)},n.prototype.setCalculatedRange=function(t){var i=this.option;(0,y.each)(["start","startValue","end","endValue"],function(l){i[l]=t[l]})},n.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},n.prototype.getValueRange=function(t,i){if(null!=t||null!=i)return this.getAxisProxy(t,i).getDataValueWindow();var l=this.findRepresentativeAxisProxy();return l?l.getDataValueWindow():void 0},n.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,l=this._targetAxisInfoMap.keys(),u=0;u<l.length;u++)for(var d=l[u],v=this._targetAxisInfoMap.get(d),_=0;_<v.indexList.length;_++){var b=this.getAxisProxy(d,v.indexList[_]);if(b.hostedBy(this))return b;i||(i=b)}return i},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},n}(Cn.Z),x_=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="dataZoom.select",n}(g0),kg=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){this.dataZoomModel=t,this.ecModel=i,this.api=l},n.type="dataZoom",n}(qt.Z),S_=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="dataZoom.select",n}(kg);var ld=y.each,Tc=Xt.dt;const C_=function(){function a(n,t,i,l){this._dimName=n,this._axisIndex=t,this.ecModel=l,this._dataZoomModel=i}return a.prototype.hostedBy=function(n){return this._dataZoomModel===n},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(t){if(function(a){var n=a.get("coordinateSystem");return(0,y.indexOf)(g_,n)>=0}(t)){var i=Zl(this._dimName),l=t.getReferringComponents(i,fr.C6).models[0];l&&this._axisIndex===l.componentIndex&&n.push(t)}},this),n},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return y.clone(this._minMaxSpan)},a.prototype.calculateDataWindow=function(n){var b,t=this._dataExtent,l=this.getAxisModel().axis.scale,u=this._dataZoomModel.getRangePropMode(),d=[0,100],v=[],_=[];ld(["start","end"],function(B,G){var te=n[B],se=n[B+"Value"];"percent"===u[G]?(null==te&&(te=d[G]),se=l.parse(Xt.NU(te,d,t))):(b=!0,se=null==se?t[G]:l.parse(se),te=Xt.NU(se,t,d)),_[G]=se,v[G]=te}),Tc(_),Tc(v);var T=this._minMaxSpan;function z(B,G,te,se,Ae){var ze=Ae?"Span":"ValueSpan";Bl(0,B,te,"all",T["min"+ze],T["max"+ze]);for(var Be=0;Be<2;Be++)G[Be]=Xt.NU(B[Be],te,se,!0),Ae&&(G[Be]=l.parse(G[Be]))}return b?z(_,v,t,d,!1):z(v,_,d,t,!0),{valueWindow:_,percentWindow:v}},a.prototype.reset=function(n){if(n===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(a,n,t){var i=[1/0,-1/0];ld(t,function(d){(0,Da.AH)(i,d.getData(),n)});var l=a.getAxisModel(),u=(0,k0.Qw)(l.axis.scale,l,i).calculate();return[u.min,u.max]}(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(n.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(n,t){if(n===this._dataZoomModel){var i=this._dimName,l=this.getTargetSeriesModels(),u=n.get("filterMode"),d=this._valueWindow;"none"!==u&&ld(l,function(_){var b=_.getData(),T=b.mapDimensionsAll(i);if(T.length){if("weakFilter"===u){var z=b.getStore(),B=y.map(T,function(G){return b.getDimensionIndex(G)},b);b.filterSelf(function(G){for(var te,se,Ae,ze=0;ze<T.length;ze++){var Be=z.get(B[ze],G),We=!isNaN(Be),ut=Be<d[0],mt=Be>d[1];if(We&&!ut&&!mt)return!0;We&&(Ae=!0),ut&&(te=!0),mt&&(se=!0)}return Ae&&te&&se})}else ld(T,function(G){if("empty"===u)_.setData(b=b.map(G,function(se){return function(_){return _>=d[0]&&_<=d[1]}(se)?se:NaN}));else{var te={};te[G]=d,b.selectRange(te)}});ld(T,function(G){b.setApproximateExtent(d,G)})}})}},a.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;ld(["min","max"],function(l){var u=t.get(l+"Span"),d=t.get(l+"ValueSpan");null!=d&&(d=this.getAxisModel().axis.scale.parse(d)),null!=d?u=Xt.NU(i[0]+d,i,[0,100],!0):null!=u&&(d=Xt.NU(u,[0,100],i,!0)-i[0]),n[l+"Span"]=u,n[l+"ValueSpan"]=d},this)},a.prototype._setAxisModel=function(){var n=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var l=Xt.M9(i,[0,500]);l=Math.min(l,20);var u=n.axis.scale.rawExtentInfo;0!==t[0]&&u.setDeterminedMinMax("min",+i[0].toFixed(l)),100!==t[1]&&u.setDeterminedMinMax("max",+i[1].toFixed(l)),u.freeze()}},a}(),M_={getTargetSeries:function(a){function n(l){a.eachComponent("dataZoom",function(u){u.eachTargetAxis(function(d,v){var _=a.getComponent(Zl(d),v);l(d,v,_,u)})})}n(function(l,u,d,v){d.__dzAxisProxy=null});var t=[];n(function(l,u,d,v){d.__dzAxisProxy||(d.__dzAxisProxy=new C_(l,u,v,a),t.push(d.__dzAxisProxy))});var i=(0,y.createHashMap)();return(0,y.each)(t,function(l){(0,y.each)(l.getTargetSeriesModels(),function(u){i.set(u.uid,u)})}),i},overallReset:function(a,n){a.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,l){t.getAxisProxy(i,l).reset(t)}),t.eachTargetAxis(function(i,l){t.getAxisProxy(i,l).filterData(t,n)})}),a.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var l=i.getDataPercentWindow(),u=i.getDataValueWindow();t.setCalculatedRange({start:l[0],end:l[1],startValue:u[0],endValue:u[1]})}})}};var mm=!1;function Bg(a){mm||(mm=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,M_),function(a){a.registerAction("dataZoom",function(n,t){var i=function(a,n){var u,t=(0,y.createHashMap)(),i=[],l=(0,y.createHashMap)();a.eachComponent({mainType:"dataZoom",query:n},function(T){l.get(T.uid)||v(T)});do{u=!1,a.eachComponent("dataZoom",d)}while(u);function d(T){!l.get(T.uid)&&function(T){var z=!1;return T.eachTargetAxis(function(B,G){var te=t.get(B);te&&te[G]&&(z=!0)}),z}(T)&&(v(T),u=!0)}function v(T){l.set(T.uid,!0),i.push(T),function(T){T.eachTargetAxis(function(z,B){(t.get(z)||t.set(z,[]))[B]=!0})}(T)}return i}(t,n);(0,y.each)(i,function(l){l.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function w_(a){a.registerComponentModel(x_),a.registerComponentView(S_),Bg(a)}var il=function(){},ym={};function Iv(a,n){ym[a]=n}function _m(a){return ym[a]}const D_=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;y.each(this.option.feature,function(i,l){var u=_m(l);u&&(u.getDefaultOption&&(u.defaultOption=u.getDefaultOption(t)),y.merge(i,u.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(Cn.Z);function Vg(a,n){var t=Ji.MY(n.get("padding")),i=n.getItemStyle(["color","opacity"]);return i.fill=n.get("backgroundColor"),new ri.Z({shape:{x:a.x-t[3],y:a.y-t[0],width:a.width+t[1]+t[3],height:a.height+t[0]+t[2],r:n.get("borderRadius")},style:i,silent:!0,z2:-1})}const bm=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){var d=this.group;if(d.removeAll(),t.get("show")){var v=+t.get("itemSize"),_=t.get("feature")||{},b=this._features||(this._features={}),T=[];y.each(_,function(G,te){T.push(te)}),new ys.Z(this._featureNames||[],T).add(z).update(z).remove(y.curry(z,null)).execute(),this._featureNames=T,function(a,n,t){var i=n.getBoxLayoutParams(),l=n.get("padding"),u={width:t.getWidth(),height:t.getHeight()},d=(0,Mi.ME)(i,u,l);(0,Mi.BZ)(n.get("orient"),a,n.get("itemGap"),d.width,d.height),(0,Mi.p$)(a,i,u,l)}(d,t,l),d.add(Vg(d.getBoundingRect(),t)),d.eachChild(function(G){var te=G.__title,se=G.ensureState("emphasis"),Ae=se.textConfig||(se.textConfig={}),ze=G.getTextContent(),Be=ze&&ze.states.emphasis;if(Be&&!y.isFunction(Be)&&te){var We=Be.style||(Be.style={}),ut=fe.lP(te,di.ZP.makeFont(We)),mt=G.x+d.x,At=!1;G.y+d.y+v+ut.height>l.getHeight()&&(Ae.position="top",At=!0);var Gt=At?-5-ut.height:v+8;mt+ut.width/2>l.getWidth()?(Ae.position=["100%",Gt],We.align="right"):mt-ut.width/2<0&&(Ae.position=[0,Gt],We.align="left")}})}function z(G,te){var We,se=T[G],Ae=T[te],ze=_[se],Be=new Yr.Z(ze,t,t.ecModel);if(u&&null!=u.newTitle&&u.featureName===se&&(ze.title=u.newTitle),se&&!Ae){if(function(a){return 0===a.indexOf("my")}(se))We={onclick:Be.option.onclick,featureName:se};else{var ut=_m(se);if(!ut)return;We=new ut}b[se]=We}else if(!(We=b[Ae]))return;We.uid=(0,_a.Kr)("toolbox-feature"),We.model=Be,We.ecModel=i,We.api=l;var mt=We instanceof il;se||!Ae?!Be.get("show")||mt&&We.unusable?mt&&We.remove&&We.remove(i,l):(function(G,te,se){var ut,mt,Ae=G.getModel("iconStyle"),ze=G.getModel(["emphasis","iconStyle"]),Be=te instanceof il&&te.getIcons?te.getIcons():G.get("icon"),We=G.get("title")||{};"string"==typeof Be?(ut={})[se]=Be:ut=Be,"string"==typeof We?(mt={})[se]=We:mt=We;var vt=G.iconPaths={};y.each(ut,function(At,Gt){var on=ln.createIcon(At,{},{x:-v/2,y:-v/2,width:v,height:v});on.setStyle(Ae.getItemStyle()),on.ensureState("emphasis").style=ze.getItemStyle();var yn=new di.ZP({style:{text:mt[Gt],align:ze.get("textAlign"),borderRadius:ze.get("textBorderRadius"),padding:ze.get("textPadding"),fill:null},ignore:!0});on.setTextContent(yn),ln.setTooltipConfig({el:on,componentModel:t,itemName:Gt,formatterParamsExtra:{title:mt[Gt]}}),on.__title=mt[Gt],on.on("mouseover",function(){var On=ze.getItemStyle(),kn="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";yn.setStyle({fill:ze.get("textFill")||On.fill||On.stroke||"#000",backgroundColor:ze.get("textBackgroundColor")}),on.setTextConfig({position:ze.get("textPosition")||kn}),yn.ignore=!t.get("showTitle"),(0,Xn.fD)(this)}).on("mouseout",function(){"emphasis"!==G.get(["iconStatus",Gt])&&(0,Xn.Mh)(this),yn.hide()}),("emphasis"===G.get(["iconStatus",Gt])?Xn.fD:Xn.Mh)(on),d.add(on),on.on("click",y.bind(te.onclick,te,i,l,Gt)),vt[Gt]=on})}(Be,We,se),Be.setIconStatus=function(vt,At){var Gt=this.option,on=this.iconPaths;Gt.iconStatus=Gt.iconStatus||{},Gt.iconStatus[vt]=At,on[vt]&&("emphasis"===At?Xn.fD:Xn.Mh)(on[vt])},We instanceof il&&We.render&&We.render(Be,i,l,u)):mt&&We.dispose&&We.dispose(i,l)}},n.prototype.updateView=function(t,i,l,u){y.each(this._features,function(d){d instanceof il&&d.updateView&&d.updateView(d.model,i,l,u)})},n.prototype.remove=function(t,i){y.each(this._features,function(l){l instanceof il&&l.remove&&l.remove(t,i)}),this.group.removeAll()},n.prototype.dispose=function(t,i){y.each(this._features,function(l){l instanceof il&&l.dispose&&l.dispose(t,i)})},n.type="toolbox",n}(qt.Z);var Sm=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.onclick=function(t,i){var l=this.model,u=l.get("name")||t.get("title.0.text")||"echarts",d="svg"===i.getZr().painter.getType(),v=d?"svg":l.get("type",!0)||"png",_=i.getConnectedDataURL({type:v,backgroundColor:l.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:l.get("connectedBackgroundColor"),excludeComponents:l.get("excludeComponents"),pixelRatio:l.get("pixelRatio")});if("function"!=typeof MouseEvent||!qo.Z.browser.newEdge&&(qo.Z.browser.ie||qo.Z.browser.edge))if(window.navigator.msSaveOrOpenBlob||d){var z=_.split(","),B=z[0].indexOf("base64")>-1,G=d?decodeURIComponent(z[1]):z[1];B&&(G=window.atob(G));var te=u+"."+v;if(window.navigator.msSaveOrOpenBlob){for(var se=G.length,Ae=new Uint8Array(se);se--;)Ae[se]=G.charCodeAt(se);var ze=new Blob([Ae]);window.navigator.msSaveOrOpenBlob(ze,te)}else{var Be=document.createElement("iframe");document.body.appendChild(Be);var We=Be.contentWindow,ut=We.document;ut.open("image/svg+xml","replace"),ut.write(G),ut.close(),We.focus(),ut.execCommand("SaveAs",!0,te),document.body.removeChild(Be)}}else{var mt=l.get("lang"),vt='<body style="margin:0;"><img src="'+_+'" style="max-width:100%;" title="'+(mt&&mt[0]||"")+'" /></body>',At=window.open();At.document.write(vt),At.document.title=u}else{var b=document.createElement("a");b.download=u+"."+v,b.target="_blank",b.href=_;var T=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});b.dispatchEvent(T)}},n.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},n}(il);Sm.prototype.unusable=!qo.Z.canvasSupported;const A_=Sm;var P_="__ec_magicType_stack__",Mm=[["line","bar"],["stack"]],Ug=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),l={};return y.each(t.get("type"),function(u){i[u]&&(l[u]=i[u])}),l},n.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},n.prototype.onclick=function(t,i,l){var u=this.model,d=u.get(["seriesIndex",l]);if(Gp[l]){var v={series:[]};y.each(Mm,function(z){y.indexOf(z,l)>=0&&y.each(z,function(B){u.setIconStatus(B,"normal")})}),u.setIconStatus(l,"emphasis"),t.eachComponent({mainType:"series",query:null==d?null:{seriesIndex:d}},function(z){var te=Gp[l](z.subType,z.id,z,u);te&&(y.defaults(te,z.option),v.series.push(te));var se=z.coordinateSystem;if(se&&"cartesian2d"===se.type&&("line"===l||"bar"===l)){var Ae=se.getAxesByScale("ordinal")[0];if(Ae){var Be=Ae.dim+"Axis",ut=z.getReferringComponents(Be,fr.C6).models[0].componentIndex;v[Be]=v[Be]||[];for(var mt=0;mt<=ut;mt++)v[Be][ut]=v[Be][ut]||{};v[Be][ut].boundaryGap="bar"===l}}});var b,T=l;"stack"===l&&(b=y.merge({stack:u.option.title.tiled,tiled:u.option.title.stack},u.option.title),"emphasis"!==u.get(["iconStatus",l])&&(T="tiled")),i.dispatchAction({type:"changeMagicType",currentType:T,newOption:v,newTitle:b,featureName:"magicType"})}},n}(il),Gp={line:function(a,n,t,i){if("bar"===a)return y.merge({id:n,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(a,n,t,i){if("line"===a)return y.merge({id:n,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(a,n,t,i){var l=t.get("stack")===P_;if("line"===a||"bar"===a)return i.setIconStatus("stack",l?"normal":"emphasis"),y.merge({id:n,stack:l?"":P_},i.get(["option","stack"])||{},!0)}};hu.zl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,n){n.mergeOption(a.newOption)});const L_=Ug;var Wp=new Array(60).join("-");function wm(a){var n=[];return y.each(a,function(t,i){var l=t.categoryAxis,d=t.valueAxis.dim,v=[" "].concat(y.map(t.series,function(G){return G.name})),_=[l.model.getCategories()];y.each(t.series,function(G){var te=G.getRawData();_.push(G.getRawData().mapArray(te.mapDimension(d),function(se){return se}))});for(var b=[v.join("\t")],T=0;T<_[0].length;T++){for(var z=[],B=0;B<_.length;B++)z.push(_[B][T]);b.push(z.join("\t"))}n.push(b.join("\n"))}),n.join("\n\n"+Wp+"\n\n")}function Yg(a){return y.map(a,function(n){var t=n.getRawData(),i=[n.name],l=[];return t.each(t.dimensions,function(){for(var u=arguments.length,d=arguments[u-1],v=t.getName(d),_=0;_<u-1;_++)l[_]=arguments[_];i.push((v?v+"\t":"")+l.join("\t"))}),i.join("\n")}).join("\n\n"+Wp+"\n\n")}function Rv(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Zp=new RegExp("[\t]+","g");var I_=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.onclick=function(t,i){var l=i.getDom(),u=this.model;this._dom&&l.removeChild(this._dom);var d=document.createElement("div");d.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",d.style.backgroundColor=u.get("backgroundColor")||"#fff";var v=document.createElement("h4"),_=u.get("lang")||[];v.innerHTML=_[0]||u.get("title"),v.style.cssText="margin: 10px 20px;",v.style.color=u.get("textColor");var b=document.createElement("div"),T=document.createElement("textarea");b.style.cssText="display:block;width:100%;overflow:auto;";var z=u.get("optionToContent"),B=u.get("contentToOption"),G=function(a){var n=function(a){var n={},t=[],i=[];return a.eachRawSeries(function(l){var u=l.coordinateSystem;if(!u||"cartesian2d"!==u.type&&"polar"!==u.type)t.push(l);else{var d=u.getBaseAxis();if("category"===d.type){var v=d.dim+"_"+d.index;n[v]||(n[v]={categoryAxis:d,valueAxis:u.getOtherAxis(d),series:[]},i.push({axisDim:d.dim,axisIndex:d.index})),n[v].series.push(l)}else t.push(l)}}),{seriesGroupByCategoryAxis:n,other:t,meta:i}}(a);return{value:y.filter([wm(n.seriesGroupByCategoryAxis),Yg(n.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+Wp+"\n\n"),meta:n.meta}}(t);if("function"==typeof z){var te=z(i.getOption());"string"==typeof te?b.innerHTML=te:y.isDom(te)&&b.appendChild(te)}else b.appendChild(T),T.readOnly=u.get("readOnly"),T.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",T.style.color=u.get("textColor"),T.style.borderColor=u.get("textareaBorderColor"),T.style.backgroundColor=u.get("textareaColor"),T.value=G.value;var se=G.meta,Ae=document.createElement("div");Ae.style.cssText="position:absolute;bottom:0;left:0;right:0;";var ze="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Be=document.createElement("div"),We=document.createElement("div");ze+=";background-color:"+u.get("buttonColor"),ze+=";color:"+u.get("buttonTextColor");var ut=this;function mt(){l.removeChild(d),ut._dom=null}(0,Ns.Oo)(Be,"click",mt),(0,Ns.Oo)(We,"click",function(){if(null==B&&null!=z||null!=B&&null==z)mt();else{var vt;try{vt="function"==typeof B?B(b,i.getOption()):function(a,n){var t=a.split(new RegExp("\n*"+Wp+"\n*","g")),i={series:[]};return y.each(t,function(l,u){if(function(a){if(a.slice(0,a.indexOf("\n")).indexOf("\t")>=0)return!0}(l)){var d=function(a){for(var n=a.split(/\n+/g),t=Rv(n.shift()).split(Zp),i=[],l=y.map(t,function(_){return{name:_,data:[]}}),u=0;u<n.length;u++){var d=Rv(n[u]).split(Zp);i.push(d.shift());for(var v=0;v<d.length;v++)l[v]&&(l[v].data[u]=d[v])}return{series:l,categories:i}}(l),v=n[u],_=v.axisDim+"Axis";v&&(i[_]=i[_]||[],i[_][v.axisIndex]={data:d.categories},i.series=i.series.concat(d.series))}else d=function(a){for(var n=a.split(/\n+/g),t=Rv(n.shift()),i=[],l=0;l<n.length;l++){var u=Rv(n[l]);if(u){var d=u.split(Zp),v="",_=void 0,b=!1;isNaN(d[0])?(b=!0,v=d[0],d=d.slice(1),i[l]={name:v,value:[]},_=i[l].value):_=i[l]=[];for(var T=0;T<d.length;T++)_.push(+d[T]);1===_.length&&(b?i[l].value=_[0]:i[l]=_[0])}}return{name:t,data:i}}(l),i.series.push(d)}),i}(T.value,se)}catch(At){throw mt(),new Error("Data view format error "+At)}vt&&i.dispatchAction({type:"changeDataView",newOption:vt}),mt()}}),Be.innerHTML=_[1],We.innerHTML=_[2],We.style.cssText=ze,Be.style.cssText=ze,!u.get("readOnly")&&Ae.appendChild(We),Ae.appendChild(Be),d.appendChild(v),d.appendChild(b),d.appendChild(Ae),b.style.height=l.clientHeight-80+"px",l.appendChild(d),this._dom=d},n.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},n.prototype.dispose=function(t,i){this.remove(t,i)},n.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},n}(il);function Lm(a,n){return y.map(a,function(t,i){var l=n&&n[i];if(y.isObject(l)&&!y.isArray(l)){y.isObject(t)&&!y.isArray(t)||(t={value:t});var d=null!=l.name&&null==t.name;return t=y.defaults(t,l),d&&delete t.name,t}return t})}hu.zl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,n){var t=[];y.each(a.newOption.series,function(i){var l=n.getSeriesByName(i.name)[0];if(l){var u=l.get("data");t.push({name:i.name,data:Lm(i.data,u)})}else t.push(y.extend({type:"scatter"},i))}),n.mergeOption(y.defaults({series:t},a.newOption))});const zm=I_;var Ys=y.each,M1=(0,fr.Yf)();function Gg(a){var n=M1(a);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var Wg=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.onclick=function(t,i){(function(a){M1(a).snapshots=null})(t),i.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},n}(il);hu.zl({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,n){n.resetOption("recreate")});const F_=Wg;var Om=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],k_=function(){function a(n,t,i){var l=this;this._targetInfoList=[];var u=jp(t,n);(0,y.each)(Im,function(d,v){(!i||!i.include||(0,y.indexOf)(i.include,v)>=0)&&d(u,l._targetInfoList)})}return a.prototype.setOutputRanges=function(n,t){return this.matchOutputRanges(n,t,function(i,l,u){if((i.coordRanges||(i.coordRanges=[])).push(l),!i.coordRange){i.coordRange=l;var d=kv[i.brushType](0,u,l);i.__rangeOffset={offset:Kg[i.brushType](d.values,i.range,[1,1]),xyMinMax:d.xyMinMax}}}),n},a.prototype.matchOutputRanges=function(n,t,i){(0,y.each)(n,function(l){var u=this.findTargetInfo(l,t);u&&!0!==u&&(0,y.each)(u.coordSyses,function(d){var v=kv[l.brushType](1,d,l.range,!0);i(l,v.values,d,t)})},this)},a.prototype.setInputRanges=function(n,t){(0,y.each)(n,function(i){var l=this.findTargetInfo(i,t);if(i.range=i.range||[],l&&!0!==l){i.panelId=l.panelId;var u=kv[i.brushType](0,l.coordSys,i.coordRange),d=i.__rangeOffset;i.range=d?Kg[i.brushType](u.values,d.offset,function(a,n){var t=Bv(a),i=Bv(n),l=[t[0]/i[0],t[1]/i[1]];return isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l}(u.xyMinMax,d.xyMinMax)):u.values}},this)},a.prototype.makePanelOpts=function(n,t){return(0,y.map)(this._targetInfoList,function(i){var l=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:Ku(l),isTargetByCursor:to(l,n,i.coordSysModel),getLinearBrushOtherExtent:$u(l)}})},a.prototype.controlSeries=function(n,t,i){var l=this.findTargetInfo(n,i);return!0===l||l&&(0,y.indexOf)(l.coordSyses,t.coordinateSystem)>=0},a.prototype.findTargetInfo=function(n,t){for(var i=this._targetInfoList,l=jp(t,n),u=0;u<i.length;u++){var d=i[u],v=n.panelId;if(v){if(d.panelId===v)return d}else for(var _=0;_<jg.length;_++)if(jg[_](l,d))return d}return!0},a}();function Zg(a){return a[0]>a[1]&&a.reverse(),a}function jp(a,n){return(0,fr.pm)(a,n,{includeMainTypes:Om})}var Im={grid:function(a,n){var t=a.xAxisModels,i=a.yAxisModels,l=a.gridModels,u=(0,y.createHashMap)(),d={},v={};!t&&!i&&!l||((0,y.each)(t,function(_){var b=_.axis.grid.model;u.set(b.id,b),d[b.id]=!0}),(0,y.each)(i,function(_){var b=_.axis.grid.model;u.set(b.id,b),v[b.id]=!0}),(0,y.each)(l,function(_){u.set(_.id,_),d[_.id]=!0,v[_.id]=!0}),u.each(function(_){var T=[];(0,y.each)(_.coordinateSystem.getCartesians(),function(z,B){((0,y.indexOf)(t,z.getAxis("x").model)>=0||(0,y.indexOf)(i,z.getAxis("y").model)>=0)&&T.push(z)}),n.push({panelId:"grid--"+_.id,gridModel:_,coordSysModel:_,coordSys:T[0],coordSyses:T,getPanelRect:Fv.grid,xAxisDeclared:d[_.id],yAxisDeclared:v[_.id]})}))},geo:function(a,n){(0,y.each)(a.geoModels,function(t){var i=t.coordinateSystem;n.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:Fv.geo})})}},jg=[function(a,n){var t=a.xAxisModel,i=a.yAxisModel,l=a.gridModel;return!l&&t&&(l=t.axis.grid.model),!l&&i&&(l=i.axis.grid.model),l&&l===n.gridModel},function(a,n){var t=a.geoModel;return t&&t===n.geoModel}],Fv={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,n=a.getBoundingRect().clone();return n.applyTransform(ln.getTransform(a)),n}},kv={lineX:(0,y.curry)(B_,0),lineY:(0,y.curry)(B_,1),rect:function(a,n,t,i){var l=a?n.pointToData([t[0][0],t[1][0]],i):n.dataToPoint([t[0][0],t[1][0]],i),u=a?n.pointToData([t[0][1],t[1][1]],i):n.dataToPoint([t[0][1],t[1][1]],i),d=[Zg([l[0],u[0]]),Zg([l[1],u[1]])];return{values:d,xyMinMax:d}},polygon:function(a,n,t,i){var l=[[1/0,-1/0],[1/0,-1/0]];return{values:(0,y.map)(t,function(d){var v=a?n.pointToData(d,i):n.dataToPoint(d,i);return l[0][0]=Math.min(l[0][0],v[0]),l[1][0]=Math.min(l[1][0],v[1]),l[0][1]=Math.max(l[0][1],v[0]),l[1][1]=Math.max(l[1][1],v[1]),v}),xyMinMax:l}}};function B_(a,n,t,i){var l=t.getAxis(["x","y"][a]),u=Zg((0,y.map)([0,1],function(v){return n?l.coordToData(l.toLocalCoord(i[v]),!0):l.toGlobalCoord(l.dataToCoord(i[v]))})),d=[];return d[a]=u,d[1-a]=[NaN,NaN],{values:u,xyMinMax:d}}var Kg={lineX:(0,y.curry)(Rm,0),lineY:(0,y.curry)(Rm,1),rect:function(a,n,t){return[[a[0][0]-t[0]*n[0][0],a[0][1]-t[0]*n[0][1]],[a[1][0]-t[1]*n[1][0],a[1][1]-t[1]*n[1][1]]]},polygon:function(a,n,t){return(0,y.map)(a,function(i,l){return[i[0]-t[0]*n[l][0],i[1]-t[1]*n[l][1]]})}};function Rm(a,n,t,i){return[n[0]-i[a]*t[0],n[1]-i[a]*t[1]]}function Bv(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}const Kp=k_;var V_=E(4137),Vv=y.each,$g=(0,fr.g0)("toolbox-dataZoom_"),H_=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l,u){this._brushController||(this._brushController=new Gf(l.getZr()),this._brushController.on("brush",y.bind(this._onBrush,this)).mount()),function(a,n,t,i,l){var u=t._isZoomActive;i&&"takeGlobalCursor"===i.type&&(u="dataZoomSelect"===i.key&&i.dataZoomSelectActive),t._isZoomActive=u,a.setIconStatus("zoom",u?"emphasis":"normal");var v=new Kp($p(a),n,{include:["grid"]}).makePanelOpts(l,function(_){return _.xAxisDeclared&&!_.yAxisDeclared?"lineX":!_.xAxisDeclared&&_.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(v).enableBrush(!(!u||!v.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(t,i,this,u,l),function(a,n){a.setIconStatus("back",function(a){return Gg(a).length}(n)>1?"emphasis":"normal")}(t,i)},n.prototype.onclick=function(t,i,l){Fm[l].call(this)},n.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(t){var i=t.areas;if(t.isEnd&&i.length){var l={},u=this.ecModel;this._brushController.updateCovers([]),new Kp($p(this.model),u,{include:["grid"]}).matchOutputRanges(i,u,function(b,T,z){if("cartesian2d"===z.type){var B=b.brushType;"rect"===B?(v("x",z,T[0]),v("y",z,T[1])):v({lineX:"x",lineY:"y"}[B],z,T)}}),function(a,n){var t=Gg(a);Ys(n,function(i,l){for(var u=t.length-1;u>=0&&!t[u][l];u--);if(u<0){var v=a.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(v){var _=v.getPercentRange();t[0][l]={dataZoomId:l,start:_[0],end:_[1]}}}}),t.push(n)}(u,l),this._dispatchZoomAction(l)}function v(b,T,z){var B=T.getAxis(b),G=B.model,te=function(b,T,z){var B;return z.eachComponent({mainType:"dataZoom",subType:"select"},function(G){G.getAxisModel(b,T.componentIndex)&&(B=G)}),B}(b,G,u),se=te.findRepresentativeAxisProxy(G).getMinMaxSpan();(null!=se.minValueSpan||null!=se.maxValueSpan)&&(z=Bl(0,z.slice(),B.scale.getExtent(),0,se.minValueSpan,se.maxValueSpan)),te&&(l[te.id]={dataZoomId:te.id,startValue:z[0],endValue:z[1]})}},n.prototype._dispatchZoomAction=function(t){var i=[];Vv(t,function(l,u){i.push(y.clone(l))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},n.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},n}(il),Fm={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(a){var n=Gg(a),t=n[n.length-1];n.length>1&&n.pop();var i={};return Ys(t,function(l,u){for(var d=n.length-1;d>=0;d--)if(l=n[d][u]){i[u]=l;break}}),i}(this.ecModel))}};function $p(a){var n={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return null==n.xAxisIndex&&null==n.xAxisId&&(n.xAxisIndex="all"),null==n.yAxisIndex&&null==n.yAxisId&&(n.yAxisIndex="all"),n}(0,V_.f)("dataZoom",function(a){var n=a.getComponent("toolbox",0),t=["feature","dataZoom"];if(n&&null!=n.get(t)){var i=n.getModel(t),l=[],u=$p(i),d=(0,fr.pm)(a,u);return Vv(d.xAxisModels,function(_){return v(_,"xAxis","xAxisIndex")}),Vv(d.yAxisModels,function(_){return v(_,"yAxis","yAxisIndex")}),l}function v(_,b,T){var z=_.componentIndex,B={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:$g+b+z};B[T]=z,l.push(B)}});const Bm=H_,G_=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(Cn.Z);var Hm=E(5514);function Um(a){var n=a.get("confine");return null!=n?!!n:"richText"===a.get("renderMode")}function Xg(a){if(qo.Z.domSupported)for(var n=document.documentElement.style,t=0,i=a.length;t<i;t++)if(a[t]in n)return a[t]}var Qg=Xg(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function Jg(a,n){if(!a)return n;n=(0,Ji.zW)(n,!0);var t=a.indexOf(n);return(a=-1===t?n:"-"+a.slice(0,t)+"-"+n).toLowerCase()}var Z_=Jg(Xg(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),qg=Jg(Qg,"transform"),Gm="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(qo.Z.transform3dSupported?"will-change:transform;":"");function j_(a,n,t){var i=a.toFixed(0)+"px",l=n.toFixed(0)+"px";if(!qo.Z.transformSupported)return t?"top:"+l+";left:"+i+";":[["top",l],["left",i]];var u=qo.Z.transform3dSupported,d="translate"+(u?"3d":"")+"("+i+","+l+(u?",0":"")+")";return t?"top:0;left:0;"+qg+":"+d+";":[["top",0],["left",0],[Qg,d]]}function K_(a,n,t,i,l){var u=n&&n.painter;if(t){var d=u&&u.getViewportRoot();d&&(0,Hm.YB)(a,d,document.body,i,l)}else{a[0]=i,a[1]=l;var v=u&&u.getViewportRootOffset();v&&(a[0]+=v.offsetLeft,a[1]+=v.offsetTop)}a[2]=a[0]/n.getWidth(),a[3]=a[1]/n.getHeight()}const X_=function(){function a(n,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,qo.Z.wxa)return null;var l=document.createElement("div");l.domBelongToZr=!0,this.el=l;var u=this._zr=t.getZr(),d=this._appendToBody=i&&i.appendToBody;K_(this._styleCoord,u,d,t.getWidth()/2,t.getHeight()/2),d?document.body.appendChild(l):n.appendChild(l),this._container=n;var v=this;l.onmouseenter=function(){v._enterable&&(clearTimeout(v._hideTimeout),v._show=!0),v._inContent=!0},l.onmousemove=function(_){if(_=_||window.event,!v._enterable){var b=u.handler,T=u.painter.getViewportRoot();(0,Ns.OD)(T,_,!0),b.dispatch("mousemove",_)}},l.onmouseleave=function(){v._inContent=!1,v._enterable&&v._show&&v.hideLater(v._hideDelay)}}return a.prototype.update=function(n){var t=this._container,i=function(a,n){var t=a.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a);return t?t[n]:null}(t,"position"),l=t.style;"absolute"!==l.position&&"absolute"!==i&&(l.position="relative"),n.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=n.get("className")||""},a.prototype.show=function(n,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,l=i.style,u=this._styleCoord;i.innerHTML?l.cssText=Gm+function(a,n,t){var i=[],l=a.get("transitionDuration"),u=a.get("backgroundColor"),d=a.get("shadowBlur"),v=a.get("shadowColor"),_=a.get("shadowOffsetX"),b=a.get("shadowOffsetY"),T=a.getModel("textStyle"),z=(0,vo.d_)(a,"html");return i.push("box-shadow:"+_+"px "+b+"px "+d+"px "+v),n&&l&&i.push(function(a,n){var t="cubic-bezier(0.23,1,0.32,1)",i=" "+a/2+"s "+t,l="opacity"+i+",visibility"+i;return n||(i=" "+a+"s "+t,l+=qo.Z.transformSupported?","+qg+i:",left"+i+",top"+i),Z_+":"+l}(l,t)),u&&(qo.Z.canvasSupported?i.push("background-color:"+u):(i.push("background-color:#"+(0,k.toHex)(u)),i.push("filter:alpha(opacity=70)"))),(0,y.each)(["width","color","radius"],function(G){var te="border-"+G,se=(0,Ji.zW)(te),Ae=a.get(se);null!=Ae&&i.push(te+":"+Ae+("color"===G?"":"px"))}),i.push(function(a){var n=[],t=a.get("fontSize"),i=a.getTextColor();i&&n.push("color:"+i),n.push("font:"+a.getFont()),t&&n.push("line-height:"+Math.round(3*t/2)+"px");var l=a.get("textShadowColor"),u=a.get("textShadowBlur")||0,d=a.get("textShadowOffsetX")||0,v=a.get("textShadowOffsetY")||0;return l&&u&&n.push("text-shadow:"+d+"px "+v+"px "+u+"px "+l),(0,y.each)(["decoration","align"],function(_){var b=a.get(_);b&&n.push("text-"+_+":"+b)}),n.join(";")}(T)),null!=z&&i.push("padding:"+(0,Ji.MY)(z).join("px ")+"px"),i.join(";")+";"}(n,!this._firstShow,this._longHide)+j_(u[0],u[1],!0)+"border-color:"+(0,Ji.Lz)(t)+";"+(n.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):l.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(n,t,i,l,u){var d=this.el;if(null!=n){var v="";if((0,y.isString)(u)&&"item"===i.get("trigger")&&!Um(i)&&(v=function(a,n,t){if(!(0,y.isString)(t)||"inside"===t)return"";var i=a.get("backgroundColor"),l=a.get("borderWidth");n=(0,Ji.Lz)(n);var b,u=function(a){return"left"===a?"right":"right"===a?"left":"top"===a?"bottom":"top"}(t),d=Math.max(1.5*Math.round(l),6),v="",_=qg+":";(0,y.indexOf)(["left","right"],u)>-1?(v+="top:50%",_+="translateY(-50%) rotate("+(b="left"===u?-225:-45)+"deg)"):(v+="left:50%",_+="translateX(-50%) rotate("+(b="top"===u?225:45)+"deg)");var T=b*Math.PI/180,z=d+l,B=z*Math.abs(Math.cos(T))+z*Math.abs(Math.sin(T)),te=n+" solid "+l+"px;";return'<div style="'+["position:absolute;width:"+d+"px;height:"+d+"px;",(v+=";"+u+":-"+Math.round(100*((B-Math.SQRT2*l)/2+Math.SQRT2*l-(B-z)/2))/100+"px")+";"+_+";","border-bottom:"+te,"border-right:"+te,"background-color:"+i+";"].join("")+'"></div>'}(i,l,u)),(0,y.isString)(n))d.innerHTML=n+v;else if(n){d.innerHTML="",(0,y.isArray)(n)||(n=[n]);for(var _=0;_<n.length;_++)(0,y.isDom)(n[_])&&n[_].parentNode!==d&&d.appendChild(n[_]);if(v&&d.childNodes.length){var b=document.createElement("div");b.innerHTML=v,d.appendChild(b)}}}else d.innerHTML=""},a.prototype.setEnterable=function(n){this._enterable=n},a.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},a.prototype.moveTo=function(n,t){var i=this._styleCoord;if(K_(i,this._zr,this._appendToBody,n,t),null!=i[0]&&null!=i[1]){var l=this.el.style,u=j_(i[0],i[1]);(0,y.each)(u,function(d){l[d[0]]=d[1]})}},a.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},a.prototype.hide=function(){var n=this,t=this.el.style;t.visibility="hidden",t.opacity="0",qo.Z.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},a.prototype.hideLater=function(n){this._show&&(!this._inContent||!this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout((0,y.bind)(this.hide,this),n)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},a}();function w1(a){return Math.max(0,a)}function J_(a){var n=w1(a.shadowBlur||0),t=w1(a.shadowOffsetX||0),i=w1(a.shadowOffsetY||0);return{left:w1(n-t),right:w1(n+t),top:w1(n-i),bottom:w1(n+i)}}function q_(a,n,t,i){a[0]=t,a[1]=i,a[2]=a[0]/n.getWidth(),a[3]=a[1]/n.getHeight()}const e7=function(){function a(n){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=n.getZr(),q_(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return a.prototype.update=function(n){n.get("alwaysShowContent")&&this._moveIfResized()},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(n,t,i,l,u){y.isObject(n)&&(0,Ya._y)(""),this.el&&this._zr.remove(this.el);var d=i.getModel("textStyle");this.el=new di.ZP({style:{rich:t.richTextStyles,text:n,lineHeight:22,backgroundColor:i.get("backgroundColor"),borderRadius:i.get("borderRadius"),borderWidth:1,borderColor:l,shadowColor:i.get("shadowColor"),shadowBlur:i.get("shadowBlur"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY"),textShadowColor:d.get("textShadowColor"),textShadowBlur:d.get("textShadowBlur")||0,textShadowOffsetX:d.get("textShadowOffsetX")||0,textShadowOffsetY:d.get("textShadowOffsetY")||0,fill:i.get(["textStyle","color"]),padding:(0,vo.d_)(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),this._zr.add(this.el);var v=this;this.el.on("mouseover",function(){v._enterable&&(clearTimeout(v._hideTimeout),v._show=!0),v._inContent=!0}),this.el.on("mouseout",function(){v._enterable&&v._show&&v.hideLater(v._hideDelay),v._inContent=!1})},a.prototype.setEnterable=function(n){this._enterable=n},a.prototype.getSize=function(){var n=this.el,t=this.el.getBoundingRect(),i=J_(n.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},a.prototype.moveTo=function(n,t){var i=this.el;if(i){var l=this._styleCoord;q_(l,this._zr,n,t),n=l[0],t=l[1];var u=i.style,d=w1(u.borderWidth||0),v=J_(u);i.x=n+d+v.left,i.y=t+d+v.top,i.markRedraw()}},a.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(n){this._show&&(!this._inContent||!this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(y.bind(this.hide,this),n)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();var t7=E(1329),Xp=E(9126),Wm=y.bind,Qp=y.each,Zm=Xt.GM,Lx=new ri.Z({shape:{x:-1,y:-1,width:2,height:2}});function e8(a,n,t){var l,i=n.ecModel;t?(l=new Yr.Z(t,i,i),l=new Yr.Z(n.option,l,i)):l=n;for(var u=a.length-1;u>=0;u--){var d=a[u];d&&(d instanceof Yr.Z&&(d=d.get("tooltip",!0)),y.isString(d)&&(d={formatter:d}),d&&(l=new Yr.Z(d,l,i)))}return l}function Jp(a,n){return a.dispatchAction||y.bind(n.dispatchAction,n)}function Km(a){return"center"===a||"middle"===a}const $m=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i){if(!qo.Z.node){var l=t.getComponent("tooltip"),u=l.get("renderMode");this._renderMode=(0,fr.U9)(u),this._tooltipContent="richText"===this._renderMode?new e7(i):new X_(i.getDom(),i,{appendToBody:l.get("appendToBody",!0)})}},n.prototype.render=function(t,i,l){if(!qo.Z.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=l,this._alwaysShowContent=t.get("alwaysShowContent");var u=this._tooltipContent;u.update(t),u.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?(0,zr.P2)(Wm(this._doUpdatePosition,this),50):this._doUpdatePosition}},n.prototype._initGlobalListener=function(){var i=this._tooltipModel.get("triggerOn");Py("itemTooltip",this._api,Wm(function(l,u,d){"none"!==i&&(i.indexOf(l)>=0?this._tryShow(u,d):"leave"===l&&this._hide(d))},this))},n.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,l=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var u=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!l.isDisposed()&&u.manuallyShowTip(t,i,l,{x:u._lastX,y:u._lastY,dataByCoordSys:u._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(t,i,l,u){if(u.from!==this.uid&&!qo.Z.node){var d=Jp(u,l);this._ticket="";var v=u.dataByCoordSys,_=function(a,n,t){var i=(0,fr.zH)(a).queryOptionMap,l=i.keys()[0];if(l&&"series"!==l){var _,d=(0,fr.HZ)(n,l,i.get(l),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(d&&(t.getViewOfComponentModel(d).group.traverse(function(b){var T=(0,Hr.A)(b).tooltipConfig;if(T&&T.name===a.name)return _=b,!0}),_))return{componentMainType:l,componentIndex:d.componentIndex,el:_}}}(u,i,l);if(_){var b=_.el.getBoundingRect().clone();b.applyTransform(_.el.transform),this._tryShow({offsetX:b.x+b.width/2,offsetY:b.y+b.height/2,target:_.el,position:u.position,positionDefault:"bottom"},d)}else if(u.tooltip&&null!=u.x&&null!=u.y){var T=Lx;T.x=u.x,T.y=u.y,T.update(),(0,Hr.A)(T).tooltipConfig={name:null,option:u.tooltip},this._tryShow({offsetX:u.x,offsetY:u.y,target:T},d)}else if(v)this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,dataByCoordSys:v,tooltipOption:u.tooltipOption},d);else if(null!=u.seriesIndex){if(this._manuallyAxisShowTip(t,i,l,u))return;var z=k6(u,i),B=z.point[0],G=z.point[1];null!=B&&null!=G&&this._tryShow({offsetX:B,offsetY:G,target:z.el,position:u.position,positionDefault:"bottom"},d)}else null!=u.x&&null!=u.y&&(l.dispatchAction({type:"updateAxisPointer",x:u.x,y:u.y}),this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,target:l.getZr().findHover(u.x,u.y).target},d))}},n.prototype.manuallyHideTip=function(t,i,l,u){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,u.from!==this.uid&&this._hide(Jp(u,l))},n.prototype._manuallyAxisShowTip=function(t,i,l,u){var d=u.seriesIndex,v=u.dataIndex,_=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=d&&null!=v&&null!=_){var b=i.getSeriesByIndex(d);if(b&&"axis"===e8([b.getData().getItemModel(v),b,(b.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return l.dispatchAction({type:"updateAxisPointer",seriesIndex:d,dataIndex:v,position:u.position}),!0}},n.prototype._tryShow=function(t,i){var l=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var d=t.dataByCoordSys;if(d&&d.length)this._showAxisTooltip(d,t);else if(l){var v,_;this._lastDataByCoordSys=null,(0,Va.o)(l,function(b){return null!=(0,Hr.A)(b).dataIndex?(v=b,!0):null!=(0,Hr.A)(b).tooltipConfig?(_=b,!0):void 0},!0),v?this._showSeriesItemTooltip(t,v,i):_?this._showComponentItemTooltip(t,_,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},n.prototype._showOrMove=function(t,i){var l=t.get("showDelay");i=y.bind(i,this),clearTimeout(this._showTimout),l>0?this._showTimout=setTimeout(i,l):i()},n.prototype._showAxisTooltip=function(t,i){var l=this._ecModel,d=[i.offsetX,i.offsetY],v=e8([i.tooltipOption],this._tooltipModel),_=this._renderMode,b=[],T=(0,vo.TX)("section",{blocks:[],noHeader:!0}),z=[],B=new vo.iv;Qp(t,function(Be){Qp(Be.dataByAxis,function(We){var ut=l.getComponent(We.axisDim+"Axis",We.axisIndex),mt=We.value;if(ut&&null!=mt){var vt=yg(mt,ut.axis,l,We.seriesDataIndices,We.valueLabelOpt),At=(0,vo.TX)("section",{header:vt,noHeader:!y.trim(vt),sortBlocks:!0,blocks:[]});T.blocks.push(At),y.each(We.seriesDataIndices,function(Gt){var on=l.getSeriesByIndex(Gt.seriesIndex),bn=Gt.dataIndexInside,yn=on.getDataParams(bn);if(!(yn.dataIndex<0)){yn.axisDim=We.axisDim,yn.axisIndex=We.axisIndex,yn.axisType=We.axisType,yn.axisId=We.axisId,yn.axisValue=Da.DX(ut.axis,{value:mt}),yn.axisValueLabel=vt,yn.marker=B.makeTooltipMarker("item",Ji.Lz(yn.color),_);var On=(0,Xp.f)(on.formatTooltip(bn,!0,null));On.markupFragment&&At.blocks.push(On.markupFragment),On.markupText&&z.push(On.markupText),b.push(yn)}})}})}),T.blocks.reverse(),z.reverse();var G=i.position,te=v.get("order"),se=(0,vo.BY)(T,B,_,te,l.get("useUTC"),v.get("textStyle"));se&&z.unshift(se);var ze=z.join("richText"===_?"\n\n":"<br/>");this._showOrMove(v,function(){this._updateContentNotChangedOnAxis(t,b)?this._updatePosition(v,G,d[0],d[1],this._tooltipContent,b):this._showTooltipContent(v,ze,b,Math.random()+"",d[0],d[1],G,null,B)})},n.prototype._showSeriesItemTooltip=function(t,i,l){var u=this._ecModel,d=(0,Hr.A)(i),v=d.seriesIndex,_=u.getSeriesByIndex(v),b=d.dataModel||_,T=d.dataIndex,z=d.dataType,B=b.getData(z),G=this._renderMode,te=t.positionDefault,se=e8([B.getItemModel(T),b,_&&(_.coordinateSystem||{}).model],this._tooltipModel,te?{position:te}:null),Ae=se.get("trigger");if(null==Ae||"item"===Ae){var ze=b.getDataParams(T,z),Be=new vo.iv;ze.marker=Be.makeTooltipMarker("item",Ji.Lz(ze.color),G);var We=(0,Xp.f)(b.formatTooltip(T,!1,z)),ut=se.get("order"),mt=We.markupFragment?(0,vo.BY)(We.markupFragment,Be,G,ut,u.get("useUTC"),se.get("textStyle")):We.markupText,vt="item_"+b.name+"_"+T;this._showOrMove(se,function(){this._showTooltipContent(se,mt,ze,vt,t.offsetX,t.offsetY,t.position,t.target,Be)}),l({type:"showTip",dataIndexInside:T,dataIndex:B.getRawIndex(T),seriesIndex:v,from:this.uid})}},n.prototype._showComponentItemTooltip=function(t,i,l){var u=(0,Hr.A)(i),v=u.tooltipConfig.option||{};y.isString(v)&&(v={content:v,formatter:v});var b=[v],T=this._ecModel.getComponent(u.componentMainType,u.componentIndex);T&&b.push(T),b.push({formatter:v.content});var z=t.positionDefault,B=e8(b,this._tooltipModel,z?{position:z}:null),G=B.get("content"),te=Math.random()+"",se=new vo.iv;this._showOrMove(B,function(){var Ae=y.clone(B.get("formatterParams")||{});this._showTooltipContent(B,G,Ae,te,t.offsetX,t.offsetY,t.position,i,se)}),l({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(t,i,l,u,d,v,_,b,T){if(this._ticket="",t.get("showContent")&&t.get("show")){var z=this._tooltipContent,B=t.get("formatter");_=_||t.get("position");var G=i,se=this._getNearestPoint([d,v],l,t.get("trigger"),t.get("borderColor")).color;if(B)if(y.isString(B)){var Ae=t.ecModel.get("useUTC"),ze=y.isArray(l)?l[0]:l;G=B,ze&&ze.axisType&&ze.axisType.indexOf("time")>=0&&(G=(0,t7.WU)(ze.axisValue,G,Ae)),G=Ji.kF(G,l,!0)}else if(y.isFunction(B)){var We=Wm(function(ut,mt){ut===this._ticket&&(z.setContent(mt,T,t,se,_),this._updatePosition(t,_,d,v,z,l,b))},this);this._ticket=u,G=B(l,u,We)}else G=B;z.setContent(G,T,t,se,_),z.show(t,se),this._updatePosition(t,_,d,v,z,l,b)}},n.prototype._getNearestPoint=function(t,i,l,u){return"axis"===l||y.isArray(i)?{color:u||("html"===this._renderMode?"#fff":"none")}:y.isArray(i)?void 0:{color:u||i.color||i.borderColor}},n.prototype._doUpdatePosition=function(t,i,l,u,d,v,_){var b=this._api.getWidth(),T=this._api.getHeight();i=i||t.get("position");var z=d.getSize(),B=t.get("align"),G=t.get("verticalAlign"),te=_&&_.getBoundingRect().clone();if(_&&te.applyTransform(_.transform),y.isFunction(i)&&(i=i([l,u],v,d.el,te,{viewSize:[b,T],contentSize:z.slice()})),y.isArray(i))l=Zm(i[0],b),u=Zm(i[1],T);else if(y.isObject(i)){var se=i;se.width=z[0],se.height=z[1];var Ae=Mi.ME(se,{width:b,height:T});l=Ae.x,u=Ae.y,B=null,G=null}else if(y.isString(i)&&_){var ze=function(a,n,t,i){var l=t[0],u=t[1],d=Math.ceil(Math.SQRT2*i)+8,v=0,_=0,b=n.width,T=n.height;switch(a){case"inside":v=n.x+b/2-l/2,_=n.y+T/2-u/2;break;case"top":v=n.x+b/2-l/2,_=n.y-u-d;break;case"bottom":v=n.x+b/2-l/2,_=n.y+T+d;break;case"left":v=n.x-l-d,_=n.y+T/2-u/2;break;case"right":v=n.x+b+d,_=n.y+T/2-u/2}return[v,_]}(i,te,z,t.get("borderWidth"));l=ze[0],u=ze[1]}else ze=function(a,n,t,i,l,u,d){var v=t.getSize(),_=v[0],b=v[1];return null!=u&&(a+_+u+2>i?a-=_+u:a+=u),null!=d&&(n+b+d>l?n-=b+d:n+=d),[a,n]}(l,u,d,b,T,B?null:20,G?null:20),l=ze[0],u=ze[1];B&&(l-=Km(B)?z[0]/2:"right"===B?z[0]:0),G&&(u-=Km(G)?z[1]/2:"bottom"===G?z[1]:0),Um(t)&&(ze=function(a,n,t,i,l){var u=t.getSize(),d=u[0],v=u[1];return a=Math.min(a+d,i)-d,n=Math.min(n+v,l)-v,[a=Math.max(a,0),n=Math.max(n,0)]}(l,u,d,b,T),l=ze[0],u=ze[1]),d.moveTo(l,u)},n.prototype._updateContentNotChangedOnAxis=function(t,i){var l=this._lastDataByCoordSys,u=this._cbParamsList,d=!!l&&l.length===t.length;return d&&Qp(l,function(v,_){var b=v.dataByAxis||[],z=(t[_]||{}).dataByAxis||[];(d=d&&b.length===z.length)&&Qp(b,function(B,G){var te=z[G]||{},se=B.seriesDataIndices||[],Ae=te.seriesDataIndices||[];(d=d&&B.value===te.value&&B.axisType===te.axisType&&B.axisId===te.axisId&&se.length===Ae.length)&&Qp(se,function(ze,Be){var We=Ae[Be];d=d&&ze.seriesIndex===We.seriesIndex&&ze.dataIndex===We.dataIndex}),u&&y.each(B.seriesDataIndices,function(ze){var Be=ze.seriesIndex,We=i[Be],ut=u[Be];We&&ut&&ut.data!==We.data&&(d=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!d},n.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},n.prototype.dispose=function(t,i){qo.Z.node||(this._tooltipContent.dispose(),xg("itemTooltip",i))},n.type="tooltip",n}(qt.Z);var Qm=["rect","polygon","keep","clear"];function zx(a,n){var t=(0,fr.kF)(a?a.brush:[]);if(t.length){var i=[];y.each(t,function(_){var b=_.hasOwnProperty("toolbox")?_.toolbox:[];b instanceof Array&&(i=i.concat(b))});var l=a&&a.toolbox;y.isArray(l)&&(l=l[0]),l||(a.toolbox=[l={feature:{}}]);var u=l.feature||(l.feature={}),d=u.brush||(u.brush={}),v=d.type||(d.type=[]);v.push.apply(v,i),function(a){var n={};y.each(a,function(t){n[t]=1}),a.length=0,y.each(n,function(t,i){a.push(i)})}(v),n&&!v.length&&v.push.apply(v,Qm)}}var Cc=E(6041),n8=y.each;function i7(a){if(a)for(var n in a)if(a.hasOwnProperty(n))return!0}function qm(a,n,t){var i={};return n8(n,function(u){var d=i[u]=function(){var u=function(){};return u.prototype.__hidden=u.prototype,new u}();n8(a[u],function(v,_){if(Ho.isValidType(_)){var b={type:_,visual:v};t&&t(b,u),d[_]=new Ho(b),"opacity"===_&&((b=y.clone(b)).type="colorAlpha",d.__hidden.__alphaForOpacity=new Ho(b))}})}),i}function a7(a,n,t){var i;y.each(t,function(l){n.hasOwnProperty(l)&&i7(n[l])&&(i=!0)}),i&&y.each(t,function(l){n.hasOwnProperty(l)&&i7(n[l])?a[l]=y.clone(n[l]):delete a[l]})}var _0=E(130),l7={lineX:c7(0),lineY:c7(1),rect:{point:function(a,n,t){return a&&t.boundingRect.contain(a[0],a[1])},rect:function(a,n,t){return a&&t.boundingRect.intersect(a)}},polygon:{point:function(a,n,t){return a&&t.boundingRect.contain(a[0],a[1])&&_0.X(t.range,a[0],a[1])},rect:function(a,n,t){var i=t.range;if(!a||i.length<=1)return!1;var l=a.x,u=a.y,d=a.width,v=a.height,_=i[0];return!!(_0.X(i,l,u)||_0.X(i,l+d,u)||_0.X(i,l,u+v)||_0.X(i,l+d,u+v)||ao.Z.create(a).contain(_[0],_[1])||(0,ln.linePolygonIntersect)(l,u,l+d,u,i)||(0,ln.linePolygonIntersect)(l,u,l,u+v,i)||(0,ln.linePolygonIntersect)(l+d,u,l+d,u+v,i)||(0,ln.linePolygonIntersect)(l,u+v,l+d,u+v,i))||void 0}}};function c7(a){var n=["x","y"],t=["width","height"];return{point:function(i,l,u){if(i)return D1(i[a],u.range)},rect:function(i,l,u){if(i){var d=u.range,v=[i[n[a]],i[n[a]]+i[t[a]]];return v[1]<v[0]&&v.reverse(),D1(v[0],d)||D1(v[1],d)||D1(d[0],v)||D1(d[1],v)}}}}function D1(a,n){return n[0]<=a&&a<=n[1]}var u7=["inBrush","outOfBrush"],e5="__ecBrushSelect",r8="__ecInBrushSelectEvent";function h7(a){a.eachComponent({mainType:"brush"},function(n){(n.brushTargetManager=new Kp(n.option,a)).setInputRanges(n.areas,a)})}function t5(a,n,t){var l,u,i=[];a.eachComponent({mainType:"brush"},function(d){t&&"takeGlobalCursor"===t.type&&d.setBrushOption("brush"===t.key?t.brushOption:{brushType:!1})}),h7(a),a.eachComponent({mainType:"brush"},function(d,v){var _={brushId:d.id,brushIndex:v,brushName:d.name,areas:y.clone(d.areas),selected:[]};i.push(_);var b=d.option,T=b.brushLink,z=[],B=[],G=[],te=!1;v||(l=b.throttleType,u=b.throttleDelay);var se=y.map(d.areas,function(mt){var vt=i8[mt.brushType],At=y.defaults({boundingRect:vt?vt(mt):void 0},mt);return At.selectors=function(a){var n=a.brushType,t={point:function(i){return l7[n].point(i,t,a)},rect:function(i){return l7[n].rect(i,t,a)}};return t}(At),At}),Ae=qm(d.option,u7,function(mt){mt.mappingMethod="fixed"});function ze(mt){return"all"===T||!!z[mt]}function Be(mt){return!!mt.length}y.isArray(T)&&y.each(T,function(mt){z[mt]=1}),a.eachSeries(function(mt,vt){var At=G[vt]=[];"parallel"===mt.subType?function(mt,vt){var At=mt.coordinateSystem;te=te||At.hasAxisBrushed(),ze(vt)&&At.eachActiveState(mt.getData(),function(Gt,on){"active"===Gt&&(B[on]=1)})}(mt,vt):function(mt,vt,At){if(mt.brushSelector&&!function(a,n){var t=a.option.seriesIndex;return null!=t&&"all"!==t&&(y.isArray(t)?y.indexOf(t,n)<0:n!==t)}(d,vt)&&(y.each(se,function(on){d.brushTargetManager.controlSeries(on,mt,a)&&At.push(on),te=te||Be(At)}),ze(vt)&&Be(At))){var Gt=mt.getData();Gt.each(function(on){f7(mt,At,Gt,on)&&(B[on]=1)})}}(mt,vt,At)}),a.eachSeries(function(mt,vt){var At={seriesId:mt.id,seriesIndex:vt,seriesName:mt.name,dataIndex:[]};_.selected.push(At);var Gt=G[vt],on=mt.getData(),bn=ze(vt)?function(yn){return B[yn]?(At.dataIndex.push(on.getRawIndex(yn)),"inBrush"):"outOfBrush"}:function(yn){return f7(mt,Gt,on,yn)?(At.dataIndex.push(on.getRawIndex(yn)),"inBrush"):"outOfBrush"};(ze(vt)?te:Be(Gt))&&function(a,n,t,i,l,u){var v,d={};function _(z){return(0,Cc.Or)(t,v,z)}function b(z,B){(0,Cc.LZ)(t,v,z,B)}function T(z,B){var G=t.getRawDataItem(v=z);if(!G||!1!==G.visualMap)for(var te=i.call(undefined,z),se=n[te],Ae=d[te],ze=0,Be=Ae.length;ze<Be;ze++){var We=Ae[ze];se[We]&&se[We].applyVisual(z,_,b)}}y.each(a,function(z){var B=Ho.prepareVisualTypes(n[z]);d[z]=B}),t.each(T)}(u7,Ae,on,bn)})}),function(a,n,t,i,l){if(l){var u=a.getZr();u[r8]||(u[e5]||(u[e5]=Rx),zr.T9(u,e5,t,n)(a,i))}}(n,l,u,i,t)}function Rx(a,n){if(!a.isDisposed()){var t=a.getZr();t[r8]=!0,a.dispatchAction({type:"brushSelect",batch:n}),t[r8]=!1}}function f7(a,n,t,i){for(var l=0,u=n.length;l<u;l++){var d=n[l];if(a.brushSelector(i,t,d.selectors,d))return!0}}var i8={rect:function(a){return n5(a.range)},polygon:function(a){for(var n,t=a.range,i=0,l=t.length;i<l;i++){var u=t[i];u[0]<(n=n||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(n[0][0]=u[0]),u[0]>n[0][1]&&(n[0][1]=u[0]),u[1]<n[1][0]&&(n[1][0]=u[1]),u[1]>n[1][1]&&(n[1][1]=u[1])}return n&&n5(n)}};function n5(a){return new ao.Z(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}const g7=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i){this.ecModel=t,this.api=i,(this._brushController=new Gf(i.getZr())).on("brush",y.bind(this._onBrush,this)).mount()},n.prototype.render=function(t,i,l,u){this.model=t,this._updateController(t,i,l,u)},n.prototype.updateTransform=function(t,i,l,u){h7(i),this._updateController(t,i,l,u)},n.prototype.updateVisual=function(t,i,l,u){this.updateTransform(t,i,l,u)},n.prototype.updateView=function(t,i,l,u){this._updateController(t,i,l,u)},n.prototype._updateController=function(t,i,l,u){(!u||u.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(l)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(t){var i=this.model.id,l=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:y.clone(l),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:y.clone(l),$from:i})},n.type="brush",n}(qt.Z);function fl(a,n){return y.merge({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new Yr.Z(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},n,!0)}const y7=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.areas=[],t.brushOption={},t}return(0,Zt.ZT)(n,a),n.prototype.optionUpdated=function(t,i){var l=this.option;!i&&a7(l,t,["inBrush","outOfBrush"]);var u=l.inBrush=l.inBrush||{};l.outOfBrush=l.outOfBrush||{color:"#ddd"},u.hasOwnProperty("liftZ")||(u.liftZ=5)},n.prototype.setAreas=function(t){!t||(this.areas=y.map(t,function(i){return fl(this.option,i)},this))},n.prototype.setBrushOption=function(t){this.brushOption=fl(this.option,t),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(Cn.Z);var o8=["rect","polygon","lineX","lineY","keep","clear"];const x7=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){var u,d,v;i.eachComponent({mainType:"brush"},function(_){u=_.brushType,d=_.brushOption.brushMode||"single",v=v||!!_.areas.length}),this._brushType=u,this._brushMode=d,y.each(t.get("type",!0),function(_){t.setIconStatus(_,("keep"===_?"multiple"===d:"clear"===_?v:_===u)?"emphasis":"normal")})},n.prototype.updateView=function(t,i,l){this.render(t,i,l)},n.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),l={};return y.each(t.get("type",!0),function(u){i[u]&&(l[u]=i[u])}),l},n.prototype.onclick=function(t,i,l){var u=this._brushType,d=this._brushMode;"clear"===l?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===l?u:u!==l&&l,brushMode:"keep"===l?"multiple"===d?"single":"multiple":d}})},n.getDefaultOption=function(t){return{show:!0,type:o8.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},n}(il);var r5=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.layoutMode={type:"box",ignoreSize:!0},t}return(0,Zt.ZT)(n,a),n.type="title",n.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(Cn.Z),i5=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){if(this.group.removeAll(),t.get("show")){var u=this.group,d=t.getModel("textStyle"),v=t.getModel("subtextStyle"),_=t.get("textAlign"),b=y.retrieve2(t.get("textBaseline"),t.get("textVerticalAlign")),T=new di.ZP({style:(0,$n.Lr)(d,{text:t.get("text"),fill:d.getTextColor()},{disableBox:!0}),z2:10}),z=T.getBoundingRect(),B=t.get("subtext"),G=new di.ZP({style:(0,$n.Lr)(v,{text:B,fill:v.getTextColor(),y:z.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),te=t.get("link"),se=t.get("sublink"),Ae=t.get("triggerEvent",!0);T.silent=!te&&!Ae,G.silent=!se&&!Ae,te&&T.on("click",function(){(0,Ji.MI)(te,"_"+t.get("target"))}),se&&G.on("click",function(){(0,Ji.MI)(se,"_"+t.get("subtarget"))}),(0,Hr.A)(T).eventData=(0,Hr.A)(G).eventData=Ae?{componentType:"title",componentIndex:t.componentIndex}:null,u.add(T),B&&u.add(G);var ze=u.getBoundingRect(),Be=t.getBoxLayoutParams();Be.width=ze.width,Be.height=ze.height;var We=(0,Mi.ME)(Be,{width:l.getWidth(),height:l.getHeight()},t.get("padding"));_||("middle"===(_=t.get("left")||t.get("right"))&&(_="center"),"right"===_?We.x+=We.width:"center"===_&&(We.x+=We.width/2)),b||("center"===(b=t.get("top")||t.get("bottom"))&&(b="middle"),"bottom"===b?We.y+=We.height:"middle"===b&&(We.y+=We.height/2),b=b||"top"),u.x=We.x,u.y=We.y,u.markRedraw();var ut={align:_,verticalAlign:b};T.setStyle(ut),G.setStyle(ut),ze=u.getBoundingRect();var mt=We.margin,vt=t.getItemStyle(["color","opacity"]);vt.fill=t.get("backgroundColor");var At=new ri.Z({shape:{x:ze.x-mt[3],y:ze.y-mt[0],width:ze.width+mt[1]+mt[3],height:ze.height+mt[0]+mt[2],r:t.get("borderRadius")},style:vt,subPixelOptimize:!0,silent:!0});u.add(At)}},n.type="title",n}(qt.Z);const l8=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.layoutMode="box",t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i,l){this.mergeDefaultAndTheme(t,l),this._initData()},n.prototype.mergeOption=function(t){a.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(t){this.option.autoPlay=!!t},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var d,t=this.option,i=t.data||[],l=t.axisType,u=this._names=[];"category"===l?(d=[],(0,y.each)(i,function(b,T){var B,z=(0,fr.U5)((0,fr.C4)(b),"");(0,y.isObject)(b)?(B=(0,y.clone)(b)).value=T:B=T,d.push(B),u.push(z)})):d=i,(this._data=new ji.Z([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[l]||"number"}],this)).initData(d,u)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},n.type="timeline",n.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(Cn.Z);var o5=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="timeline.slider",n.defaultOption=(0,_a.ZL)(l8.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(l8);(0,y.mixin)(o5,Xp.X.prototype);const S7=o5,s5=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="timeline",n}(qt.Z),u8=function(a){function n(t,i,l,u){var d=a.call(this,t,i,l)||this;return d.type=u||"value",d}return(0,Zt.ZT)(n,a),n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},n}(ma.Z);var T7=E(2884),Mc=E(6914),h8=Math.PI,C7=(0,fr.Yf)();function c5(a,n,t,i,l,u){var d=n.get("color");if(l)l.setColor(d),t.add(l),u&&u.onUpdate(l);else{var v=a.get("symbol");(l=(0,dr.th)(v,-1,-1,2,2,d)).setStyle("strokeNoScale",!0),t.add(l),u&&u.onCreate(l)}var _=n.getItemStyle(["color"]);l.setStyle(_),i=(0,y.merge)({rectHover:!0,z2:100},i,!0);var b=(0,dr.zp)(a.get("symbolSize"));i.scaleX=b[0]/2,i.scaleY=b[1]/2;var T=(0,dr.Cq)(a.get("symbolOffset"),b);T&&(i.x=(i.x||0)+T[0],i.y=(i.y||0)+T[1]);var z=a.get("symbolRotate");return i.rotation=(z||0)*Math.PI/180||0,l.attr(i),l.updateTransform(),l}function E7(a,n,t,i,l,u){if(!a.dragging){var d=l.getModel("checkpointStyle"),v=i.dataToCoord(l.getData().get("value",t));if(u||!d.get("animation",!0))a.attr({x:v,y:0}),n&&n.attr({shape:{x2:v}});else{var _={duration:d.get("animationDuration",!0),easing:d.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:v,y:0},_),n&&n.animateTo({shape:{x2:v}},_)}}}const A7=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i){this.api=i},n.prototype.render=function(t,i,l){if(this.model=t,this.api=l,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var u=this._layout(t,l),d=this._createGroup("_mainGroup"),v=this._createGroup("_labelGroup"),_=this._axis=this._createAxis(u,t);t.formatTooltip=function(b){var T=_.scale.getLabel({value:b});return(0,vo.TX)("nameValue",{noName:!0,value:T})},(0,y.each)(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](u,d,_,t)},this),this._renderAxisLabel(u,v,_,t),this._position(u,t)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(t,i){var v,l=t.get(["label","position"]),u=t.get("orient"),d=function(a,n){return Mi.ME(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},a.get("padding"))}(t,i),_={horizontal:"center",vertical:(v=null==l||"auto"===l?"horizontal"===u?d.y+d.height/2<i.getHeight()/2?"-":"+":d.x+d.width/2<i.getWidth()/2?"+":"-":(0,y.isString)(l)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][l]:l)>=0||"+"===v?"left":"right"},b={horizontal:v>=0||"+"===v?"top":"bottom",vertical:"middle"},T={horizontal:0,vertical:h8/2},z="vertical"===u?d.height:d.width,B=t.getModel("controlStyle"),G=B.get("show",!0),te=G?B.get("itemSize"):0,se=G?B.get("itemGap"):0,Ae=te+se,ze=t.get(["label","rotate"])||0;ze=ze*h8/180;var Be,We,ut,mt=B.get("position",!0),vt=G&&B.get("showPlayBtn",!0),At=G&&B.get("showPrevBtn",!0),Gt=G&&B.get("showNextBtn",!0),on=0,bn=z;"left"===mt||"bottom"===mt?(vt&&(Be=[0,0],on+=Ae),At&&(We=[on,0],on+=Ae),Gt&&(ut=[bn-te,0],bn-=Ae)):(vt&&(Be=[bn-te,0],bn-=Ae),At&&(We=[0,0],on+=Ae),Gt&&(ut=[bn-te,0],bn-=Ae));var yn=[on,bn];return t.get("inverse")&&yn.reverse(),{viewRect:d,mainLength:z,orient:u,rotation:T[u],labelRotation:ze,labelPosOpt:v,labelAlign:t.get(["label","align"])||_[u],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||b[u],playPosition:Be,prevBtnPosition:We,nextBtnPosition:ut,axisExtent:yn,controlSize:te,controlGap:se}},n.prototype._position=function(t,i){var l=this._mainGroup,u=this._labelGroup,d=t.viewRect;if("vertical"===t.orient){var v=Ni.create(),_=d.x,b=d.y+d.height;Ni.translate(v,v,[-_,-b]),Ni.rotate(v,v,-h8/2),Ni.translate(v,v,[_,b]),(d=d.clone()).applyTransform(v)}var T=Be(d),z=Be(l.getBoundingRect()),B=Be(u.getBoundingRect()),G=[l.x,l.y],te=[u.x,u.y];te[0]=G[0]=T[0][0];var Ae,se=t.labelPosOpt;function ze(ut){ut.originX=T[0][0]-ut.x,ut.originY=T[1][0]-ut.y}function Be(ut){return[[ut.x,ut.x+ut.width],[ut.y,ut.y+ut.height]]}function We(ut,mt,vt,At,Gt){ut[At]+=vt[At][Gt]-mt[At][Gt]}null==se||(0,y.isString)(se)?(We(G,z,T,1,Ae="+"===se?0:1),We(te,B,T,1,1-Ae)):(We(G,z,T,1,Ae=se>=0?0:1),te[1]=G[1]+se),l.setPosition(G),u.setPosition(te),l.rotation=u.rotation=t.rotation,ze(l),ze(u)},n.prototype._createAxis=function(t,i){var l=i.getData(),u=i.get("axisType"),d=function(a,n){if(n=n||a.get("type"))switch(n){case"category":return new T7.Z({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new Mc.Z({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new oo.Z}}(i,u);d.getTicks=function(){return l.mapArray(["value"],function(b){return{value:b}})};var v=l.getDataExtent("value");d.setExtent(v[0],v[1]),d.niceTicks();var _=new u8("value",d,t.axisExtent,u);return _.model=i,_},n.prototype._createGroup=function(t){var i=this[t]=new pr.Z;return this.group.add(i),i},n.prototype._renderAxisLine=function(t,i,l,u){var d=l.getExtent();if(u.get(["lineStyle","show"])){var v=new tr.Z({shape:{x1:d[0],y1:0,x2:d[1],y2:0},style:(0,y.extend)({lineCap:"round"},u.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(v);var _=this._progressLine=new tr.Z({shape:{x1:d[0],x2:this._currentPointer?this._currentPointer.x:d[0],y1:0,y2:0},style:(0,y.defaults)({lineCap:"round",lineWidth:v.style.lineWidth},u.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(_)}},n.prototype._renderAxisTick=function(t,i,l,u){var d=this,v=u.getData(),_=l.scale.getTicks();this._tickSymbols=[],(0,y.each)(_,function(b){var T=l.dataToCoord(b.value),z=v.getItemModel(b.value),B=z.getModel("itemStyle"),G=z.getModel(["emphasis","itemStyle"]),te=z.getModel(["progress","itemStyle"]),se={x:T,y:0,onclick:(0,y.bind)(d._changeTimeline,d,b.value)},Ae=c5(z,B,i,se);Ae.ensureState("emphasis").style=G.getItemStyle(),Ae.ensureState("progress").style=te.getItemStyle(),(0,Xn.vF)(Ae);var ze=(0,Hr.A)(Ae);z.get("tooltip")?(ze.dataIndex=b.value,ze.dataModel=u):ze.dataIndex=ze.dataModel=null,d._tickSymbols.push(Ae)})},n.prototype._renderAxisLabel=function(t,i,l,u){var d=this;if(l.getLabelModel().get("show")){var _=u.getData(),b=l.getViewLabels();this._tickLabels=[],(0,y.each)(b,function(T){var z=T.tickValue,B=_.getItemModel(z),G=B.getModel("label"),te=B.getModel(["emphasis","label"]),se=B.getModel(["progress","label"]),Ae=l.dataToCoord(T.tickValue),ze=new di.ZP({x:Ae,y:0,rotation:t.labelRotation-t.rotation,onclick:(0,y.bind)(d._changeTimeline,d,z),silent:!1,style:(0,$n.Lr)(G,{text:T.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});ze.ensureState("emphasis").style=(0,$n.Lr)(te),ze.ensureState("progress").style=(0,$n.Lr)(se),i.add(ze),(0,Xn.vF)(ze),C7(ze).dataIndex=z,d._tickLabels.push(ze)})}},n.prototype._renderControl=function(t,i,l,u){var d=t.controlSize,v=t.rotation,_=u.getModel("controlStyle").getItemStyle(),b=u.getModel(["emphasis","controlStyle"]).getItemStyle(),T=u.getPlayState(),z=u.get("inverse",!0);function B(G,te,se,Ae){if(G){var ze=(0,fe.GM)((0,y.retrieve2)(u.get(["controlStyle",te+"BtnSize"]),d),d),We=function(a,n,t,i){var l=i.style,u=ln.createIcon(a.get(["controlStyle",n]),i||{},new ao.Z(t[0],t[1],t[2],t[3]));return l&&u.setStyle(l),u}(u,te+"Icon",[0,-ze/2,ze,ze],{x:G[0],y:G[1],originX:d/2,originY:0,rotation:Ae?-v:0,rectHover:!0,style:_,onclick:se});We.ensureState("emphasis").style=b,i.add(We),(0,Xn.vF)(We)}}B(t.nextBtnPosition,"next",(0,y.bind)(this._changeTimeline,this,z?"-":"+")),B(t.prevBtnPosition,"prev",(0,y.bind)(this._changeTimeline,this,z?"+":"-")),B(t.playPosition,T?"stop":"play",(0,y.bind)(this._handlePlayClick,this,!T),!0)},n.prototype._renderCurrentPointer=function(t,i,l,u){var d=u.getData(),v=u.getCurrentIndex(),_=d.getItemModel(v).getModel("checkpointStyle"),b=this;this._currentPointer=c5(_,_,this._mainGroup,{},this._currentPointer,{onCreate:function(z){z.draggable=!0,z.drift=(0,y.bind)(b._handlePointerDrag,b),z.ondragend=(0,y.bind)(b._handlePointerDragend,b),E7(z,b._progressLine,v,l,u,!0)},onUpdate:function(z){E7(z,b._progressLine,v,l,u)}})},n.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},n.prototype._handlePointerDrag=function(t,i,l){this._clearTimer(),this._pointerChangeTimeline([l.offsetX,l.offsetY])},n.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},n.prototype._pointerChangeTimeline=function(t,i){var l=this._toAxisCoord(t)[0],d=Xt.dt(this._axis.getExtent().slice());l>d[1]&&(l=d[1]),l<d[0]&&(l=d[0]),this._currentPointer.x=l,this._currentPointer.markRedraw(),this._progressLine.shape.x2=l,this._progressLine.dirty();var v=this._findNearestTick(l),_=this.model;(i||v!==_.getCurrentIndex()&&_.get("realtime"))&&this._changeTimeline(v)},n.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(t){var i=this._mainGroup.getLocalTransform();return ln.applyTransform(t,i,!0)},n.prototype._findNearestTick=function(t){var u,i=this.model.getData(),l=1/0,d=this._axis;return i.each(["value"],function(v,_){var b=d.dataToCoord(v),T=Math.abs(b-t);T<l&&(l=T,u=_)}),u},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();"+"===t?t=i+1:"-"===t&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},n.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,l=this._tickLabels;if(i)for(var u=0;u<i.length;u++)i&&i[u]&&i[u].toggleState("progress",u<t);if(l)for(u=0;u<l.length;u++)l&&l[u]&&l[u].toggleState("progress",C7(l[u]).dataIndex<=t)},n.type="timeline.slider",n}(s5);function P7(a){var n=a&&a.timeline;y.isArray(n)||(n=n?[n]:[]),y.each(n,function(t){!t||function(a){var n=a.type,t={number:"value",time:"time"};if(t[n]&&(a.axisType=t[n],delete a.type),d8(a),E1(a,"controlPosition")){var i=a.controlStyle||(a.controlStyle={});E1(i,"position")||(i.position=a.controlPosition),"none"===i.position&&!E1(i,"show")&&(i.show=!1,delete i.position),delete a.controlPosition}y.each(a.data||[],function(l){y.isObject(l)&&!y.isArray(l)&&(!E1(l,"value")&&E1(l,"name")&&(l.value=l.name),d8(l))})}(t)})}function d8(a){var n=a.itemStyle||(a.itemStyle={}),t=n.emphasis||(n.emphasis={}),i=a.label||a.label||{},l=i.normal||(i.normal={}),u={normal:1,emphasis:1};y.each(i,function(d,v){!u[v]&&!E1(l,v)&&(l[v]=d)}),t.label&&!E1(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function E1(a,n){return a.hasOwnProperty(n)}function qp(a,n){if(!a)return!1;for(var t=(0,y.isArray)(a)?a:[a],i=0;i<t.length;i++)if(t[i]&&t[i][n])return!0;return!1}function Hv(a){(0,fr.Cc)(a,"label",["show"])}var e3=(0,fr.Yf)(),h5=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.createdBySelf=!1,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i,l){this.mergeDefaultAndTheme(t,l),this._mergeOption(t,l,!1,!0)},n.prototype.isAnimationEnabled=function(){if(qo.Z.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},n.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},n.prototype._mergeOption=function(t,i,l,u){var d=this.mainType;l||i.eachSeries(function(v){var _=v.get(this.mainType,!0),b=e3(v)[d];_&&_.data?(b?b._mergeOption(_,i,!0):(u&&Hv(_),y.each(_.data,function(T){T instanceof Array?(Hv(T[0]),Hv(T[1])):Hv(T)}),b=this.createMarkerModelFromSeries(_,this,i),y.extend(b,{mainType:this.mainType,seriesIndex:v.seriesIndex,name:v.name,createdBySelf:!0}),b.__hostSeries=v),e3(v)[d]=b):e3(v)[d]=null},this)},n.prototype.formatTooltip=function(t,i,l){var u=this.getData(),d=this.getRawValue(t),v=u.getName(t);return(0,vo.TX)("section",{header:this.name,blocks:[(0,vo.TX)("nameValue",{name:v,value:d,noName:!v,noValue:null==d})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(t){this._data=t},n.getMarkerModelFromSeries=function(t,i){return e3(t)[i]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(Cn.Z);y.mixin(h5,Xp.X.prototype);const nh=h5,f8=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.createMarkerModelFromSeries=function(t,i,l){return new n(t,i,l)},n.type="markPoint",n.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(nh);var rh=E(3585);function v8(a,n,t,i,l,u){var d=[],_=(0,zn.M)(n,i)?n.getCalculationInfo("stackResultDimension"):i,b=v5(n,_,a),T=n.indicesOfNearest(_,b)[0];d[l]=n.get(t,T),d[u]=n.get(_,T);var z=n.get(i,T),B=Xt.p8(n.get(i,T));return(B=Math.min(B,20))>=0&&(d[u]=+d[u].toFixed(B)),[d,z]}var d5={min:(0,y.curry)(v8,"min"),max:(0,y.curry)(v8,"max"),average:(0,y.curry)(v8,"average"),median:(0,y.curry)(v8,"median")};function t3(a,n){var t=a.getData(),i=a.coordinateSystem;if(n&&!function(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}(n)&&!(0,y.isArray)(n.coord)&&i){var l=i.dimensions,u=O7(n,t,i,a);if((n=(0,y.clone)(n)).type&&d5[n.type]&&u.baseAxis&&u.valueAxis){var d=(0,y.indexOf)(l,u.baseAxis.dim),v=(0,y.indexOf)(l,u.valueAxis.dim),_=d5[n.type](t,u.baseDataDim,u.valueDataDim,d,v);n.coord=_[0],n.value=_[1]}else{for(var b=[null!=n.xAxis?n.xAxis:n.radiusAxis,null!=n.yAxis?n.yAxis:n.angleAxis],T=0;T<2;T++)d5[b[T]]&&(b[T]=v5(t,t.mapDimension(l[T]),b[T]));n.coord=b}}return n}function O7(a,n,t,i){var l={};return null!=a.valueIndex||null!=a.valueDim?(l.valueDataDim=null!=a.valueIndex?n.getDimension(a.valueIndex):a.valueDim,l.valueAxis=t.getAxis(function(a,n){var t=a.getData().getDimensionInfo(n);return t&&t.coordDim}(i,l.valueDataDim)),l.baseAxis=t.getOtherAxis(l.valueAxis),l.baseDataDim=n.mapDimension(l.baseAxis.dim)):(l.baseAxis=i.getBaseAxis(),l.valueAxis=t.getOtherAxis(l.baseAxis),l.baseDataDim=n.mapDimension(l.baseAxis.dim),l.valueDataDim=n.mapDimension(l.valueAxis.dim)),l}function A1(a,n){return!(a&&a.containData&&n.coord&&!function(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}(n))||a.containData(n.coord)}function f5(a,n){return a?function(t,i,l,u){return(0,rh.yQ)(u<2?t.coord&&t.coord[u]:t.value,n[u])}:function(t,i,l,u){return(0,rh.yQ)(t.value,n[u])}}function v5(a,n,t){if("average"===t){var i=0,l=0;return a.each(n,function(u,d){isNaN(u)||(i+=u,l++)}),i/l}return"median"===t?a.getMedian(n):a.getDataExtent(n)["max"===t?1:0]}var p8=(0,fr.Yf)();const g8=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(){this.markerGroupMap=(0,y.createHashMap)()},n.prototype.render=function(t,i,l){var u=this,d=this.markerGroupMap;d.each(function(v){p8(v).keep=!1}),i.eachSeries(function(v){var _=nh.getMarkerModelFromSeries(v,u.type);_&&u.renderSeries(v,_,i,l)}),d.each(function(v){!p8(v).keep&&u.group.remove(v.group)})},n.prototype.markKeep=function(t){p8(t).keep=!0},n.prototype.blurSeries=function(t){var i=this;(0,y.each)(t,function(l){var u=nh.getMarkerModelFromSeries(l,i.type);u&&u.getData().eachItemGraphicEl(function(v){v&&(0,Xn.SX)(v)})})},n.type="marker",n}(qt.Z);function p5(a,n,t){var i=n.coordinateSystem;a.each(function(l){var d,u=a.getItemModel(l),v=Xt.GM(u.get("x"),t.getWidth()),_=Xt.GM(u.get("y"),t.getHeight());if(isNaN(v)||isNaN(_)){if(n.getMarkerPosition)d=n.getMarkerPosition(a.getValues(a.dimensions,l));else if(i){var b=a.get(i.dimensions[0],l),T=a.get(i.dimensions[1],l);d=i.dataToPoint([b,T])}}else d=[v,_];isNaN(v)||(d[0]=v),isNaN(_)||(d[1]=_),a.setItemLayout(l,d)})}const Ux=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.updateTransform=function(t,i,l){i.eachSeries(function(u){var d=nh.getMarkerModelFromSeries(u,"markPoint");d&&(p5(d.getData(),u,l),this.markerGroupMap.get(u.id).updateLayout())},this)},n.prototype.renderSeries=function(t,i,l,u){var d=t.coordinateSystem,v=t.id,_=t.getData(),b=this.markerGroupMap,T=b.get(v)||b.set(v,new oa),z=function(a,n,t){var i;i=a?(0,y.map)(a&&a.dimensions,function(v){var _=n.getData().getDimensionInfo(n.getData().mapDimension(v))||{};return(0,y.extend)((0,y.extend)({},_),{name:v,ordinalMeta:null})}):[{name:"value",type:"float"}];var l=new ji.Z(i,t),u=(0,y.map)(t.get("data"),(0,y.curry)(t3,n));a&&(u=(0,y.filter)(u,(0,y.curry)(A1,a)));var d=f5(!!a,i);return l.initData(u,null,d),l}(d,t,i);i.setData(z),p5(i.getData(),t,u),z.each(function(B){var G=z.getItemModel(B),te=G.getShallow("symbol"),se=G.getShallow("symbolSize"),Ae=G.getShallow("symbolRotate"),ze=G.getShallow("symbolOffset"),Be=G.getShallow("symbolKeepAspect");if((0,y.isFunction)(te)||(0,y.isFunction)(se)||(0,y.isFunction)(Ae)||(0,y.isFunction)(ze)){var We=i.getRawValue(B),ut=i.getDataParams(B);(0,y.isFunction)(te)&&(te=te(We,ut)),(0,y.isFunction)(se)&&(se=se(We,ut)),(0,y.isFunction)(Ae)&&(Ae=Ae(We,ut)),(0,y.isFunction)(ze)&&(ze=ze(We,ut))}var mt=G.getModel("itemStyle").getItemStyle(),vt=(0,Cc.UL)(_,"color");mt.fill||(mt.fill=vt),z.setItemVisual(B,{symbol:te,symbolSize:se,symbolRotate:Ae,symbolOffset:ze,symbolKeepAspect:Be,style:mt})}),T.updateData(z),this.group.add(T.group),z.eachItemGraphicEl(function(B){B.traverse(function(G){(0,Hr.A)(G).dataModel=i})}),this.markKeep(T),T.group.silent=i.get("silent")||t.get("silent")},n.type="markPoint",n}(g8),Ts=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.createMarkerModelFromSeries=function(t,i,l){return new n(t,i,l)},n.type="markLine",n.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(nh);var y8=(0,fr.Yf)(),g5=function(a,n,t,i){var u,l=a.getData();if((0,y.isArray)(i))u=i;else{var d=i.type;if("min"===d||"max"===d||"average"===d||"median"===d||null!=i.xAxis||null!=i.yAxis){var v=void 0,_=void 0;if(null!=i.yAxis||null!=i.xAxis)v=n.getAxis(null!=i.yAxis?"y":"x"),_=(0,y.retrieve)(i.yAxis,i.xAxis);else{var b=O7(i,l,n,a);v=b.valueAxis,_=v5(l,(0,zn.IR)(l,b.valueDataDim),d)}var z="x"===v.dim?0:1,B=1-z,G=(0,y.clone)(i),te={coord:[]};G.type=null,G.coord=[],G.coord[B]=-1/0,te.coord[B]=1/0;var se=t.get("precision");se>=0&&"number"==typeof _&&(_=+_.toFixed(Math.min(se,20))),G.coord[z]=te.coord[z]=_,u=[G,te,{type:d,valueIndex:i.valueIndex,value:_}]}else u=[]}var Ae=[t3(a,u[0]),t3(a,u[1]),(0,y.extend)({},u[2])];return Ae[2].type=Ae[2].type||null,(0,y.merge)(Ae[2],Ae[0]),(0,y.merge)(Ae[2],Ae[1]),Ae};function Yv(a){return!isNaN(a)&&!isFinite(a)}function m5(a,n,t,i){var l=1-a,u=i.dimensions[a];return Yv(n[l])&&Yv(t[l])&&n[a]===t[a]&&i.getAxis(u).containData(n[a])}function n3(a,n){if("cartesian2d"===a.type){var t=n[0].coord,i=n[1].coord;if(t&&i&&(m5(1,t,i,a)||m5(0,t,i,a)))return!0}return A1(a,n[0])&&A1(a,n[1])}function _8(a,n,t,i,l){var v,u=i.coordinateSystem,d=a.getItemModel(n),_=Xt.GM(d.get("x"),l.getWidth()),b=Xt.GM(d.get("y"),l.getHeight());if(isNaN(_)||isNaN(b)){if(i.getMarkerPosition)v=i.getMarkerPosition(a.getValues(a.dimensions,n));else{var z=a.get((T=u.dimensions)[0],n),B=a.get(T[1],n);v=u.dataToPoint([z,B])}if(Ii(u,"cartesian2d")){var T,G=u.getAxis("x"),te=u.getAxis("y");Yv(a.get((T=u.dimensions)[0],n))?v[0]=G.toGlobalCoord(G.getExtent()[t?0:1]):Yv(a.get(T[1],n))&&(v[1]=te.toGlobalCoord(te.getExtent()[t?0:1]))}isNaN(_)||(v[0]=_),isNaN(b)||(v[1]=b)}else v=[_,b];a.setItemLayout(n,v)}const P1=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.updateTransform=function(t,i,l){i.eachSeries(function(u){var d=nh.getMarkerModelFromSeries(u,"markLine");if(d){var v=d.getData(),_=y8(d).from,b=y8(d).to;_.each(function(T){_8(_,T,!0,u,l),_8(b,T,!1,u,l)}),v.each(function(T){v.setItemLayout(T,[_.getItemLayout(T),b.getItemLayout(T)])}),this.markerGroupMap.get(u.id).updateLayout()}},this)},n.prototype.renderSeries=function(t,i,l,u){var d=t.coordinateSystem,v=t.id,_=t.getData(),b=this.markerGroupMap,T=b.get(v)||b.set(v,new fc);this.group.add(T.group);var z=function(a,n,t){var i;i=a?(0,y.map)(a&&a.dimensions,function(b){var T=n.getData().getDimensionInfo(n.getData().mapDimension(b))||{};return(0,y.extend)((0,y.extend)({},T),{name:b,ordinalMeta:null})}):[{name:"value",type:"float"}];var l=new ji.Z(i,t),u=new ji.Z(i,t),d=new ji.Z([],t),v=(0,y.map)(t.get("data"),(0,y.curry)(g5,n,a,t));a&&(v=(0,y.filter)(v,(0,y.curry)(n3,a)));var _=f5(!!a,i);return l.initData((0,y.map)(v,function(b){return b[0]}),null,_),u.initData((0,y.map)(v,function(b){return b[1]}),null,_),d.initData((0,y.map)(v,function(b){return b[2]})),d.hasItemOption=!0,{from:l,to:u,line:d}}(d,t,i),B=z.from,G=z.to,te=z.line;y8(i).from=B,y8(i).to=G,i.setData(te);var se=i.get("symbol"),Ae=i.get("symbolSize"),ze=i.get("symbolRotate"),Be=i.get("symbolOffset");function We(ut,mt,vt){var At=ut.getItemModel(mt);_8(ut,mt,vt,t,u);var Gt=At.getModel("itemStyle").getItemStyle();null==Gt.fill&&(Gt.fill=(0,Cc.UL)(_,"color")),ut.setItemVisual(mt,{symbolKeepAspect:At.get("symbolKeepAspect"),symbolOffset:(0,y.retrieve2)(At.get("symbolOffset",!0),Be[vt?0:1]),symbolRotate:(0,y.retrieve2)(At.get("symbolRotate",!0),ze[vt?0:1]),symbolSize:(0,y.retrieve2)(At.get("symbolSize"),Ae[vt?0:1]),symbol:(0,y.retrieve2)(At.get("symbol",!0),se[vt?0:1]),style:Gt})}(0,y.isArray)(se)||(se=[se,se]),(0,y.isArray)(Ae)||(Ae=[Ae,Ae]),(0,y.isArray)(ze)||(ze=[ze,ze]),(0,y.isArray)(Be)||(Be=[Be,Be]),z.from.each(function(ut){We(B,ut,!0),We(G,ut,!1)}),te.each(function(ut){var mt=te.getItemModel(ut).getModel("lineStyle").getLineStyle();te.setItemLayout(ut,[B.getItemLayout(ut),G.getItemLayout(ut)]),null==mt.stroke&&(mt.stroke=B.getItemVisual(ut,"style").fill),te.setItemVisual(ut,{fromSymbolKeepAspect:B.getItemVisual(ut,"symbolKeepAspect"),fromSymbolOffset:B.getItemVisual(ut,"symbolOffset"),fromSymbolRotate:B.getItemVisual(ut,"symbolRotate"),fromSymbolSize:B.getItemVisual(ut,"symbolSize"),fromSymbol:B.getItemVisual(ut,"symbol"),toSymbolKeepAspect:G.getItemVisual(ut,"symbolKeepAspect"),toSymbolOffset:G.getItemVisual(ut,"symbolOffset"),toSymbolRotate:G.getItemVisual(ut,"symbolRotate"),toSymbolSize:G.getItemVisual(ut,"symbolSize"),toSymbol:G.getItemVisual(ut,"symbol"),style:mt})}),T.updateData(te),z.line.eachItemGraphicEl(function(ut,mt){ut.traverse(function(vt){(0,Hr.A)(vt).dataModel=i})}),this.markKeep(T),T.group.silent=i.get("silent")||t.get("silent")},n.type="markLine",n}(g8),b8=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.createMarkerModelFromSeries=function(t,i,l){return new n(t,i,l)},n.type="markArea",n.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(nh);var r3=(0,fr.Yf)(),i3=function(a,n,t,i){var l=t3(a,i[0]),u=t3(a,i[1]),d=l.coord,v=u.coord;d[0]=(0,y.retrieve)(d[0],-1/0),d[1]=(0,y.retrieve)(d[1],-1/0),v[0]=(0,y.retrieve)(v[0],1/0),v[1]=(0,y.retrieve)(v[1],1/0);var _=(0,y.mergeAll)([{},l,u]);return _.coord=[l.coord,u.coord],_.x0=l.x,_.y0=l.y,_.x1=u.x,_.y1=u.y,_};function a3(a){return!isNaN(a)&&!isFinite(a)}function o3(a,n,t,i){var l=1-a;return a3(n[l])&&a3(t[l])}function x5(a,n){var t=n.coord[0],i=n.coord[1];return!!(Ii(a,"cartesian2d")&&t&&i&&(o3(1,t,i)||o3(0,t,i)))||A1(a,{coord:t,x:n.x0,y:n.y0})||A1(a,{coord:i,x:n.x1,y:n.y1})}function us(a,n,t,i,l){var v,u=i.coordinateSystem,d=a.getItemModel(n),_=Xt.GM(d.get(t[0]),l.getWidth()),b=Xt.GM(d.get(t[1]),l.getHeight());if(isNaN(_)||isNaN(b)){if(i.getMarkerPosition)v=i.getMarkerPosition(a.getValues(t,n));else{var B=[T=a.get(t[0],n),z=a.get(t[1],n)];u.clampData&&u.clampData(B,B),v=u.dataToPoint(B,!0)}if(Ii(u,"cartesian2d")){var G=u.getAxis("x"),te=u.getAxis("y"),T=a.get(t[0],n),z=a.get(t[1],n);a3(T)?v[0]=G.toGlobalCoord(G.getExtent()["x0"===t[0]?0:1]):a3(z)&&(v[1]=te.toGlobalCoord(te.getExtent()["y0"===t[1]?0:1]))}isNaN(_)||(v[0]=_),isNaN(b)||(v[1]=b)}else v=[_,b];return v}var F7=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];const Yx=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.updateTransform=function(t,i,l){i.eachSeries(function(u){var d=nh.getMarkerModelFromSeries(u,"markArea");if(d){var v=d.getData();v.each(function(_){var b=(0,y.map)(F7,function(z){return us(v,_,z,u,l)});v.setItemLayout(_,b),v.getItemGraphicEl(_).setShape("points",b)})}},this)},n.prototype.renderSeries=function(t,i,l,u){var d=t.coordinateSystem,v=t.id,_=t.getData(),b=this.markerGroupMap,T=b.get(v)||b.set(v,{group:new pr.Z});this.group.add(T.group),this.markKeep(T);var z=function(a,n,t){var i,l;if(a){var d=(0,y.map)(a&&a.dimensions,function(b){var T=n.getData(),z=T.getDimensionInfo(T.mapDimension(b))||{};return(0,y.extend)((0,y.extend)({},z),{name:b,ordinalMeta:null})});l=(0,y.map)(["x0","y0","x1","y1"],function(b,T){return{name:b,type:d[T%2].type}}),i=new ji.Z(l,t)}else i=new ji.Z(l=[{name:"value",type:"float"}],t);var v=(0,y.map)(t.get("data"),(0,y.curry)(i3,n,a,t));a&&(v=(0,y.filter)(v,(0,y.curry)(x5,a)));var _=a?function(b,T,z,B){var G=b.coord[Math.floor(B/2)][B%2];return(0,rh.yQ)(G,l[B])}:function(b,T,z,B){return(0,rh.yQ)(b.value,l[B])};return i.initData(v,null,_),i.hasItemOption=!0,i}(d,t,i);i.setData(z),z.each(function(B){var G=(0,y.map)(F7,function(Gt){return us(z,B,Gt,t,u)}),te=d.getAxis("x").scale,se=d.getAxis("y").scale,Ae=te.getExtent(),ze=se.getExtent(),Be=[te.parse(z.get("x0",B)),te.parse(z.get("x1",B))],We=[se.parse(z.get("y0",B)),se.parse(z.get("y1",B))];Xt.dt(Be),Xt.dt(We),z.setItemLayout(B,{points:G,allClipped:!!(Ae[0]>Be[1]||Ae[1]<Be[0]||ze[0]>We[1]||ze[1]<We[0])});var vt=z.getItemModel(B).getModel("itemStyle").getItemStyle(),At=(0,Cc.UL)(_,"color");vt.fill||(vt.fill=At,"string"==typeof vt.fill&&(vt.fill=k.modifyAlpha(vt.fill,.4))),vt.stroke||(vt.stroke=At),z.setItemVisual(B,"style",vt)}),z.diff(r3(T).data).add(function(B){var G=z.getItemLayout(B);if(!G.allClipped){var te=new Ms.Z({shape:{points:G.points}});z.setItemGraphicEl(B,te),T.group.add(te)}}).update(function(B,G){var te=r3(T).data.getItemGraphicEl(G),se=z.getItemLayout(B);se.allClipped?te&&T.group.remove(te):(te?lr.D(te,{shape:{points:se.points}},i,B):te=new Ms.Z({shape:{points:se.points}}),z.setItemGraphicEl(B,te),T.group.add(te))}).remove(function(B){var G=r3(T).data.getItemGraphicEl(B);T.group.remove(G)}).execute(),z.eachItemGraphicEl(function(B,G){var te=z.getItemModel(G),se=z.getItemVisual(G,"style");B.useStyle(z.getItemVisual(G,"style")),(0,$n.ni)(B,(0,$n.k3)(te),{labelFetcher:i,labelDataIndex:G,defaultText:z.getName(G)||"",inheritColor:"string"==typeof se.fill?k.modifyAlpha(se.fill,1):"#000"}),(0,Xn.WO)(B,te),(0,Xn.vF)(B),(0,Hr.A)(B).dataModel=i}),r3(T).data=z,T.group.silent=i.get("silent")||t.get("silent")},n.type="markArea",n}(g8),b5=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.layoutMode={type:"box",ignoreSize:!0},t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i,l){this.mergeDefaultAndTheme(t,l),t.selected=t.selected||{},this._updateSelector(t)},n.prototype.mergeOption=function(t,i){a.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},n.prototype._updateSelector=function(t){var i=t.selector,l=this.ecModel;!0===i&&(i=t.selector=["all","inverse"]),y.isArray(i)&&y.each(i,function(u,d){y.isString(u)&&(u={type:u}),i[d]=y.merge(u,function(a,n){return"all"===n?{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])}:"inverse"===n?{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(l,u.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var i=!1,l=0;l<t.length;l++){var u=t[l].get("name");if(this.isSelected(u)){this.select(u),i=!0;break}}!i&&this.select(t[0].get("name"))}},n.prototype._updateData=function(t){var i=[],l=[];t.eachRawSeries(function(v){var b;if(l.push(v.name),v.legendVisualProvider){var z=v.legendVisualProvider.getAllNames();t.isSeriesFiltered(v)||(l=l.concat(z)),z.length?i=i.concat(z):b=!0}else b=!0;b&&(0,fr.yu)(v)&&i.push(v.name)}),this._availableNames=l;var u=this.get("data")||i,d=y.map(u,function(v){return("string"==typeof v||"number"==typeof v)&&(v={name:v}),new Yr.Z(v,this,this.ecModel)},this);this._data=d},n.prototype.getData=function(){return this._data},n.prototype.select=function(t){var i=this.option.selected;"single"===this.get("selectedMode")&&y.each(this._data,function(d){i[d.get("name")]=!1}),i[t]=!0},n.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},n.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},n.prototype.allSelect=function(){var i=this.option.selected;y.each(this._data,function(l){i[l.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var i=this.option.selected;y.each(this._data,function(l){var u=l.get("name",!0);i.hasOwnProperty(u)||(i[u]=!0),i[u]=!i[u]})},n.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&y.indexOf(this._availableNames,t)>=0},n.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(Cn.Z);var L1=y.curry,S8=y.each,l3=pr.Z;function T8(a,n,t,i){w8(a,n,t,i),t.dispatchAction({type:"legendToggleSelect",name:null!=a?a:n}),M8(a,n,t,i)}function C8(a){for(var t,n=a.getZr().storage.getDisplayList(),i=0,l=n.length;i<l&&!(t=n[i].states.emphasis);)i++;return t&&t.hoverLayer}function M8(a,n,t,i){C8(t)||t.dispatchAction({type:"highlight",seriesName:a,name:n,excludeSeriesId:i})}function w8(a,n,t,i){C8(t)||t.dispatchAction({type:"downplay",seriesName:a,name:n,excludeSeriesId:i})}const D8=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.newlineDisabled=!1,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(){this.group.add(this._contentGroup=new l3),this.group.add(this._selectorGroup=new l3),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(t,i,l){var u=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var d=t.get("align"),v=t.get("orient");(!d||"auto"===d)&&(d="right"===t.get("left")&&"vertical"===v?"right":"left");var _=t.get("selector",!0),b=t.get("selectorPosition",!0);_&&(!b||"auto"===b)&&(b="horizontal"===v?"end":"start"),this.renderInner(d,t,i,l,_,v,b);var T=t.getBoxLayoutParams(),z={width:l.getWidth(),height:l.getHeight()},B=t.get("padding"),G=Mi.ME(T,z,B),te=this.layoutInner(t,d,G,u,_,b),se=Mi.ME(y.defaults({width:te.width,height:te.height},T),z,B);this.group.x=se.x-te.x,this.group.y=se.y-te.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Vg(te,t))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(t,i,l,u,d,v,_){var b=this.getContentGroup(),T=y.createHashMap(),z=i.get("selectedMode"),B=[];l.eachRawSeries(function(G){!G.get("legendHoverLink")&&B.push(G.id)}),S8(i.getData(),function(G,te){var se=G.get("name");if(!this.newlineDisabled&&(""===se||"\n"===se)){var Ae=new l3;return Ae.newline=!0,void b.add(Ae)}var ze=l.getSeriesByName(se)[0];if(!T.get(se))if(ze){var Be=ze.getData(),We=Be.getVisual("legendLineStyle")||{},ut=Be.getVisual("legendIcon"),mt=Be.getVisual("style");this._createItem(ze,se,te,G,i,t,We,mt,ut,z).on("click",L1(T8,se,null,u,B)).on("mouseover",L1(M8,ze.name,null,u,B)).on("mouseout",L1(w8,ze.name,null,u,B)),T.set(se,!0)}else l.eachRawSeries(function(At){if(!T.get(se)&&At.legendVisualProvider){var Gt=At.legendVisualProvider;if(!Gt.containName(se))return;var on=Gt.indexOfName(se),bn=Gt.getItemVisual(on,"style"),yn=Gt.getItemVisual(on,"legendIcon"),On=(0,k.parse)(bn.fill);On&&0===On[3]&&(On[3]=.2,bn.fill=(0,k.stringify)(On,"rgba")),this._createItem(At,se,te,G,i,t,{},bn,yn,z).on("click",L1(T8,null,se,u,B)).on("mouseover",L1(M8,null,se,u,B)).on("mouseout",L1(w8,null,se,u,B)),T.set(se,!0)}},this)},this),d&&this._createSelector(d,i,u,v,_)},n.prototype._createSelector=function(t,i,l,u,d){var v=this.getSelectorGroup();S8(t,function(b){var T=b.type,z=new di.ZP({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){l.dispatchAction({type:"all"===T?"legendAllSelect":"legendInverseSelect"})}});v.add(z);var B=i.getModel("selectorLabel"),G=i.getModel(["emphasis","selectorLabel"]);(0,$n.ni)(z,{normal:B,emphasis:G},{defaultText:b.title}),(0,Xn.vF)(z)})},n.prototype._createItem=function(t,i,l,u,d,v,_,b,T,z){var B=t.visualDrawType,G=d.get("itemWidth"),te=d.get("itemHeight"),se=d.isSelected(i),Ae=u.get("symbolRotate"),ze=u.get("symbolKeepAspect"),Be=u.get("icon"),We=function(a,n,t,i,l,u){function d(te,se){"auto"===te.lineWidth&&(te.lineWidth=se.lineWidth>0?2:0),S8(te,function(Ae,ze){"inherit"===te[ze]&&(te[ze]=se[ze])})}var _=n.getModel("itemStyle").getItemStyle(),b=0===a.lastIndexOf("empty",0)?"fill":"stroke";_.decal=i.decal,"inherit"===_.fill&&(_.fill=i[l]),"inherit"===_.stroke&&(_.stroke=i[b]),"inherit"===_.opacity&&(_.opacity=("fill"===l?i:t).opacity),d(_,i);var T=n.getModel("lineStyle"),z=T.getLineStyle();if(d(z,t),"auto"===_.fill&&(_.fill=i.fill),"auto"===_.stroke&&(_.stroke=i.fill),"auto"===z.stroke&&(z.stroke=i.fill),!u){var B=n.get("inactiveBorderWidth");_.lineWidth="auto"===B?i.lineWidth>0&&_[b]?2:0:_.lineWidth,_.fill=n.get("inactiveColor"),_.stroke=n.get("inactiveBorderColor"),z.stroke=T.get("inactiveColor"),z.lineWidth=T.get("inactiveWidth")}return{itemStyle:_,lineStyle:z}}(T=Be||T||"roundRect",u,_,b,B,se),ut=new l3,mt=u.getModel("textStyle");if("function"!=typeof t.getLegendIcon||Be&&"inherit"!==Be){var vt="inherit"===Be&&t.getData().getVisual("symbol")?"inherit"===Ae?t.getData().getVisual("symbolRotate"):Ae:0;ut.add(function(a){var n=a.icon||"roundRect",t=(0,dr.th)(n,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return t.setStyle(a.itemStyle),t.rotation=(a.iconRotate||0)*Math.PI/180,t.setOrigin([a.itemWidth/2,a.itemHeight/2]),n.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:G,itemHeight:te,icon:T,iconRotate:vt,itemStyle:We.itemStyle,lineStyle:We.lineStyle,symbolKeepAspect:ze}))}else ut.add(t.getLegendIcon({itemWidth:G,itemHeight:te,icon:T,iconRotate:Ae,itemStyle:We.itemStyle,lineStyle:We.lineStyle,symbolKeepAspect:ze}));var At="left"===v?G+5:-5,Gt=v,on=d.get("formatter"),bn=i;"string"==typeof on&&on?bn=on.replace("{name}",null!=i?i:""):"function"==typeof on&&(bn=on(i));var yn=u.get("inactiveColor");ut.add(new di.ZP({style:(0,$n.Lr)(mt,{text:bn,x:At,y:te/2,fill:se?mt.getTextColor():yn,align:Gt,verticalAlign:"middle"})}));var On=new ri.Z({shape:ut.getBoundingRect(),invisible:!0}),kn=u.getModel("tooltip");return kn.get("show")&&ln.setTooltipConfig({el:On,componentModel:d,itemName:i,itemTooltipOption:kn.option}),ut.add(On),ut.eachChild(function(Bn){Bn.silent=!0}),On.silent=!z,this.getContentGroup().add(ut),(0,Xn.vF)(ut),ut.__legendDataIndex=l,ut},n.prototype.layoutInner=function(t,i,l,u,d,v){var _=this.getContentGroup(),b=this.getSelectorGroup();Mi.BZ(t.get("orient"),_,t.get("itemGap"),l.width,l.height);var T=_.getBoundingRect(),z=[-T.x,-T.y];if(b.markRedraw(),_.markRedraw(),d){Mi.BZ("horizontal",b,t.get("selectorItemGap",!0));var B=b.getBoundingRect(),G=[-B.x,-B.y],te=t.get("selectorButtonGap",!0),se=t.getOrient().index,Ae=0===se?"width":"height",ze=0===se?"height":"width",Be=0===se?"y":"x";"end"===v?G[se]+=T[Ae]+te:z[se]+=B[Ae]+te,G[1-se]+=T[ze]/2-B[ze]/2,b.x=G[0],b.y=G[1],_.x=z[0],_.y=z[1];var We={x:0,y:0};return We[Ae]=T[Ae]+te+B[Ae],We[ze]=Math.max(T[ze],B[ze]),We[Be]=Math.min(0,B[Be]+G[1-se]),We}return _.x=z[0],_.y=z[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(qt.Z);function c3(a){var n=a.findComponents({mainType:"legend"});n&&n.length&&a.filterSeries(function(t){for(var i=0;i<n.length;i++)if(!n[i].isSelected(t.name))return!1;return!0})}function Gv(a,n,t){var u,i={},l="toggleSelected"===a;return t.eachComponent("legend",function(d){l&&null!=u?d[u?"select":"unSelect"](n.name):"allSelect"===a||"inverseSelect"===a?d[a]():(d[a](n.name),u=d.isSelected(n.name));var v=d.getData();(0,y.each)(v,function(_){var b=_.get("name");if("\n"!==b&&""!==b){var T=d.isSelected(b);i[b]=i.hasOwnProperty(b)?i[b]&&T:T}})}),"allSelect"===a||"inverseSelect"===a?{selected:i}:{name:n.name,selected:i}}function Wv(a){a.registerComponentModel(b5),a.registerComponentView(D8),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,c3),a.registerSubTypeDefaulter("legend",function(){return"plain"}),function(a){a.registerAction("legendToggleSelect","legendselectchanged",(0,y.curry)(Gv,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",(0,y.curry)(Gv,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",(0,y.curry)(Gv,"inverseSelect")),a.registerAction("legendSelect","legendselected",(0,y.curry)(Gv,"select")),a.registerAction("legendUnSelect","legendunselected",(0,y.curry)(Gv,"unSelect"))}(a)}function C5(a,n,t){var l=[1,1];l[a.getOrient().index]=0,(0,Mi.dt)(n,t,{type:"box",ignoreSize:!!l})}const G7=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},n.prototype.init=function(t,i,l){var u=(0,Mi.tE)(t);a.prototype.init.call(this,t,i,l),C5(this,t,u)},n.prototype.mergeOption=function(t,i){a.prototype.mergeOption.call(this,t,i),C5(this,this.option,t)},n.type="legend.scroll",n.defaultOption=(0,_a.ZL)(b5.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(b5);var M5=pr.Z,w5=["width","height"],E8=["x","y"];const Z7=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.newlineDisabled=!0,t._currentIndex=0,t}return(0,Zt.ZT)(n,a),n.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new M5),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new M5)},n.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(t,i,l,u,d,v,_){var b=this;a.prototype.renderInner.call(this,t,i,l,u,d,v,_);var T=this._controllerGroup,z=i.get("pageIconSize",!0),B=y.isArray(z)?z:[z,z];te("pagePrev",0);var G=i.getModel("pageTextStyle");function te(se,Ae){var ze=se+"DataIndex",Be=ln.createIcon(i.get("pageIcons",!0)[i.getOrient().name][Ae],{onclick:y.bind(b._pageGo,b,ze,i,u)},{x:-B[0]/2,y:-B[1]/2,width:B[0],height:B[1]});Be.name=se,T.add(Be)}T.add(new di.ZP({name:"pageText",style:{text:"xx/xx",fill:G.getTextColor(),font:G.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),te("pageNext",1)},n.prototype.layoutInner=function(t,i,l,u,d,v){var _=this.getSelectorGroup(),b=t.getOrient().index,T=w5[b],z=E8[b],B=w5[1-b],G=E8[1-b];d&&Mi.BZ("horizontal",_,t.get("selectorItemGap",!0));var te=t.get("selectorButtonGap",!0),se=_.getBoundingRect(),Ae=[-se.x,-se.y],ze=y.clone(l);d&&(ze[T]=l[T]-se[T]-te);var Be=this._layoutContentAndController(t,u,ze,b,T,B,G,z);if(d){if("end"===v)Ae[b]+=Be[T]+te;else{var We=se[T]+te;Ae[b]-=We,Be[z]-=We}Be[T]+=se[T]+te,Ae[1-b]+=Be[G]+Be[B]/2-se[B]/2,Be[B]=Math.max(Be[B],se[B]),Be[G]=Math.min(Be[G],se[G]+Ae[1-b]),_.x=Ae[0],_.y=Ae[1],_.markRedraw()}return Be},n.prototype._layoutContentAndController=function(t,i,l,u,d,v,_,b){var T=this.getContentGroup(),z=this._containerGroup,B=this._controllerGroup;Mi.BZ(t.get("orient"),T,t.get("itemGap"),u?l.width:null,u?null:l.height),Mi.BZ("horizontal",B,t.get("pageButtonItemGap",!0));var G=T.getBoundingRect(),te=B.getBoundingRect(),se=this._showController=G[d]>l[d],Ae=[-G.x,-G.y];i||(Ae[u]=T[b]);var ze=[0,0],Be=[-te.x,-te.y],We=y.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));se&&("end"===t.get("pageButtonPosition",!0)?Be[u]+=l[d]-te[d]:ze[u]+=te[d]+We),Be[1-u]+=G[v]/2-te[v]/2,T.setPosition(Ae),z.setPosition(ze),B.setPosition(Be);var mt={x:0,y:0};if(mt[d]=se?l[d]:G[d],mt[v]=Math.max(G[v],te[v]),mt[_]=Math.min(0,te[_]+Be[1-u]),z.__rectSize=l[d],se){var vt={x:0,y:0};vt[d]=Math.max(l[d]-te[d]-We,0),vt[v]=mt[v],z.setClipPath(new ri.Z({shape:vt})),z.__rectSize=vt[d]}else B.eachChild(function(Gt){Gt.attr({invisible:!0,silent:!0})});var At=this._getPageInfo(t);return null!=At.pageIndex&&lr.D(T,{x:At.contentPosition[0],y:At.contentPosition[1]},se?t:null),this._updatePageInfoView(t,At),mt},n.prototype._pageGo=function(t,i,l){var u=this._getPageInfo(i)[t];null!=u&&l.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:i.id})},n.prototype._updatePageInfoView=function(t,i){var l=this._controllerGroup;y.each(["pagePrev","pageNext"],function(T){var B=null!=i[T+"DataIndex"],G=l.childOfName(T);G&&(G.setStyle("fill",t.get(B?"pageIconColor":"pageIconInactiveColor",!0)),G.cursor=B?"pointer":"default")});var u=l.childOfName("pageText"),d=t.get("pageFormatter"),v=i.pageIndex,_=null!=v?v+1:0,b=i.pageCount;u&&d&&u.setStyle("text",y.isString(d)?d.replace("{current}",null==_?"":_+"").replace("{total}",null==b?"":b+""):d({current:_,total:b}))},n.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),l=this.getContentGroup(),u=this._containerGroup.__rectSize,d=t.getOrient().index,v=w5[d],_=E8[d],b=this._findTargetItemIndex(i),T=l.children(),z=T[b],B=T.length,G=B?1:0,te={contentPosition:[l.x,l.y],pageCount:G,pageIndex:G-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!z)return te;var se=ut(z);te.contentPosition[d]=-se.s;for(var Ae=b+1,ze=se,Be=se,We=null;Ae<=B;++Ae)(!(We=ut(T[Ae]))&&Be.e>ze.s+u||We&&!mt(We,ze.s))&&(ze=Be.i>ze.i?Be:We)&&(null==te.pageNextDataIndex&&(te.pageNextDataIndex=ze.i),++te.pageCount),Be=We;for(Ae=b-1,ze=se,Be=se,We=null;Ae>=-1;--Ae)(!(We=ut(T[Ae]))||!mt(Be,We.s))&&ze.i<Be.i&&(Be=ze,null==te.pagePrevDataIndex&&(te.pagePrevDataIndex=ze.i),++te.pageCount,++te.pageIndex),ze=We;return te;function ut(vt){if(vt){var At=vt.getBoundingRect(),Gt=At[_]+vt[_];return{s:Gt,e:Gt+At[v],i:vt.__legendDataIndex}}}function mt(vt,At){return vt.e>=At&&vt.s<=At+u}},n.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(d,v){var _=d.__legendDataIndex;null==u&&null!=_&&(u=v),_===t&&(i=v)}),null!=i?i:u):0;var i,u},n.type="legend.scroll",n}(D8);function K7(a){(0,m.D)(Wv),a.registerComponentModel(G7),a.registerComponentView(Z7),function(a){a.registerAction("legendScroll","legendscroll",function(n,t){var i=n.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:n},function(l){l.setScrollDataIndex(i)})})}(a)}const Q7=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="dataZoom.inside",n.defaultOption=(0,_a.ZL)(g0.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(g0);var x0=(0,fr.Yf)();function u3(a,n,t){x0(a).coordSysRecordMap.each(function(i){var l=i.dataZoomInfoMap.get(n.uid);l&&(l.getRange=t)})}function b0(a,n){if(n){a.removeKey(n.model.uid);var t=n.controller;t&&t.dispose()}}function cd(a,n){a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function S0(a,n,t,i){return a.coordinateSystem.containPoint([t,i])}var ua=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return(0,Zt.ZT)(n,a),n.prototype.render=function(t,i,l){a.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),u3(l,t,{pan:(0,y.bind)(h3.pan,this),zoom:(0,y.bind)(h3.zoom,this),scrollMove:(0,y.bind)(h3.scrollMove,this)}))},n.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){(function(a,n){for(var t=x0(a).coordSysRecordMap,i=t.keys(),l=0;l<i.length;l++){var d=t.get(i[l]),v=d.dataZoomInfoMap;if(v){var _=n.uid;v.get(_)&&(v.removeKey(_),v.keys().length||b0(t,d))}}})(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(kg),h3={zoom:function(a,n,t,i){var l=this.range,u=l.slice(),d=a.axisModels[0];if(d){var v=A8[n](null,[i.originX,i.originY],d,t,a),_=(v.signal>0?v.pixelStart+v.pixelLength-v.pixel:v.pixel-v.pixelStart)/v.pixelLength*(u[1]-u[0])+u[0],b=Math.max(1/i.scale,0);u[0]=(u[0]-_)*b+_,u[1]=(u[1]-_)*b+_;var T=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Bl(0,u,[0,100],0,T.minSpan,T.maxSpan),this.range=u,l[0]!==u[0]||l[1]!==u[1])return u}},pan:D5(function(a,n,t,i,l,u){var d=A8[i]([u.oldX,u.oldY],[u.newX,u.newY],n,l,t);return d.signal*(a[1]-a[0])*d.pixel/d.pixelLength}),scrollMove:D5(function(a,n,t,i,l,u){return A8[i]([0,0],[u.scrollDelta,u.scrollDelta],n,l,t).signal*(a[1]-a[0])*u.scrollDelta})};function D5(a){return function(n,t,i,l){var u=this.range,d=u.slice(),v=n.axisModels[0];if(v&&(Bl(a(d,v,n,t,i,l),d,[0,100],"all"),this.range=d,u[0]!==d[0]||u[1]!==d[1]))return d}}var A8={grid:function(a,n,t,i,l){var u=t.axis,d={},v=l.model.coordinateSystem.getRect();return a=a||[0,0],"x"===u.dim?(d.pixel=n[0]-a[0],d.pixelLength=v.width,d.pixelStart=v.x,d.signal=u.inverse?1:-1):(d.pixel=n[1]-a[1],d.pixelLength=v.height,d.pixelStart=v.y,d.signal=u.inverse?-1:1),d},polar:function(a,n,t,i,l){var u=t.axis,d={},v=l.model.coordinateSystem,_=v.getRadiusAxis().getExtent(),b=v.getAngleAxis().getExtent();return a=a?v.pointToCoord(a):[0,0],n=v.pointToCoord(n),"radiusAxis"===t.mainType?(d.pixel=n[0]-a[0],d.pixelLength=_[1]-_[0],d.pixelStart=_[0],d.signal=u.inverse?1:-1):(d.pixel=n[1]-a[1],d.pixelLength=b[1]-b[0],d.pixelStart=b[0],d.signal=u.inverse?-1:1),d},singleAxis:function(a,n,t,i,l){var u=t.axis,d=l.model.coordinateSystem.getRect(),v={};return a=a||[0,0],"horizontal"===u.orient?(v.pixel=n[0]-a[0],v.pixelLength=d.width,v.pixelStart=d.x,v.signal=u.inverse?1:-1):(v.pixel=n[1]-a[1],v.pixelLength=d.height,v.pixelStart=d.y,v.signal=u.inverse?-1:1),v}};const E5=ua;function A5(a){Bg(a),a.registerComponentModel(Q7),a.registerComponentView(E5),function(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(n,t){var i=x0(t),l=i.coordSysRecordMap||(i.coordSysRecordMap=(0,y.createHashMap)());l.each(function(u){u.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function(u){var d=Fg(u);(0,y.each)(d.infoList,function(v){var _=v.model.uid,b=l.get(_)||l.set(_,function(a,n){var t={model:n,containsPoint:(0,y.curry)(S0,n),dispatchAction:(0,y.curry)(cd,a),dataZoomInfoMap:null,controller:null},i=t.controller=new Ki(a.getZr());return(0,y.each)(["pan","zoom","scrollMove"],function(l){i.on(l,function(u){var d=[];t.dataZoomInfoMap.each(function(v){if(u.isAvailableBehavior(v.model.option)){var _=(v.getRange||{})[l],b=_&&_(v.dzReferCoordSysInfo,t.model.mainType,t.controller,u);!v.model.get("disabled",!0)&&b&&d.push({dataZoomId:v.model.id,start:b[0],end:b[1]})}}),d.length&&t.dispatchAction(d)})}),t}(t,v.model));(b.dataZoomInfoMap||(b.dataZoomInfoMap=(0,y.createHashMap)())).set(u.uid,{dzReferCoordSysInfo:v,model:u,getRange:null})})}),l.each(function(u){var v,d=u.controller,_=u.dataZoomInfoMap;if(_){var b=_.keys()[0];null!=b&&(v=_.get(b))}if(v){var T=function(a){var n,t="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},l=!0;return a.each(function(u){var d=u.model,v=!d.get("disabled",!0)&&(!d.get("zoomLock",!0)||"move");i[t+v]>i[t+n]&&(n=v),l=l&&d.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!l}}}(_);d.enable(T.controlType,T.opt),d.setPointerChecker(u.containsPoint),zr.T9(u,"dispatchAction",v.model.get("throttle",!0),"fixRate")}else b0(l,u)})})}(a)}const jl=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=(0,_a.ZL)(g0.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(g0);var z1=ri.Z,jv="horizontal",z5="vertical",Ro=["line","bar","candlestick","scatter"],wc={easing:"cubicOut",duration:100,delay:0};function P8(a){return"vertical"===a?"ns-resize":"ew-resize"}const L8=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t._displayables={},t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i){this.api=i,this._onBrush=(0,y.bind)(this._onBrush,this),this._onBrushEnd=(0,y.bind)(this._onBrushEnd,this)},n.prototype.render=function(t,i,l,u){if(a.prototype.render.apply(this,arguments),zr.T9(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show"))return t.noTarget()?(this._clear(),void this.group.removeAll()):((!u||"dataZoom"!==u.type||u.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},n.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){zr.ZH(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new pr.Z;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},n.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,u=t.get("brushSelect")?7:0,d=this._findCoordRect(),v={width:i.getWidth(),height:i.getHeight()},_=this._orient===jv?{right:v.width-d.x-d.width,top:v.height-30-7-u,width:d.width,height:30}:{right:7,top:d.y,width:30,height:d.height},b=Mi.tE(t.option);(0,y.each)(["right","top","width","height"],function(z){"ph"===b[z]&&(b[z]=_[z])});var T=Mi.ME(b,v);this._location={x:T.x,y:T.y},this._size=[T.width,T.height],this._orient===z5&&this._size.reverse()},n.prototype._positionGroup=function(){var t=this.group,i=this._location,l=this._orient,u=this.dataZoomModel.getFirstTargetAxisModel(),d=u&&u.get("inverse"),v=this._displayables.sliderGroup,_=(this._dataShadowInfo||{}).otherAxisInverse;v.attr(l!==jv||d?l===jv&&d?{scaleY:_?1:-1,scaleX:-1}:l!==z5||d?{scaleY:_?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:_?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:_?1:-1,scaleX:1});var b=t.getBoundingRect([v]);t.x=i.x-b.x,t.y=i.y-b.y,t.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,l=this._displayables.sliderGroup,u=t.get("brushSelect");l.add(new z1({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var d=new z1({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:(0,y.bind)(this._onClickPanel,this)}),v=this.api.getZr();u?(d.on("mousedown",this._onBrushStart,this),d.cursor="crosshair",v.on("mousemove",this._onBrush),v.on("mouseup",this._onBrushEnd)):(v.off("mousemove",this._onBrush),v.off("mouseup",this._onBrushEnd)),l.add(d)},n.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var i=this._size,l=t.series,u=l.getRawData(),d=l.getShadowDim?l.getShadowDim():t.otherDim;if(null!=d){var v=u.getDataExtent(d),_=.3*(v[1]-v[0]);v=[v[0]-_,v[1]+_];var Ae,b=[0,i[1]],z=[[i[0],0],[0,0]],B=[],G=i[0]/(u.count()-1),te=0,se=Math.round(u.count()/i[0]);u.each([d],function(mt,vt){if(se>0&&vt%se)te+=G;else{var At=null==mt||isNaN(mt)||""===mt,Gt=At?0:(0,Xt.NU)(mt,v,b,!0);At&&!Ae&&vt?(z.push([z[z.length-1][0],0]),B.push([B[B.length-1][0],0])):!At&&Ae&&(z.push([te,0]),B.push([te,0])),z.push([te,Gt]),B.push([te,Gt]),te+=G,Ae=At}});for(var vt,At,Gt,on,ze=this.dataZoomModel,We=0;We<3;We++){var ut=(vt=void 0,At=void 0,void 0,void 0,vt=ze.getModel(1===We?"selectedDataBackground":"dataBackground"),At=new pr.Z,Gt=new Ms.Z({shape:{points:z},segmentIgnoreThreshold:1,style:vt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),on=new Ht.Z({shape:{points:B},segmentIgnoreThreshold:1,style:vt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),At.add(Gt),At.add(on),At);this._displayables.sliderGroup.add(ut),this._displayables.dataShadowSegs.push(ut)}}}},n.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(!1!==i){var l,u=this.ecModel;return t.eachTargetAxis(function(d,v){var _=t.getAxisProxy(d,v).getTargetSeriesModels();(0,y.each)(_,function(b){if(!(l||!0!==i&&(0,y.indexOf)(Ro,b.get("type"))<0)){var B,T=u.getComponent(Zl(d),v).axis,z=function(a){return{x:"y",y:"x",radius:"angle",angle:"radius"}[a]}(d),G=b.coordinateSystem;null!=z&&G.getOtherAxis&&(B=G.getOtherAxis(T).inverse),z=b.getData().mapDimension(z),l={thisAxis:T,series:b,thisDim:d,otherDim:z,otherAxisInverse:B}}},this)},this),l}},n.prototype._renderHandle=function(){var t=this.group,i=this._displayables,l=i.handles=[null,null],u=i.handleLabels=[null,null],d=this._displayables.sliderGroup,v=this._size,_=this.dataZoomModel,b=this.api,T=_.get("borderRadius")||0,z=_.get("brushSelect"),B=i.filler=new z1({silent:z,style:{fill:_.get("fillerColor")},textConfig:{position:"inside"}});d.add(B),d.add(new z1({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:v[0],height:v[1],r:T},style:{stroke:_.get("dataBackgroundColor")||_.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),(0,y.each)([0,1],function(We){var ut=_.get("handleIcon");!dr.Pw[ut]&&ut.indexOf("path://")<0&&ut.indexOf("image://")<0&&(ut="path://"+ut);var mt=(0,dr.th)(ut,-1,0,2,2,null,!0);mt.attr({cursor:P8(this._orient),draggable:!0,drift:(0,y.bind)(this._onDragMove,this,We),ondragend:(0,y.bind)(this._onDragEnd,this),onmouseover:(0,y.bind)(this._showDataInfo,this,!0),onmouseout:(0,y.bind)(this._showDataInfo,this,!1),z2:5});var vt=mt.getBoundingRect(),At=_.get("handleSize");this._handleHeight=(0,Xt.GM)(At,this._size[1]),this._handleWidth=vt.width/vt.height*this._handleHeight,mt.setStyle(_.getModel("handleStyle").getItemStyle()),mt.style.strokeNoScale=!0,mt.rectHover=!0,mt.ensureState("emphasis").style=_.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,Xn.vF)(mt);var Gt=_.get("handleColor");null!=Gt&&(mt.style.fill=Gt),d.add(l[We]=mt);var on=_.getModel("textStyle");t.add(u[We]=new di.ZP({silent:!0,invisible:!0,style:(0,$n.Lr)(on,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:on.getTextColor(),font:on.getFont()}),z2:10}))},this);var G=B;if(z){var te=(0,Xt.GM)(_.get("moveHandleSize"),v[1]),se=i.moveHandle=new ri.Z({style:_.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:v[1]-.5,height:te}}),Ae=.8*te,ze=i.moveHandleIcon=(0,dr.th)(_.get("moveHandleIcon"),-Ae/2,-Ae/2,Ae,Ae,"#fff",!0);ze.silent=!0,ze.y=v[1]+te/2-.5,se.ensureState("emphasis").style=_.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var Be=Math.min(v[1]/2,Math.max(te,10));(G=i.moveZone=new ri.Z({invisible:!0,shape:{y:v[1]-Be,height:te+Be}})).on("mouseover",function(){b.enterEmphasis(se)}).on("mouseout",function(){b.leaveEmphasis(se)}),d.add(se),d.add(ze),d.add(G)}G.attr({draggable:!0,cursor:P8(this._orient),drift:(0,y.bind)(this._onDragMove,this,"all"),ondragstart:(0,y.bind)(this._showDataInfo,this,!0),ondragend:(0,y.bind)(this._onDragEnd,this),onmouseover:(0,y.bind)(this._showDataInfo,this,!0),onmouseout:(0,y.bind)(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[(0,Xt.NU)(t[0],[0,100],i,!0),(0,Xt.NU)(t[1],[0,100],i,!0)]},n.prototype._updateInterval=function(t,i){var l=this.dataZoomModel,u=this._handleEnds,d=this._getViewExtent(),v=l.findRepresentativeAxisProxy().getMinMaxSpan(),_=[0,100];Bl(i,u,d,l.get("zoomLock")?"all":t,null!=v.minSpan?(0,Xt.NU)(v.minSpan,_,d,!0):null,null!=v.maxSpan?(0,Xt.NU)(v.maxSpan,_,d,!0):null);var b=this._range,T=this._range=(0,Xt.dt)([(0,Xt.NU)(u[0],d,_,!0),(0,Xt.NU)(u[1],d,_,!0)]);return!b||b[0]!==T[0]||b[1]!==T[1]},n.prototype._updateView=function(t){var i=this._displayables,l=this._handleEnds,u=(0,Xt.dt)(l.slice()),d=this._size;(0,y.each)([0,1],function(G){var se=this._handleHeight;i.handles[G].attr({scaleX:se/2,scaleY:se/2,x:l[G]+(G?-1:1),y:d[1]/2-se/2})},this),i.filler.setShape({x:u[0],y:0,width:u[1]-u[0],height:d[1]});var v={x:u[0],width:u[1]-u[0]};i.moveHandle&&(i.moveHandle.setShape(v),i.moveZone.setShape(v),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",v.x+v.width/2));for(var _=i.dataShadowSegs,b=[0,u[0],u[1],d[0]],T=0;T<_.length;T++){var z=_[T],B=z.getClipPath();B||(B=new ri.Z,z.setClipPath(B)),B.setShape({x:b[T],y:0,width:b[T+1]-b[T],height:d[1]})}this._updateDataInfo(t)},n.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,l=this._displayables,u=l.handleLabels,d=this._orient,v=["",""];if(i.get("showDetail")){var _=i.findRepresentativeAxisProxy();if(_){var b=_.getAxisModel().axis,T=this._range,z=t?_.calculateDataWindow({start:T[0],end:T[1]}).valueWindow:_.getDataValueWindow();v=[this._formatLabel(z[0],b),this._formatLabel(z[1],b)]}}var B=(0,Xt.dt)(this._handleEnds.slice());function G(te){var se=ln.getTransform(l.handles[te].parent,this.group),Ae=ln.transformDirection(0===te?"right":"left",se),ze=this._handleWidth/2+5,Be=ln.applyTransform([B[te]+(0===te?-ze:ze),this._size[1]/2],se);u[te].setStyle({x:Be[0],y:Be[1],verticalAlign:d===jv?"middle":Ae,align:d===jv?Ae:"center",text:v[te]})}G.call(this,0),G.call(this,1)},n.prototype._formatLabel=function(t,i){var l=this.dataZoomModel,u=l.get("labelFormatter"),d=l.get("labelPrecision");(null==d||"auto"===d)&&(d=i.getPixelPrecision());var v=null==t||isNaN(t)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(d,20));return(0,y.isFunction)(u)?u(t,v):(0,y.isString)(u)?u.replace("{value}",v):v},n.prototype._showDataInfo=function(t){var i=this._displayables,l=i.handleLabels;l[0].attr("invisible",!(t=this._dragging||t)),l[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},n.prototype._onDragMove=function(t,i,l,u){this._dragging=!0,Ns.sT(u.event);var d=this._displayables.sliderGroup.getLocalTransform(),v=ln.applyTransform([i,l],d,!0),_=this._updateInterval(t,v[0]),b=this.dataZoomModel.get("realtime");this._updateView(!b),_&&b&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(t){var i=this._size,l=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(l[0]<0||l[0]>i[0]||l[1]<0||l[1]>i[1])){var u=this._handleEnds,v=this._updateInterval("all",l[0]-(u[0]+u[1])/2);this._updateView(),v&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(t){this._brushStart=new hn.Z(t.offsetX,t.offsetY),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var l=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(l.width)<5)){var d=this._getViewExtent(),v=[0,100];this._range=(0,Xt.dt)([(0,Xt.NU)(l.x,d,v,!0),(0,Xt.NU)(l.x+l.width,d,v,!0)]),this._handleEnds=[l.x,l.x+l.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(t){this._brushing&&(Ns.sT(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},n.prototype._updateBrushRect=function(t,i){var l=this._displayables,d=l.brushRect;d||(d=l.brushRect=new z1({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),l.sliderGroup.add(d)),d.attr("ignore",!1);var v=this._brushStart,_=this._displayables.sliderGroup,b=_.transformCoordToLocal(t,i),T=_.transformCoordToLocal(v.x,v.y),z=this._size;b[0]=Math.max(Math.min(z[0],b[0]),0),d.setShape({x:T[0],y:0,width:b[0]-T[0],height:z[1]})},n.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?wc:null,start:i[0],end:i[1]})},n.prototype._findCoordRect=function(){var t,i=Fg(this.dataZoomModel).infoList;if(!t&&i.length){var l=i[0].model.coordinateSystem;t=l.getRect&&l.getRect()}if(!t){var u=this.api.getWidth(),d=this.api.getHeight();t={x:.2*u,y:.2*d,width:.6*u,height:.6*d}}return t},n.type="dataZoom.slider",n}(kg);function O1(a){a.registerComponentModel(jl),a.registerComponentView(L8),Bg(a)}var q7={get:function(a,n,t){var i=y.clone((I1[a]||{})[n]);return t&&y.isArray(i)?i[i.length-1]:i}},I1={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const I5=q7;var z8=Ho.mapVisual,O8=Ho.eachVisual,$v=y.isArray,f3=y.each,R5=Xt.dt,T0=Xt.NU;const R1=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i,l){this.mergeDefaultAndTheme(t,l)},n.prototype.optionUpdated=function(t,i){var l=this.option;qo.Z.canvasSupported||(l.realtime=!1),!i&&a7(l,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(t){var i=this.stateList;t=y.bind(t,this),this.controllerVisuals=qm(this.option.controller,i,t),this.targetVisuals=qm(this.option.target,i,t)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,i=[];return null==t||"all"===t?this.ecModel.eachSeries(function(l,u){i.push(u)}):i=fr.kF(t),i},n.prototype.eachTargetSeries=function(t,i){y.each(this.getTargetSeriesIndices(),function(l){var u=this.ecModel.getSeriesByIndex(l);u&&t.call(i,u)},this)},n.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(l){l===t&&(i=!0)}),i},n.prototype.formatValueText=function(t,i,l){var b,u=this.option,d=u.precision,v=this.dataBound,_=u.formatter;l=l||["<",">"],y.isArray(t)&&(t=t.slice(),b=!0);var T=i?t:b?[z(t[0]),z(t[1])]:z(t);return y.isString(_)?_.replace("{value}",b?T[0]:T).replace("{value2}",b?T[1]:T):y.isFunction(_)?b?_(t[0],t[1]):_(t):b?t[0]===v[0]?l[0]+" "+T[1]:t[1]===v[1]?l[1]+" "+T[0]:T[0]+" - "+T[1]:T;function z(B){return B===v[0]?"min":B===v[1]?"max":(+B).toFixed(Math.min(d,20))}},n.prototype.resetExtent=function(){var t=this.option,i=R5([t.min,t.max]);this._dataExtent=i},n.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(null!=i)return t.getDimensionIndex(i);for(var l=t.dimensions,u=l.length-1;u>=0;u--){var v=t.getDimensionInfo(l[u]);if(!v.isCalculationCoord)return v.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,l={inRange:i.inRange,outOfRange:i.outOfRange},u=i.target||(i.target={}),d=i.controller||(i.controller={});y.merge(u,l),y.merge(d,l);var v=this.isCategory();function _(z){$v(i.color)&&!z.inRange&&(z.inRange={color:i.color.slice().reverse()}),z.inRange=z.inRange||{color:t.get("gradientColor")}}_.call(this,u),_.call(this,d),function(z,B,G){var te=z[B],se=z[G];te&&!se&&(se=z[G]={},f3(te,function(Ae,ze){if(Ho.isValidType(ze)){var Be=I5.get(ze,"inactive",v);null!=Be&&(se[ze]=Be,"color"===ze&&!se.hasOwnProperty("opacity")&&!se.hasOwnProperty("colorAlpha")&&(se.opacity=[0,0]))}}))}.call(this,u,"inRange","outOfRange"),function(z){var B=(z.inRange||{}).symbol||(z.outOfRange||{}).symbol,G=(z.inRange||{}).symbolSize||(z.outOfRange||{}).symbolSize,te=this.get("inactiveColor"),Ae=this.getItemSymbol()||"roundRect";f3(this.stateList,function(ze){var Be=this.itemSize,We=z[ze];We||(We=z[ze]={color:v?te:[te]}),null==We.symbol&&(We.symbol=B&&y.clone(B)||(v?Ae:[Ae])),null==We.symbolSize&&(We.symbolSize=G&&y.clone(G)||(v?Be[0]:[Be[0],Be[0]])),We.symbol=z8(We.symbol,function(vt){return"none"===vt?Ae:vt});var ut=We.symbolSize;if(null!=ut){var mt=-1/0;O8(ut,function(vt){vt>mt&&(mt=vt)}),We.symbolSize=z8(ut,function(vt){return T0(vt,[0,mt],[0,Be[0]],!0)})}},this)}.call(this,d)},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(t){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(t){return null},n.prototype.getVisualMeta=function(t){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(Cn.Z);var I8=[20,140];function R8(a,n,t){if(t[0]===t[1])return t.slice();for(var l=(t[1]-t[0])/200,u=t[0],d=[],v=0;v<=200&&u<t[1];v++)d.push(u),u+=l;return d.push(t[1]),d}const v3=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.optionUpdated=function(t,i){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(l){l.mappingMethod="linear",l.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=I8[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=I8[1])},n.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):y.isArray(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},n.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),y.each(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},n.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},n.prototype.getSelected=function(){var t=this.getExtent(),i=Xt.dt((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},n.prototype.getValueState=function(t){var i=this.option.range,l=this.getExtent();return(i[0]<=l[0]||i[0]<=t)&&(i[1]>=l[1]||t<=i[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(l){var u=[],d=l.getData();d.each(this.getDataDimensionIndex(d),function(v,_){t[0]<=v&&v<=t[1]&&u.push(_)},this),i.push({seriesId:l.id,dataIndex:u})},this),i},n.prototype.getVisualMeta=function(t){var i=R8(0,0,this.getExtent()),l=R8(0,0,this.option.range.slice()),u=[];function d(G,te){u.push({value:G,color:t(G,te)})}for(var v=0,_=0,b=l.length,T=i.length;_<T&&(!l.length||i[_]<=l[0]);_++)i[_]<l[v]&&d(i[_],"outOfRange");for(var z=1;v<b;v++,z=0)z&&u.length&&d(l[v],"outOfRange"),d(l[v],"inRange");for(z=1;_<T;_++)(!l.length||l[l.length-1]<i[_])&&(z&&(u.length&&d(u[u.length-1].value,"outOfRange"),z=0),d(i[_],"outOfRange"));var B=u.length;return{stops:u,outerColors:[B?u[0].color:"transparent",B?u[B-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=(0,_a.ZL)(R1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(R1),p3=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return(0,Zt.ZT)(n,a),n.prototype.init=function(t,i){this.ecModel=t,this.api=i},n.prototype.render=function(t,i,l,u){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,i,l,u):this.group.removeAll()},n.prototype.renderBackground=function(t){var i=this.visualMapModel,l=Ji.MY(i.get("padding")||0),u=t.getBoundingRect();t.add(new ri.Z({z2:-1,silent:!0,shape:{x:u.x-l[3],y:u.y-l[0],width:u.width+l[3]+l[1],height:u.height+l[0]+l[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},n.prototype.getControllerVisual=function(t,i,l){var u=(l=l||{}).forceState,d=this.visualMapModel,v={};if("color"===i){var _=d.get("contentColor");v.color=_}function b(G){return v[G]}function T(G,te){v[G]=te}var z=d.controllerVisuals[u||d.getValueState(t)],B=Ho.prepareVisualTypes(z);return y.each(B,function(G){var te=z[G];l.convertOpacityToAlpha&&"opacity"===G&&(G="colorAlpha",te=z.__alphaForOpacity),Ho.dependsOn(G,i)&&te&&te.applyVisual(t,b,T)}),v[i]},n.prototype.positionGroup=function(t){var l=this.api;Mi.p$(t,this.visualMapModel.getBoxLayoutParams(),{width:l.getWidth(),height:l.getHeight()})},n.prototype.doRender=function(t,i,l,u){},n.type="visualMap",n}(qt.Z);var g3=[["left","right","width"],["top","bottom","height"]];function n9(a,n,t){var i=a.option,l=i.align;if(null!=l&&"auto"!==l)return l;for(var u={width:n.getWidth(),height:n.getHeight()},d="horizontal"===i.orient?1:0,v=g3[d],_=[0,null,10],b={},T=0;T<3;T++)b[g3[1-d][T]]=_[T],b[v[T]]=2===T?t[0]:i[v[T]];var z=[["x","width",3],["y","height",0]][d],B=(0,Mi.ME)(b,u,i.padding);return v[(B.margin[z[2]]||0)+B[z[0]]+.5*B[z[1]]<.5*u[z[1]]?0:1]}function N8(a,n){return y.each(a||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(n?n.componentIndex:"")}),a}var ki=Xt.NU,Kx=y.each,r9=Math.min,F5=Math.max;function k5(a,n,t,i){return new Ms.Z({shape:{points:a},draggable:!!t,cursor:n,drift:t,onmousemove:function(l){Ns.sT(l.event)},ondragend:i})}function $l(a){var n=a.get("hoverLinkOnHandle");return!!(null==n?a.get("realtime"):n)}function B5(a){return"vertical"===a?"ns-resize":"ew-resize"}const l9=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return(0,Zt.ZT)(n,a),n.prototype.doRender=function(t,i,l,u){this._api=l,(!u||"selectDataRange"!==u.type||u.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var l=t.get("text");this._renderEndsText(i,l,0),this._renderEndsText(i,l,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},n.prototype._renderEndsText=function(t,i,l){if(i){var u=i[1-l];u=null!=u?u+"":"";var d=this.visualMapModel,v=d.get("textGap"),_=d.itemSize,b=this._shapes.mainGroup,T=this._applyTransform([_[0]/2,0===l?-v:_[1]+v],b),z=this._applyTransform(0===l?"bottom":"top",b),B=this._orient,G=this.visualMapModel.textStyleModel;this.group.add(new di.ZP({style:{x:T[0],y:T[1],verticalAlign:"horizontal"===B?"middle":z,align:"horizontal"===B?z:"center",text:u,font:G.getFont(),fill:G.getTextColor()}}))}},n.prototype._renderBar=function(t){var i=this.visualMapModel,l=this._shapes,u=i.itemSize,d=this._orient,v=this._useHandle,_=n9(i,this.api,u),b=l.mainGroup=this._createBarGroup(_),T=new pr.Z;b.add(T),T.add(l.outOfRange=k5()),T.add(l.inRange=k5(null,v?B5(this._orient):null,y.bind(this._dragHandle,this,"all",!1),y.bind(this._dragHandle,this,"all",!0))),T.setClipPath(new ri.Z({shape:{x:0,y:0,width:u[0],height:u[1],r:3}}));var z=i.textStyleModel.getTextRect("\u56fd"),B=F5(z.width,z.height);v&&(l.handleThumbs=[],l.handleLabels=[],l.handleLabelPoints=[],this._createHandle(i,b,0,u,B,d),this._createHandle(i,b,1,u,B,d)),this._createIndicator(i,b,u,B,d),t.add(b)},n.prototype._createHandle=function(t,i,l,u,d,v){var _=y.bind(this._dragHandle,this,l,!1),b=y.bind(this._dragHandle,this,l,!0),T=(0,fe.GM)(t.get("handleSize"),u[0]),z=(0,dr.th)(t.get("handleIcon"),-T/2,-T/2,T,T,null,!0),B=B5(this._orient);z.attr({cursor:B,draggable:!0,drift:_,ondragend:b,onmousemove:function(ze){Ns.sT(ze.event)}}),z.x=u[0]/2,z.useStyle(t.getModel("handleStyle").getItemStyle()),z.setStyle({strokeNoScale:!0,strokeFirst:!0}),z.style.lineWidth*=2,z.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,Xn.Nj)(z,!0),i.add(z);var G=this.visualMapModel.textStyleModel,te=new di.ZP({cursor:B,draggable:!0,drift:_,onmousemove:function(ze){Ns.sT(ze.event)},ondragend:b,style:{x:0,y:0,text:"",font:G.getFont(),fill:G.getTextColor()}});te.ensureState("blur").style={opacity:.1},te.stateTransition={duration:200},this.group.add(te);var se=[T,0],Ae=this._shapes;Ae.handleThumbs[l]=z,Ae.handleLabelPoints[l]=se,Ae.handleLabels[l]=te},n.prototype._createIndicator=function(t,i,l,u,d){var v=(0,fe.GM)(t.get("indicatorSize"),l[0]),_=(0,dr.th)(t.get("indicatorIcon"),-v/2,-v/2,v,v,null,!0);_.attr({cursor:"move",invisible:!0,silent:!0,x:l[0]/2});var b=t.getModel("indicatorStyle").getItemStyle();if(_ instanceof q.ZP){var T=_.style;_.useStyle(y.extend({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},b))}else _.useStyle(b);i.add(_);var z=this.visualMapModel.textStyleModel,B=new di.ZP({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:z.getFont(),fill:z.getTextColor()}});this.group.add(B);var G=[("horizontal"===d?u/2:6)+l[0]/2,0],te=this._shapes;te.indicator=_,te.indicatorLabel=B,te.indicatorLabelPoint=G,this._firstShowIndicator=!0},n.prototype._dragHandle=function(t,i,l,u){if(this._useHandle){if(this._dragging=!i,!i){var d=this._applyTransform([l,u],this._shapes.mainGroup,!0);this._updateInterval(t,d[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():$l(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},n.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),l=t.getExtent(),u=[0,t.itemSize[1]];this._handleEnds=[ki(i[0],l,u,!0),ki(i[1],l,u,!0)]},n.prototype._updateInterval=function(t,i){var l=this.visualMapModel,u=this._handleEnds,d=[0,l.itemSize[1]];Bl(i=i||0,u,d,t,0);var v=l.getExtent();this._dataInterval=[ki(u[0],d,v,!0),ki(u[1],d,v,!0)]},n.prototype._updateView=function(t){var i=this.visualMapModel,l=i.getExtent(),u=this._shapes,d=[0,i.itemSize[1]],v=t?d:this._handleEnds,_=this._createBarVisual(this._dataInterval,l,v,"inRange"),b=this._createBarVisual(l,l,d,"outOfRange");u.inRange.setStyle({fill:_.barColor}).setShape("points",_.barPoints),u.outOfRange.setStyle({fill:b.barColor}).setShape("points",b.barPoints),this._updateHandle(v,_)},n.prototype._createBarVisual=function(t,i,l,u){var d={forceState:u,convertOpacityToAlpha:!0},v=this._makeColorGradient(t,d),_=[this.getControllerVisual(t[0],"symbolSize",d),this.getControllerVisual(t[1],"symbolSize",d)],b=this._createBarPoints(l,_);return{barColor:new Hi.Z(0,0,0,1,v),barPoints:b,handlesColor:[v[0].color,v[v.length-1].color]}},n.prototype._makeColorGradient=function(t,i){var u=[],d=(t[1]-t[0])/100;u.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var v=1;v<100;v++){var _=t[0]+d*v;if(_>t[1])break;u.push({color:this.getControllerVisual(_,"color",i),offset:v/100})}return u.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),u},n.prototype._createBarPoints=function(t,i){var l=this.visualMapModel.itemSize;return[[l[0]-i[0],t[0]],[l[0],t[0]],[l[0],t[1]],[l[0]-i[1],t[1]]]},n.prototype._createBarGroup=function(t){var i=this._orient,l=this.visualMapModel.get("inverse");return new pr.Z("horizontal"!==i||l?"horizontal"===i&&l?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==i||l?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},n.prototype._updateHandle=function(t,i){if(this._useHandle){var l=this._shapes,u=this.visualMapModel,d=l.handleThumbs,v=l.handleLabels,_=u.itemSize,b=u.getExtent();Kx([0,1],function(T){var z=d[T];z.setStyle("fill",i.handlesColor[T]),z.y=t[T];var B=ki(t[T],[0,_[1]],b,!0),G=this.getControllerVisual(B,"symbolSize");z.scaleX=z.scaleY=G/_[0],z.x=_[0]-G/2;var te=ln.applyTransform(l.handleLabelPoints[T],ln.getTransform(z,this.group));v[T].setStyle({x:te[0],y:te[1],text:u.formatValueText(this._dataInterval[T]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",l.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(t,i,l,u){var d=this.visualMapModel,v=d.getExtent(),_=d.itemSize,b=[0,_[1]],T=this._shapes,z=T.indicator;if(z){z.attr("invisible",!1);var G=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),te=this.getControllerVisual(t,"symbolSize"),se=ki(t,v,b,!0),Ae=_[0]-te/2,ze={x:z.x,y:z.y};z.y=se,z.x=Ae;var Be=ln.applyTransform(T.indicatorLabelPoint,ln.getTransform(z,this.group)),We=T.indicatorLabel;We.attr("invisible",!1);var ut=this._applyTransform("left",T.mainGroup),vt="horizontal"===this._orient;We.setStyle({text:(l||"")+d.formatValueText(i),verticalAlign:vt?ut:"middle",align:vt?"center":ut});var At={x:Ae,y:se,style:{fill:G}},Gt={style:{x:Be[0],y:Be[1]}};if(d.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var on={duration:100,easing:"cubicInOut",additive:!0};z.x=ze.x,z.y=ze.y,z.animateTo(At,on),We.animateTo(Gt,on)}else z.attr(At),We.attr(Gt);this._firstShowIndicator=!1;var bn=this._shapes.handleLabels;if(bn)for(var yn=0;yn<bn.length;yn++)this._api.enterBlur(bn[yn])}},n.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var l=t.visualMapModel.itemSize,u=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);u[1]=r9(F5(0,u[1]),l[1]),t._doHoverLinkToSeries(u[1],0<=u[0]&&u[0]<=l[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(t,i){var l=this.visualMapModel;if(l.option.hoverLink){var d=[0,l.itemSize[1]],v=l.getExtent();t=r9(F5(d[0],t),d[1]);var _=function(a,n,t){var i=6,l=a.get("hoverLinkDataSize");return l&&(i=ki(l,n,t,!0)/2),i}(l,v,d),b=[t-_,t+_],T=ki(t,d,v,!0),z=[ki(b[0],d,v,!0),ki(b[1],d,v,!0)];b[0]<d[0]&&(z[0]=-1/0),b[1]>d[1]&&(z[1]=1/0),i&&(z[0]===-1/0?this._showIndicator(T,z[1],"< ",_):z[1]===1/0?this._showIndicator(T,z[0],"> ",_):this._showIndicator(T,T,"\u2248 ",_));var B=this._hoverLinkDataIndices,G=[];(i||$l(l))&&(G=this._hoverLinkDataIndices=l.findTargetDataIndices(z));var te=fr.XI(B,G);this._dispatchHighDown("downplay",N8(te[0],l)),this._dispatchHighDown("highlight",N8(te[1],l))}},n.prototype._hoverLinkFromSeriesMouseOver=function(t){var i=t.target,l=this.visualMapModel;if(i&&null!=(0,Hr.A)(i).dataIndex){var u=(0,Hr.A)(i),d=this.ecModel.getSeriesByIndex(u.seriesIndex);if(l.isTargetSeries(d)){var v=d.getData(u.dataType),_=v.getStore().get(l.getDataDimensionIndex(v),u.dataIndex);isNaN(_)||this._showIndicator(_,_)}}},n.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var l=0;l<i.length;l++)this._api.leaveBlur(i[l])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",N8(t,this.visualMapModel)),t.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(t,i,l,u){var d=ln.getTransform(i,u?null:this.group);return y.isArray(t)?ln.applyTransform(t,d,l):ln.transformDirection(t,d,l)},n.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(p3);var c9={type:"selectDataRange",event:"dataRangeSelected",update:"update"},u9=function(a,n){n.eachComponent({mainType:"visualMap",query:a},function(t){t.setSelected(a.selected)})},Xv=[{createOnAllSeries:!0,reset:function(a,n){var t=[];return n.eachComponent("visualMap",function(i){var l=a.pipelineContext;!i.isTargetSeries(a)||l&&l.large||t.push(function(a,n,t,i){var l={};return y.each(a,function(u){var d=Ho.prepareVisualTypes(n[u]);l[u]=d}),{progress:function(d,v){var _;function b(mt){return(0,Cc.Or)(v,z,mt)}function T(mt,vt){(0,Cc.LZ)(v,z,mt,vt)}null!=i&&(_=v.getDimensionIndex(i));for(var z,B=v.getStore();null!=(z=d.next());){var G=v.getRawDataItem(z);if(!G||!1!==G.visualMap)for(var te=null!=i?B.get(_,z):z,se=t(te),Ae=n[se],ze=l[se],Be=0,We=ze.length;Be<We;Be++){var ut=ze[Be];Ae[ut]&&Ae[ut].applyVisual(te,b,T)}}}}}(i.stateList,i.targetVisuals,y.bind(i.getValueState,i),i.getDataDimensionIndex(a.getData())))}),t}},{createOnAllSeries:!0,reset:function(a,n){var t=a.getData(),i=[];n.eachComponent("visualMap",function(l){if(l.isTargetSeries(a)){var u=l.getVisualMeta(y.bind(h9,null,a,l))||{stops:[],outerColors:[]},d=l.getDataDimensionIndex(t);d>=0&&(u.dimension=d,i.push(u))}}),a.getData().setVisual("visualMeta",i)}}];function h9(a,n,t,i){for(var l=n.targetVisuals[i],u=Ho.prepareVisualTypes(l),d={color:(0,Cc.UL)(a.getData(),"color")},v=0,_=u.length;v<_;v++){var b=u[v],T=l["opacity"===b?"__alphaForOpacity":b];T&&T.applyVisual(t,z,B)}return d.color;function z(G){return d[G]}function B(G,te){d[G]=te}}var V5=y.each;function d9(a){var n=a&&a.visualMap;y.isArray(n)||(n=n?[n]:[]),V5(n,function(t){if(t){Qv(t,"splitList")&&!Qv(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&y.isArray(i)&&V5(i,function(l){y.isObject(l)&&(Qv(l,"start")&&!Qv(l,"min")&&(l.min=l.start),Qv(l,"end")&&!Qv(l,"max")&&(l.max=l.end))})}})}function Qv(a,n){return a&&a.hasOwnProperty&&a.hasOwnProperty(n)}var f9=!1;function H5(a){f9||(f9=!0,a.registerSubTypeDefaulter("visualMap",function(n){return n.categories||(n.pieces?n.pieces.length>0:n.splitNumber>0)&&!n.calculable?"piecewise":"continuous"}),a.registerAction(c9,u9),(0,y.each)(Xv,function(n){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,n)}),a.registerPreprocessor(d9))}function Es(a){a.registerComponentModel(v3),a.registerComponentView(l9),H5(a)}var v9=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t._pieceList=[],t}return(0,Zt.ZT)(n,a),n.prototype.optionUpdated=function(t,i){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var l=this._mode=this._determineMode();this._pieceList=[],p9[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var u=this.option.categories;this.resetVisual(function(d,v){"categories"===l?(d.mappingMethod="category",d.categories=y.clone(u)):(d.dataExtent=this.getExtent(),d.mappingMethod="piecewise",d.pieceList=y.map(this._pieceList,function(_){return _=y.clone(_),"inRange"!==v&&(_.visual=null),_}))})},n.prototype.completeVisualOption=function(){var t=this.option,i={},l=Ho.listVisualTypes(),u=this.isCategory();function d(v,_,b){return v&&v[_]&&v[_].hasOwnProperty(b)}y.each(t.pieces,function(v){y.each(l,function(_){v.hasOwnProperty(_)&&(i[_]=1)})}),y.each(i,function(v,_){var b=!1;y.each(this.stateList,function(T){b=b||d(t,T,_)||d(t.target,T,_)},this),!b&&y.each(this.stateList,function(T){(t[T]||(t[T]={}))[_]=I5.get(_,"inRange"===T?"active":"inactive",u)})},this),a.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(t,i){var l=this.option,u=this._pieceList,d=(i?l:t).selected||{};if(l.selected=d,y.each(u,function(_,b){var T=this.getSelectedMapKey(_);d.hasOwnProperty(T)||(d[T]=!0)},this),"single"===l.selectedMode){var v=!1;y.each(u,function(_,b){var T=this.getSelectedMapKey(_);d[T]&&(v?d[T]=!1:v=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(t){this.option.selected=y.clone(t)},n.prototype.getValueState=function(t){var i=Ho.findPieceIndex(t,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(t){var i=[],l=this._pieceList;return this.eachTargetSeries(function(u){var d=[],v=u.getData();v.each(this.getDataDimensionIndex(v),function(_,b){Ho.findPieceIndex(_,l)===t&&d.push(b)},this),i.push({seriesId:u.id,dataIndex:d})},this),i},n.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(null!=t.value)i=t.value;else{var l=t.interval||[];i=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return i},n.prototype.getVisualMeta=function(t){if(!this.isCategory()){var i=[],l=["",""],u=this,v=this._pieceList.slice();if(v.length){var _=v[0].interval[0];_!==-1/0&&v.unshift({interval:[-1/0,_]}),(_=v[v.length-1].interval[1])!==1/0&&v.push({interval:[_,1/0]})}else v.push({interval:[-1/0,1/0]});var b=-1/0;return y.each(v,function(T){var z=T.interval;z&&(z[0]>b&&d([b,z[0]],"outOfRange"),d(z.slice()),b=z[1])},this),{stops:i,outerColors:l}}function d(T,z){var B=u.getRepresentValue({interval:T});z||(z=u.getValueState(B));var G=t(B,z);T[0]===-1/0?l[0]=G:T[1]===1/0?l[1]=G:i.push({value:T[0],color:G},{value:T[1],color:G})}},n.type="visualMap.piecewise",n.defaultOption=(0,_a.ZL)(R1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(R1),p9={splitNumber:function(a){var n=this.option,t=Math.min(n.precision,20),i=this.getExtent(),l=n.splitNumber;l=Math.max(parseInt(l,10),1),n.splitNumber=l;for(var u=(i[1]-i[0])/l;+u.toFixed(t)!==u&&t<5;)t++;n.precision=t,u=+u.toFixed(t),n.minOpen&&a.push({interval:[-1/0,i[0]],close:[0,0]});for(var d=0,v=i[0];d<l;v+=u,d++)a.push({interval:[v,d===l-1?i[1]:v+u],close:[1,1]});n.maxOpen&&a.push({interval:[i[1],1/0],close:[0,0]}),(0,Xt.nR)(a),y.each(a,function(b,T){b.index=T,b.text=this.formatValueText(b.interval)},this)},categories:function(a){var n=this.option;y.each(n.categories,function(t){a.push({text:this.formatValueText(t,!0),value:t})},this),m3(n,a)},pieces:function(a){var n=this.option;y.each(n.pieces,function(t,i){y.isObject(t)||(t={value:t});var l={text:"",index:i};if(null!=t.label&&(l.text=t.label),t.hasOwnProperty("value")){var u=l.value=t.value;l.interval=[u,u],l.close=[1,1]}else{for(var d=l.interval=[],v=l.close=[0,0],_=[1,0,1],b=[-1/0,1/0],T=[],z=0;z<2;z++){for(var B=[["gte","gt","min"],["lte","lt","max"]][z],G=0;G<3&&null==d[z];G++)d[z]=t[B[G]],v[z]=_[G],T[z]=2===G;null==d[z]&&(d[z]=b[z])}T[0]&&d[1]===1/0&&(v[0]=0),T[1]&&d[0]===-1/0&&(v[1]=0),d[0]===d[1]&&v[0]&&v[1]&&(l.value=d[0])}l.visual=Ho.retrieveVisuals(t),a.push(l)},this),m3(n,a),(0,Xt.nR)(a),y.each(a,function(t){var i=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function m3(a,n){var t=a.inverse;("vertical"===a.orient?!t:t)&&n.reverse()}const g9=v9,y9=function(a){function n(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=n.type,t}return(0,Zt.ZT)(n,a),n.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,l=i.get("textGap"),u=i.textStyleModel,d=u.getFont(),v=u.getTextColor(),_=this._getItemAlign(),b=i.itemSize,T=this._getViewData(),z=T.endsText,B=y.retrieve(i.get("showLabel",!0),!z);z&&this._renderEndsText(t,z[0],b,B,_),y.each(T.viewPieceList,function(G){var te=G.piece,se=new pr.Z;se.onclick=y.bind(this._onItemClick,this,te),this._enableHoverLink(se,G.indexInModelPieceList);var Ae=i.getRepresentValue(te);if(this._createItemSymbol(se,Ae,[0,0,b[0],b[1]]),B){var ze=this.visualMapModel.getValueState(Ae);se.add(new di.ZP({style:{x:"right"===_?-l:b[0]+l,y:b[1]/2,text:te.text,verticalAlign:"middle",align:_,font:d,fill:v,opacity:"outOfRange"===ze?.5:1}}))}t.add(se)},this),z&&this._renderEndsText(t,z[1],b,B,_),Mi.BZ(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},n.prototype._enableHoverLink=function(t,i){var l=this;t.on("mouseover",function(){return u("highlight")}).on("mouseout",function(){return u("downplay")});var u=function(d){var v=l.visualMapModel;v.option.hoverLink&&l.api.dispatchAction({type:d,batch:N8(v.findTargetDataIndices(i),v)})}},n.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if("vertical"===i.orient)return n9(t,this.api,t.itemSize);var l=i.align;return(!l||"auto"===l)&&(l="left"),l},n.prototype._renderEndsText=function(t,i,l,u,d){if(i){var v=new pr.Z,_=this.visualMapModel.textStyleModel;v.add(new di.ZP({style:{x:u?"right"===d?l[0]:0:l[0]/2,y:l[1]/2,verticalAlign:"middle",align:u?d:"center",text:i,font:_.getFont(),fill:_.getTextColor()}})),t.add(v)}},n.prototype._getViewData=function(){var t=this.visualMapModel,i=y.map(t.getPieceList(),function(v,_){return{piece:v,indexInModelPieceList:_}}),l=t.get("text"),u=t.get("orient"),d=t.get("inverse");return("horizontal"===u?d:!d)?i.reverse():l&&(l=l.slice().reverse()),{viewPieceList:i,endsText:l}},n.prototype._createItemSymbol=function(t,i,l){t.add((0,dr.th)(this.getControllerVisual(i,"symbol"),l[0],l[1],l[2],l[3],this.getControllerVisual(i,"color")))},n.prototype._onItemClick=function(t){var i=this.visualMapModel,l=i.option,u=y.clone(l.selected),d=i.getSelectedMapKey(t);"single"===l.selectedMode?(u[d]=!0,y.each(u,function(v,_){u[_]=_===d})):u[d]=!u[d],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:u})},n.type="visualMap.piecewise",n}(p3);function U5(a){a.registerComponentModel(g9),a.registerComponentView(y9),H5(a)}var x9={label:{enabled:!0},decal:{show:!1}},y3=(0,fr.Yf)(),b9={};function S9(a,n){var t=a.getModel("aria");if(t.get("enabled")){var i=y.clone(x9);y.merge(i.label,a.getLocaleModel().get("aria"),!1),y.merge(t.option,i,!1),function(){if(t.getModel("decal").get("show")){var z=y.createHashMap();a.eachSeries(function(B){if(!B.isColorBySeries()){var G=z.get(B.type);G||z.set(B.type,G={}),y3(B).scope=G}}),a.eachRawSeries(function(B){if(!a.isSeriesFiltered(B))if("function"!=typeof B.enableAriaDecal){var G=B.getData();if(B.isColorBySeries()){var Be=(0,ks.i)(B.ecModel,B.name,b9,a.getSeriesCount()),We=G.getVisual("decal");G.setVisual("decal",ut(We,Be))}else{var te=B.getRawData(),se={},Ae=y3(B).scope;G.each(function(mt){var vt=G.getRawIndex(mt);se[vt]=mt});var ze=te.count();te.each(function(mt){var vt=se[mt],At=te.getName(mt)||mt+"",Gt=(0,ks.i)(B.ecModel,At,Ae,ze),on=G.getItemVisual(vt,"decal");G.setItemVisual(vt,"decal",ut(on,Gt))})}}else B.enableAriaDecal();function ut(mt,vt){var At=mt?y.extend(y.extend({},vt),mt):vt;return At.dirty=!0,At}})}}(),function(){var b=a.getLocaleModel().get("aria"),T=t.getModel("label");if(T.option=y.defaults(T.option,b),T.get("enabled")){var z=n.getZr().dom;if(T.get("description"))return void z.setAttribute("aria-label",T.get("description"));var Ae,B=a.getSeriesCount(),G=T.get(["data","maxCount"])||10,te=T.get(["series","maxCount"])||10,se=Math.min(B,te);if(!(B<1)){var ze=function(){var b=a.get("title");return b&&b.length&&(b=b[0]),b&&b.text}();if(ze)Ae=d(T.get(["general","withTitle"]),{title:ze});else Ae=T.get(["general","withoutTitle"]);var We=[];Ae+=d(T.get(B>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:B}),a.eachSeries(function(Gt,on){if(on<se){var bn=void 0,On=Gt.get("name")?"withName":"withoutName";bn=d(bn=T.get(B>1?["series","multiple",On]:["series","single",On]),{seriesId:Gt.seriesIndex,seriesName:Gt.get("name"),seriesType:_(Gt.subType)});var kn=Gt.getData();kn.count()>G?bn+=d(T.get(["data","partialData"]),{displayCnt:G}):bn+=T.get(["data","allData"]);for(var Vn=T.get(["data","separator","middle"]),rr=T.get(["data","separator","end"]),Sr=[],hr=0;hr<kn.count();hr++)if(hr<G){var Vr=kn.getName(hr),yi=kn.getValues(hr),hi=T.get(["data",Vr?"withName":"withoutName"]);Sr.push(d(hi,{name:Vr,value:yi.join(Vn)}))}bn+=Sr.join(Vn)+rr,We.push(bn)}});var mt=T.getModel(["series","multiple","separator"]),vt=mt.get("middle"),At=mt.get("end");Ae+=We.join(vt)+At,z.setAttribute("aria-label",Ae)}}}()}function d(b,T){if("string"!=typeof b)return b;var z=b;return y.each(T,function(B,G){z=z.replace(new RegExp("\\{\\s*"+G+"\\s*\\}","g"),B)}),z}function _(b){return a.getLocaleModel().get(["series","typeNames"])[b]||"\u81ea\u5b9a\u4e49\u56fe"}}function Y5(a){if(a&&a.aria){var n=a.aria;null!=n.show&&(n.enabled=n.show),n.label=n.label||{},y.each(["description","general","series","data"],function(t){null!=n[t]&&(n.label[t]=n[t])})}}var G5={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},$x=function(){function a(n){null==(this._condVal=(0,y.isString)(n)?new RegExp(n):(0,y.isRegExp)(n)?n:null)&&(0,Ya._y)("")}return a.prototype.evaluate=function(n){var t=typeof n;return"string"===t?this._condVal.test(n):"number"===t&&this._condVal.test(n+"")},a}(),T9=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),C9=function(){function a(){}return a.prototype.evaluate=function(){for(var n=this.children,t=0;t<n.length;t++)if(!n[t].evaluate())return!1;return!0},a}(),M9=function(){function a(){}return a.prototype.evaluate=function(){for(var n=this.children,t=0;t<n.length;t++)if(n[t].evaluate())return!0;return!1},a}(),w9=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),D9=function(){function a(){}return a.prototype.evaluate=function(){for(var n=!!this.valueParser,i=(0,this.getValue)(this.valueGetterParam),l=n?this.valueParser(i):null,u=0;u<this.subCondList.length;u++)if(!this.subCondList[u].evaluate(n?l:i))return!1;return!0},a}();function k8(a,n){if(!0===a||!1===a){var t=new T9;return t.value=a,t}return B8(a)||(0,Ya._y)(""),a.and?C0("and",a,n):a.or?C0("or",a,n):a.not?function(a,n){var t=a.not;B8(t)||(0,Ya._y)("");var l=new w9;return l.child=k8(t,n),l.child||(0,Ya._y)(""),l}(a,n):function(a,n){for(var i=n.prepareGetValue(a),l=[],u=(0,y.keys)(a),d=a.parser,v=d?(0,rh.o2)(d):null,_=0;_<u.length;_++){var b=u[_];if("parser"!==b&&!n.valueGetterAttrMap.get(b)){var T=(0,y.hasOwn)(G5,b)?G5[b]:b,z=a[b],B=v?v(z):z,G=(0,rh.tR)(T,B)||"reg"===T&&new $x(B);G||(0,Ya._y)(""),l.push(G)}}l.length||(0,Ya._y)("");var te=new D9;return te.valueGetterParam=i,te.valueParser=v,te.getValue=n.getValue,te.subCondList=l,te}(a,n)}function C0(a,n,t){var i=n[a];(0,y.isArray)(i)||(0,Ya._y)(""),i.length||(0,Ya._y)("");var u="and"===a?new C9:new M9;return u.children=(0,y.map)(i,function(d){return k8(d,t)}),u.children.length||(0,Ya._y)(""),u}function B8(a){return(0,y.isObject)(a)&&!(0,y.isArrayLike)(a)}var Jv=function(){function a(n,t){this._cond=k8(n,t)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}(),W5={type:"echarts:filter",transform:function(a){for(var t,n=a.upstream,i=function(a,n){return new Jv(a,n)}(a.config,{valueGetterAttrMap:(0,y.createHashMap)({dimension:!0}),prepareGetValue:function(v){var b=v.dimension;(0,y.hasOwn)(v,"dimension")||(0,Ya._y)("");var T=n.getDimensionInfo(b);return T||(0,Ya._y)(""),{dimIdx:T.index}},getValue:function(v){return n.retrieveValueFromItem(t,v.dimIdx)}}),l=[],u=0,d=n.count();u<d;u++)t=n.getRawDataItem(u),i.evaluate()&&l.push(t);return{data:l}}},P9={type:"echarts:sort",transform:function(a){var n=a.upstream,i="",l=(0,fr.kF)(a.config);l.length||(0,Ya._y)(i);var u=[];(0,y.each)(l,function(T){var z=T.dimension,B=T.order,G=T.parser,te=T.incomparable;null==z&&(0,Ya._y)(i),"asc"!==B&&"desc"!==B&&(0,Ya._y)(i),te&&"min"!==te&&"max"!==te&&(0,Ya._y)(""),"asc"!==B&&"desc"!==B&&(0,Ya._y)("");var ze=n.getDimensionInfo(z);ze||(0,Ya._y)(i);var Be=G?(0,rh.o2)(G):null;G&&!Be&&(0,Ya._y)(i),u.push({dimIdx:ze.index,parser:Be,comparator:new rh.ID(B,te)})});var d=n.sourceFormat;d!==qh.XD&&d!==qh.qb&&(0,Ya._y)(i);for(var v=[],_=0,b=n.count();_<b;_++)v.push(n.getRawDataItem(_));return v.sort(function(T,z){for(var B=0;B<u.length;B++){var G=u[B],te=n.retrieveValueFromItem(T,G.dimIdx),se=n.retrieveValueFromItem(z,G.dimIdx);G.parser&&(te=G.parser(te),se=G.parser(se));var Ae=G.comparator.evaluate(te,se);if(0!==Ae)return Ae}return 0}),{data:v}}},z9=E(1705),V8=E(9849),Dc=sa.Z.CMD;function M0(a,n){return Math.abs(a-n)<1e-5}function H8(a){var l,kn,Bn,Vn,rr,Sr,hr,Vr,yi,hi,Xi,ya,fa,ea,wa,Ra,No,As,n=a.data,t=a.len(),i=[],u=0,d=0,v=0,_=0;function b(kn,Bn){l&&l.length>2&&i.push(l),l=[kn,Bn]}function T(kn,Bn,Vn,rr){M0(kn,Vn)&&M0(Bn,rr)||l.push(kn,Bn,Vn,rr,Vn,rr)}for(var B,G,te,se,Ae=0;Ae<t;){var ze=n[Ae++],Be=1===Ae;switch(Be&&(v=u=n[Ae],_=d=n[Ae+1],(ze===Dc.L||ze===Dc.C||ze===Dc.Q)&&(l=[v,_])),ze){case Dc.M:u=v=n[Ae++],d=_=n[Ae++],b(v,_);break;case Dc.L:T(u,d,B=n[Ae++],G=n[Ae++]),u=B,d=G;break;case Dc.C:l.push(n[Ae++],n[Ae++],n[Ae++],n[Ae++],u=n[Ae++],d=n[Ae++]);break;case Dc.Q:B=n[Ae++],G=n[Ae++],te=n[Ae++],se=n[Ae++],l.push(u+2/3*(B-u),d+2/3*(G-d),te+2/3*(B-te),se+2/3*(G-se),te,se),u=te,d=se;break;case Dc.A:var We=n[Ae++],ut=n[Ae++],mt=n[Ae++],vt=n[Ae++],At=n[Ae++],Gt=n[Ae++]+At;Ae+=1;var on=!n[Ae++];B=Math.cos(At)*mt+We,G=Math.sin(At)*vt+ut,Be?b(v=B,_=G):T(u,d,B,G),u=Math.cos(Gt)*mt+We,d=Math.sin(Gt)*vt+ut;for(var bn=(on?-1:1)*Math.PI/2,yn=At;on?yn>Gt:yn<Gt;yn+=bn){kn=yn,Bn=on?Math.max(yn+bn,Gt):Math.min(yn+bn,Gt),Vn=We,rr=ut,Sr=mt,hr=vt,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Vr=Math.abs(Bn-kn),yi=4*Math.tan(Vr/4)/3,hi=Bn<kn?-1:1,Xi=Math.cos(kn),ya=Math.sin(kn),fa=Math.cos(Bn),ea=Math.sin(Bn),l.push(Xi*Sr+Vn-(No=Sr*yi*hi)*ya,ya*hr+rr+(As=hr*yi*hi)*Xi,(wa=fa*Sr+Vn)+No*ea,(Ra=ea*hr+rr)-As*fa,wa,Ra)}break;case Dc.R:v=u=n[Ae++],_=d=n[Ae++],B=v+n[Ae++],G=_+n[Ae++],b(B,_),T(B,_,B,G),T(B,G,v,G),T(v,G,v,_),T(v,_,B,_);break;case Dc.Z:l&&T(u,d,v,_),u=v,d=_}}return l&&l.length>2&&i.push(l),i}function Z5(a,n,t,i,l,u,d,v,_,b){if(M0(a,t)&&M0(n,i)&&M0(l,d)&&M0(u,v))_.push(d,v);else{var T=2/b,z=T*T,B=d-a,G=v-n,te=Math.sqrt(B*B+G*G);B/=te,G/=te;var se=t-a,Ae=i-n,ze=l-d,Be=u-v,We=se*se+Ae*Ae,ut=ze*ze+Be*Be;if(We<z&&ut<z)_.push(d,v);else{var mt=B*se+G*Ae,vt=-B*ze-G*Be;if(We-mt*mt<z&&mt>=0&&ut-vt*vt<z&&vt>=0)_.push(d,v);else{var on=[],bn=[];(0,gi.Vz)(a,t,l,d,.5,on),(0,gi.Vz)(n,i,u,v,.5,bn),Z5(on[0],bn[0],on[1],bn[1],on[2],bn[2],on[3],bn[3],_,b),Z5(on[4],bn[4],on[5],bn[5],on[6],bn[6],on[7],bn[7],_,b)}}}}function O9(a,n,t){var u=Math.abs(a[n]/a[1-n]),d=Math.ceil(Math.sqrt(u*t)),v=Math.floor(t/d);0===v&&(v=1,d=t);for(var _=[],b=0;b<d;b++)_.push(v);var z=t-d*v;if(z>0)for(b=0;b<z;b++)_[b%d]+=1;return _}function _3(a,n,t){for(var i=a.r0,l=a.r,u=a.startAngle,v=Math.abs(a.endAngle-u),_=v*l,b=l-i,T=_>Math.abs(b),z=O9([_,b],T?0:1,n),B=(T?v:b)/z.length,G=0;G<z.length;G++)for(var te=(T?b:v)/z[G],se=0;se<z[G];se++){var Ae={};T?(Ae.startAngle=u+B*G,Ae.endAngle=u+B*(G+1),Ae.r0=i+te*se,Ae.r=i+te*(se+1)):(Ae.startAngle=u+te*se,Ae.endAngle=u+te*(se+1),Ae.r0=i+B*G,Ae.r=i+B*(G+1)),Ae.clockwise=a.clockwise,Ae.cx=a.cx,Ae.cy=a.cy,t.push(Ae)}}function j5(a,n,t,i){return a*i-t*n}function R9(a,n,t,i,l,u,d,v){var _=t-a,b=i-n,T=d-l,z=v-u,B=j5(T,z,_,b);if(Math.abs(B)<1e-6)return null;var se=j5(a-l,n-u,T,z)/B;return se<0||se>1?null:new hn.Z(se*_+a,se*b+n)}function N9(a,n,t){var i=new hn.Z;hn.Z.sub(i,t,n),i.normalize();var l=new hn.Z;return hn.Z.sub(l,a,n),l.dot(i)}function w0(a,n){var t=a[a.length-1];t&&t[0]===n[0]&&t[1]===n[1]||a.push(n)}function U8(a){var n=a.points,t=[],i=[];(0,mu.zk)(n,t,i);var l=new ao.Z(t[0],t[1],i[0]-t[0],i[1]-t[1]),u=l.width,d=l.height,v=l.x,_=l.y,b=new hn.Z,T=new hn.Z;return u>d?(b.x=T.x=v+u/2,b.y=_,T.y=_+d):(b.y=T.y=_+d/2,b.x=v,T.x=v+u),function(a,n,t){for(var i=a.length,l=[],u=0;u<i;u++){var d=a[u],v=a[(u+1)%i],_=R9(d[0],d[1],v[0],v[1],n.x,n.y,t.x,t.y);_&&l.push({projPt:N9(_,n,t),pt:_,idx:u})}if(l.length<2)return[{points:a},{points:a}];l.sort(function(Ae,ze){return Ae.projPt-ze.projPt});var b=l[0],T=l[l.length-1];if(T.idx<b.idx){var z=b;b=T,T=z}var B=[b.pt.x,b.pt.y],G=[T.pt.x,T.pt.y],te=[B],se=[G];for(u=b.idx+1;u<=T.idx;u++)w0(te,a[u].slice());for(w0(te,G),w0(te,B),u=T.idx+1;u<=b.idx+i;u++)w0(se,a[u%i].slice());return w0(se,B),w0(se,G),[{points:te},{points:se}]}(n,b,T)}function D0(a,n,t,i){if(1===t)i.push(n);else{var l=Math.floor(t/2),u=a(n);D0(a,u[0],l,i),D0(a,u[1],t-l,i)}return i}function Gs(a,n){n.setStyle(a.style),n.z=a.z,n.z2=a.z2,n.zlevel=a.zlevel}function Y8(a,n){var t=a.length,i=n.length;if(t===i)return[a,n];for(var l=[],u=[],d=t<i?a:n,v=Math.min(t,i),_=Math.abs(i-t)/6,T=Math.ceil(_/((v-2)/6))+1,z=[d[0],d[1]],B=_,G=2;G<v;){var te=d[G-2],se=d[G-1],Ae=d[G++],ze=d[G++],Be=d[G++],We=d[G++],ut=d[G++],mt=d[G++];if(B<=0)z.push(Ae,ze,Be,We,ut,mt);else{for(var vt=Math.min(B,T-1)+1,At=1;At<=vt;At++){var Gt=At/vt;(0,gi.Vz)(te,Ae,Be,ut,Gt,l),(0,gi.Vz)(se,ze,We,mt,Gt,u),z.push(l[1],u[1],l[2],u[2],te=l[3],se=u[3]),Ae=l[5],ze=u[5],Be=l[6],We=u[6]}B-=vt-1}}return d===a?[z,n]:[a,z]}function $5(a,n){for(var t=a.length,i=a[t-2],l=a[t-1],u=[],d=0;d<n.length;)u[d++]=i,u[d++]=l;return u}function B9(a){for(var n=0,t=0,i=0,l=a.length,u=0,d=l-2;u<l;d=u,u+=2){var v=a[d],_=a[d+1],b=a[u],T=a[u+1],z=v*T-b*_;n+=z,t+=(v+b)*z,i+=(_+T)*z}return 0===n?[a[0]||0,a[1]||0]:[t/n/3,i/n/3,n]}function V9(a,n,t,i){for(var l=(a.length-2)/6,u=1/0,d=0,v=a.length,_=v-2,b=0;b<l;b++){for(var T=6*b,z=0,B=0;B<v;B+=2){var G=0===B?T:(T+B-2)%_+2,Be=n[B]-i[0]-(a[G]-t[0]),We=n[B+1]-i[1]-(a[G+1]-t[1]);z+=Be*Be+We*We}z<u&&(u=z,d=b)}return d}function H9(a){for(var n=[],t=a.length,i=0;i<t;i+=2)n[i]=a[t-i-2],n[i+1]=a[t-i-1];return n}function hd(a){return a.__isCombineMorphing}var G9="__mOriginal_";function x3(a,n,t){var i=G9+n,l=a[i]||a[n];a[i]||(a[i]=a[n]);var u=t.replace,d=t.after,v=t.before;a[n]=function(){var b,_=arguments;return v&&v.apply(this,_),b=u?u.apply(this,_):l.apply(this,_),d&&d.apply(this,_),b}}function b3(a,n){var t=G9+n;a[t]&&(a[n]=a[t],a[t]=null)}function W9(a,n){for(var t=0;t<a.length;t++)for(var i=a[t],l=0;l<i.length;){var u=i[l],d=i[l+1];i[l++]=n[0]*u+n[2]*d+n[4],i[l++]=n[1]*u+n[3]*d+n[5]}}function Z9(a,n){var t=a.getUpdatedPathProxy(),i=n.getUpdatedPathProxy(),l=function(a,n){for(var t,i,l,u=[],d=[],v=0;v<Math.max(a.length,n.length);v++){var _=a[v],b=n[v],T=void 0,z=void 0;_?b?(i=T=(t=Y8(_,b))[0],l=z=t[1]):(z=$5(l||_,_),T=_):(T=$5(i||b,b),z=b),u.push(T),d.push(z)}return[u,d]}(H8(t),H8(i)),u=l[0],d=l[1],v=a.getComputedTransform(),_=n.getComputedTransform();v&&W9(u,v),_&&W9(d,_),x3(n,"updateTransform",{replace:function(){this.transform=null}}),n.transform=null;var T=function(a,n,t,i){for(var u,l=[],d=0;d<a.length;d++){var v=a[d],_=n[d],b=B9(v),T=B9(_);null==u&&(u=b[2]<0!=T[2]<0);var z=[],B=[],G=0,te=1/0,se=[],Ae=v.length;u&&(v=H9(v));for(var ze=6*V9(v,_,b,T),Be=Ae-2,We=0;We<Be;We+=2){var ut=(ze+We)%Be+2;z[We+2]=v[ut]-b[0],z[We+3]=v[ut+1]-b[1]}z[0]=v[ze]-b[0],z[1]=v[ze+1]-b[1];for(var mt=i/10,vt=-i/2;vt<=i/2;vt+=mt){var At=Math.sin(vt),Gt=Math.cos(vt),on=0;for(We=0;We<v.length;We+=2){var bn=z[We],yn=z[We+1],On=_[We]-T[0],kn=_[We+1]-T[1],Bn=On*Gt-kn*At,Vn=On*At+kn*Gt;se[We]=Bn,se[We+1]=Vn;var rr=Bn-bn,Sr=Vn-yn;on+=rr*rr+Sr*Sr}if(on<te){te=on,G=vt;for(var hr=0;hr<se.length;hr++)B[hr]=se[hr]}}l.push({from:z,to:B,fromCp:b,toCp:T,rotation:-G})}return l}(u,d,0,Math.PI),z=[];x3(n,"buildPath",{replace:function(B){for(var G=n.__morphT,te=1-G,se=[],Ae=0;Ae<T.length;Ae++){var ze=T[Ae],Be=ze.from,We=ze.to,ut=ze.rotation*G,mt=ze.fromCp,vt=ze.toCp,At=Math.sin(ut),Gt=Math.cos(ut);(0,pi.lerp)(se,mt,vt,G);for(var on=0;on<Be.length;on+=2){var Bn=Be[on]*te+(On=We[on])*G,Vn=Be[on+1]*te+(kn=We[on+1])*G;z[on]=Bn*Gt-Vn*At+se[0],z[on+1]=Bn*At+Vn*Gt+se[1]}var rr=z[0],Sr=z[1];for(B.moveTo(rr,Sr),on=2;on<Be.length;){var On=z[on++],kn=z[on++],hr=z[on++],Vr=z[on++],yi=z[on++],hi=z[on++];rr===On&&Sr===kn&&hr===yi&&Vr===hi?B.lineTo(yi,hi):B.bezierCurveTo(On,kn,hr,Vr,yi,hi),rr=yi,Sr=hi}}}})}function qv(a,n,t){if(!a||!n)return n;var i=t.done,l=t.during;return Z9(a,n),n.__morphT=0,n.animateTo({__morphT:1},(0,y.defaults)({during:function(d){n.dirtyShape(),l&&l(d)},done:function(){b3(n,"buildPath"),b3(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape(),i&&i()}},t)),n}function j9(a,n,t,i,l,u){a=l===t?0:Math.round(32767*(a-t)/(l-t)),n=u===i?0:Math.round(32767*(n-i)/(u-i));for(var _,v=0,b=32768;b>0;b/=2){var T=0,z=0;(a&b)>0&&(T=1),(n&b)>0&&(z=1),v+=b*b*(3*T^z),0===z&&(1===T&&(a=b-1-a,n=b-1-n),_=a,a=n,n=_)}return v}function S3(a){var n=1/0,t=1/0,i=-1/0,l=-1/0,u=(0,y.map)(a,function(v){var _=v.getBoundingRect(),b=v.getComputedTransform(),T=_.x+_.width/2+(b?b[4]:0),z=_.y+_.height/2+(b?b[5]:0);return n=Math.min(T,n),t=Math.min(z,t),i=Math.max(T,i),l=Math.max(z,l),[T,z]});return(0,y.map)(u,function(v,_){return{cp:v,z:j9(v[0],v[1],n,t,i,l),path:a[_]}}).sort(function(v,_){return v.z-_.z}).map(function(v){return v.path})}function Q5(a){return function(a,n){var l,t=[],i=a.shape;switch(a.type){case"rect":(function(a,n,t){for(var i=a.width,l=a.height,u=i>l,d=O9([i,l],u?0:1,n),v=u?"width":"height",_=u?"height":"width",b=u?"x":"y",T=u?"y":"x",z=a[v]/d.length,B=0;B<d.length;B++)for(var G=a[_]/d[B],te=0;te<d[B];te++){var se={};se[b]=B*z,se[T]=te*G,se[v]=z,se[_]=G,se.x+=a.x,se.y+=a.y,t.push(se)}})(i,n,t),l=ri.Z;break;case"sector":_3(i,n,t),l=Oi.C;break;case"circle":_3({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},n,t),l=Oi.C;break;default:var u=a.getComputedTransform(),d=u?Math.sqrt(Math.max(u[0]*u[0]+u[1]*u[1],u[2]*u[2]+u[3]*u[3])):1,v=(0,y.map)(function(a,n){var t=H8(a),i=[];n=n||1;for(var l=0;l<t.length;l++){var u=t[l],d=[],v=u[0],_=u[1];d.push(v,_);for(var b=2;b<u.length;){var T=u[b++],z=u[b++],B=u[b++],G=u[b++],te=u[b++],se=u[b++];Z5(v,_,T,z,B,G,te,se,d,n),v=te,_=se}i.push(d)}return i}(a.getUpdatedPathProxy(),d),function(ze){return function(a){for(var n=[],t=0;t<a.length;)n.push([a[t++],a[t++]]);return n}(ze)}),_=v.length;if(0===_)D0(U8,{points:v[0]},n,t);else if(_===n)for(var b=0;b<_;b++)t.push({points:v[b]});else{var T=0,z=(0,y.map)(v,function(ze){var Be=[],We=[];(0,mu.zk)(ze,Be,We);var ut=(We[1]-Be[1])*(We[0]-Be[0]);return T+=ut,{poly:ze,area:ut}});z.sort(function(ze,Be){return Be.area-ze.area});var B=n;for(b=0;b<_;b++){var G=z[b];if(B<=0)break;var te=b===_-1?B:Math.ceil(G.area/T*n);te<0||(D0(U8,{points:G.poly},te,t),B-=te)}}l=Ms.Z}if(!l)return function(a,n){for(var t=[],i=0;i<n;i++)t.push((0,V8.U5)(a));return t}(a,n);var se=[];for(b=0;b<t.length;b++){var Ae=new l;Ae.setShape(t[b]),Gs(a,Ae),se.push(Ae)}return se}(a.path,a.count)}function q5(a){return(0,y.isArray)(a[0])}function Xl(a,n){for(var t=[],i=a.length,l=0;l<i;l++)t.push({one:a[l],many:[]});for(l=0;l<n.length;l++){var u=n[l].length,d=void 0;for(d=0;d<u;d++)t[d%i].many.push(n[l][d])}var v=0;for(l=i-1;l>=0;l--)if(!t[l].many.length){var _=t[v].many;if(_.length<=1){if(!v)return t;v=0}u=_.length;var b=Math.ceil(u/2);t[l].many=_.slice(b,u),t[v].many=_.slice(0,b),v++}return t}var qx={clone:function(a){for(var n=[],t=1-Math.pow(1-a.path.style.opacity,1/a.count),i=0;i<a.count;i++){var l=(0,V8.U5)(a.path);l.setStyle("opacity",t),n.push(l)}return n},split:null};function T3(a,n,t,i,l,u){if(a.length&&n.length){var d=(0,lr.ke)("update",i,l);if(d&&d.duration>0){var b,T,v=i.getModel("universalTransition").get("delay"),_=Object.assign({setToFinal:!0},d);q5(a)&&(b=a,T=n),q5(n)&&(b=n,T=a);for(var B=b?b===a:a.length>n.length,G=b?Xl(T,b):Xl(B?n:a,[B?a:n]),te=0,se=0;se<G.length;se++)te+=G[se].many.length;var Ae=0;for(se=0;se<G.length;se++)z(G[se],B,Ae,te),Ae+=G[se].many.length}}function z(ze,Be,We,ut,mt){var vt=ze.many,At=ze.one;if(1!==vt.length||mt)for(var yn=(0,y.defaults)({dividePath:qx[t],individualDelay:v&&function(Sr,hr,Vr,yi){return v(Sr+We,ut)}},_),On=Be?function(a,n,t){var i=[];!function l(mt){for(var vt=0;vt<mt.length;vt++){var At=mt[vt];hd(At)?l(At.childrenRef()):At instanceof ce.ZP&&i.push(At)}}(a);var u=i.length;if(!u)return{fromIndividuals:[],toIndividuals:[],count:0};var v=(t.dividePath||Q5)({path:n,count:u});if(v.length!==u)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};i=S3(i),v=S3(v);for(var _=t.done,b=t.during,T=t.individualDelay,z=new Sd.Z,B=0;B<u;B++){var G=i[B],te=v[B];te.parent=n,te.copyTransform(z),T||Z9(G,te)}function se(mt){for(var vt=0;vt<v.length;vt++)v[vt].addSelfToZr(mt)}function Ae(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,b3(n,"addSelfToZr"),b3(n,"removeSelfFromZr")}n.__isCombineMorphing=!0,n.childrenRef=function(){return v},x3(n,"addSelfToZr",{after:function(mt){se(mt)}}),x3(n,"removeSelfFromZr",{after:function(mt){for(var vt=0;vt<v.length;vt++)v[vt].removeSelfFromZr(mt)}});var ze=v.length;if(T){var Be=ze,We=function(){0==--Be&&(Ae(),_&&_())};for(B=0;B<ze;B++){var ut=T?(0,y.defaults)({delay:(t.delay||0)+T(B,ze,i[B],v[B]),done:We},t):t;qv(i[B],v[B],ut)}}else n.__morphT=0,n.animateTo({__morphT:1},(0,y.defaults)({during:function(mt){for(var vt=0;vt<ze;vt++){var At=v[vt];At.__morphT=n.__morphT,At.dirtyShape()}b&&b(mt)},done:function(){Ae();for(var mt=0;mt<a.length;mt++)b3(a[mt],"updateTransform");_&&_()}},t));return n.__zr&&se(n.__zr),{fromIndividuals:i,toIndividuals:v,count:ze}}(vt,At,yn):function(a,n,t){var i=n.length,l=[],u=t.dividePath||Q5;if(hd(a)){!function d(G){for(var te=0;te<G.length;te++){var se=G[te];hd(se)?d(se.childrenRef()):se instanceof ce.ZP&&l.push(se)}}(a.childrenRef());var v=l.length;if(v<i)for(var _=0,b=v;b<i;b++)l.push((0,V8.U5)(l[_++%v]));l.length=i}else{l=u({path:a,count:i});var T=a.getComputedTransform();for(b=0;b<l.length;b++)l[b].setLocalTransform(T);if(l.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}l=S3(l),n=S3(n);var z=t.individualDelay;for(b=0;b<i;b++){var B=z?(0,y.defaults)({delay:(t.delay||0)+z(b,i,l[b],n[b])},t):t;qv(l[b],n[b],B)}return{fromIndividuals:l,toIndividuals:n,count:n.length}}(At,vt,yn),kn=On.fromIndividuals,Bn=On.toIndividuals,Vn=kn.length,rr=0;rr<Vn;rr++)bn=v?(0,y.defaults)({delay:v(rr,Vn)},_):_,u(kn[rr],Bn[rr],Be?vt[rr]:ze.one,Be?ze.one:vt[rr],bn);else{var bn,Gt=Be?vt[0]:At,on=Be?At:vt[0];hd(Gt)?z({many:[Gt],one:on},!0,We,ut,!0):(qv(Gt,on,bn=v?(0,y.defaults)({delay:v(We,ut)},_):_),u(Gt,on,Gt,on,bn))}}}function N1(a){if(!a)return[];if((0,y.isArray)(a)){for(var n=[],t=0;t<a.length;t++)n.push(N1(a[t]));return n}var i=[];return a.traverse(function(l){l instanceof ce.ZP&&!l.disableMorphing&&!l.invisible&&!l.ignore&&i.push(l)}),i}var ey=(0,fr.Yf)();function C3(a){var n=[];return(0,y.each)(a,function(t){var i=t.data;if(!(i.count()>1e4))for(var l=i.getIndices(),u=function(a){for(var n=a.dimensions,t=0;t<n.length;t++){var i=a.getDimensionInfo(n[t]);if(i&&0===i.otherDims.itemGroupId)return n[t]}}(i),d=0;d<l.length;d++)n.push({data:i,dim:t.dim||u,divide:t.divide,dataIndex:d})}),n}function e4(a,n,t){a.traverse(function(i){i instanceof ce.ZP&&(0,lr.KZ)(i,{style:{opacity:0}},n,{dataIndex:t,isFrom:!0})})}function t4(a){if(a.parent){var n=a.getComputedTransform();a.setLocalTransform(n),a.parent.remove(a)}}function ih(a){a.stopAnimation(),a.isGroup&&a.traverse(function(n){n.stopAnimation()})}function W8(a,n,t){var i=C3(a),l=C3(n);function u(ze,Be,We,ut,mt){(We||ze)&&Be.animateFrom({style:(We||ze).style},mt)}function d(ze){for(var Be=0;Be<ze.length;Be++)if(ze[Be].dim)return ze[Be].dim}var v=d(i),_=d(l),b=!1;function T(ze,Be){return function(We){var ut=We.data,mt=We.dataIndex;if(Be)return ut.getId(mt);var vt=ut.hostModel&&ut.hostModel.get("dataGroupId"),At=ze?v||_:_||v,Gt=At&&ut.getDimensionInfo(At),on=Gt&&Gt.ordinalMeta;if(Gt){var bn=ut.get(Gt.name,mt);return on&&on.categories[bn]||bn+""}var yn=ut.getRawDataItem(mt);return yn&&yn.groupId?yn.groupId+"":vt||ut.getId(mt)}}var z=function(a,n){var t=a.length;if(t!==n.length)return!1;for(var i=0;i<t;i++){var l=a[i],u=n[i];if(l.data.getId(l.dataIndex)!==u.data.getId(u.dataIndex))return!1}return!0}(i,l),B={};if(!z)for(var G=0;G<l.length;G++){var te=l[G],se=te.data.getItemGraphicEl(te.dataIndex);se&&(B[se.id]=!0)}function Ae(ze,Be){var We=i[Be],ut=l[ze],mt=ut.data.hostModel,vt=We.data.getItemGraphicEl(We.dataIndex),At=ut.data.getItemGraphicEl(ut.dataIndex);vt!==At?vt&&B[vt.id]||At&&(ih(At),vt?(ih(vt),t4(vt),b=!0,T3(N1(vt),N1(At),ut.divide,mt,ze,u)):e4(At,mt,ze)):At&&function(a,n,t){var i=(0,lr.ke)("update",t,n);i&&a.traverse(function(l){if(l instanceof zc.ZP){var u=(0,lr._W)(l);u&&l.animateFrom({style:u},i)}})}(At,ut.dataIndex,mt)}new ys.Z(i,l,T(!0,z),T(!1,z),null,"multiple").update(Ae).updateManyToOne(function(ze,Be){var We=l[ze],ut=We.data,mt=ut.hostModel,vt=ut.getItemGraphicEl(We.dataIndex),At=(0,y.filter)((0,y.map)(Be,function(Gt){return i[Gt].data.getItemGraphicEl(i[Gt].dataIndex)}),function(Gt){return Gt&&Gt!==vt&&!B[Gt.id]});vt&&(ih(vt),At.length?((0,y.each)(At,function(Gt){ih(Gt),t4(Gt)}),b=!0,T3(N1(At),N1(vt),We.divide,mt,ze,u)):e4(vt,mt,We.dataIndex))}).updateOneToMany(function(ze,Be){var We=i[Be],ut=We.data.getItemGraphicEl(We.dataIndex);if(!ut||!B[ut.id]){var mt=(0,y.filter)((0,y.map)(ze,function(At){return l[At].data.getItemGraphicEl(l[At].dataIndex)}),function(At){return At&&At!==ut}),vt=l[ze[0]].data.hostModel;mt.length&&((0,y.each)(mt,function(At){return ih(At)}),ut?(ih(ut),t4(ut),b=!0,T3(N1(ut),N1(mt),We.divide,vt,ze[0],u)):(0,y.each)(mt,function(At){return e4(At,vt,ze[0])}))}}).updateManyToMany(function(ze,Be){new ys.Z(Be,ze,function(We){return i[We].data.getId(i[We].dataIndex)},function(We){return l[We].data.getId(l[We].dataIndex)}).update(function(We,ut){Ae(ze[We],Be[ut])}).execute()}).execute(),b&&(0,y.each)(n,function(ze){var We=ze.data.hostModel,ut=We&&t.getViewOfSeriesModel(We),mt=(0,lr.ke)("update",We,0);ut&&We.isAnimationEnabled()&&mt&&mt.duration>0&&ut.group.traverse(function(vt){vt instanceof ce.ZP&&!vt.animators.length&&vt.animateFrom({style:{opacity:0}},mt)})})}function ry(a){return a.getModel("universalTransition").get("seriesKey")||a.id}function iy(a){return(0,y.isArray)(a)?a.sort().join(","):a}function ah(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function ay(a,n){for(var t=0;t<a.length;t++)if(null!=n.seriesIndex&&n.seriesIndex===a[t].seriesIndex||null!=n.seriesId&&n.seriesId===a[t].id)return t}var J9=E(437);(0,m.D)([Mn.N]),(0,m.D)([function(a){a.registerPainter("svg",Lt)}]),(0,m.D)([function(a){a.registerChartView(no),a.registerSeriesModel(ni),a.registerLayout(Aa("line",!0)),a.registerVisual({seriesType:"line",reset:function(n){var t=n.getData(),i=n.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Gi("line"))},function(a){a.registerChartView(na),a.registerSeriesModel(li),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,y.curry($a.bK,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,$a.kY),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Gi("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,t){t.eachComponent({mainType:n.componentType||"series",query:n},function(l){n.sortInfo&&l.axis.setCategorySortInfo(n.sortInfo)})})},function(a){a.registerChartView(ka),a.registerSeriesModel(Bo),(0,Qr.y)("pie",a.registerAction),a.registerLayout((0,y.curry)(Xe,"pie")),a.registerProcessor(Ct("pie")),a.registerProcessor({seriesType:"pie",reset:function(n,t){var i=n.getData();i.filterSelf(function(l){var u=i.mapDimension("value"),d=i.get(u,l);return!("number"==typeof d&&!isNaN(d)&&d<0)})}})},function(a){(0,m.D)(ns),a.registerSeriesModel(Mt),a.registerChartView(jn),a.registerLayout(Aa("scatter"))},function(a){(0,m.D)(rc),a.registerChartView(O3),a.registerSeriesModel(Vo),a.registerLayout(vd),a.registerProcessor(Ct("radar")),a.registerPreprocessor(I0)},function(a){(0,m.D)(_h),a.registerChartView(Po),a.registerSeriesModel(Y1),a.registerLayout(H0),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,f4),(0,Qr.y)("map",a.registerAction)},function(a){a.registerChartView(Mh),a.registerSeriesModel(X1),a.registerLayout(Q1),a.registerVisual(Su),function(a){a.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,t){t.eachComponent({mainType:"series",subType:"tree",query:n},function(i){var l=n.dataIndex,d=i.getData().tree.getNodeByDataIndex(l);d.isExpand=!d.isExpand})}),a.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,t){t.eachComponent({mainType:"series",subType:"tree",query:n},function(i){var u=yh(i.coordinateSystem,n);i.setCenter&&i.setCenter(u.center),i.setZoom&&i.setZoom(u.zoom)})})}(a)},function(a){a.registerSeriesModel(e2),a.registerChartView(l2),a.registerVisual(u2),a.registerLayout(C4),function(a){for(var n=0;n<Eh.length;n++)a.registerAction({type:Eh[n],update:"updateView"},J0);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"treemap",query:t},function(u,d){var _=Nc(t,["treemapZoomToNode","treemapRootToNode"],u);if(_){var b=u.getViewRoot();b&&(t.direction=yl(b,_.node)?"rollUp":"drillDown"),u.resetViewRoot(_.node)}})})}(a)},function(a){a.registerChartView(w2),a.registerSeriesModel(Mf),a.registerProcessor(vf),a.registerVisual(m2),a.registerVisual(Vd),a.registerLayout(gf),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,mf),a.registerLayout(A4),a.registerCoordinateSystem("graphView",{dimensions:Oc.dimensions,create:b2}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),a.registerAction(E2,function(n,t){t.eachComponent({mainType:"series",query:n},function(i){var u=yh(i.coordinateSystem,n);i.setCenter&&i.setCenter(u.center),i.setZoom&&i.setZoom(u.zoom)})})},function(a){a.registerChartView(zo),a.registerSeriesModel(Df)},function(a){a.registerChartView(Ef),a.registerSeriesModel(F4),a.registerLayout(Cl),a.registerProcessor(Ct("funnel"))},function(a){(0,m.D)(W2),a.registerChartView(Xd),a.registerSeriesModel(Pf),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,Lf)},function(a){a.registerChartView(j2),a.registerSeriesModel(Kf),a.registerLayout(K2),a.registerVisual(Yl),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(n,t){t.eachComponent({mainType:"series",subType:"sankey",query:n},function(i){i.setNodePosition(n.dataIndex,[n.localX,n.localY])})})},function(a){a.registerSeriesModel(sp),a.registerChartView(lp),a.registerVisual(Jh),a.registerLayout(V3),a.registerTransform(hl)},function(a){a.registerChartView(lv),a.registerSeriesModel(xc),a.registerPreprocessor(cv),a.registerVisual(dp),a.registerLayout(fp)},function(a){a.registerChartView($8),a.registerSeriesModel(_1),a.registerLayout(Aa("effectScatter"))},function(a){a.registerChartView(mv),a.registerSeriesModel(_v),a.registerLayout(pp),a.registerVisual(K3)},function(a){a.registerChartView(x),a.registerSeriesModel(I)},function(a){a.registerChartView(Ta),a.registerSeriesModel(Ha),a.registerLayout((0,y.curry)($a.bK,"pictorialBar"))},function(a){a.registerChartView(da),a.registerSeriesModel(Io),a.registerLayout(cs),a.registerProcessor(Ct("themeRiver"))},function(a){a.registerChartView(ly),a.registerSeriesModel(uy),a.registerLayout((0,y.curry)(ax,"sunburst")),a.registerProcessor((0,y.curry)(Ct,"sunburst")),a.registerVisual(ru),function(a){a.registerAction({type:xp,update:"updateView"},function(n,t){t.eachComponent({mainType:"series",subType:"sunburst",query:n},function(l,u){var d=Nc(n,[xp],l);if(d){var v=l.getViewRoot();v&&(n.direction=yl(v,d.node)?"rollUp":"drillDown"),l.resetViewRoot(d.node)}})}),a.registerAction({type:e6,update:"none"},function(n,t,i){n=(0,y.extend)({},n),t.eachComponent({mainType:"series",subType:"sunburst",query:n},function(u){var d=Nc(n,[e6],u);d&&(n.dataIndex=d.node.dataIndex)}),i.dispatchAction((0,y.extend)(n,{type:"highlight"}))}),a.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(n,t,i){n=(0,y.extend)({},n),i.dispatchAction((0,y.extend)(n,{type:"downplay"}))})}(a)},function(a){a.registerChartView(f6),a.registerSeriesModel(i6)}]),(0,m.D)(function(a){(0,m.D)(ns),(0,m.D)(Ev)}),(0,m.D)(function(a){(0,m.D)(Ev),lu.registerAxisPointerClass("PolarAxisPointer",W6),a.registerCoordinateSystem("polar",q6),a.registerComponentModel(By),a.registerComponentView(Lg),Za(a,"angle",Vy,d0),Za(a,"radius",Tg,vx),a.registerComponentView(Dg),a.registerComponentView(Qy),a.registerLayout((0,y.curry)(Jy,"bar"))}),(0,m.D)(_h),(0,m.D)(function(a){(0,m.D)(Ev),lu.registerAxisPointerClass("SingleAxisPointer",sm),a.registerComponentView(i_),a.registerComponentView(iu),a.registerComponentModel(rm),Za(a,"single",rm,rm.defaultOption),a.registerCoordinateSystem("single",om)}),(0,m.D)(W2),(0,m.D)(function(a){a.registerComponentModel(s_),a.registerComponentView(u_),a.registerCoordinateSystem("calendar",mx)}),(0,m.D)(function(a){a.registerComponentModel(xx),a.registerComponentView(bx),a.registerPreprocessor(_x)}),(0,m.D)(function(a){a.registerComponentModel(D_),a.registerComponentView(bm),Iv("saveAsImage",A_),Iv("magicType",L_),Iv("dataView",zm),Iv("dataZoom",Bm),Iv("restore",F_),(0,m.D)(w_)}),(0,m.D)(function(a){(0,m.D)(Ev),a.registerComponentModel(G_),a.registerComponentView($m),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}),(0,m.D)(Ev),(0,m.D)(function(a){a.registerComponentView(g7),a.registerComponentModel(y7),a.registerPreprocessor(zx),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,t5),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(n,t){t.eachComponent({mainType:"brush",query:n},function(i){i.setAreas(n.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Iv("brush",x7)}),(0,m.D)(function(a){a.registerComponentModel(r5),a.registerComponentView(i5)}),(0,m.D)(function(a){a.registerComponentModel(S7),a.registerComponentView(A7),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(a){a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,t,i){var l=t.getComponent("timeline");return l&&null!=n.currentIndex&&(l.setCurrentIndex(n.currentIndex),!l.get("loop",!0)&&l.isIndexMax()&&l.getPlayState()&&(l.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:n.from}))),t.resetOption("timeline",{replaceMerge:l.get("replaceMerge",!0)}),(0,y.defaults)({currentIndex:l.option.currentIndex},n)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,t){var i=t.getComponent("timeline");i&&null!=n.playState&&i.setPlayState(n.playState)})}(a),a.registerPreprocessor(P7)}),(0,m.D)(function(a){a.registerComponentModel(f8),a.registerComponentView(Ux),a.registerPreprocessor(function(n){qp(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})}),(0,m.D)(function(a){a.registerComponentModel(Ts),a.registerComponentView(P1),a.registerPreprocessor(function(n){qp(n.series,"markLine")&&(n.markLine=n.markLine||{})})}),(0,m.D)(function(a){a.registerComponentModel(b8),a.registerComponentView(Yx),a.registerPreprocessor(function(n){qp(n.series,"markArea")&&(n.markArea=n.markArea||{})})}),(0,m.D)(function(a){(0,m.D)(Wv),(0,m.D)(K7)}),(0,m.D)(function(a){(0,m.D)(A5),(0,m.D)(O1)}),(0,m.D)(A5),(0,m.D)(O1),(0,m.D)(function(a){(0,m.D)(Es),(0,m.D)(U5)}),(0,m.D)(Es),(0,m.D)(U5),(0,m.D)(function(a){a.registerPreprocessor(Y5),a.registerVisual(a.PRIORITY.VISUAL.ARIA,S9)}),(0,m.D)(function(a){a.registerTransform(W5),a.registerTransform(P9)}),(0,m.D)(z9.N),(0,m.D)(function(a){a.registerUpdateLifecycle("series:beforeupdate",function(n,t,i){(0,y.each)((0,fr.kF)(i.seriesTransition),function(l){(0,y.each)((0,fr.kF)(l.to),function(u){for(var d=i.updatedSeries,v=0;v<d.length;v++)(null!=u.seriesIndex&&u.seriesIndex===d[v].seriesIndex||null!=u.seriesId&&u.seriesId===d[v].id)&&(d[v][Un.V]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(n,t,i){var l=ey(t);if(l.oldSeries&&i.updatedSeries&&i.optionChanged){var u=i.seriesTransition;if(u)(0,y.each)((0,fr.kF)(u),function(B){!function(a,n,t,i){var l=[],u=[];(0,y.each)((0,fr.kF)(a.from),function(d){var v=ay(n.oldSeries,d);v>=0&&l.push({data:n.oldData[v],divide:ah(n.oldData[v]),dim:d.dimension})}),(0,y.each)((0,fr.kF)(a.to),function(d){var v=ay(t.updatedSeries,d);if(v>=0){var _=t.updatedSeries[v].getData();u.push({data:_,divide:ah(_),dim:d.dimension})}}),l.length>0&&u.length>0&&W8(l,u,i)}(B,l,i,t)});else{var d=function(a,n){var t=(0,y.createHashMap)(),i=(0,y.createHashMap)(),l=(0,y.createHashMap)();return(0,y.each)(a.oldSeries,function(d,v){var _=a.oldData[v],b=ry(d),T=iy(b);i.set(T,_),(0,y.isArray)(b)&&(0,y.each)(b,function(z){l.set(z,{data:_,key:T})})}),(0,y.each)(n.updatedSeries,function(d){if(d.isUniversalTransitionEnabled()&&d.isAnimationEnabled()){var v=d.getData(),_=ry(d),b=iy(_),T=i.get(b);if(T)t.set(b,{oldSeries:[{divide:ah(T),data:T}],newSeries:[{divide:ah(v),data:v}]});else if((0,y.isArray)(_)){var z=[];(0,y.each)(_,function(te){var se=i.get(te);se&&z.push({divide:ah(se),data:se})}),z.length&&t.set(b,{oldSeries:z,newSeries:[{data:v,divide:ah(v)}]})}else{var B=l.get(_);if(B){var G=t.get(B.key);G||(G={oldSeries:[{data:B.data,divide:ah(B.data)}],newSeries:[]},t.set(B.key,G)),G.newSeries.push({data:v,divide:ah(v)})}}}}),t}(l,i);(0,y.each)(d.keys(),function(B){var G=d.get(B);W8(G.oldSeries,G.newSeries,t)})}(0,y.each)(i.updatedSeries,function(B){B[Un.V]&&(B[Un.V]=!1)})}for(var v=n.getSeries(),_=l.oldSeries=[],b=l.oldData=[],T=0;T<v.length;T++){var z=v[T].getData();z.count()<1e4&&(_.push(v[T]),b.push(z))}})}),(0,m.D)(J9.T)},5311:(un,ot,E)=>{"use strict";E.d(ot,{ke:()=>Se,D:()=>y,KZ:()=>ce,eq:()=>q,bX:()=>K,XD:()=>Y,Zi:()=>V,_W:()=>j});var m=E(284),k=(0,E(7911).Yf)();function Se(X,xe,Q,fe,re){var ie;if(xe&&xe.ecModel){var ne=xe.ecModel.getUpdatePayload();ie=ne&&ne.animation}var oe="update"===X;if(xe&&xe.isAnimationEnabled()){var Z=void 0,U=void 0,W=void 0;return fe?(Z=(0,m.retrieve2)(fe.duration,200),U=(0,m.retrieve2)(fe.easing,"cubicOut"),W=0):(Z=xe.getShallow(oe?"animationDurationUpdate":"animationDuration"),U=xe.getShallow(oe?"animationEasingUpdate":"animationEasing"),W=xe.getShallow(oe?"animationDelayUpdate":"animationDelay")),ie&&(null!=ie.duration&&(Z=ie.duration),null!=ie.easing&&(U=ie.easing),null!=ie.delay&&(W=ie.delay)),"function"==typeof W&&(W=W(Q,re)),"function"==typeof Z&&(Z=Z(Q)),{duration:Z||0,delay:W,easing:U}}return null}function le(X,xe,Q,fe,re,ie,ne){var oe,de=!1;"function"==typeof re?(ne=ie,ie=re,re=null):(0,m.isObject)(re)&&(ie=re.cb,ne=re.during,de=re.isFrom,oe=re.removeOpt,re=re.dataIndex);var Z="remove"===X;Z||xe.stopAnimation("remove");var U=Se(X,fe,re,Z?oe||{}:null,fe&&fe.getAnimationDelayParams?fe.getAnimationDelayParams(xe,re):null);if(U&&U.duration>0){var A={duration:U.duration,delay:U.delay||0,easing:U.easing,done:ie,force:!!ie||!!ne,setToFinal:!Z,scope:X,during:ne};de?xe.animateFrom(Q,A):xe.animateTo(Q,A)}else xe.stopAnimation(),!de&&xe.attr(Q),ne&&ne(1),ie&&ie()}function y(X,xe,Q,fe,re,ie){le("update",X,xe,Q,fe,re,ie)}function ce(X,xe,Q,fe,re,ie){le("init",X,xe,Q,fe,re,ie)}function q(X){if(!X.__zr)return!0;for(var xe=0;xe<X.animators.length;xe++)if("remove"===X.animators[xe].scope)return!0;return!1}function K(X,xe,Q,fe,re,ie){q(X)||le("remove",X,xe,Q,fe,re,ie)}function H(X,xe,Q,fe){X.removeTextContent(),X.removeTextGuideLine(),K(X,{style:{opacity:0}},xe,Q,fe)}function Y(X,xe,Q){function fe(){X.parent&&X.parent.remove(X)}X.isGroup?X.traverse(function(re){re.isGroup||H(re,xe,Q,fe)}):H(X,xe,Q,fe)}function V(X){k(X).oldStyle=X.style}function j(X){return k(X).oldStyle}},7521:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>R});var m=E(7911);function R(){var k=(0,m.Yf)();return function(Se){var le=k(Se),y=Se.pipelineContext,ce=!!le.large,q=!!le.progressiveRender,K=le.large=!(!y||!y.large),H=le.progressiveRender=!(!y||!y.progressiveRender);return(ce!==K||q!==H)&&"reset"}}},671:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>ne});var m=E(284),R=E(9),k=E(1629),Se=E(8100),le=E(7911),y=E(1029),ce=function(oe){this.coordSysDims=[],this.axisMap=(0,m.createHashMap)(),this.categoryAxisMap=(0,m.createHashMap)(),this.coordSysName=oe},K={cartesian2d:function(de,oe,Z,U){var W=de.getReferringComponents("xAxis",le.C6).models[0],L=de.getReferringComponents("yAxis",le.C6).models[0];oe.coordSysDims=["x","y"],Z.set("x",W),Z.set("y",L),H(W)&&(U.set("x",W),oe.firstCategoryDimIndex=0),H(L)&&(U.set("y",L),null==oe.firstCategoryDimIndex&&(oe.firstCategoryDimIndex=1))},singleAxis:function(de,oe,Z,U){var W=de.getReferringComponents("singleAxis",le.C6).models[0];oe.coordSysDims=["single"],Z.set("single",W),H(W)&&(U.set("single",W),oe.firstCategoryDimIndex=0)},polar:function(de,oe,Z,U){var W=de.getReferringComponents("polar",le.C6).models[0],L=W.findAxisModel("radiusAxis"),D=W.findAxisModel("angleAxis");oe.coordSysDims=["radius","angle"],Z.set("radius",L),Z.set("angle",D),H(L)&&(U.set("radius",L),oe.firstCategoryDimIndex=0),H(D)&&(U.set("angle",D),null==oe.firstCategoryDimIndex&&(oe.firstCategoryDimIndex=1))},geo:function(de,oe,Z,U){oe.coordSysDims=["lng","lat"]},parallel:function(de,oe,Z,U){var W=de.ecModel,L=W.getComponent("parallel",de.get("parallelIndex")),D=oe.coordSysDims=L.dimensions.slice();(0,m.each)(L.parallelAxisIndex,function(A,M){var C=W.getComponent("parallelAxis",A),P=D[M];Z.set(P,C),H(C)&&(U.set(P,C),null==oe.firstCategoryDimIndex&&(oe.firstCategoryDimIndex=M))})}};function H(de){return"category"===de.get("type")}var Y=E(8296),V=E(7172),j=E(4241),X=E(616);const ne=function(de,oe,Z){Z=Z||{};var W,U=oe.getSourceManager(),L=!1;de?(L=!0,W=(0,Y.nx)(de)):L=(W=U.getSource()).sourceFormat===X.cy;var D=function(de){var oe=de.get("coordinateSystem"),Z=new ce(oe),U=K[oe];if(U)return U(de,Z,Z.axisMap,Z.categoryAxisMap),Z}(oe),A=function(de,oe){var W,Z=de.get("coordinateSystem"),U=y.Z.get(Z);return oe&&oe.coordSysDims&&(W=m.map(oe.coordSysDims,function(L){var D={name:L},A=oe.axisMap.get(L);if(A){var M=A.get("type");D.type=(0,Se.T)(M)}return D})),W||(W=U&&(U.getDimensionsInfo?U.getDimensionsInfo():U.dimensions.slice())||["x","y"]),W}(oe,D),M=Z.useEncodeDefaulter,C=m.isFunction(M)?M:M?m.curry(j.pY,A,oe):null,P={coordDimensions:A,generateCoord:Z.generateCoord,encodeDefine:oe.getEncode(),encodeDefaulter:C,canOmitUnusedDimensions:!L},N=(0,k.Z)(W,P),ee=function(de,oe,Z){var U,W;return Z&&m.each(de,function(L,D){var M=Z.categoryAxisMap.get(L.coordDim);M&&(null==U&&(U=D),L.ordinalMeta=M.getOrdinalMeta(),oe&&(L.createInvertedIndices=!0)),null!=L.otherDims.itemName&&(W=!0)}),!W&&null!=U&&(de[U].otherDims.itemName=0),U}(N.dimensions,Z.createInvertedIndices,D),ye=L?null:U.getSharedDataStore(N),Te=(0,V.BM)(oe,{schema:N,store:ye}),he=new R.Z(N,oe);he.setCalculationInfo(Te);var me=null!=ee&&function(de){if(de.sourceFormat===X.cy){var oe=function(de){for(var oe=0;oe<de.length&&null==de[oe];)oe++;return de[oe]}(de.data||[]);return null!=oe&&!m.isArray((0,le.C4)(oe))}}(W)?function(Re,Le,Je,Oe){return Oe===ee?Je:this.defaultDimValueGetter(Re,Le,Je,Oe)}:null;return he.hasItemOption=!1,he.initData(L?W:ye,null,me),he}},1705:(un,ot,E)=>{"use strict";E.d(ot,{N:()=>q});var m=E(5845),R=E(5747),k=E(5207),Se=E(616),le=E(8882),y=function(K){function H(){var Y=null!==K&&K.apply(this,arguments)||this;return Y.type="dataset",Y}return(0,m.ZT)(H,K),H.prototype.init=function(Y,V,j){K.prototype.init.call(this,Y,V,j),this._sourceManager=new le.U(this),(0,le.t)(this)},H.prototype.mergeOption=function(Y,V){K.prototype.mergeOption.call(this,Y,V),(0,le.t)(this)},H.prototype.optionUpdated=function(){this._sourceManager.dirty()},H.prototype.getSourceManager=function(){return this._sourceManager},H.type="dataset",H.defaultOption={seriesLayoutBy:Se.fY},H}(R.Z),ce=function(K){function H(){var Y=null!==K&&K.apply(this,arguments)||this;return Y.type="dataset",Y}return(0,m.ZT)(H,K),H.type="dataset",H}(k.Z);function q(K){K.registerComponentModel(y),K.registerComponentView(ce)}},9734:(un,ot,E)=>{"use strict";E.d(ot,{w:()=>le});var m=E(284),R=E(3853),k=E(6308),Se=E(7911);function le(ce){var fe,re,ie,ne,q=ce.series,K=ce.dataIndex,H=ce.multipleSeries,Y=q.getData(),V=Y.mapDimensionsAll("defaultedTooltip"),j=V.length,X=q.getRawValue(K),xe=(0,m.isArray)(X),Q=(0,R.jT)(q,K);if(j>1||xe&&!j){var de=function(ce,q,K,H,Y){var V=q.getData(),j=(0,m.reduce)(ce,function(re,ie,ne){var de=V.getDimensionInfo(ne);return re||de&&!1!==de.tooltip&&null!=de.displayName},!1),X=[],xe=[],Q=[];function fe(re,ie){var ne=V.getDimensionInfo(ie);!ne||!1===ne.otherDims.tooltip||(j?Q.push((0,R.TX)("nameValue",{markerType:"subItem",markerColor:Y,name:ne.displayName,value:re,valueType:ne.type})):(X.push(re),xe.push(ne.type)))}return H.length?(0,m.each)(H,function(re){fe((0,k.hk)(V,K,re),re)}):(0,m.each)(ce,fe),{inlineValues:X,inlineValueTypes:xe,blocks:Q}}(X,q,K,V,Q);fe=de.inlineValues,re=de.inlineValueTypes,ie=de.blocks,ne=de.inlineValues[0]}else if(j){var oe=Y.getDimensionInfo(V[0]);ne=fe=(0,k.hk)(Y,K,V[0]),re=oe.type}else ne=fe=xe?X[0]:X;var Z=(0,Se.yu)(q),U=Z&&q.name||"",W=Y.getName(K),L=H?U:W;return(0,R.TX)("section",{header:U,noHeader:H||!Z,sortParam:ne,blocks:[(0,R.TX)("nameValue",{markerType:"item",markerColor:Q,name:L,noName:!(0,m.trim)(L),value:fe,valueType:re})].concat(ie||[])})}},3853:(un,ot,E)=>{"use strict";E.d(ot,{TX:()=>K,BY:()=>j,jT:()=>ne,d_:()=>de,iv:()=>oe});var m=E(780),R=E(284),k=E(3585),Se=E(6573),le="line-height:1";function y(Z,U){var W=Z.color||"#6e7079",L=Z.fontSize||12,D=Z.fontWeight||"400",A=Z.color||"#464646",M=Z.fontSize||14,C=Z.fontWeight||"900";return"html"===U?{nameStyle:"font-size:"+(0,m.F1)(L+"")+"px;color:"+(0,m.F1)(W)+";font-weight:"+(0,m.F1)(D+""),valueStyle:"font-size:"+(0,m.F1)(M+"")+"px;color:"+(0,m.F1)(A)+";font-weight:"+(0,m.F1)(C+"")}:{nameStyle:{fontSize:L,fill:W,fontWeight:D},valueStyle:{fontSize:M,fill:A,fontWeight:C}}}var ce=[0,10,20,30],q=["","\n","\n\n","\n\n\n"];function K(Z,U){return U.type=Z,U}function H(Z){return(0,R.hasOwn)(Y,Z.type)&&Y[Z.type]}var Y={section:{planLayout:function(Z){var U=Z.blocks.length,W=U>1||U>0&&!Z.noHeader,L=0;(0,R.each)(Z.blocks,function(D){H(D).planLayout(D);var A=D.__gapLevelBetweenSubBlocks;A>=L&&(L=A+(!W||A&&("section"!==D.type||D.noHeader)?0:1))}),Z.__gapLevelBetweenSubBlocks=L},build:function(Z,U,W,L){var D=U.noHeader,A=X(U),M=function(Z,U,W,L){var D=[],A=U.blocks||[];(0,R.assert)(!A||(0,R.isArray)(A)),A=A||[];var M=Z.orderMode;if(U.sortBlocks&&M){A=A.slice();var C={valueAsc:"asc",valueDesc:"desc"};if((0,R.hasOwn)(C,M)){var P=new k.ID(C[M],null);A.sort(function(ee,ye){return P.evaluate(ee.sortParam,ye.sortParam)})}else"seriesDesc"===M&&A.reverse()}var N=X(U);if((0,R.each)(A,function(ee,ye){var Te=H(ee).build(Z,ee,ye>0?N.html:0,L);null!=Te&&D.push(Te)}),D.length)return"richText"===Z.renderMode?D.join(N.richText):xe(D.join(""),W)}(Z,U,D?W:A.html,L);if(D)return M;var C=(0,m.uX)(U.header,"ordinal",Z.useUTC),P=y(L,Z.renderMode).nameStyle;return"richText"===Z.renderMode?re(Z,C,P)+A.richText+M:xe('<div style="'+P+";"+le+';">'+(0,m.F1)(C)+"</div>"+M,W)}},nameValue:{planLayout:function(Z){Z.__gapLevelBetweenSubBlocks=0},build:function(Z,U,W,L){var D=Z.renderMode,A=U.noName,M=U.noValue,C=!U.markerType,P=U.name,N=U.value,ee=Z.useUTC;if(!A||!M){var ye=C?"":Z.markupStyleCreator.makeTooltipMarker(U.markerType,U.markerColor||"#333",D),Te=A?"":(0,m.uX)(P,"ordinal",ee),he=U.valueType,me=M?[]:(0,R.isArray)(N)?(0,R.map)(N,function(Fe,et){return(0,m.uX)(Fe,(0,R.isArray)(he)?he[et]:he,ee)}):[(0,m.uX)(N,(0,R.isArray)(he)?he[0]:he,ee)],Re=!C||!A,Le=!C&&A,Je=y(L,D),Oe=Je.nameStyle,Ve=Je.valueStyle;return"richText"===D?(C?"":ye)+(A?"":re(Z,Te,Oe))+(M?"":function(Z,U,W,L,D){var A=[D];return W&&A.push({padding:[0,0,0,L?10:20],align:"right"}),Z.markupStyleCreator.wrapRichTextStyle(U.join("  "),A)}(Z,me,Re,Le,Ve)):xe((C?"":ye)+(A?"":function(Z,U,W){return'<span style="'+W+";"+(U?"margin-left:2px":"")+'">'+(0,m.F1)(Z)+"</span>"}(Te,!C,Oe))+(M?"":function(Z,U,W,L){return'<span style="'+(U?"float:right;margin-left:"+(W?"10px":"20px"):"")+";"+L+'">'+(0,R.map)(Z,function(M){return(0,m.F1)(M)}).join("&nbsp;&nbsp;")+"</span>"}(me,Re,Le,Ve)),W)}}}};function j(Z,U,W,L,D,A){if(Z){var M=H(Z);return M.planLayout(Z),M.build({useUTC:D,renderMode:W,orderMode:L,markupStyleCreator:U},Z,0,A)}}function X(Z){var U=Z.__gapLevelBetweenSubBlocks;return{html:ce[U],richText:q[U]}}function xe(Z,U){return'<div style="margin: '+U+"px 0 0;"+le+';">'+Z+'<div style="clear:both"></div></div>'}function re(Z,U,W){return Z.markupStyleCreator.wrapRichTextStyle(U,W)}function ne(Z,U){var W=Z.getData().getItemVisual(U,"style");return(0,m.Lz)(W[Z.visualDrawType])}function de(Z,U){var W=Z.get("padding");return null!=W?W:"richText"===U?[8,10]:10}var oe=function(){function Z(){this.richTextStyles={},this._nextStyleNameId=(0,Se.jj)()}return Z.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},Z.prototype.makeTooltipMarker=function(U,W,L){var D="richText"===L?this._generateStyleName():null,A=(0,m.A0)({color:W,type:U,renderMode:L,markerId:D});return(0,R.isString)(A)?A:(this.richTextStyles[D]=A.style,A.content)},Z.prototype.wrapRichTextStyle=function(U,W){var L={};(0,R.isArray)(W)?(0,R.each)(W,function(A){return(0,R.extend)(L,A)}):(0,R.extend)(L,W);var D=this._generateStyleName();return this.richTextStyles[D]=L,"{"+D+"|"+U+"}"},Z}()},7428:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>W});var m=E(284),R=E(6573),k=E(7084),Se=E(7911),le=E(9016),y=(0,Se.Yf)();function H(L,D){var P,N,A=j(L,"labels"),M=(0,le.rk)(D);return X(A,M)||(m.isFunction(M)?P=ne(L,M):(N="auto"===M?function(L){var D=y(L).autoInterval;return null!=D?D:y(L).autoInterval=L.calculateCategoryInterval()}(L):M,P=ie(L,N)),xe(A,M,{labels:P,labelCategoryInterval:N}))}function j(L,D){return y(L)[D]||(y(L)[D]=[])}function X(L,D){for(var A=0;A<L.length;A++)if(L[A].key===D)return L[A].value}function xe(L,D,A){return L.push({key:D,value:A}),A}function ie(L,D,A){var M=(0,le.J9)(L),C=L.scale,P=C.getExtent(),N=L.getLabelModel(),ee=[],ye=Math.max((D||0)+1,1),Te=P[0],he=C.count();0!==Te&&ye>1&&he/ye>2&&(Te=Math.round(Math.ceil(Te/ye)*ye));var me=(0,le.WY)(L),Re=N.get("showMinLabel")||me,Le=N.get("showMaxLabel")||me;Re&&Te!==P[0]&&Oe(P[0]);for(var Je=Te;Je<=P[1];Je+=ye)Oe(Je);function Oe(Ve){var Fe={value:Ve};ee.push(A?Ve:{formattedLabel:M(Fe),rawLabel:C.getLabel(Fe),tickValue:Ve})}return Le&&Je-ye!==P[1]&&Oe(P[1]),ee}function ne(L,D,A){var M=L.scale,C=(0,le.J9)(L),P=[];return m.each(M.getTicks(),function(N){var ee=M.getLabel(N),ye=N.value;D(N.value,ee)&&P.push(A?ye:{formattedLabel:C(N),rawLabel:ee,tickValue:ye})}),P}var de=[0,1];function Z(L,D){var C=(L[1]-L[0])/D/2;L[0]+=C,L[1]-=C}const W=function(){function L(D,A,M){this.onBand=!1,this.inverse=!1,this.dim=D,this.scale=A,this._extent=M||[0,0]}return L.prototype.contain=function(D){var A=this._extent,M=Math.min(A[0],A[1]),C=Math.max(A[0],A[1]);return D>=M&&D<=C},L.prototype.containData=function(D){return this.scale.contain(D)},L.prototype.getExtent=function(){return this._extent.slice()},L.prototype.getPixelPrecision=function(D){return(0,R.M9)(D||this.scale.getExtent(),this._extent)},L.prototype.setExtent=function(D,A){var M=this._extent;M[0]=D,M[1]=A},L.prototype.dataToCoord=function(D,A){var M=this._extent,C=this.scale;return D=C.normalize(D),this.onBand&&"ordinal"===C.type&&Z(M=M.slice(),C.count()),(0,R.NU)(D,de,M,A)},L.prototype.coordToData=function(D,A){var M=this._extent,C=this.scale;this.onBand&&"ordinal"===C.type&&Z(M=M.slice(),C.count());var P=(0,R.NU)(D,M,de,A);return this.scale.scale(P)},L.prototype.pointToData=function(D,A){},L.prototype.getTicksCoords=function(D){var A=(D=D||{}).tickModel||this.getTickModel(),M=function(L,D){return"category"===L.type?function(L,D){var P,N,A=j(L,"ticks"),M=(0,le.rk)(D),C=X(A,M);if(C)return C;if((!D.get("show")||L.scale.isBlank())&&(P=[]),m.isFunction(M))P=ne(L,M,!0);else if("auto"===M){var ee=H(L,L.getLabelModel());N=ee.labelCategoryInterval,P=m.map(ee.labels,function(ye){return ye.tickValue})}else P=ie(L,N=M,!0);return xe(A,M,{ticks:P,tickCategoryInterval:N})}(L,D):{ticks:m.map(L.scale.getTicks(),function(A){return A.value})}}(this,A),P=(0,m.map)(M.ticks,function(ee){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(ee):ee),tickValue:ee}},this);return function(L,D,A,M){var C=D.length;if(L.onBand&&!A&&C){var N,P=L.getExtent();if(1===C)D[0].coord=P[0],N=D[1]={coord:P[0]};else{var Te=(D[C-1].coord-D[0].coord)/(D[C-1].tickValue-D[0].tickValue);(0,m.each)(D,function(Le){Le.coord-=Te/2});var he=L.scale.getExtent();D.push(N={coord:D[C-1].coord+Te*(1+he[1]-D[C-1].tickValue)})}var me=P[0]>P[1];Re(D[0].coord,P[0])&&(M?D[0].coord=P[0]:D.shift()),M&&Re(P[0],D[0].coord)&&D.unshift({coord:P[0]}),Re(P[1],N.coord)&&(M?N.coord=P[1]:D.pop()),M&&Re(N.coord,P[1])&&D.push({coord:P[1]})}function Re(Le,Je){return Le=(0,R.NM)(Le),Je=(0,R.NM)(Je),me?Le>Je:Le<Je}}(this,P,A.get("alignWithLabel"),D.clamp),P},L.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var A=this.model.getModel("minorTick").get("splitNumber");A>0&&A<100||(A=5);var M=this.scale.getMinorTicks(A);return(0,m.map)(M,function(P){return(0,m.map)(P,function(N){return{coord:this.dataToCoord(N),tickValue:N}},this)},this)},L.prototype.getViewLabels=function(){return function(L){return"category"===L.type?function(L){var D=L.getLabelModel(),A=H(L,D);return!D.get("show")||L.scale.isBlank()?{labels:[],labelCategoryInterval:A.labelCategoryInterval}:A}(L):function(L){var D=L.scale.getTicks(),A=(0,le.J9)(L);return{labels:m.map(D,function(M,C){return{level:M.level,formattedLabel:A(M,C),rawLabel:L.scale.getLabel(M),tickValue:M.value}})}}(L)}(this).labels},L.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},L.prototype.getTickModel=function(){return this.model.getModel("axisTick")},L.prototype.getBandWidth=function(){var D=this._extent,A=this.scale.getExtent(),M=A[1]-A[0]+(this.onBand?1:0);0===M&&(M=1);var C=Math.abs(D[1]-D[0]);return Math.abs(C)/M},L.prototype.calculateCategoryInterval=function(){return function(L){var D=function(L){var D=L.getLabelModel();return{axisRotate:L.getRotate?L.getRotate():L.isHorizontal&&!L.isHorizontal()?90:0,labelRotate:D.get("rotate")||0,font:D.getFont()}}(L),A=(0,le.J9)(L),M=(D.axisRotate-D.labelRotate)/180*Math.PI,C=L.scale,P=C.getExtent(),N=C.count();if(P[1]-P[0]<1)return 0;var ee=1;N>40&&(ee=Math.max(1,Math.floor(N/40)));for(var ye=P[0],Te=L.dataToCoord(ye+1)-L.dataToCoord(ye),he=Math.abs(Te*Math.cos(M)),me=Math.abs(Te*Math.sin(M)),Re=0,Le=0;ye<=P[1];ye+=ee){var Oe,Ve=k.lP(A({value:ye}),D.font,"center","top");Oe=1.3*Ve.height,Re=Math.max(Re,1.3*Ve.width,7),Le=Math.max(Le,Oe,7)}var Fe=Re/he,et=Le/me;isNaN(Fe)&&(Fe=1/0),isNaN(et)&&(et=1/0);var Ue=Math.max(0,Math.floor(Math.min(Fe,et))),xt=y(L.model),It=L.getExtent(),Pt=xt.lastAutoInterval,Wt=xt.lastTickCount;return null!=Pt&&null!=Wt&&Math.abs(Pt-Ue)<=1&&Math.abs(Wt-N)<=1&&Pt>Ue&&xt.axisExtent0===It[0]&&xt.axisExtent1===It[1]?Ue=Pt:(xt.lastTickCount=N,xt.lastAutoInterval=Ue,xt.axisExtent0=It[0],xt.axisExtent1=It[1]),Ue}(this)},L}()},9016:(un,ot,E)=>{"use strict";E.d(ot,{aG:()=>D,Do:()=>P,DX:()=>C,PY:()=>Te,rk:()=>ee,Xv:()=>U,Yb:()=>A,J9:()=>M,Jk:()=>L,WY:()=>ye,AH:()=>he});var m=E(284),R=E(2884),k=E(2120),Se=E(3563),le=E(9325),y=E(1436),ce=E(6914),q=E(5845),K=E(6573),H=E(2905),Y=Se.Z.prototype,V=k.Z.prototype,j=K.NM,X=Math.floor,xe=Math.ceil,Q=Math.pow,fe=Math.log,re=function(me){function Re(){var Le=null!==me&&me.apply(this,arguments)||this;return Le.type="log",Le.base=10,Le._originalScale=new k.Z,Le._interval=0,Le}return(0,q.ZT)(Re,me),Re.prototype.getTicks=function(Le){var Oe=this._extent,Ve=this._originalScale.getExtent(),Fe=V.getTicks.call(this,Le);return m.map(Fe,function(et){var Ue=et.value,xt=K.NM(Q(this.base,Ue));return xt=Ue===Oe[0]&&this._fixMin?ne(xt,Ve[0]):xt,{value:xt=Ue===Oe[1]&&this._fixMax?ne(xt,Ve[1]):xt}},this)},Re.prototype.setExtent=function(Le,Je){var Oe=this.base;Le=fe(Le)/fe(Oe),Je=fe(Je)/fe(Oe),V.setExtent.call(this,Le,Je)},Re.prototype.getExtent=function(){var Le=this.base,Je=Y.getExtent.call(this);Je[0]=Q(Le,Je[0]),Je[1]=Q(Le,Je[1]);var Ve=this._originalScale.getExtent();return this._fixMin&&(Je[0]=ne(Je[0],Ve[0])),this._fixMax&&(Je[1]=ne(Je[1],Ve[1])),Je},Re.prototype.unionExtent=function(Le){this._originalScale.unionExtent(Le);var Je=this.base;Le[0]=fe(Le[0])/fe(Je),Le[1]=fe(Le[1])/fe(Je),Y.unionExtent.call(this,Le)},Re.prototype.unionExtentFromData=function(Le,Je){this.unionExtent(Le.getApproximateExtent(Je))},Re.prototype.niceTicks=function(Le){Le=Le||10;var Je=this._extent,Oe=Je[1]-Je[0];if(!(Oe===1/0||Oe<=0)){var Ve=K.Xd(Oe);for(Le/Oe*Ve<=.5&&(Ve*=10);!isNaN(Ve)&&Math.abs(Ve)<1&&Math.abs(Ve)>0;)Ve*=10;var et=[K.NM(xe(Je[0]/Ve)*Ve),K.NM(X(Je[1]/Ve)*Ve)];this._interval=Ve,this._niceExtent=et}},Re.prototype.niceExtent=function(Le){V.niceExtent.call(this,Le),this._fixMin=Le.fixMin,this._fixMax=Le.fixMax},Re.prototype.parse=function(Le){return Le},Re.prototype.contain=function(Le){return Le=fe(Le)/fe(this.base),H.XS(Le,this._extent)},Re.prototype.normalize=function(Le){return Le=fe(Le)/fe(this.base),H.Fv(Le,this._extent)},Re.prototype.scale=function(Le){return Le=H.bA(Le,this._extent),Q(this.base,Le)},Re.type="log",Re}(Se.Z),ie=re.prototype;function ne(me,Re){return j(me,K.p8(Re))}ie.getMinorTicks=V.getMinorTicks,ie.getLabel=V.getLabel,Se.Z.registerClass(re);const de=re;var oe=E(7172),Z=E(1802);function U(me,Re){var Le=me.type,Je=(0,Z.Qw)(me,Re,me.getExtent()).calculate();me.setBlank(Je.isBlank);var Oe=Je.min,Ve=Je.max,Fe=Re.ecModel;if(Fe&&"time"===Le){var et=(0,le.Ge)("bar",Fe),Ue=!1;if(m.each(et,function(Pt){Ue=Ue||Pt.getBaseAxis()===Re.axis}),Ue){var xt=(0,le.My)(et),It=function(me,Re,Le,Je){var Oe=Le.axis.getExtent(),Ve=Oe[1]-Oe[0],Fe=(0,le.G_)(Je,Le.axis);if(void 0===Fe)return{min:me,max:Re};var et=1/0;m.each(Fe,function(Qt){et=Math.min(Qt.offset,et)});var Ue=-1/0;m.each(Fe,function(Qt){Ue=Math.max(Qt.offset+Qt.width,Ue)}),et=Math.abs(et),Ue=Math.abs(Ue);var xt=et+Ue,It=Re-me,Wt=It/(1-(et+Ue)/Ve)-It;return{min:me-=Wt*(et/xt),max:Re+=Wt*(Ue/xt)}}(Oe,Ve,Re,xt);Oe=It.min,Ve=It.max}}return{extent:[Oe,Ve],fixMin:Je.minFixed,fixMax:Je.maxFixed}}function L(me,Re){var Le=Re,Je=U(me,Le),Oe=Je.extent,Ve=Le.get("splitNumber");me instanceof de&&(me.base=Le.get("logBase"));var Fe=me.type;me.setExtent(Oe[0],Oe[1]),me.niceExtent({splitNumber:Ve,fixMin:Je.fixMin,fixMax:Je.fixMax,minInterval:"interval"===Fe||"time"===Fe?Le.get("minInterval"):null,maxInterval:"interval"===Fe||"time"===Fe?Le.get("maxInterval"):null});var et=Le.get("interval");null!=et&&me.setInterval&&me.setInterval(et)}function D(me,Re){if(Re=Re||me.get("type"))switch(Re){case"category":return new R.Z({ordinalMeta:me.getOrdinalMeta?me.getOrdinalMeta():me.getCategories(),extent:[1/0,-1/0]});case"time":return new ce.Z({locale:me.ecModel.getLocaleModel(),useUTC:me.ecModel.get("useUTC")});default:return new(Se.Z.getClass(Re)||k.Z)}}function A(me){var Re=me.scale.getExtent(),Le=Re[0],Je=Re[1];return!(Le>0&&Je>0||Le<0&&Je<0)}function M(me){var Je,Re=me.getLabelModel().get("formatter"),Le="category"===me.type?me.scale.getExtent()[0]:null;return"time"===me.scale.type?(Je=Re,function(Oe,Ve){return me.scale.getFormattedLabel(Oe,Ve,Je)}):"string"==typeof Re?function(Je){return function(Oe){var Ve=me.scale.getLabel(Oe);return Je.replace("{value}",null!=Ve?Ve:"")}}(Re):"function"==typeof Re?function(Je){return function(Oe,Ve){return null!=Le&&(Ve=Oe.value-Le),Je(C(me,Oe),Ve,null!=Oe.level?{level:Oe.level}:null)}}(Re):function(Je){return me.scale.getLabel(Je)}}function C(me,Re){return"category"===me.type?me.scale.getLabel(Re):Re.value}function P(me){var Le=me.scale;if(me.model.get(["axisLabel","show"])&&!Le.isBlank()){var Je,Oe,Ve=Le.getExtent();Oe=Le instanceof R.Z?Le.count():(Je=Le.getTicks()).length;var Ue,Fe=me.getLabelModel(),et=M(me),xt=1;Oe>40&&(xt=Math.ceil(Oe/40));for(var It=0;It<Oe;It+=xt){var Wt=et(Je?Je[It]:{value:Ve[0]+It},It),gn=N(Fe.getTextRect(Wt),Fe.get("rotate")||0);Ue?Ue.union(gn):Ue=gn}return Ue}}function N(me,Re){var Le=Re*Math.PI/180,Je=me.width,Oe=me.height,Ve=Je*Math.abs(Math.cos(Le))+Math.abs(Oe*Math.sin(Le)),Fe=Je*Math.abs(Math.sin(Le))+Math.abs(Oe*Math.cos(Le));return new y.Z(me.x,me.y,Ve,Fe)}function ee(me){var Re=me.get("interval");return null==Re?"auto":Re}function ye(me){return"category"===me.type&&0===ee(me.getLabelModel())}function Te(me,Re){var Le={};return m.each(me.mapDimensionsAll(Re),function(Je){Le[(0,oe.IR)(me,Je)]=!0}),m.keys(Le)}function he(me,Re,Le){Re&&m.each(Te(Re,Le),function(Je){var Oe=Re.getApproximateExtent(Je);Oe[0]<me[0]&&(me[0]=Oe[0]),Oe[1]>me[1]&&(me[1]=Oe[1])})}},7498:(un,ot,E)=>{"use strict";E.d(ot,{W:()=>m});var m=function(){function R(){}return R.prototype.getNeedCrossZero=function(){return!this.option.scale},R.prototype.getCoordSysModel=function(){},R}()},6043:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>k});var m=E(284);const k=function(){function Se(le){this.type="cartesian",this._dimList=[],this._axes={},this.name=le||""}return Se.prototype.getAxis=function(le){return this._axes[le]},Se.prototype.getAxes=function(){return m.map(this._dimList,function(le){return this._axes[le]},this)},Se.prototype.getAxesByScale=function(le){return le=le.toLowerCase(),m.filter(this.getAxes(),function(y){return y.scale.type===le})},Se.prototype.addAxis=function(le){var y=le.dim;this._axes[y]=le,this._dimList.push(y)},Se}()},5965:(un,ot,E)=>{"use strict";E.d(ot,{Ni:()=>K,Im:()=>H});var m=E(5845),R=E(1436),k=E(9393),Se=E(7322),le=E(130),y=E(926),ce=[],q=function(){function Y(V){this.name=V}return Y.prototype.getCenter=function(){},Y}(),K=function(Y){function V(j,X,xe){var Q=Y.call(this,j)||this;if(Q.type="geoJSON",Q.geometries=X,xe)xe=[xe[0],xe[1]];else{var fe=Q.getBoundingRect();xe=[fe.x+fe.width/2,fe.y+fe.height/2]}return Q._center=xe,Q}return(0,m.ZT)(V,Y),V.prototype.getBoundingRect=function(){var j=this._rect;if(j)return j;for(var X=Number.MAX_VALUE,xe=[X,X],Q=[-X,-X],fe=[],re=[],ie=this.geometries,ne=0;ne<ie.length;ne++)"polygon"===ie[ne].type&&(k.zk(ie[ne].exterior,fe,re),Se.min(xe,xe,fe),Se.max(Q,Q,re));return 0===ne&&(xe[0]=xe[1]=Q[0]=Q[1]=0),this._rect=new R.Z(xe[0],xe[1],Q[0]-xe[0],Q[1]-xe[1])},V.prototype.contain=function(j){var X=this.getBoundingRect(),xe=this.geometries;if(!X.contain(j[0],j[1]))return!1;e:for(var Q=0,fe=xe.length;Q<fe;Q++)if("polygon"===xe[Q].type){var ie=xe[Q].interiors;if(le.X(xe[Q].exterior,j[0],j[1])){for(var ne=0;ne<(ie?ie.length:0);ne++)if(le.X(ie[ne],j[0],j[1]))continue e;return!0}}return!1},V.prototype.transformTo=function(j,X,xe,Q){var fe=this.getBoundingRect(),re=fe.width/fe.height;xe?Q||(Q=xe/re):xe=re*Q;for(var ie=new R.Z(j,X,xe,Q),ne=fe.calculateTransform(ie),de=this.geometries,oe=0;oe<de.length;oe++)if("polygon"===de[oe].type){for(var Z=de[oe].exterior,U=de[oe].interiors,W=0;W<Z.length;W++)Se.applyTransform(Z[W],Z[W],ne);for(var L=0;L<(U?U.length:0);L++)for(W=0;W<U[L].length;W++)Se.applyTransform(U[L][W],U[L][W],ne)}(fe=this._rect).copy(ie),this._center=[fe.x+fe.width/2,fe.y+fe.height/2]},V.prototype.cloneShallow=function(j){null==j&&(j=this.name);var X=new V(j,this.geometries,this._center);return X._rect=this._rect,X.transformTo=null,X},V.prototype.getCenter=function(){return this._center},V.prototype.setCenter=function(j){this._center=j},V}(q),H=function(Y){function V(j,X){var xe=Y.call(this,j)||this;return xe.type="geoSVG",xe._elOnlyForCalculate=X,xe}return(0,m.ZT)(V,Y),V.prototype.getCenter=function(){var j=this._center;return j||(j=this._center=this._calculateCenter()),j},V.prototype._calculateCenter=function(){for(var j=this._elOnlyForCalculate,X=j.getBoundingRect(),xe=[X.x+X.width/2,X.y+X.height/2],Q=y.identity(ce),fe=j;fe&&!fe.isGeoSVGGraphicRoot;)y.mul(Q,fe.getLocalTransform(),Q),fe=fe.parent;return y.invert(Q,Q),Se.applyTransform(xe,xe,Q),xe},V}(q)},4588:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>R});var m={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function R(k,Se){if("world"===k){var le=m[Se.name];le&&Se.setCenter([le[0],le[1]])}}},9768:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>R});var m={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]};function R(k,Se){if("china"===k){var le=m[Se.name];if(le){var y=Se.getCenter();y[0]+=le[0]/10.5,y[1]+=-le[1]/14,Se.setCenter(y)}}}},6017:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>cn});var m=E(284),R=E(7350),k=E(5252),Se=E(4756),le=E(9024),y=E(5865),ce=E(3246),q=E(7204),K=E(7140),H=E(926),Y=E(9849),V=E(3256),j=E(2204),X=E(9221);function xe(ct){(0,m.isString)(ct)&&(ct=(new DOMParser).parseFromString(ct,"text/xml"));var _t=ct;for(9===_t.nodeType&&(_t=_t.firstChild);"svg"!==_t.nodeName.toLowerCase()||1!==_t.nodeType;)_t=_t.nextSibling;return _t}var Q,fe={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},re=(0,m.keys)(fe),ie={"alignment-baseline":"textBaseline","stop-color":"stopColor"},ne=(0,m.keys)(ie),de=function(){function ct(){this._defs={},this._root=null}return ct.prototype.parse=function(tt,_t){_t=_t||{};var zt=xe(tt);if(!zt)throw new Error("Illegal svg");this._defsUsePending=[];var Ft=new R.Z;this._root=Ft;var qe,lt,ft=[],Ye=zt.getAttribute("viewBox")||"",Ke=parseFloat(zt.getAttribute("width")||_t.width),we=parseFloat(zt.getAttribute("height")||_t.height);isNaN(Ke)&&(Ke=null),isNaN(we)&&(we=null),D(zt,Ft,null,!0,!1);for(var Me=zt.firstChild;Me;)this._parseNode(Me,Ft,ft,null,!1,!1),Me=Me.nextSibling;if(function(ct,tt){for(var _t=0;_t<tt.length;_t++){var zt=tt[_t];zt[0].style[zt[1]]=ct[zt[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],Ye){var Lt=ee(Ye);Lt.length>=4&&(qe={x:parseFloat(Lt[0]||0),y:parseFloat(Lt[1]||0),width:parseFloat(Lt[2]),height:parseFloat(Lt[3])})}if(qe&&null!=Ke&&null!=we&&(lt=Je(qe,{x:0,y:0,width:Ke,height:we}),!_t.ignoreViewBox)){var Kt=Ft;(Ft=new R.Z).add(Kt),Kt.scaleX=Kt.scaleY=lt.scale,Kt.x=lt.x,Kt.y=lt.y}return!_t.ignoreRootClip&&null!=Ke&&null!=we&&Ft.setClipPath(new le.Z({shape:{x:0,y:0,width:Ke,height:we}})),{root:Ft,width:Ke,height:we,viewBoxRect:qe,viewBoxTransform:lt,named:ft}},ct.prototype._parseNode=function(tt,_t,zt,Ft,ft,Ye){var we,Ke=tt.nodeName.toLowerCase(),Me=Ft;if("defs"===Ke&&(ft=!0),"text"===Ke&&(Ye=!0),"defs"===Ke||"switch"===Ke)we=_t;else{if(!ft){var qe=Q[Ke];if(qe&&(0,m.hasOwn)(Q,Ke)){we=qe.call(this,tt,_t);var lt=tt.getAttribute("name");if(lt){var Lt={name:lt,namedFrom:null,svgNodeTagLower:Ke,el:we};zt.push(Lt),"g"===Ke&&(Me=Lt)}else Ft&&zt.push({name:Ft.name,namedFrom:Ft,svgNodeTagLower:Ke,el:we});_t.add(we)}}var Kt=oe[Ke];if(Kt&&(0,m.hasOwn)(oe,Ke)){var Mn=Kt.call(this,tt),Zt=tt.getAttribute("id");Zt&&(this._defs[Zt]=Mn)}}if(we&&we.isGroup)for(var er=tt.firstChild;er;)1===er.nodeType?this._parseNode(er,we,zt,Me,ft,Ye):3===er.nodeType&&Ye&&this._parseText(er,we),er=er.nextSibling},ct.prototype._parseText=function(tt,_t){var zt=new X.Z({style:{text:tt.textContent},silent:!0,x:this._textX||0,y:this._textY||0});W(_t,zt),D(tt,zt,this._defsUsePending,!1,!1),function(ct,tt){var _t=tt.__selfStyle;if(_t){var zt=_t.textBaseline,Ft=zt;zt&&"auto"!==zt&&"baseline"!==zt?"before-edge"===zt||"text-before-edge"===zt?Ft="top":"after-edge"===zt||"text-after-edge"===zt?Ft="bottom":("central"===zt||"mathematical"===zt)&&(Ft="middle"):Ft="alphabetic",ct.style.textBaseline=Ft}var ft=tt.__inheritedStyle;if(ft){var Ye=ft.textAlign,Ke=Ye;Ye&&("middle"===Ye&&(Ke="center"),ct.style.textAlign=Ke)}}(zt,_t);var Ft=zt.style,ft=Ft.fontSize;ft&&ft<9&&(Ft.fontSize=9,zt.scaleX*=ft/9,zt.scaleY*=ft/9);var Ye=(Ft.fontSize||Ft.fontFamily)&&[Ft.fontStyle,Ft.fontWeight,(Ft.fontSize||12)+"px",Ft.fontFamily||"sans-serif"].join(" ");Ft.font=Ye;var Ke=zt.getBoundingRect();return this._textX+=Ke.width,_t.add(zt),zt},ct.internalField=void(Q={g:function(tt,_t){var zt=new R.Z;return W(_t,zt),D(tt,zt,this._defsUsePending,!1,!1),zt},rect:function(tt,_t){var zt=new le.Z;return W(_t,zt),D(tt,zt,this._defsUsePending,!1,!1),zt.setShape({x:parseFloat(tt.getAttribute("x")||"0"),y:parseFloat(tt.getAttribute("y")||"0"),width:parseFloat(tt.getAttribute("width")||"0"),height:parseFloat(tt.getAttribute("height")||"0")}),zt.silent=!0,zt},circle:function(tt,_t){var zt=new Se.Z;return W(_t,zt),D(tt,zt,this._defsUsePending,!1,!1),zt.setShape({cx:parseFloat(tt.getAttribute("cx")||"0"),cy:parseFloat(tt.getAttribute("cy")||"0"),r:parseFloat(tt.getAttribute("r")||"0")}),zt.silent=!0,zt},line:function(tt,_t){var zt=new ce.Z;return W(_t,zt),D(tt,zt,this._defsUsePending,!1,!1),zt.setShape({x1:parseFloat(tt.getAttribute("x1")||"0"),y1:parseFloat(tt.getAttribute("y1")||"0"),x2:parseFloat(tt.getAttribute("x2")||"0"),y2:parseFloat(tt.getAttribute("y2")||"0")}),zt.silent=!0,zt},ellipse:function(tt,_t){var zt=new y.Z;return W(_t,zt),D(tt,zt,this._defsUsePending,!1,!1),zt.setShape({cx:parseFloat(tt.getAttribute("cx")||"0"),cy:parseFloat(tt.getAttribute("cy")||"0"),rx:parseFloat(tt.getAttribute("rx")||"0"),ry:parseFloat(tt.getAttribute("ry")||"0")}),zt.silent=!0,zt},polygon:function(tt,_t){var Ft,zt=tt.getAttribute("points");zt&&(Ft=L(zt));var ft=new q.Z({shape:{points:Ft||[]},silent:!0});return W(_t,ft),D(tt,ft,this._defsUsePending,!1,!1),ft},polyline:function(tt,_t){var Ft,zt=tt.getAttribute("points");zt&&(Ft=L(zt));var ft=new K.Z({shape:{points:Ft||[]},silent:!0});return W(_t,ft),D(tt,ft,this._defsUsePending,!1,!1),ft},image:function(tt,_t){var zt=new k.ZP;return W(_t,zt),D(tt,zt,this._defsUsePending,!1,!1),zt.setStyle({image:tt.getAttribute("xlink:href")||tt.getAttribute("href"),x:+tt.getAttribute("x"),y:+tt.getAttribute("y"),width:+tt.getAttribute("width"),height:+tt.getAttribute("height")}),zt.silent=!0,zt},text:function(tt,_t){var zt=tt.getAttribute("x")||"0",Ft=tt.getAttribute("y")||"0",ft=tt.getAttribute("dx")||"0",Ye=tt.getAttribute("dy")||"0";this._textX=parseFloat(zt)+parseFloat(ft),this._textY=parseFloat(Ft)+parseFloat(Ye);var Ke=new R.Z;return W(_t,Ke),D(tt,Ke,this._defsUsePending,!1,!0),Ke},tspan:function(tt,_t){var zt=tt.getAttribute("x"),Ft=tt.getAttribute("y");null!=zt&&(this._textX=parseFloat(zt)),null!=Ft&&(this._textY=parseFloat(Ft));var ft=tt.getAttribute("dx")||"0",Ye=tt.getAttribute("dy")||"0",Ke=new R.Z;return W(_t,Ke),D(tt,Ke,this._defsUsePending,!1,!0),this._textX+=parseFloat(ft),this._textY+=parseFloat(Ye),Ke},path:function(tt,_t){var zt=tt.getAttribute("d")||"",Ft=(0,Y.iR)(zt);return W(_t,Ft),D(tt,Ft,this._defsUsePending,!1,!1),Ft.silent=!0,Ft}}),ct}(),oe={lineargradient:function(ct){var tt=parseInt(ct.getAttribute("x1")||"0",10),_t=parseInt(ct.getAttribute("y1")||"0",10),zt=parseInt(ct.getAttribute("x2")||"10",10),Ft=parseInt(ct.getAttribute("y2")||"0",10),ft=new V.Z(tt,_t,zt,Ft);return Z(ct,ft),U(ct,ft),ft},radialgradient:function(ct){var tt=parseInt(ct.getAttribute("cx")||"0",10),_t=parseInt(ct.getAttribute("cy")||"0",10),zt=parseInt(ct.getAttribute("r")||"0",10),Ft=new j.Z(tt,_t,zt);return Z(ct,Ft),U(ct,Ft),Ft}};function Z(ct,tt){"userSpaceOnUse"===ct.getAttribute("gradientUnits")&&(tt.global=!0)}function U(ct,tt){for(var _t=ct.firstChild;_t;){if(1===_t.nodeType&&"stop"===_t.nodeName.toLocaleLowerCase()){var Ft,zt=_t.getAttribute("offset");Ft=zt&&zt.indexOf("%")>0?parseInt(zt,10)/100:zt?parseFloat(zt):0;var ft={};Re(_t,ft,ft);var Ye=ft.stopColor||_t.getAttribute("stop-color")||"#000000";tt.colorStops.push({offset:Ft,color:Ye})}_t=_t.nextSibling}}function W(ct,tt){ct&&ct.__inheritedStyle&&(tt.__inheritedStyle||(tt.__inheritedStyle={}),(0,m.defaults)(tt.__inheritedStyle,ct.__inheritedStyle))}function L(ct){for(var tt=ee(ct),_t=[],zt=0;zt<tt.length;zt+=2){var Ft=parseFloat(tt[zt]),ft=parseFloat(tt[zt+1]);_t.push([Ft,ft])}return _t}function D(ct,tt,_t,zt,Ft){var ft=tt,Ye=ft.__inheritedStyle=ft.__inheritedStyle||{},Ke={};1===ct.nodeType&&(function(ct,tt){var _t=ct.getAttribute("transform");if(_t){_t=_t.replace(/,/g," ");var zt=[],Ft=null;_t.replace(ye,function(lt,Lt,Kt){return zt.push(Lt,Kt),""});for(var ft=zt.length-1;ft>0;ft-=2){var Ke=zt[ft-1],we=ee(zt[ft]);switch(Ft=Ft||H.create(),Ke){case"translate":H.translate(Ft,Ft,[parseFloat(we[0]),parseFloat(we[1]||"0")]);break;case"scale":H.scale(Ft,Ft,[parseFloat(we[0]),parseFloat(we[1]||we[0])]);break;case"rotate":H.rotate(Ft,Ft,-parseFloat(we[0])*Te);break;case"skewX":var Me=Math.tan(parseFloat(we[0])*Te);H.mul(Ft,[1,0,Me,1,0,0],Ft);break;case"skewY":var qe=Math.tan(parseFloat(we[0])*Te);H.mul(Ft,[1,qe,0,1,0,0],Ft);break;case"matrix":Ft[0]=parseFloat(we[0]),Ft[1]=parseFloat(we[1]),Ft[2]=parseFloat(we[2]),Ft[3]=parseFloat(we[3]),Ft[4]=parseFloat(we[4]),Ft[5]=parseFloat(we[5])}}tt.setLocalTransform(Ft)}}(ct,tt),Re(ct,Ye,Ke),zt||function(ct,tt,_t){for(var zt=0;zt<re.length;zt++)null!=(ft=ct.getAttribute(Ft=re[zt]))&&(tt[fe[Ft]]=ft);for(zt=0;zt<ne.length;zt++){var Ft,ft;null!=(ft=ct.getAttribute(Ft=ne[zt]))&&(_t[ie[Ft]]=ft)}}(ct,Ye,Ke)),ft.style=ft.style||{},null!=Ye.fill&&(ft.style.fill=C(ft,"fill",Ye.fill,_t)),null!=Ye.stroke&&(ft.style.stroke=C(ft,"stroke",Ye.stroke,_t)),(0,m.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(we){null!=Ye[we]&&(ft.style[we]=parseFloat(Ye[we]))}),(0,m.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(we){null!=Ye[we]&&(ft.style[we]=Ye[we])}),Ft&&(ft.__selfStyle=Ke),Ye.lineDash&&(ft.style.lineDash=(0,m.map)(ee(Ye.lineDash),function(we){return parseFloat(we)})),("hidden"===Ye.visibility||"collapse"===Ye.visibility)&&(ft.invisible=!0),"none"===Ye.display&&(ft.ignore=!0)}var M=/^url\(\s*#(.*?)\)/;function C(ct,tt,_t,zt){var Ft=_t&&_t.match(M);if(!Ft)return"none"===_t&&(_t=null),_t;var ft=(0,m.trim)(Ft[1]);zt.push([ct,tt,ft])}var N=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ee(ct){return ct.match(N)||[]}var ye=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Te=Math.PI/180,me=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Re(ct,tt,_t){var zt=ct.getAttribute("style");if(zt){me.lastIndex=0;for(var Ft;null!=(Ft=me.exec(zt));){var ft=Ft[1],Ye=(0,m.hasOwn)(fe,ft)?fe[ft]:null;Ye&&(tt[Ye]=Ft[2]);var Ke=(0,m.hasOwn)(ie,ft)?ie[ft]:null;Ke&&(_t[Ke]=Ft[2])}}}function Je(ct,tt){var Ft=Math.min(tt.width/ct.width,tt.height/ct.height);return{scale:Ft,x:-(ct.x+ct.width/2)*Ft+(tt.x+tt.width/2),y:-(ct.y+ct.height/2)*Ft+(tt.y+tt.height/2)}}for(var Ve=E(1436),Fe=E(5965),et=(0,m.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Ue=function(){function ct(tt,_t){this.type="geoSVG",this._usedGraphicMap=(0,m.createHashMap)(),this._freedGraphics=[],this._mapName=tt,this._parsedXML=xe(_t)}return ct.prototype.load=function(){var tt=this._firstGraphic;if(!tt){tt=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(tt),this._boundingRect=this._firstGraphic.boundingRect.clone();var _t=function(ct){var tt=[],_t=(0,m.createHashMap)();return(0,m.each)(ct,function(zt){if(null==zt.namedFrom){var Ft=new Fe.Im(zt.name,zt.el);tt.push(Ft),_t.set(zt.name,Ft)}}),{regions:tt,regionsMap:_t}}(tt.named),Ft=_t.regionsMap;this._regions=_t.regions,this._regionsMap=Ft}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},ct.prototype._buildGraphic=function(tt){var _t,zt;try{_t=tt&&function(ct,tt){return(new de).parse(ct,{ignoreViewBox:!0,ignoreRootClip:!0})}(tt)||{},(0,m.assert)(null!=(zt=_t.root))}catch(er){throw new Error("Invalid svg format\n"+er.message)}var Ft=new R.Z;Ft.add(zt),Ft.isGeoSVGGraphicRoot=!0;var ft=_t.width,Ye=_t.height,Ke=_t.viewBoxRect,we=this._boundingRect;if(!we){var Me=void 0,qe=void 0,lt=void 0,Lt=void 0;if(null!=ft?(Me=0,lt=ft):Ke&&(Me=Ke.x,lt=Ke.width),null!=Ye?(qe=0,Lt=Ye):Ke&&(qe=Ke.y,Lt=Ke.height),null==Me||null==qe){var Kt=zt.getBoundingRect();null==Me&&(Me=Kt.x,lt=Kt.width),null==qe&&(qe=Kt.y,Lt=Kt.height)}we=this._boundingRect=new Ve.Z(Me,qe,lt,Lt)}if(Ke){var Mn=Je(Ke,we);zt.scaleX=zt.scaleY=Mn.scale,zt.x=Mn.x,zt.y=Mn.y}Ft.setClipPath(new le.Z({shape:we.plain()}));var Zt=[];return(0,m.each)(_t.named,function(er){null!=et.get(er.svgNodeTagLower)&&(Zt.push(er),function(ct){ct.silent=!1,ct.isGroup&&ct.traverse(function(tt){tt.silent=!1})}(er.el))}),{root:Ft,boundingRect:we,named:Zt}},ct.prototype.useGraphic=function(tt){var _t=this._usedGraphicMap,zt=_t.get(tt);return zt||(zt=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),_t.set(tt,zt),zt)},ct.prototype.freeGraphic=function(tt){var _t=this._usedGraphicMap,zt=_t.get(tt);zt&&(_t.removeKey(tt),this._freedGraphics.push(zt))},ct}(),Pt=E(5868),Wt=[126,25],gn=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],In=0;In<gn.length;In++)for(var Dn=0;Dn<gn[In].length;Dn++)gn[In][Dn][0]/=10.5,gn[In][Dn][1]/=-14,gn[In][Dn][0]+=Wt[0],gn[In][Dn][1]+=Wt[1];var sn=E(9768),it=E(4588),vn=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],je=function(){function ct(tt,_t,zt){this.type="geoJSON",this._parsedMap=(0,m.createHashMap)(),this._mapName=tt,this._specialAreas=zt,this._geoJSON=function(ct){return(0,m.isString)(ct)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(ct):new Function("return ("+ct+");")():ct}(_t)}return ct.prototype.load=function(tt,_t){var zt=this._parsedMap.get(_t=_t||"name");if(!zt){var Ft=this._parseToRegions(_t);zt=this._parsedMap.set(_t,{regions:Ft,boundingRect:yt(Ft)})}var ft=(0,m.createHashMap)(),Ye=[];return(0,m.each)(zt.regions,function(Ke){var we=Ke.name;tt&&tt.hasOwnProperty(we)&&(Ke=Ke.cloneShallow(we=tt[we])),Ye.push(Ke),ft.set(we,Ke)}),{regions:Ye,boundingRect:zt.boundingRect||new Ve.Z(0,0,0,0),regionsMap:ft}},ct.prototype._parseToRegions=function(tt){var Ft,_t=this._mapName,zt=this._geoJSON;try{Ft=zt?(0,Pt.Z)(zt,tt):[]}catch(ft){throw new Error("Invalid geoJson format\n"+ft.message)}return function(ct,tt){if("china"===ct){for(var _t=0;_t<tt.length;_t++)if("\u5357\u6d77\u8bf8\u5c9b"===tt[_t].name)return;tt.push(new Fe.Ni("\u5357\u6d77\u8bf8\u5c9b",m.map(gn,function(zt){return{type:"polygon",exterior:zt}}),Wt))}}(_t,Ft),(0,m.each)(Ft,function(ft){var Ye=ft.name;(0,sn.Z)(_t,ft),(0,it.Z)(_t,ft),function(ct,tt){"china"===ct&&"\u53f0\u6e7e"===tt.name&&tt.geometries.push({type:"polygon",exterior:vn[0]})}(_t,ft);var Ke=this._specialAreas&&this._specialAreas[Ye];Ke&&ft.transformTo(Ke.left,Ke.top,Ke.width,Ke.height)},this),Ft},ct.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},ct}();function yt(ct){for(var tt,_t=0;_t<ct.length;_t++){var zt=ct[_t].getBoundingRect();(tt=tt||zt.clone()).union(zt)}return tt}var $t=(0,m.createHashMap)();const cn={registerMap:function(ct,tt,_t){if(tt.svg){var zt=new Ue(ct,tt.svg);$t.set(ct,zt)}else{var Ft=tt.geoJson||tt.geoJSON;Ft&&!tt.features?_t=tt.specialAreas:Ft=tt,zt=new je(ct,Ft,_t),$t.set(ct,zt)}},getGeoResource:function(ct){return $t.get(ct)},getMapForUser:function(ct){var tt=$t.get(ct);return tt&&"geoJSON"===tt.type&&tt.getMapForUser()},load:function(ct,tt,_t){var zt=$t.get(ct);if(zt)return zt.load(tt,_t)}}},5868:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>le});var m=E(284),R=E(5965);function Se(y,ce,q){for(var K=[],H=ce[0],Y=ce[1],V=0;V<y.length;V+=2){var j=y.charCodeAt(V)-64,X=y.charCodeAt(V+1)-64;j=j>>1^-(1&j),X=X>>1^-(1&X),H=j+=H,Y=X+=Y,K.push([j/q,X/q])}return K}function le(y,ce){return y=function(y){if(!y.UTF8Encoding)return y;var ce=y,q=ce.UTF8Scale;null==q&&(q=1024);for(var K=ce.features,H=0;H<K.length;H++){var V=K[H].geometry;if("Polygon"===V.type)for(var j=V.coordinates,X=0;X<j.length;X++)j[X]=Se(j[X],V.encodeOffsets[X],q);else if("MultiPolygon"===V.type)for(j=V.coordinates,X=0;X<j.length;X++)for(var xe=j[X],Q=0;Q<xe.length;Q++)xe[Q]=Se(xe[Q],V.encodeOffsets[X][Q],q)}return ce.UTF8Encoding=!1,ce}(y),m.map(m.filter(y.features,function(q){return q.geometry&&q.properties&&q.geometry.coordinates.length>0}),function(q){var V,K=q.properties,H=q.geometry,Y=[];"Polygon"===H.type&&Y.push({type:"polygon",exterior:(V=H.coordinates)[0],interiors:V.slice(1)}),"MultiPolygon"===H.type&&m.each(V=H.coordinates,function(xe){xe[0]&&Y.push({type:"polygon",exterior:xe[0],interiors:xe.slice(1)})});var j=new R.Ni(K[ce||"name"],Y,K.cp);return j.properties=K,j})}},1802:(un,ot,E)=>{"use strict";E.d(ot,{Qw:()=>y,hj:()=>ce});var m=E(284),R=E(7084),k=function(){function q(K,H,Y){this._prepareParams(K,H,Y)}return q.prototype._prepareParams=function(K,H,Y){Y[1]<Y[0]&&(Y=[NaN,NaN]),this._dataMin=Y[0],this._dataMax=Y[1];var V=this._isOrdinal="ordinal"===K.type;this._needCrossZero=H.getNeedCrossZero&&H.getNeedCrossZero();var j=this._modelMinRaw=H.get("min",!0);(0,m.isFunction)(j)?this._modelMinNum=ce(K,j({min:Y[0],max:Y[1]})):"dataMin"!==j&&(this._modelMinNum=ce(K,j));var X=this._modelMaxRaw=H.get("max",!0);if((0,m.isFunction)(X)?this._modelMaxNum=ce(K,X({min:Y[0],max:Y[1]})):"dataMax"!==X&&(this._modelMaxNum=ce(K,X)),V)this._axisDataLen=H.getCategories().length;else{var xe=H.get("boundaryGap"),Q=(0,m.isArray)(xe)?xe:[xe||0,xe||0];this._boundaryGapInner="boolean"==typeof Q[0]||"boolean"==typeof Q[1]?[0,0]:[(0,R.GM)(Q[0],1),(0,R.GM)(Q[1],1)]}},q.prototype.calculate=function(){var K=this._isOrdinal,H=this._dataMin,Y=this._dataMax,V=this._axisDataLen,j=this._boundaryGapInner,X=K?null:Y-H||Math.abs(H),xe="dataMin"===this._modelMinRaw?H:this._modelMinNum,Q="dataMax"===this._modelMaxRaw?Y:this._modelMaxNum,fe=null!=xe,re=null!=Q;null==xe&&(xe=K?V?0:NaN:H-j[0]*X),null==Q&&(Q=K?V?V-1:NaN:Y+j[1]*X),(null==xe||!isFinite(xe))&&(xe=NaN),(null==Q||!isFinite(Q))&&(Q=NaN);var ie=(0,m.eqNaN)(xe)||(0,m.eqNaN)(Q)||K&&!V;this._needCrossZero&&(xe>0&&Q>0&&!fe&&(xe=0),xe<0&&Q<0&&!re&&(Q=0));var ne=this._determinedMin,de=this._determinedMax;return null!=ne&&(xe=ne,fe=!0),null!=de&&(Q=de,re=!0),{min:xe,max:Q,minFixed:fe,maxFixed:re,isBlank:ie}},q.prototype.modifyDataMinMax=function(K,H){this[le[K]]=H},q.prototype.setDeterminedMinMax=function(K,H){this[Se[K]]=H},q.prototype.freeze=function(){this.frozen=!0},q}(),Se={min:"_determinedMin",max:"_determinedMax"},le={min:"_dataMin",max:"_dataMax"};function y(q,K,H){var Y=q.rawExtentInfo;return Y||(Y=new k(q,K,H),q.rawExtentInfo=Y,Y)}function ce(q,K){return null==K?null:(0,m.eqNaN)(K)?NaN:q.parse(K)}},1029:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>Se});var m=E(284),R={};const Se=function(){function le(){this._coordinateSystems=[]}return le.prototype.create=function(y,ce){var q=[];m.each(R,function(K,H){var Y=K.create(y,ce);q=q.concat(Y||[])}),this._coordinateSystems=q},le.prototype.update=function(y,ce){m.each(this._coordinateSystems,function(q){q.update&&q.update(y,ce)})},le.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},le.register=function(y,ce){R[y]=ce},le.get=function(y){return R[y]},le}()},1347:(un,ot,E)=>{"use strict";E.d(ot,{Hr:()=>$a,$j:()=>Ct,Ok:()=>vs,HO:()=>bo,eU:()=>Ht,zP:()=>hn,B9:()=>_n,wL:()=>za,JE:()=>Fn,rp:()=>ir,FU:()=>jo,S1:()=>Xe,zl:()=>oi,RS:()=>ka,qR:()=>ji,yn:()=>Wa,I2:()=>Ji.I2,je:()=>Bo,sq:()=>Zi,Br:()=>ai,ds:()=>$r,Pu:()=>fi,aW:()=>ar,OB:()=>Ks,YK:()=>Ci,Og:()=>xa,jQ:()=>ko,i8:()=>Ja});var m=E(5845),R=E(228),k=E(284),Se=E(589),le=E(5065),y=E(7318),ce=E(4955),q=E(7911),K=E(774),H=E(5747),Y="";"undefined"!=typeof navigator&&(Y=navigator.platform||"");var V="rgba(0, 0, 0, 0.2)";const j={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:V,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:V,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:V,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:V,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:V,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:V,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Y.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var fe,re,ie,X=E(4241),xe=E(4137),Q=E(4279),ne="\0_ec_inner",L=function(Mt){function Rt(){return null!==Mt&&Mt.apply(this,arguments)||this}return(0,m.ZT)(Rt,Mt),Rt.prototype.init=function(ht,Tt,Dt,jt,pn,Jn){jt=jt||{},this.option=null,this._theme=new K.Z(jt),this._locale=new K.Z(pn),this._optionManager=Jn},Rt.prototype.setOption=function(ht,Tt,Dt){var jt=P(Tt);this._optionManager.setOption(ht,Dt,jt),this._resetOption(null,jt)},Rt.prototype.resetOption=function(ht,Tt){return this._resetOption(ht,P(Tt))},Rt.prototype._resetOption=function(ht,Tt){var Dt=!1,jt=this._optionManager;if(!ht||"recreate"===ht){var pn=jt.mountOption("recreate"===ht);this.option&&"recreate"!==ht?(this.restoreData(),this._mergeOption(pn,Tt)):ie(this,pn),Dt=!0}if(("timeline"===ht||"media"===ht)&&this.restoreData(),!ht||"recreate"===ht||"timeline"===ht){var Jn=jt.getTimelineOption(this);Jn&&(Dt=!0,this._mergeOption(Jn,Tt))}if(!ht||"recreate"===ht||"media"===ht){var jn=jt.getMediaOption(this);jn.length&&(0,k.each)(jn,function(qt){Dt=!0,this._mergeOption(qt,Tt)},this)}return Dt},Rt.prototype.mergeOption=function(ht){this._mergeOption(ht,null)},Rt.prototype._mergeOption=function(ht,Tt){var Dt=this.option,jt=this._componentsMap,pn=this._componentsCount,Jn=[],jn=(0,k.createHashMap)(),qt=Tt&&Tt.replaceMergeMainTypeMap;(0,X.md)(this),(0,k.each)(ht,function(fn,Hn){null!=fn&&(H.Z.hasClass(Hn)?Hn&&(Jn.push(Hn),jn.set(Hn,!0)):Dt[Hn]=null==Dt[Hn]?(0,k.clone)(fn):(0,k.merge)(Dt[Hn],fn,!0))}),qt&&qt.each(function(fn,Hn){H.Z.hasClass(Hn)&&!jn.get(Hn)&&(Jn.push(Hn),jn.set(Hn,!0))}),H.Z.topologicalTravel(Jn,H.Z.getAllClassMainTypes(),function(fn){var Hn=(0,xe.R)(this,fn,q.kF(ht[fn])),Gn=jt.get(fn),mr=Gn?qt&&qt.get(fn)?"replaceMerge":"normalMerge":"replaceAll",wr=q.ab(Gn,Hn,mr);q.O0(wr,fn,H.Z),Dt[fn]=null,jt.set(fn,null),pn.set(fn,0);var Dr=[],Mr=[],ci=0;(0,k.each)(wr,function(vi,bi){var $i=vi.existing,Ca=vi.newOption;if(Ca){var Za=H.Z.getClass(fn,vi.keyInfo.subType,!("series"===fn));if(!Za)return;if($i&&$i.constructor===Za)$i.name=vi.keyInfo.name,$i.mergeOption(Ca,this),$i.optionUpdated(Ca,!1);else{var ao=(0,k.extend)({componentIndex:bi},vi.keyInfo);$i=new Za(Ca,this,this,ao),(0,k.extend)($i,ao),vi.brandNew&&($i.__requireNewView=!0),$i.init(Ca,this,this),$i.optionUpdated(null,!0)}}else $i&&($i.mergeOption({},this),$i.optionUpdated({},!1));$i?(Dr.push($i.option),Mr.push($i),ci++):(Dr.push(void 0),Mr.push(void 0))},this),Dt[fn]=Dr,jt.set(fn,Mr),pn.set(fn,ci),"series"===fn&&fe(this)},this),this._seriesIndices||fe(this)},Rt.prototype.getOption=function(){var ht=(0,k.clone)(this.option);return(0,k.each)(ht,function(Tt,Dt){if(H.Z.hasClass(Dt)){for(var jt=q.kF(Tt),pn=jt.length,Jn=!1,jn=pn-1;jn>=0;jn--)jt[jn]&&!q.lY(jt[jn])?Jn=!0:(jt[jn]=null,!Jn&&pn--);jt.length=pn,ht[Dt]=jt}}),delete ht[ne],ht},Rt.prototype.getTheme=function(){return this._theme},Rt.prototype.getLocaleModel=function(){return this._locale},Rt.prototype.setUpdatePayload=function(ht){this._payload=ht},Rt.prototype.getUpdatePayload=function(){return this._payload},Rt.prototype.getComponent=function(ht,Tt){var Dt=this._componentsMap.get(ht);if(Dt){var jt=Dt[Tt||0];if(jt)return jt;if(null==Tt)for(var pn=0;pn<Dt.length;pn++)if(Dt[pn])return Dt[pn]}},Rt.prototype.queryComponents=function(ht){var Tt=ht.mainType;if(!Tt)return[];var jn,Dt=ht.index,jt=ht.id,pn=ht.name,Jn=this._componentsMap.get(Tt);return Jn&&Jn.length?(null!=Dt?(jn=[],(0,k.each)(q.kF(Dt),function(qt){Jn[qt]&&jn.push(Jn[qt])})):jn=null!=jt?M("id",jt,Jn):null!=pn?M("name",pn,Jn):(0,k.filter)(Jn,function(qt){return!!qt}),C(jn,ht)):[]},Rt.prototype.findComponents=function(ht){var qt,Cn,fn,Hn,Dt=ht.mainType,jt=(Cn=Dt+"Index",fn=Dt+"Id",Hn=Dt+"Name",!(qt=ht.query)||null==qt[Cn]&&null==qt[fn]&&null==qt[Hn]?null:{mainType:Dt,index:qt[Cn],id:qt[fn],name:qt[Hn]}),pn=jt?this.queryComponents(jt):(0,k.filter)(this._componentsMap.get(Dt),function(qt){return!!qt});return function(qt){return ht.filter?(0,k.filter)(qt,ht.filter):qt}(C(pn,ht))},Rt.prototype.eachComponent=function(ht,Tt,Dt){var jt=this._componentsMap;if((0,k.isFunction)(ht)){var pn=Tt,Jn=ht;jt.each(function(fn,Hn){for(var Gn=0;fn&&Gn<fn.length;Gn++){var mr=fn[Gn];mr&&Jn.call(pn,Hn,mr,mr.componentIndex)}})}else for(var jn=(0,k.isString)(ht)?jt.get(ht):(0,k.isObject)(ht)?this.findComponents(ht):null,qt=0;jn&&qt<jn.length;qt++){var Cn=jn[qt];Cn&&Tt.call(Dt,Cn,Cn.componentIndex)}},Rt.prototype.getSeriesByName=function(ht){var Tt=q.U5(ht,null);return(0,k.filter)(this._componentsMap.get("series"),function(Dt){return!!Dt&&null!=Tt&&Dt.name===Tt})},Rt.prototype.getSeriesByIndex=function(ht){return this._componentsMap.get("series")[ht]},Rt.prototype.getSeriesByType=function(ht){return(0,k.filter)(this._componentsMap.get("series"),function(Tt){return!!Tt&&Tt.subType===ht})},Rt.prototype.getSeries=function(){return(0,k.filter)(this._componentsMap.get("series"),function(ht){return!!ht})},Rt.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},Rt.prototype.eachSeries=function(ht,Tt){re(this),(0,k.each)(this._seriesIndices,function(Dt){var jt=this._componentsMap.get("series")[Dt];ht.call(Tt,jt,Dt)},this)},Rt.prototype.eachRawSeries=function(ht,Tt){(0,k.each)(this._componentsMap.get("series"),function(Dt){Dt&&ht.call(Tt,Dt,Dt.componentIndex)})},Rt.prototype.eachSeriesByType=function(ht,Tt,Dt){re(this),(0,k.each)(this._seriesIndices,function(jt){var pn=this._componentsMap.get("series")[jt];pn.subType===ht&&Tt.call(Dt,pn,jt)},this)},Rt.prototype.eachRawSeriesByType=function(ht,Tt,Dt){return(0,k.each)(this.getSeriesByType(ht),Tt,Dt)},Rt.prototype.isSeriesFiltered=function(ht){return re(this),null==this._seriesIndicesMap.get(ht.componentIndex)},Rt.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},Rt.prototype.filterSeries=function(ht,Tt){re(this);var Dt=[];(0,k.each)(this._seriesIndices,function(jt){var pn=this._componentsMap.get("series")[jt];ht.call(Tt,pn,jt)&&Dt.push(jt)},this),this._seriesIndices=Dt,this._seriesIndicesMap=(0,k.createHashMap)(Dt)},Rt.prototype.restoreData=function(ht){fe(this);var Tt=this._componentsMap,Dt=[];Tt.each(function(jt,pn){H.Z.hasClass(pn)&&Dt.push(pn)}),H.Z.topologicalTravel(Dt,H.Z.getAllClassMainTypes(),function(jt){(0,k.each)(Tt.get(jt),function(pn){pn&&("series"!==jt||!function(Mt,Rt){if(Rt){var ht=Rt.seriesIndex,Tt=Rt.seriesId,Dt=Rt.seriesName;return null!=ht&&Mt.componentIndex!==ht||null!=Tt&&Mt.id!==Tt||null!=Dt&&Mt.name!==Dt}}(pn,ht))&&pn.restoreData()})})},Rt.internalField=(fe=function(ht){var Tt=ht._seriesIndices=[];(0,k.each)(ht._componentsMap.get("series"),function(Dt){Dt&&Tt.push(Dt.componentIndex)}),ht._seriesIndicesMap=(0,k.createHashMap)(Tt)},re=function(ht){},void(ie=function(ht,Tt){ht.option={},ht.option[ne]=1,ht._componentsMap=(0,k.createHashMap)({series:[]}),ht._componentsCount=(0,k.createHashMap)();var Dt=Tt.aria;(0,k.isObject)(Dt)&&null==Dt.enabled&&(Dt.enabled=!0),function(Mt,Rt){var ht=Mt.color&&!Mt.colorLayer;(0,k.each)(Rt,function(Tt,Dt){"colorLayer"===Dt&&ht||H.Z.hasClass(Dt)||("object"==typeof Tt?Mt[Dt]=Mt[Dt]?(0,k.merge)(Mt[Dt],Tt,!1):(0,k.clone)(Tt):null==Mt[Dt]&&(Mt[Dt]=Tt))})}(Tt,ht._theme.option),(0,k.merge)(Tt,j,!1),ht._mergeOption(Tt,null)})),Rt}(K.Z);function M(Mt,Rt,ht){if((0,k.isArray)(Rt)){var Tt=(0,k.createHashMap)();return(0,k.each)(Rt,function(jt){null!=jt&&null!=q.U5(jt,null)&&Tt.set(jt,!0)}),(0,k.filter)(ht,function(jt){return jt&&Tt.get(jt[Mt])})}var Dt=q.U5(Rt,null);return(0,k.filter)(ht,function(jt){return jt&&null!=Dt&&jt[Mt]===Dt})}function C(Mt,Rt){return Rt.hasOwnProperty("subType")?(0,k.filter)(Mt,function(ht){return ht&&ht.subType===Rt.subType}):Mt}function P(Mt){var Rt=(0,k.createHashMap)();return Mt&&(0,k.each)(q.kF(Mt.replaceMerge),function(ht){Rt.set(ht,!0)}),{replaceMergeMainTypeMap:Rt}}(0,k.mixin)(L,Q._);const N=L;var ee=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const Te=function(Rt){k.each(ee,function(ht){this[ht]=k.bind(Rt[ht],Rt)},this)};var he=E(1029),me=/^(min|max)?(.+)$/;function Je(Mt,Rt,ht){var Tt={width:Rt,height:ht,aspectratio:Rt/ht},Dt=!0;return(0,k.each)(Mt,function(jt,pn){var Jn=pn.match(me);if(Jn&&Jn[1]&&Jn[2]){var jn=Jn[1],qt=Jn[2].toLowerCase();(function(Mt,Rt,ht){return"min"===ht?Mt>=Rt:"max"===ht?Mt<=Rt:Mt===Rt})(Tt[qt],jt,jn)||(Dt=!1)}}),Dt}const Fe=function(){function Mt(Rt){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=Rt}return Mt.prototype.setOption=function(Rt,ht,Tt){Rt&&((0,k.each)((0,q.kF)(Rt.series),function(pn){pn&&pn.data&&(0,k.isTypedArray)(pn.data)&&(0,k.setAsPrimitive)(pn.data)}),(0,k.each)((0,q.kF)(Rt.dataset),function(pn){pn&&pn.source&&(0,k.isTypedArray)(pn.source)&&(0,k.setAsPrimitive)(pn.source)})),Rt=(0,k.clone)(Rt);var Dt=this._optionBackup,jt=function(Mt,Rt,ht){var Dt,jt,Tt=[],pn=Mt.baseOption,Jn=Mt.timeline,jn=Mt.options,qt=Mt.media,Cn=!!Mt.media,fn=!!(jn||Jn||pn&&pn.timeline);function Hn(Gn){(0,k.each)(Rt,function(mr){mr(Gn,ht)})}return pn?(jt=pn).timeline||(jt.timeline=Jn):((fn||Cn)&&(Mt.options=Mt.media=null),jt=Mt),Cn&&(0,k.isArray)(qt)&&(0,k.each)(qt,function(Gn){Gn&&Gn.option&&(Gn.query?Tt.push(Gn):Dt||(Dt=Gn))}),Hn(jt),(0,k.each)(jn,function(Gn){return Hn(Gn)}),(0,k.each)(Tt,function(Gn){return Hn(Gn.option)}),{baseOption:jt,timelineOptions:jn||[],mediaDefault:Dt,mediaList:Tt}}(Rt,ht,!Dt);this._newBaseOption=jt.baseOption,Dt?(jt.timelineOptions.length&&(Dt.timelineOptions=jt.timelineOptions),jt.mediaList.length&&(Dt.mediaList=jt.mediaList),jt.mediaDefault&&(Dt.mediaDefault=jt.mediaDefault)):this._optionBackup=jt},Mt.prototype.mountOption=function(Rt){var ht=this._optionBackup;return this._timelineOptions=ht.timelineOptions,this._mediaList=ht.mediaList,this._mediaDefault=ht.mediaDefault,this._currentMediaIndices=[],(0,k.clone)(Rt?ht.baseOption:this._newBaseOption)},Mt.prototype.getTimelineOption=function(Rt){var ht,Tt=this._timelineOptions;if(Tt.length){var Dt=Rt.getComponent("timeline");Dt&&(ht=(0,k.clone)(Tt[Dt.getCurrentIndex()]))}return ht},Mt.prototype.getMediaOption=function(Rt){var ht=this._api.getWidth(),Tt=this._api.getHeight(),Dt=this._mediaList,jt=this._mediaDefault,pn=[],Jn=[];if(!Dt.length&&!jt)return Jn;for(var jn=0,qt=Dt.length;jn<qt;jn++)Je(Dt[jn].query,ht,Tt)&&pn.push(jn);return!pn.length&&jt&&(pn=[-1]),pn.length&&!function(Mt,Rt){return Mt.join(",")===Rt.join(",")}(pn,this._currentMediaIndices)&&(Jn=(0,k.map)(pn,function(Cn){return(0,k.clone)(-1===Cn?jt.option:Dt[Cn].option)})),this._currentMediaIndices=pn,Jn},Mt}();var et=k.each,Ue=k.isObject,xt=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function It(Mt){var Rt=Mt&&Mt.itemStyle;if(Rt)for(var ht=0,Tt=xt.length;ht<Tt;ht++){var Dt=xt[ht],jt=Rt.normal,pn=Rt.emphasis;jt&&jt[Dt]&&(Mt[Dt]=Mt[Dt]||{},Mt[Dt].normal?k.merge(Mt[Dt].normal,jt[Dt]):Mt[Dt].normal=jt[Dt],jt[Dt]=null),pn&&pn[Dt]&&(Mt[Dt]=Mt[Dt]||{},Mt[Dt].emphasis?k.merge(Mt[Dt].emphasis,pn[Dt]):Mt[Dt].emphasis=pn[Dt],pn[Dt]=null)}}function Pt(Mt,Rt,ht){if(Mt&&Mt[Rt]&&(Mt[Rt].normal||Mt[Rt].emphasis)){var Tt=Mt[Rt].normal,Dt=Mt[Rt].emphasis;Tt&&(ht?(Mt[Rt].normal=Mt[Rt].emphasis=null,k.defaults(Mt[Rt],Tt)):Mt[Rt]=Tt),Dt&&(Mt.emphasis=Mt.emphasis||{},Mt.emphasis[Rt]=Dt,Dt.focus&&(Mt.emphasis.focus=Dt.focus),Dt.blurScope&&(Mt.emphasis.blurScope=Dt.blurScope))}}function Wt(Mt){Pt(Mt,"itemStyle"),Pt(Mt,"lineStyle"),Pt(Mt,"areaStyle"),Pt(Mt,"label"),Pt(Mt,"labelLine"),Pt(Mt,"upperLabel"),Pt(Mt,"edgeLabel")}function Qt(Mt,Rt){var ht=Ue(Mt)&&Mt[Rt],Tt=Ue(ht)&&ht.textStyle;if(Tt)for(var Dt=0,jt=q.Td.length;Dt<jt;Dt++){var pn=q.Td[Dt];Tt.hasOwnProperty(pn)&&(ht[pn]=Tt[pn])}}function gn(Mt){Mt&&(Wt(Mt),Qt(Mt,"label"),Mt.emphasis&&Qt(Mt.emphasis,"label"))}function Dn(Mt){return k.isArray(Mt)?Mt:Mt?[Mt]:[]}function Yt(Mt){return(k.isArray(Mt)?Mt[0]:Mt)||{}}function wt(Mt){Mt&&(0,k.each)(ke,function(Rt){Rt[0]in Mt&&!(Rt[1]in Mt)&&(Mt[Rt[1]]=Mt[Rt[0]])})}var ke=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],je=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],yt=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Et(Mt){var Rt=Mt&&Mt.itemStyle;if(Rt)for(var ht=0;ht<yt.length;ht++){var Tt=yt[ht][1];null!=Rt[Tt]&&(Rt[yt[ht][0]]=Rt[Tt])}}function $t(Mt){!Mt||"edge"===Mt.alignTo&&null!=Mt.margin&&null==Mt.edgeDistance&&(Mt.edgeDistance=Mt.margin)}function cn(Mt){!Mt||Mt.downplay&&!Mt.blur&&(Mt.blur=Mt.downplay)}function tt(Mt,Rt){if(Mt)for(var ht=0;ht<Mt.length;ht++)Rt(Mt[ht]),Mt[ht]&&tt(Mt[ht].children,Rt)}function _t(Mt,Rt){(function(Mt,Rt){et(Dn(Mt.series),function(Tt){Ue(Tt)&&function(Mt){if(Ue(Mt)){It(Mt),Wt(Mt),Qt(Mt,"label"),Qt(Mt,"upperLabel"),Qt(Mt,"edgeLabel"),Mt.emphasis&&(Qt(Mt.emphasis,"label"),Qt(Mt.emphasis,"upperLabel"),Qt(Mt.emphasis,"edgeLabel"));var Rt=Mt.markPoint;Rt&&(It(Rt),gn(Rt));var ht=Mt.markLine;ht&&(It(ht),gn(ht));var Tt=Mt.markArea;Tt&&gn(Tt);var Dt=Mt.data;if("graph"===Mt.type){Dt=Dt||Mt.nodes;var jt=Mt.links||Mt.edges;if(jt&&!k.isTypedArray(jt))for(var pn=0;pn<jt.length;pn++)gn(jt[pn]);k.each(Mt.categories,function(qt){Wt(qt)})}if(Dt&&!k.isTypedArray(Dt))for(pn=0;pn<Dt.length;pn++)gn(Dt[pn]);if((Rt=Mt.markPoint)&&Rt.data){var Jn=Rt.data;for(pn=0;pn<Jn.length;pn++)gn(Jn[pn])}if((ht=Mt.markLine)&&ht.data){var jn=ht.data;for(pn=0;pn<jn.length;pn++)k.isArray(jn[pn])?(gn(jn[pn][0]),gn(jn[pn][1])):gn(jn[pn])}"gauge"===Mt.type?(Qt(Mt,"axisLabel"),Qt(Mt,"title"),Qt(Mt,"detail")):"treemap"===Mt.type?(Pt(Mt.breadcrumb,"itemStyle"),k.each(Mt.levels,function(qt){Wt(qt)})):"tree"===Mt.type&&Wt(Mt.leaves)}}(Tt)});var ht=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];Rt&&ht.push("valueAxis","categoryAxis","logAxis","timeAxis"),et(ht,function(Tt){et(Dn(Mt[Tt]),function(Dt){Dt&&(Qt(Dt,"axisLabel"),Qt(Dt.axisPointer,"label"))})}),et(Dn(Mt.parallel),function(Tt){var Dt=Tt&&Tt.parallelAxisDefault;Qt(Dt,"axisLabel"),Qt(Dt&&Dt.axisPointer,"label")}),et(Dn(Mt.calendar),function(Tt){Pt(Tt,"itemStyle"),Qt(Tt,"dayLabel"),Qt(Tt,"monthLabel"),Qt(Tt,"yearLabel")}),et(Dn(Mt.radar),function(Tt){Qt(Tt,"name"),Tt.name&&null==Tt.axisName&&(Tt.axisName=Tt.name,delete Tt.name),null!=Tt.nameGap&&null==Tt.axisNameGap&&(Tt.axisNameGap=Tt.nameGap,delete Tt.nameGap)}),et(Dn(Mt.geo),function(Tt){Ue(Tt)&&(gn(Tt),et(Dn(Tt.regions),function(Dt){gn(Dt)}))}),et(Dn(Mt.timeline),function(Tt){gn(Tt),Pt(Tt,"label"),Pt(Tt,"itemStyle"),Pt(Tt,"controlStyle",!0);var Dt=Tt.data;k.isArray(Dt)&&k.each(Dt,function(jt){k.isObject(jt)&&(Pt(jt,"label"),Pt(jt,"itemStyle"))})}),et(Dn(Mt.toolbox),function(Tt){Pt(Tt,"iconStyle"),et(Tt.feature,function(Dt){Pt(Dt,"iconStyle")})}),Qt(Yt(Mt.axisPointer),"label"),Qt(Yt(Mt.tooltip).axisPointer,"label")})(Mt,Rt),Mt.series=(0,q.kF)(Mt.series),(0,k.each)(Mt.series,function(ht){if((0,k.isObject)(ht)){var Tt=ht.type;if("line"===Tt)null!=ht.clipOverflow&&(ht.clip=ht.clipOverflow);else if("pie"===Tt||"gauge"===Tt){if(null!=ht.clockWise&&(ht.clockwise=ht.clockWise),$t(ht.label),(Dt=ht.data)&&!(0,k.isTypedArray)(Dt))for(var jt=0;jt<Dt.length;jt++)$t(Dt[jt]);null!=ht.hoverOffset&&(ht.emphasis=ht.emphasis||{},(ht.emphasis.scaleSize=null)&&(ht.emphasis.scaleSize=ht.hoverOffset))}else if("gauge"===Tt){var pn=function(Mt,Rt){for(var ht="pointer.color".split(","),Tt=Mt,Dt=0;Dt<ht.length&&null!=(Tt=Tt&&Tt[ht[Dt]]);Dt++);return Tt}(ht);null!=pn&&function(Mt,Rt,ht,Tt){for(var pn,Dt="itemStyle.color".split(","),jt=Mt,Jn=0;Jn<Dt.length-1;Jn++)null==jt[pn=Dt[Jn]]&&(jt[pn]={}),jt=jt[pn];null==jt[Dt[Jn]]&&(jt[Dt[Jn]]=ht)}(ht,0,pn)}else if("bar"===Tt){var Dt;if(Et(ht),Et(ht.backgroundStyle),Et(ht.emphasis),(Dt=ht.data)&&!(0,k.isTypedArray)(Dt))for(jt=0;jt<Dt.length;jt++)"object"==typeof Dt[jt]&&(Et(Dt[jt]),Et(Dt[jt]&&Dt[jt].emphasis))}else if("sunburst"===Tt){var Jn=ht.highlightPolicy;Jn&&(ht.emphasis=ht.emphasis||{},ht.emphasis.focus||(ht.emphasis.focus=Jn)),cn(ht),tt(ht.data,cn)}else"graph"===Tt||"sankey"===Tt?function(Mt){!Mt||null!=Mt.focusNodeAdjacency&&(Mt.emphasis=Mt.emphasis||{},null==Mt.emphasis.focus&&(Mt.emphasis.focus="adjacency"))}(ht):"map"===Tt&&(ht.mapType&&!ht.map&&(ht.map=ht.mapType),ht.mapLocation&&(0,k.defaults)(ht,ht.mapLocation));null!=ht.hoverAnimation&&(ht.emphasis=ht.emphasis||{},ht.emphasis&&null==ht.emphasis.scale&&(ht.emphasis.scale=ht.hoverAnimation)),wt(ht)}}),Mt.dataRange&&(Mt.visualMap=Mt.dataRange),(0,k.each)(je,function(ht){var Tt=Mt[ht];Tt&&((0,k.isArray)(Tt)||(Tt=[Tt]),(0,k.each)(Tt,function(Dt){wt(Dt)}))})}var zt=E(6573);function ft(Mt){(0,k.each)(Mt,function(Rt,ht){var Tt=[],Dt=[NaN,NaN],pn=Rt.data,Jn=Rt.isStackedByIndex;pn.modify([Rt.stackResultDimension,Rt.stackedOverDimension],function(jn,qt,Cn){var Hn,Gn,fn=pn.get(Rt.stackedDimension,Cn);if(isNaN(fn))return Dt;Jn?Gn=pn.getRawIndex(Cn):Hn=pn.get(Rt.stackedByDimension,Cn);for(var mr=NaN,wr=ht-1;wr>=0;wr--){var Dr=Mt[wr];if(Jn||(Gn=Dr.data.rawIndexOf(Dr.stackedByDimension,Hn)),Gn>=0){var Mr=Dr.data.getByRawIndex(Dr.stackResultDimension,Gn);if(fn>=0&&Mr>0||fn<=0&&Mr<0){fn=(0,zt.S$)(fn,Mr),mr=Mr;break}}}return Tt[0]=fn,Tt[1]=mr,Tt})})}var Ye=E(8615),Ke=E(5207),we=E(5306),Me=E(9024),qe=E(5252),lt=E(5311),Lt=E(5581),Kt=E(265),Mn=E(5613),Zt=E(7118),er=E(1237),Un=E(5556),dr=E(8002),pr=(0,q.Yf)(),si={itemStyle:(0,er.Z)(Un.t,!0),lineStyle:(0,er.Z)(dr.v,!0)},ni={lineStyle:"stroke",itemStyle:"fill"};function lr(Mt,Rt){return Mt.visualStyleMapper||si[Rt]||(console.warn("Unkown style type '"+Rt+"'."),si.itemStyle)}function Hr(Mt,Rt){return Mt.visualDrawType||ni[Rt]||(console.warn("Unkown style type '"+Rt+"'."),"fill")}var Xn={createOnAllSeries:!0,performRawSeries:!0,reset:function(Mt,Rt){var ht=Mt.getData(),Tt=Mt.visualStyleAccessPath||"itemStyle",Dt=Mt.getModel(Tt),pn=lr(Mt,Tt)(Dt),Jn=Dt.getShallow("decal");Jn&&(ht.setVisual("decal",Jn),Jn.dirty=!0);var jn=Hr(Mt,Tt),qt=pn[jn],Cn=(0,k.isFunction)(qt)?qt:null;if(!pn[jn]||Cn||"auto"===pn.fill||"auto"===pn.stroke){var Hn=Mt.getColorFromPalette(Mt.name,null,Rt.getSeriesCount());pn[jn]||(pn[jn]=Hn,ht.setVisual("colorFromPalette",!0)),pn.fill="auto"===pn.fill||"function"==typeof pn.fill?Hn:pn.fill,pn.stroke="auto"===pn.stroke||"function"==typeof pn.stroke?Hn:pn.stroke}if(ht.setVisual("style",pn),ht.setVisual("drawType",jn),!Rt.isSeriesFiltered(Mt)&&Cn)return ht.setVisual("colorFromPalette",!1),{dataEach:function(Gn,mr){var wr=Mt.getDataParams(mr),Dr=(0,k.extend)({},pn);Dr[jn]=Cn(wr),Gn.setItemVisual(mr,"style",Dr)}}}},wi=new K.Z,yr={createOnAllSeries:!0,performRawSeries:!0,reset:function(Mt,Rt){if(!Mt.ignoreStyleOnData&&!Rt.isSeriesFiltered(Mt)){var ht=Mt.getData(),Tt=Mt.visualStyleAccessPath||"itemStyle",Dt=lr(Mt,Tt),jt=ht.getVisual("drawType");return{dataEach:ht.hasItemOption?function(pn,Jn){var jn=pn.getRawDataItem(Jn);if(jn&&jn[Tt]){wi.option=jn[Tt];var qt=Dt(wi),Cn=pn.ensureUniqueItemVisual(Jn,"style");(0,k.extend)(Cn,qt),wi.option.decal&&(pn.setItemVisual(Jn,"decal",wi.option.decal),wi.option.decal.dirty=!0),jt in qt&&pn.setItemVisual(Jn,"colorFromPalette",!1)}}:null}}}},Ti={performRawSeries:!0,overallReset:function(Mt){var Rt=(0,k.createHashMap)();Mt.eachSeries(function(ht){var Tt=ht.getColorBy();if(!ht.isColorBySeries()){var Dt=ht.type+"-"+Tt,jt=Rt.get(Dt);jt||Rt.set(Dt,jt={}),pr(ht).scope=jt}}),Mt.eachSeries(function(ht){if(!ht.isColorBySeries()&&!Mt.isSeriesFiltered(ht)){var Tt=ht.getRawData(),Dt={},jt=ht.getData(),pn=pr(ht).scope,jn=Hr(ht,ht.visualStyleAccessPath||"itemStyle");jt.each(function(qt){var Cn=jt.getRawIndex(qt);Dt[Cn]=qt}),Tt.each(function(qt){var Cn=Dt[qt];if(jt.getItemVisual(Cn,"colorFromPalette")){var Hn=jt.ensureUniqueItemVisual(Cn,"style"),Gn=Tt.getName(qt)||qt+"",mr=Tt.count();Hn[jn]=ht.getColorFromPalette(Gn,pn,mr)}})}})}},$n=E(7350),gr=E(1078),Ur=E(3864),_r=Math.PI,Ei=E(8371),va=E(304),Fa=function(){function Mt(Rt,ht,Tt,Dt){this._stageTaskMap=(0,k.createHashMap)(),this.ecInstance=Rt,this.api=ht,Tt=this._dataProcessorHandlers=Tt.slice(),Dt=this._visualHandlers=Dt.slice(),this._allHandlers=Tt.concat(Dt)}return Mt.prototype.restoreData=function(Rt,ht){Rt.restoreData(ht),this._stageTaskMap.each(function(Tt){var Dt=Tt.overallTask;Dt&&Dt.dirty()})},Mt.prototype.getPerformArgs=function(Rt,ht){if(Rt.__pipeline){var Tt=this._pipelineMap.get(Rt.__pipeline.id),Dt=Tt.context,pn=!ht&&Tt.progressiveEnabled&&(!Dt||Dt.progressiveRender)&&Rt.__idxInPipeline>Tt.blockIndex?Tt.step:null,Jn=Dt&&Dt.modDataCount;return{step:pn,modBy:null!=Jn?Math.ceil(Jn/pn):null,modDataCount:Jn}}},Mt.prototype.getPipeline=function(Rt){return this._pipelineMap.get(Rt)},Mt.prototype.updateStreamModes=function(Rt,ht){var Tt=this._pipelineMap.get(Rt.uid),jt=Rt.getData().count(),pn=Tt.progressiveEnabled&&ht.incrementalPrepareRender&&jt>=Tt.threshold,Jn=Rt.get("large")&&jt>=Rt.get("largeThreshold"),jn="mod"===Rt.get("progressiveChunkMode")?jt:null;Rt.pipelineContext=Tt.context={progressiveRender:pn,modDataCount:jn,large:Jn}},Mt.prototype.restorePipelines=function(Rt){var ht=this,Tt=ht._pipelineMap=(0,k.createHashMap)();Rt.eachSeries(function(Dt){var jt=Dt.getProgressive(),pn=Dt.uid;Tt.set(pn,{id:pn,head:null,tail:null,threshold:Dt.getProgressiveThreshold(),progressiveEnabled:jt&&!(Dt.preventIncremental&&Dt.preventIncremental()),blockIndex:-1,step:Math.round(jt||700),count:0}),ht._pipe(Dt,Dt.dataTask)})},Mt.prototype.prepareStageTasks=function(){var Rt=this._stageTaskMap,ht=this.api.getModel(),Tt=this.api;(0,k.each)(this._allHandlers,function(Dt){var jt=Rt.get(Dt.uid)||Rt.set(Dt.uid,{});(0,k.assert)(!(Dt.reset&&Dt.overallReset),""),Dt.reset&&this._createSeriesStageTask(Dt,jt,ht,Tt),Dt.overallReset&&this._createOverallStageTask(Dt,jt,ht,Tt)},this)},Mt.prototype.prepareView=function(Rt,ht,Tt,Dt){var jt=Rt.renderTask,pn=jt.context;pn.model=ht,pn.ecModel=Tt,pn.api=Dt,jt.__block=!Rt.incrementalPrepareRender,this._pipe(ht,jt)},Mt.prototype.performDataProcessorTasks=function(Rt,ht){this._performStageTasks(this._dataProcessorHandlers,Rt,ht,{block:!0})},Mt.prototype.performVisualTasks=function(Rt,ht,Tt){this._performStageTasks(this._visualHandlers,Rt,ht,Tt)},Mt.prototype._performStageTasks=function(Rt,ht,Tt,Dt){Dt=Dt||{};var jt=!1,pn=this;function Jn(jn,qt){return jn.setDirty&&(!jn.dirtyMap||jn.dirtyMap.get(qt.__pipeline.id))}(0,k.each)(Rt,function(jn,qt){if(!Dt.visualType||Dt.visualType===jn.visualType){var Cn=pn._stageTaskMap.get(jn.uid),fn=Cn.seriesTaskMap,Hn=Cn.overallTask;if(Hn){var Gn,mr=Hn.agentStubMap;mr.each(function(Dr){Jn(Dt,Dr)&&(Dr.dirty(),Gn=!0)}),Gn&&Hn.dirty(),pn.updatePayload(Hn,Tt);var wr=pn.getPerformArgs(Hn,Dt.block);mr.each(function(Dr){Dr.perform(wr)}),Hn.perform(wr)&&(jt=!0)}else fn&&fn.each(function(Dr,Mr){Jn(Dt,Dr)&&Dr.dirty();var ci=pn.getPerformArgs(Dr,Dt.block);ci.skip=!jn.performRawSeries&&ht.isSeriesFiltered(Dr.context.model),pn.updatePayload(Dr,Tt),Dr.perform(ci)&&(jt=!0)})}}),this.unfinished=jt||this.unfinished},Mt.prototype.performSeriesTasks=function(Rt){var ht;Rt.eachSeries(function(Tt){ht=Tt.dataTask.perform()||ht}),this.unfinished=ht||this.unfinished},Mt.prototype.plan=function(){this._pipelineMap.each(function(Rt){var ht=Rt.tail;do{if(ht.__block){Rt.blockIndex=ht.__idxInPipeline;break}ht=ht.getUpstream()}while(ht)})},Mt.prototype.updatePayload=function(Rt,ht){"remain"!==ht&&(Rt.context.payload=ht)},Mt.prototype._createSeriesStageTask=function(Rt,ht,Tt,Dt){var jt=this,pn=ht.seriesTaskMap,Jn=ht.seriesTaskMap=(0,k.createHashMap)(),jn=Rt.seriesType,qt=Rt.getTargetSeries;function Cn(fn){var Hn=fn.uid,Gn=Jn.set(Hn,pn&&pn.get(Hn)||(0,Ei.v)({plan:Rn,reset:Ln,count:Wi}));Gn.context={model:fn,ecModel:Tt,api:Dt,useClearVisual:Rt.isVisual&&!Rt.isLayout,plan:Rt.plan,reset:Rt.reset,scheduler:jt},jt._pipe(fn,Gn)}Rt.createOnAllSeries?Tt.eachRawSeries(Cn):jn?Tt.eachRawSeriesByType(jn,Cn):qt&&qt(Tt,Dt).each(Cn)},Mt.prototype._createOverallStageTask=function(Rt,ht,Tt,Dt){var jt=this,pn=ht.overallTask=ht.overallTask||(0,Ei.v)({reset:oa});pn.context={ecModel:Tt,api:Dt,overallReset:Rt.overallReset,scheduler:jt};var Jn=pn.agentStubMap,jn=pn.agentStubMap=(0,k.createHashMap)(),qt=Rt.seriesType,Cn=Rt.getTargetSeries,fn=!0,Hn=!1;function mr(wr){var Dr=wr.uid,Mr=jn.set(Dr,Jn&&Jn.get(Dr)||(Hn=!0,(0,Ei.v)({reset:zn,onDirty:rn})));Mr.context={model:wr,overallProgress:fn},Mr.agent=pn,Mr.__block=fn,jt._pipe(wr,Mr)}(0,k.assert)(!Rt.createOnAllSeries,""),qt?Tt.eachRawSeriesByType(qt,mr):Cn?Cn(Tt,Dt).each(mr):(fn=!1,(0,k.each)(Tt.getSeries(),mr)),Hn&&pn.dirty()},Mt.prototype._pipe=function(Rt,ht){var Dt=this._pipelineMap.get(Rt.uid);!Dt.head&&(Dt.head=ht),Dt.tail&&Dt.tail.pipe(ht),Dt.tail=ht,ht.__idxInPipeline=Dt.count++,ht.__pipeline=Dt},Mt.wrapStageHandler=function(Rt,ht){return(0,k.isFunction)(Rt)&&(Rt={overallReset:Rt,seriesType:pa(Rt)}),Rt.uid=(0,va.Kr)("stageHandler"),ht&&(Rt.visualType=ht),Rt},Mt}();function oa(Mt){Mt.overallReset(Mt.ecModel,Mt.api,Mt.payload)}function zn(Mt){return Mt.overallProgress&&xn}function xn(){this.agent.dirty(),this.getDownstream().dirty()}function rn(){this.agent&&this.agent.dirty()}function Rn(Mt){return Mt.plan?Mt.plan(Mt.model,Mt.ecModel,Mt.api,Mt.payload):null}function Ln(Mt){Mt.useClearVisual&&Mt.data.clearAllVisual();var Rt=Mt.resetDefines=(0,q.kF)(Mt.reset(Mt.model,Mt.ecModel,Mt.api,Mt.payload));return Rt.length>1?(0,k.map)(Rt,function(ht,Tt){return jr(Tt)}):Jr}var Jr=jr(0);function jr(Mt){return function(Rt,ht){var Tt=ht.data,Dt=ht.resetDefines[Mt];if(Dt&&Dt.dataEach)for(var jt=Rt.start;jt<Rt.end;jt++)Dt.dataEach(Tt,jt);else Dt&&Dt.progress&&Dt.progress(Rt,Tt)}}function Wi(Mt){return Mt.data.count()}function pa(Mt){fr=null;try{Mt(Hi,di)}catch(Rt){}return fr}var fr,Hi={},di={};function sa(Mt,Rt){for(var ht in Rt.prototype)Mt[ht]=k.noop}sa(Hi,N),sa(di,Te),Hi.eachSeriesByType=Hi.eachRawSeriesByType=function(Mt){fr=Mt},Hi.eachComponent=function(Mt){"series"===Mt.mainType&&Mt.subType&&(fr=Mt.subType)};const gi=Fa;var kt=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const tn={color:kt,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],kt]};var St="#B9B8CE",An="#100C2A",Kn=function(){return{axisLine:{lineStyle:{color:St}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},sr=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Rr={darkMode:!0,color:sr,backgroundColor:An,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:St}},textStyle:{color:St},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:St}},dataZoom:{borderColor:"#71708A",textStyle:{color:St},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:St}},timeline:{lineStyle:{color:St},label:{color:St},controlStyle:{color:St,borderColor:St}},calendar:{itemStyle:{color:An},dayLabel:{color:St},monthLabel:{color:St},yearLabel:{color:St}},timeAxis:Kn(),logAxis:Kn(),valueAxis:Kn(),categoryAxis:Kn(),line:{symbol:"circle"},graph:{color:sr},gauge:{title:{color:St},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:St},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Rr.categoryAxis.splitLine.show=!1;const kr=Rr;var Fr=E(1373),ri=function(){function Mt(){}return Mt.prototype.normalizeQuery=function(Rt){var ht={},Tt={},Dt={};if(k.isString(Rt)){var jt=(0,Fr.u9)(Rt);ht.mainType=jt.main||null,ht.subType=jt.sub||null}else{var pn=["Index","Name","Id"],Jn={name:1,dataIndex:1,dataType:1};k.each(Rt,function(jn,qt){for(var Cn=!1,fn=0;fn<pn.length;fn++){var Hn=pn[fn],Gn=qt.lastIndexOf(Hn);if(Gn>0&&Gn===qt.length-Hn.length){var mr=qt.slice(0,Gn);"data"!==mr&&(ht.mainType=mr,ht[Hn.toLowerCase()]=jn,Cn=!0)}}Jn.hasOwnProperty(qt)&&(Tt[qt]=jn,Cn=!0),Cn||(Dt[qt]=jn)})}return{cptQuery:ht,dataQuery:Tt,otherQuery:Dt}},Mt.prototype.filter=function(Rt,ht){var Tt=this.eventInfo;if(!Tt)return!0;var Dt=Tt.targetEl,jt=Tt.packedEvent,pn=Tt.model,Jn=Tt.view;if(!pn||!Jn)return!0;var jn=ht.cptQuery,qt=ht.dataQuery;return Cn(jn,pn,"mainType")&&Cn(jn,pn,"subType")&&Cn(jn,pn,"index","componentIndex")&&Cn(jn,pn,"name")&&Cn(jn,pn,"id")&&Cn(qt,jt,"name")&&Cn(qt,jt,"dataIndex")&&Cn(qt,jt,"dataType")&&(!Jn.filterForExposedEvent||Jn.filterForExposedEvent(Rt,ht.otherQuery,Dt,jt));function Cn(fn,Hn,Gn,mr){return null==fn[Gn]||Hn[mr||Gn]===fn[Gn]}},Mt.prototype.afterTrigger=function(){this.eventInfo=null},Mt}(),Oi={createOnAllSeries:!0,performRawSeries:!0,reset:function(Mt,Rt){var ht=Mt.getData();if(Mt.legendIcon&&ht.setVisual("legendIcon",Mt.legendIcon),Mt.hasSymbolVisual){var Tt=Mt.get("symbol"),Dt=Mt.get("symbolSize"),jt=Mt.get("symbolKeepAspect"),pn=Mt.get("symbolRotate"),Jn=Mt.get("symbolOffset"),jn=(0,k.isFunction)(Tt),qt=(0,k.isFunction)(Dt),Cn=(0,k.isFunction)(pn),fn=(0,k.isFunction)(Jn),Hn=jn||qt||Cn||fn,Gn=!jn&&Tt?Tt:Mt.defaultSymbol;if(ht.setVisual({legendIcon:Mt.legendIcon||Gn,symbol:Gn,symbolSize:qt?null:Dt,symbolKeepAspect:jt,symbolRotate:Cn?null:pn,symbolOffset:fn?null:Jn}),!Rt.isSeriesFiltered(Mt))return{dataEach:Hn?function(ci,vi){var bi=Mt.getRawValue(vi),$i=Mt.getDataParams(vi);jn&&ci.setItemVisual(vi,"symbol",Tt(bi,$i)),qt&&ci.setItemVisual(vi,"symbolSize",Dt(bi,$i)),Cn&&ci.setItemVisual(vi,"symbolRotate",pn(bi,$i)),fn&&ci.setItemVisual(vi,"symbolOffset",Jn(bi,$i))}:null}}}},Or=E(6041),Qn=E(942),xr=E(1706),Ii=E(933),Ji=E(3669),br=E(7401),xo=E(341),Ar=E(6017);const Pn=new ce.Z;var Sa="undefined"!=typeof window,Ja="5.2.2",bo={zrender:"5.2.1"},$a={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Tr="__flagInMainProcess",Pa="__pendingUpdate",_a="__needsUpdateStatus",so=/^[a-zA-Z0-9_]+$/,li="__connectUpdateStatus";function zi(Mt){return function(){for(var Rt=[],ht=0;ht<arguments.length;ht++)Rt[ht]=arguments[ht];if(!this.isDisposed())return Ri(this,Mt,Rt)}}function ti(Mt){return function(){for(var Rt=[],ht=0;ht<arguments.length;ht++)Rt[ht]=arguments[ht];return Ri(this,Mt,Rt)}}function Ri(Mt,Rt,ht){return ht[0]=ht[0]&&ht[0].toLowerCase(),ce.Z.prototype[Rt].apply(Mt,ht)}var qa=function(Mt){function Rt(){return null!==Mt&&Mt.apply(this,arguments)||this}return(0,m.ZT)(Rt,Mt),Rt}(ce.Z),wo=qa.prototype;wo.on=ti("on"),wo.off=ti("off");var Er,Bi,ho,nt,Ot,Ce,He,_e,ae,ge,De,gt,En,or,Wr,_i,Di,Vi,qr,xi=function(Mt){function Rt(ht,Tt,Dt){var jt=Mt.call(this,new ri)||this;jt._chartsViews=[],jt._chartsMap={},jt._componentsViews=[],jt._componentsMap={},jt._pendingActions=[],Dt=Dt||{},"string"==typeof Tt&&(Tt=js[Tt]),jt._dom=ht;var Cn=jt._zr=R.init(ht,{renderer:Dt.renderer||"canvas",devicePixelRatio:Dt.devicePixelRatio,width:Dt.width,height:Dt.height,useDirtyRect:null!=Dt.useDirtyRect&&Dt.useDirtyRect});jt._throttledZrFlush=(0,Zt.P2)((0,k.bind)(Cn.flush,Cn),17),(Tt=(0,k.clone)(Tt))&&_t(Tt,!0),jt._theme=Tt,jt._locale=(0,Ji.D0)(Dt.locale||Ji.sO),jt._coordSysMgr=new he.Z;var fn=jt._api=_i(jt);function Hn(Gn,mr){return Gn.__prio-mr.__prio}return(0,y.Z)(na,Hn),(0,y.Z)(Zs,Hn),jt._scheduler=new gi(jt,fn,Zs,na),jt._messageCenter=new qa,jt._initEvents(),jt.resize=(0,k.bind)(jt.resize,jt),Cn.animation.on("frame",jt._onframe,jt),ge(Cn,jt),De(Cn,jt),(0,k.setAsPrimitive)(jt),jt}return(0,m.ZT)(Rt,Mt),Rt.prototype._onframe=function(){if(!this._disposed){qr(this);var ht=this._scheduler;if(this[Pa]){var Tt=this[Pa].silent;this[Tr]=!0,Er(this),nt.update.call(this,null,this[Pa].updateParams),this._zr.flush(),this[Tr]=!1,this[Pa]=null,_e.call(this,Tt),ae.call(this,Tt)}else if(ht.unfinished){var Dt=1,jt=this._model,pn=this._api;ht.unfinished=!1;do{var Jn=+new Date;ht.performSeriesTasks(jt),ht.performDataProcessorTasks(jt),Ce(this,jt),ht.performVisualTasks(jt),Wr(this,this._model,pn,"remain",{}),Dt-=+new Date-Jn}while(Dt>0&&ht.unfinished);ht.unfinished||this._zr.flush()}}},Rt.prototype.getDom=function(){return this._dom},Rt.prototype.getId=function(){return this.id},Rt.prototype.getZr=function(){return this._zr},Rt.prototype.setOption=function(ht,Tt,Dt){if(!this._disposed){var jt,pn,Jn;if((0,k.isObject)(Tt)&&(Dt=Tt.lazyUpdate,jt=Tt.silent,pn=Tt.replaceMerge,Jn=Tt.transition,Tt=Tt.notMerge),this[Tr]=!0,!this._model||Tt){var jn=new Fe(this._api),qt=this._theme,Cn=this._model=new N;Cn.scheduler=this._scheduler,Cn.init(null,null,null,qt,this._locale,jn)}this._model.setOption(ht,{replaceMerge:pn},ur);var fn={seriesTransition:Jn,optionChanged:!0};Dt?(this[Pa]={silent:jt,updateParams:fn},this[Tr]=!1,this.getZr().wakeUp()):(Er(this),nt.update.call(this,null,fn),this._zr.flush(),this[Pa]=null,this[Tr]=!1,_e.call(this,jt),ae.call(this,jt))}},Rt.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Rt.prototype.getModel=function(){return this._model},Rt.prototype.getOption=function(){return this._model&&this._model.getOption()},Rt.prototype.getWidth=function(){return this._zr.getWidth()},Rt.prototype.getHeight=function(){return this._zr.getHeight()},Rt.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Sa&&window.devicePixelRatio||1},Rt.prototype.getRenderedCanvas=function(ht){if(le.Z.canvasSupported)return this._zr.painter.getRenderedCanvas({backgroundColor:(ht=ht||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:ht.pixelRatio||this.getDevicePixelRatio()})},Rt.prototype.getSvgDataURL=function(){if(le.Z.svgSupported){var ht=this._zr,Tt=ht.storage.getDisplayList();return(0,k.each)(Tt,function(Dt){Dt.stopAnimation(null,!0)}),ht.painter.toDataURL()}},Rt.prototype.getDataURL=function(ht){if(!this._disposed){var Dt=this._model,jt=[],pn=this;(0,k.each)((ht=ht||{}).excludeComponents,function(jn){Dt.eachComponent({mainType:jn},function(qt){var Cn=pn._componentsMap[qt.__viewId];Cn.group.ignore||(jt.push(Cn),Cn.group.ignore=!0)})});var Jn="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(ht).toDataURL("image/"+(ht&&ht.type||"png"));return(0,k.each)(jt,function(jn){jn.group.ignore=!1}),Jn}},Rt.prototype.getConnectedDataURL=function(ht){if(!this._disposed&&le.Z.canvasSupported){var Tt="svg"===ht.type,Dt=this.group,jt=Math.min,pn=Math.max,Jn=1/0;if(Zo[Dt]){var jn=Jn,qt=Jn,Cn=-Jn,fn=-Jn,Hn=[],Gn=ht&&ht.pixelRatio||this.getDevicePixelRatio();(0,k.each)(Mi,function(vi,bi){if(vi.group===Dt){var $i=Tt?vi.getZr().painter.getSvgDom().innerHTML:vi.getRenderedCanvas((0,k.clone)(ht)),Ca=vi.getDom().getBoundingClientRect();jn=jt(Ca.left,jn),qt=jt(Ca.top,qt),Cn=pn(Ca.right,Cn),fn=pn(Ca.bottom,fn),Hn.push({dom:$i,left:Ca.left,top:Ca.top})}});var mr=(Cn*=Gn)-(jn*=Gn),wr=(fn*=Gn)-(qt*=Gn),Dr=(0,k.createCanvas)(),Mr=R.init(Dr,{renderer:Tt?"svg":"canvas"});if(Mr.resize({width:mr,height:wr}),Tt){var ci="";return(0,k.each)(Hn,function(vi){ci+='<g transform="translate('+(vi.left-jn)+","+(vi.top-qt)+')">'+vi.dom+"</g>"}),Mr.painter.getSvgRoot().innerHTML=ci,ht.connectedBackgroundColor&&Mr.painter.setBackgroundColor(ht.connectedBackgroundColor),Mr.refreshImmediately(),Mr.painter.toDataURL()}return ht.connectedBackgroundColor&&Mr.add(new Me.Z({shape:{x:0,y:0,width:mr,height:wr},style:{fill:ht.connectedBackgroundColor}})),(0,k.each)(Hn,function(vi){var bi=new qe.ZP({style:{x:vi.left*Gn-jn,y:vi.top*Gn-qt,image:vi.dom}});Mr.add(bi)}),Mr.refreshImmediately(),Dr.toDataURL("image/"+(ht&&ht.type||"png"))}return this.getDataURL(ht)}},Rt.prototype.convertToPixel=function(ht,Tt){return Ot(this,"convertToPixel",ht,Tt)},Rt.prototype.convertFromPixel=function(ht,Tt){return Ot(this,"convertFromPixel",ht,Tt)},Rt.prototype.containPixel=function(ht,Tt){if(!this._disposed){var jt,pn=q.pm(this._model,ht);return(0,k.each)(pn,function(Jn,jn){jn.indexOf("Models")>=0&&(0,k.each)(Jn,function(qt){var Cn=qt.coordinateSystem;if(Cn&&Cn.containPoint)jt=jt||!!Cn.containPoint(Tt);else if("seriesModels"===jn){var fn=this._chartsMap[qt.__viewId];fn&&fn.containPoint&&(jt=jt||fn.containPoint(Tt,qt))}},this)},this),!!jt}},Rt.prototype.getVisual=function(ht,Tt){var jt=q.pm(this._model,ht,{defaultMainType:"series"}),Jn=jt.seriesModel.getData(),jn=jt.hasOwnProperty("dataIndexInside")?jt.dataIndexInside:jt.hasOwnProperty("dataIndex")?Jn.indexOfRawIndex(jt.dataIndex):null;return null!=jn?(0,Or.Or)(Jn,jn,Tt):(0,Or.UL)(Jn,Tt)},Rt.prototype.getViewOfComponentModel=function(ht){return this._componentsMap[ht.__viewId]},Rt.prototype.getViewOfSeriesModel=function(ht){return this._chartsMap[ht.__viewId]},Rt.prototype._initEvents=function(){var ht=this;(0,k.each)(La,function(Tt){var Dt=function(jt){var jn,pn=ht.getModel(),Jn=jt.target;if("globalout"===Tt?jn={}:Jn&&(0,br.o)(Jn,function(mr){var wr=(0,Kt.A)(mr);if(wr&&null!=wr.dataIndex){var Dr=wr.dataModel||pn.getSeriesByIndex(wr.seriesIndex);return jn=Dr&&Dr.getDataParams(wr.dataIndex,wr.dataType)||{},!0}if(wr.eventData)return jn=(0,k.extend)({},wr.eventData),!0},!0),jn){var Cn=jn.componentType,fn=jn.componentIndex;("markLine"===Cn||"markPoint"===Cn||"markArea"===Cn)&&(Cn="series",fn=jn.seriesIndex);var Hn=Cn&&null!=fn&&pn.getComponent(Cn,fn),Gn=Hn&&ht["series"===Hn.mainType?"_chartsMap":"_componentsMap"][Hn.__viewId];jn.event=jt,jn.type=Tt,ht._$eventProcessor.eventInfo={targetEl:Jn,packedEvent:jn,model:Hn,view:Gn},ht.trigger(Tt,jn)}};Dt.zrEventfulCallAtLast=!0,ht._zr.on(Tt,Dt,ht)}),(0,k.each)(mo,function(Tt,Dt){ht._messageCenter.on(Dt,function(jt){this.trigger(Dt,jt)},ht)}),(0,k.each)(["selectchanged"],function(Tt){ht._messageCenter.on(Tt,function(Dt){this.trigger(Tt,Dt)},ht)}),(0,xr.s)(this._messageCenter,this,this._api)},Rt.prototype.isDisposed=function(){return this._disposed},Rt.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},Rt.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,q.P$(this.getDom(),be,"");var ht=this,Tt=ht._api,Dt=ht._model;(0,k.each)(ht._componentsViews,function(jt){jt.dispose(Dt,Tt)}),(0,k.each)(ht._chartsViews,function(jt){jt.dispose(Dt,Tt)}),ht._zr.dispose(),ht._dom=ht._model=ht._chartsMap=ht._componentsMap=ht._chartsViews=ht._componentsViews=ht._scheduler=ht._api=ht._zr=ht._throttledZrFlush=ht._theme=ht._coordSysMgr=ht._messageCenter=null,delete Mi[ht.id]}},Rt.prototype.resize=function(ht){if(!this._disposed){this._zr.resize(ht);var Tt=this._model;if(this._loadingFX&&this._loadingFX.resize(),Tt){var Dt=Tt.resetOption("media"),jt=ht&&ht.silent;this[Pa]&&(null==jt&&(jt=this[Pa].silent),Dt=!0,this[Pa]=null),this[Tr]=!0,Dt&&Er(this),nt.update.call(this,{type:"resize",animation:(0,k.extend)({duration:0},ht&&ht.animation)}),this[Tr]=!1,_e.call(this,jt),ae.call(this,jt)}}},Rt.prototype.showLoading=function(ht,Tt){if(!this._disposed&&((0,k.isObject)(ht)&&(Tt=ht,ht=""),ht=ht||"default",this.hideLoading(),Qr[ht])){var Dt=Qr[ht](this._api,Tt),jt=this._zr;this._loadingFX=Dt,jt.add(Dt)}},Rt.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},Rt.prototype.makeActionFromEvent=function(ht){var Tt=(0,k.extend)({},ht);return Tt.type=mo[ht.type],Tt},Rt.prototype.dispatchAction=function(ht,Tt){if(!this._disposed&&((0,k.isObject)(Tt)||(Tt={silent:!!Tt}),io[ht.type]&&this._model)){if(this[Tr])return void this._pendingActions.push(ht);var Dt=Tt.silent;He.call(this,ht,Dt);var jt=Tt.flush;jt?this._zr.flush():!1!==jt&&le.Z.browser.weChat&&this._throttledZrFlush(),_e.call(this,Dt),ae.call(this,Dt)}},Rt.prototype.updateLabelLayout=function(){Pn.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},Rt.prototype.appendData=function(ht){if(!this._disposed){var Tt=ht.seriesIndex;this.getModel().getSeriesByIndex(Tt).appendData(ht),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},Rt.internalField=function(){function ht(qt){for(var Cn=[],fn=qt.currentStates,Hn=0;Hn<fn.length;Hn++){var Gn=fn[Hn];"emphasis"===Gn||"blur"===Gn||"select"===Gn||Cn.push(Gn)}qt.selected&&qt.states.select&&Cn.push("select"),qt.hoverState===Mn.wU&&qt.states.emphasis?Cn.push("emphasis"):qt.hoverState===Mn.CX&&qt.states.blur&&Cn.push("blur"),qt.useStates(Cn)}function jt(qt,Cn){qt.preventAutoZ||pn(Cn.group,qt.get("z")||0,qt.get("zlevel")||0,-1/0)}function pn(qt,Cn,fn,Hn){var Gn=qt.getTextContent(),mr=qt.getTextGuideLine();if(qt.isGroup)for(var Dr=qt.childrenRef(),Mr=0;Mr<Dr.length;Mr++)Hn=Math.max(pn(Dr[Mr],Cn,fn,Hn),Hn);else qt.z=Cn,qt.zlevel=fn,Hn=Math.max(qt.z2,Hn);if(Gn&&(Gn.z=Cn,Gn.zlevel=fn,isFinite(Hn)&&(Gn.z2=Hn+2)),mr){var ci=qt.textGuideLineConfig;mr.z=Cn,mr.zlevel=fn,isFinite(Hn)&&(mr.z2=Hn+(ci&&ci.showAbove?1:-1))}return Hn}function Jn(qt,Cn){Cn.group.traverse(function(fn){if(!lt.eq(fn)){var Hn=fn.getTextContent(),Gn=fn.getTextGuideLine();fn.stateTransition&&(fn.stateTransition=null),Hn&&Hn.stateTransition&&(Hn.stateTransition=null),Gn&&Gn.stateTransition&&(Gn.stateTransition=null),fn.hasState()?(fn.prevStates=fn.currentStates,fn.clearStates()):fn.prevStates&&(fn.prevStates=null)}})}function jn(qt,Cn){var fn=qt.getModel("stateAnimation"),Hn=qt.isAnimationEnabled(),Gn=fn.get("duration"),mr=Gn>0?{duration:Gn,delay:fn.get("delay"),easing:fn.get("easing")}:null;Cn.group.traverse(function(wr){if(wr.states&&wr.states.emphasis){if(lt.eq(wr))return;if(wr instanceof Lt.ZP&&(0,Mn.e9)(wr),wr.__dirty){var Dr=wr.prevStates;Dr&&wr.useStates(Dr)}if(Hn){wr.stateTransition=mr;var Mr=wr.getTextContent(),ci=wr.getTextGuideLine();Mr&&(Mr.stateTransition=mr),ci&&(ci.stateTransition=mr)}wr.__dirty&&ht(wr)}})}Er=function(qt){var Cn=qt._scheduler;Cn.restorePipelines(qt._model),Cn.prepareStageTasks(),Bi(qt,!0),Bi(qt,!1),Cn.plan()},Bi=function(qt,Cn){for(var fn=qt._model,Hn=qt._scheduler,Gn=Cn?qt._componentsViews:qt._chartsViews,mr=Cn?qt._componentsMap:qt._chartsMap,wr=qt._zr,Dr=qt._api,Mr=0;Mr<Gn.length;Mr++)Gn[Mr].__alive=!1;function ci(bi){var $i=bi.__requireNewView;bi.__requireNewView=!1;var Ca="_ec_"+bi.id+"_"+bi.type,Ea=!$i&&mr[Ca];if(!Ea){var Za=(0,Fr.u9)(bi.type);(Ea=new(Cn?Ke.Z.getClass(Za.main,Za.sub):we.Z.getClass(Za.sub))).init(fn,Dr),mr[Ca]=Ea,Gn.push(Ea),wr.add(Ea.group)}bi.__viewId=Ea.__id=Ca,Ea.__alive=!0,Ea.__model=bi,Ea.group.__ecComponentInfo={mainType:bi.mainType,index:bi.componentIndex},!Cn&&Hn.prepareView(Ea,bi,fn,Dr)}for(Cn?fn.eachComponent(function(bi,$i){"series"!==bi&&ci($i)}):fn.eachSeries(ci),Mr=0;Mr<Gn.length;){var vi=Gn[Mr];vi.__alive?Mr++:(!Cn&&vi.renderTask.dispose(),wr.remove(vi.group),vi.dispose(fn,Dr),Gn.splice(Mr,1),mr[vi.__id]===vi&&delete mr[vi.__id],vi.__id=vi.group.__ecComponentInfo=null)}},ho=function(qt,Cn,fn,Hn,Gn){var mr=qt._model;if(mr.setUpdatePayload(fn),Hn){var wr={};wr[Hn+"Id"]=fn[Hn+"Id"],wr[Hn+"Index"]=fn[Hn+"Index"],wr[Hn+"Name"]=fn[Hn+"Name"];var Dr={mainType:Hn,query:wr};Gn&&(Dr.subType=Gn);var ci,Mr=fn.excludeSeriesId;null!=Mr&&(ci=(0,k.createHashMap)(),(0,k.each)(q.kF(Mr),function(bi){var $i=q.U5(bi,null);null!=$i&&ci.set($i,!0)})),(0,Mn.xp)(fn)&&(0,Mn.T5)(qt._api),mr&&mr.eachComponent(Dr,function(bi){if(!ci||null===ci.get(bi.id))if((0,Mn.xp)(fn))if(bi instanceof Ye.Z)fn.type===Mn.Ki&&!fn.notBlur&&(0,Mn.UL)(bi,fn,qt._api);else{var Ca=(0,Mn.oJ)(bi.mainType,bi.componentIndex,fn.name,qt._api),Za=Ca.dispatchers;fn.type===Mn.Ki&&Ca.focusSelf&&!fn.notBlur&&(0,Mn.zI)(bi.mainType,bi.componentIndex,qt._api),Za&&(0,k.each)(Za,function(ts){fn.type===Mn.Ki?(0,Mn.fD)(ts):(0,Mn.Mh)(ts)})}else(0,Mn.aG)(fn)&&bi instanceof Ye.Z&&((0,Mn.og)(bi,fn,qt._api),(0,Mn.ci)(bi),Vi(qt))},qt),mr&&mr.eachComponent(Dr,function(bi){ci&&null!==ci.get(bi.id)||vi(qt["series"===Hn?"_chartsMap":"_componentsMap"][bi.__viewId])},qt)}else(0,k.each)([].concat(qt._componentsViews).concat(qt._chartsViews),vi);function vi(bi){bi&&bi.__alive&&bi[Cn]&&bi[Cn](bi.__model,mr,qt._api,fn)}},nt={prepareAndUpdate:function(qt){Er(this),nt.update.call(this,qt,{optionChanged:null!=qt.newOption})},update:function(qt,Cn){var fn=this._model,Hn=this._api,Gn=this._zr,mr=this._coordSysMgr,wr=this._scheduler;if(fn){fn.setUpdatePayload(qt),wr.restoreData(fn,qt),wr.performSeriesTasks(fn),mr.create(fn,Hn),wr.performDataProcessorTasks(fn,qt),Ce(this,fn),mr.update(fn,Hn),gt(fn),wr.performVisualTasks(fn,qt),En(this,fn,Hn,qt,Cn);var Dr=fn.get("backgroundColor")||"transparent",Mr=fn.get("darkMode");if(le.Z.canvasSupported)Gn.setBackgroundColor(Dr),null!=Mr&&"auto"!==Mr&&Gn.setDarkMode(Mr);else{var ci=Se.parse(Dr);Dr=Se.stringify(ci,"rgb"),0===ci[3]&&(Dr="transparent")}Pn.trigger("afterupdate",fn,Hn)}},updateTransform:function(qt){var Cn=this,fn=this._model,Hn=this._api;if(fn){fn.setUpdatePayload(qt);var Gn=[];fn.eachComponent(function(wr,Dr){if("series"!==wr){var Mr=Cn.getViewOfComponentModel(Dr);if(Mr&&Mr.__alive)if(Mr.updateTransform){var ci=Mr.updateTransform(Dr,fn,Hn,qt);ci&&ci.update&&Gn.push(Mr)}else Gn.push(Mr)}});var mr=(0,k.createHashMap)();fn.eachSeries(function(wr){var Dr=Cn._chartsMap[wr.__viewId];if(Dr.updateTransform){var Mr=Dr.updateTransform(wr,fn,Hn,qt);Mr&&Mr.update&&mr.set(wr.uid,1)}else mr.set(wr.uid,1)}),gt(fn),this._scheduler.performVisualTasks(fn,qt,{setDirty:!0,dirtyMap:mr}),Wr(this,fn,Hn,qt,{},mr),Pn.trigger("afterupdate",fn,Hn)}},updateView:function(qt){var Cn=this._model;!Cn||(Cn.setUpdatePayload(qt),we.Z.markUpdateMethod(qt,"updateView"),gt(Cn),this._scheduler.performVisualTasks(Cn,qt,{setDirty:!0}),En(this,Cn,this._api,qt,{}),Pn.trigger("afterupdate",Cn,this._api))},updateVisual:function(qt){var Cn=this,fn=this._model;!fn||(fn.setUpdatePayload(qt),fn.eachSeries(function(Hn){Hn.getData().clearAllVisual()}),we.Z.markUpdateMethod(qt,"updateVisual"),gt(fn),this._scheduler.performVisualTasks(fn,qt,{visualType:"visual",setDirty:!0}),fn.eachComponent(function(Hn,Gn){if("series"!==Hn){var mr=Cn.getViewOfComponentModel(Gn);mr&&mr.__alive&&mr.updateVisual(Gn,fn,Cn._api,qt)}}),fn.eachSeries(function(Hn){Cn._chartsMap[Hn.__viewId].updateVisual(Hn,fn,Cn._api,qt)}),Pn.trigger("afterupdate",fn,this._api))},updateLayout:function(qt){nt.update.call(this,qt)}},Ot=function(qt,Cn,fn,Hn){if(!qt._disposed)for(var wr,Gn=qt._model,mr=qt._coordSysMgr.getCoordinateSystems(),Dr=q.pm(Gn,fn),Mr=0;Mr<mr.length;Mr++){var ci=mr[Mr];if(ci[Cn]&&null!=(wr=ci[Cn](Gn,Dr,Hn)))return wr}},Ce=function(qt,Cn){var fn=qt._chartsMap,Hn=qt._scheduler;Cn.eachSeries(function(Gn){Hn.updateStreamModes(Gn,fn[Gn.__viewId])})},He=function(qt,Cn){var fn=this,Hn=this.getModel(),Gn=qt.type,mr=qt.escapeConnect,wr=io[Gn],Dr=wr.actionInfo,Mr=(Dr.update||"update").split(":"),ci=Mr.pop(),vi=null!=Mr[0]&&(0,Fr.u9)(Mr[0]);this[Tr]=!0;var bi=[qt],$i=!1;qt.batch&&($i=!0,bi=(0,k.map)(qt.batch,function(Do){return(Do=(0,k.defaults)((0,k.extend)({},Do),qt)).batch=null,Do}));var Ea,Ca=[],Za=(0,Mn.aG)(qt),ts=(0,Mn.xp)(qt);if((0,k.each)(bi,function(Do){if((Ea=(Ea=wr.action(Do,fn._model,fn._api))||(0,k.extend)({},Do)).type=Dr.event||Ea.type,Ca.push(Ea),ts){var Ni=q.zH(qt),zs=Ni.mainTypeSpecified?Ni.queryOptionMap.keys()[0]:"series";ho(fn,ci,Do,zs),Vi(fn)}else Za?(ho(fn,ci,Do,"series"),Vi(fn)):vi&&ho(fn,ci,Do,vi.main,vi.sub)}),"none"!==ci&&!ts&&!Za&&!vi&&(this[Pa]?(Er(this),nt.update.call(this,qt),this[Pa]=null):nt[ci].call(this,qt)),Ea=$i?{type:Dr.event||Gn,escapeConnect:mr,batch:Ca}:Ca[0],this[Tr]=!1,!Cn){var Da=this._messageCenter;if(Da.trigger(Ea.type,Ea),Za){var ao={type:"selectchanged",escapeConnect:mr,selected:(0,Mn.C5)(Hn),isFromClick:qt.isFromClick||!1,fromAction:qt.type,fromActionPayload:qt};Da.trigger(ao.type,ao)}}},_e=function(qt){for(var Cn=this._pendingActions;Cn.length;){var fn=Cn.shift();He.call(this,fn,qt)}},ae=function(qt){!qt&&this.trigger("updated")},ge=function(qt,Cn){qt.on("rendered",function(fn){Cn.trigger("rendered",fn),qt.animation.isFinished()&&!Cn[Pa]&&!Cn._scheduler.unfinished&&!Cn._pendingActions.length&&Cn.trigger("finished")})},De=function(qt,Cn){qt.on("mouseover",function(fn){var Gn=(0,br.o)(fn.target,Mn.Av);Gn&&((0,Mn.$l)(Gn,fn,Cn._api),Vi(Cn))}).on("mouseout",function(fn){var Gn=(0,br.o)(fn.target,Mn.Av);Gn&&((0,Mn.Uq)(Gn,fn,Cn._api),Vi(Cn))}).on("click",function(fn){var Gn=(0,br.o)(fn.target,function(Dr){return null!=(0,Kt.A)(Dr).dataIndex},!0);if(Gn){var mr=Gn.selected?"unselect":"select",wr=(0,Kt.A)(Gn);Cn._api.dispatchAction({type:mr,dataType:wr.dataType,dataIndexInside:wr.dataIndex,seriesIndex:wr.seriesIndex,isFromClick:!0})}})},gt=function(qt){qt.clearColorPalette(),qt.eachSeries(function(Cn){Cn.clearColorPalette()})},En=function(qt,Cn,fn,Hn,Gn){or(qt,Cn,fn,Hn,Gn),(0,k.each)(qt._chartsViews,function(mr){mr.__alive=!1}),Wr(qt,Cn,fn,Hn,Gn),(0,k.each)(qt._chartsViews,function(mr){mr.__alive||mr.remove(Cn,fn)})},or=function(qt,Cn,fn,Hn,Gn,mr){(0,k.each)(mr||qt._componentsViews,function(wr){var Dr=wr.__model;Jn(0,wr),wr.render(Dr,Cn,fn,Hn),jt(Dr,wr),jn(Dr,wr)})},Wr=function(qt,Cn,fn,Hn,Gn,mr){var wr=qt._scheduler;Gn=(0,k.extend)(Gn||{},{updatedSeries:Cn.getSeries()}),Pn.trigger("series:beforeupdate",Cn,fn,Gn);var Dr=!1;Cn.eachSeries(function(Mr){var ci=qt._chartsMap[Mr.__viewId];ci.__alive=!0;var vi=ci.renderTask;wr.updatePayload(vi,Hn),Jn(0,ci),mr&&mr.get(Mr.uid)&&vi.dirty(),vi.perform(wr.getPerformArgs(vi))&&(Dr=!0),ci.group.silent=!!Mr.get("silent"),function(qt,Cn){var fn=qt.get("blendMode")||null;Cn.group.traverse(function(Hn){Hn.isGroup||(Hn.style.blend=fn),Hn.eachPendingDisplayable&&Hn.eachPendingDisplayable(function(Gn){Gn.style.blend=fn})})}(Mr,ci),(0,Mn.ci)(Mr)}),wr.unfinished=Dr||wr.unfinished,Pn.trigger("series:layoutlabels",Cn,fn,Gn),Pn.trigger("series:transition",Cn,fn,Gn),Cn.eachSeries(function(Mr){var ci=qt._chartsMap[Mr.__viewId];jt(Mr,ci),jn(Mr,ci)}),function(qt,Cn){var Gn=0;qt._zr.storage.traverse(function(mr){mr.isGroup||Gn++}),Gn>Cn.get("hoverLayerThreshold")&&!le.Z.node&&!le.Z.worker&&Cn.eachSeries(function(mr){if(!mr.preventUsingHoverLayer){var wr=qt._chartsMap[mr.__viewId];wr.__alive&&wr.group.traverse(function(Dr){Dr.states.emphasis&&(Dr.states.emphasis.hoverLayer=!0)})}})}(qt,Cn),Pn.trigger("series:afterupdate",Cn,fn,Gn)},Vi=function(qt){qt[_a]=!0,qt.getZr().wakeUp()},qr=function(qt){!qt[_a]||(qt.getZr().storage.traverse(function(Cn){lt.eq(Cn)||ht(Cn)}),qt[_a]=!1)},_i=function(qt){return new(function(Cn){function fn(){return null!==Cn&&Cn.apply(this,arguments)||this}return(0,m.ZT)(fn,Cn),fn.prototype.getCoordinateSystems=function(){return qt._coordSysMgr.getCoordinateSystems()},fn.prototype.getComponentByElement=function(Hn){for(;Hn;){var Gn=Hn.__ecComponentInfo;if(null!=Gn)return qt._model.getComponent(Gn.mainType,Gn.index);Hn=Hn.parent}},fn.prototype.enterEmphasis=function(Hn,Gn){(0,Mn.fD)(Hn,Gn),Vi(qt)},fn.prototype.leaveEmphasis=function(Hn,Gn){(0,Mn.Mh)(Hn,Gn),Vi(qt)},fn.prototype.enterBlur=function(Hn){(0,Mn.SX)(Hn),Vi(qt)},fn.prototype.leaveBlur=function(Hn){(0,Mn.VP)(Hn),Vi(qt)},fn.prototype.enterSelect=function(Hn){(0,Mn.XX)(Hn),Vi(qt)},fn.prototype.leaveSelect=function(Hn){(0,Mn.SJ)(Hn),Vi(qt)},fn.prototype.getModel=function(){return qt.getModel()},fn.prototype.getViewOfComponentModel=function(Hn){return qt.getViewOfComponentModel(Hn)},fn.prototype.getViewOfSeriesModel=function(Hn){return qt.getViewOfSeriesModel(Hn)},fn}(Te))(qt)},Di=function(qt){function Cn(fn,Hn){for(var Gn=0;Gn<fn.length;Gn++)fn[Gn][li]=Hn}(0,k.each)(mo,function(fn,Hn){qt._messageCenter.on(Hn,function(Gn){if(Zo[qt.group]&&0!==qt[li]){if(Gn&&Gn.escapeConnect)return;var mr=qt.makeActionFromEvent(Gn),wr=[];(0,k.each)(Mi,function(Dr){Dr!==qt&&Dr.group===qt.group&&wr.push(Dr)}),Cn(wr,0),(0,k.each)(wr,function(Dr){1!==Dr[li]&&Dr.dispatchAction(mr)}),Cn(wr,2)}})})}}(),Rt}(ce.Z),Kr=xi.prototype;Kr.on=zi("on"),Kr.off=zi("off"),Kr.one=function(Mt,Rt,ht){var Tt=this;(0,Qn.Sh)("ECharts#one is deprecated."),this.on.call(this,Mt,function Dt(){for(var jt=[],pn=0;pn<arguments.length;pn++)jt[pn]=arguments[pn];Rt&&Rt.apply&&Rt.apply(this,jt),Tt.off(Mt,Dt)},ht)};var La=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],io={},mo={},Zs=[],ur=[],na=[],js={},Qr={},Mi={},Zo={},bt=+new Date-0,pe=+new Date-0,be="_echarts_instance_";function Xe(Mt,Rt,ht){var Tt=Fn(Mt);if(Tt)return Tt;var Dt=new xi(Mt,Rt,ht);return Dt.id="ec_"+bt++,Mi[Dt.id]=Dt,q.P$(Mt,be,Dt.id),Di(Dt),Pn.trigger("afterinit",Dt),Dt}function Ct(Mt){if((0,k.isArray)(Mt)){var Rt=Mt;Mt=null,(0,k.each)(Rt,function(ht){null!=ht.group&&(Mt=ht.group)}),Mt=Mt||"g_"+pe++,(0,k.each)(Rt,function(ht){ht.group=Mt})}return Zo[Mt]=!0,Mt}function Ht(Mt){Zo[Mt]=!1}var hn=Ht;function _n(Mt){"string"==typeof Mt?Mt=Mi[Mt]:Mt instanceof xi||(Mt=Fn(Mt)),Mt instanceof xi&&!Mt.isDisposed()&&Mt.dispose()}function Fn(Mt){return Mi[q.IL(Mt,be)]}function ir(Mt){return Mi[Mt]}function ar(Mt,Rt){js[Mt]=Rt}function $r(Mt){(0,k.indexOf)(ur,Mt)<0&&ur.push(Mt)}function fi(Mt,Rt){la(Zs,Mt,Rt,2e3)}function Zi(Mt){Ci("afterinit",Mt)}function ai(Mt){Ci("afterupdate",Mt)}function Ci(Mt,Rt){Pn.on(Mt,Rt)}function oi(Mt,Rt,ht){"function"==typeof Rt&&(ht=Rt,Rt="");var Tt=(0,k.isObject)(Mt)?Mt.type:[Mt,Mt={event:Rt}][0];Mt.event=(Mt.event||Tt).toLowerCase(),!mo[Rt=Mt.event]&&((0,k.assert)(so.test(Tt)&&so.test(Rt)),io[Tt]||(io[Tt]={action:ht,actionInfo:Mt}),mo[Rt]=Tt)}function ka(Mt,Rt){he.Z.register(Mt,Rt)}function za(Mt){var Rt=he.Z.get(Mt);if(Rt)return Rt.getDimensionsInfo?Rt.getDimensionsInfo():Rt.dimensions.slice()}function ji(Mt,Rt){la(na,Mt,Rt,1e3,"layout")}function xa(Mt,Rt){la(na,Mt,Rt,3e3,"visual")}var Fo=[];function la(Mt,Rt,ht,Tt,Dt){if(((0,k.isFunction)(Rt)||(0,k.isObject)(Rt))&&(ht=Rt,Rt=Tt),!((0,k.indexOf)(Fo,ht)>=0)){Fo.push(ht);var jt=gi.wrapStageHandler(ht,Dt);jt.__prio=Rt,jt.__raw=ht,Mt.push(jt)}}function Wa(Mt,Rt){Qr[Mt]=Rt}function ko(Mt){(0,k.$override)("createCanvas",Mt)}function Bo(Mt,Rt,ht){Ar.Z.registerMap(Mt,Rt,ht)}function jo(Mt){return Ar.Z.getMapForUser(Mt)}var Ks=Ii.DA;xa(2e3,Xn),xa(4500,yr),xa(4500,Ti),xa(2e3,Oi),xa(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(Mt,Rt){if(Mt.hasSymbolVisual&&!Rt.isSeriesFiltered(Mt))return{dataEach:Mt.getData().hasItemOption?function(Dt,jt){var pn=Dt.getItemModel(jt),Jn=pn.getShallow("symbol",!0),jn=pn.getShallow("symbolSize",!0),qt=pn.getShallow("symbolRotate",!0),Cn=pn.getShallow("symbolOffset",!0),fn=pn.getShallow("symbolKeepAspect",!0);null!=Jn&&Dt.setItemVisual(jt,"symbol",Jn),null!=jn&&Dt.setItemVisual(jt,"symbolSize",jn),null!=qt&&Dt.setItemVisual(jt,"symbolRotate",qt),null!=Cn&&Dt.setItemVisual(jt,"symbolOffset",Cn),null!=fn&&Dt.setItemVisual(jt,"symbolKeepAspect",fn)}:null}}}),xa(7e3,function(Mt,Rt){Mt.eachRawSeries(function(ht){if(!Mt.isSeriesFiltered(ht)){var Tt=ht.getData();Tt.hasItemVisual()&&Tt.each(function(pn){var Jn=Tt.getItemVisual(pn,"decal");Jn&&(Tt.ensureUniqueItemVisual(pn,"style").decal=(0,xo.I)(Jn,Rt))});var Dt=Tt.getVisual("decal");Dt&&(Tt.getVisual("style").decal=(0,xo.I)(Dt,Rt))}})}),$r(_t),fi(900,function(Mt){var Rt=(0,k.createHashMap)();Mt.eachSeries(function(ht){var Tt=ht.get("stack");if(Tt){var Dt=Rt.get(Tt)||Rt.set(Tt,[]),jt=ht.getData(),pn={stackResultDimension:jt.getCalculationInfo("stackResultDimension"),stackedOverDimension:jt.getCalculationInfo("stackedOverDimension"),stackedDimension:jt.getCalculationInfo("stackedDimension"),stackedByDimension:jt.getCalculationInfo("stackedByDimension"),isStackedByIndex:jt.getCalculationInfo("isStackedByIndex"),data:jt,seriesModel:ht};if(!pn.stackedDimension||!pn.isStackedByIndex&&!pn.stackedByDimension)return;Dt.length&&jt.setCalculationInfo("stackedOnSeries",Dt[Dt.length-1].seriesModel),Dt.push(pn)}}),Rt.each(ft)}),Wa("default",function(Mt,Rt){k.defaults(Rt=Rt||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var ht=new $n.Z,Tt=new Me.Z({style:{fill:Rt.maskColor},zlevel:Rt.zlevel,z:1e4});ht.add(Tt);var pn,Dt=new gr.ZP({style:{text:Rt.text,fill:Rt.textColor,fontSize:Rt.fontSize,fontWeight:Rt.fontWeight,fontStyle:Rt.fontStyle,fontFamily:Rt.fontFamily},zlevel:Rt.zlevel,z:10001}),jt=new Me.Z({style:{fill:"none"},textContent:Dt,textConfig:{position:"right",distance:10},zlevel:Rt.zlevel,z:10001});return ht.add(jt),Rt.showSpinner&&((pn=new Ur.Z({shape:{startAngle:-_r/2,endAngle:-_r/2+.1,r:Rt.spinnerRadius},style:{stroke:Rt.color,lineCap:"round",lineWidth:Rt.lineWidth},zlevel:Rt.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*_r/2}).start("circularInOut"),pn.animateShape(!0).when(1e3,{startAngle:3*_r/2}).delay(300).start("circularInOut"),ht.add(pn)),ht.resize=function(){var Jn=Dt.getBoundingRect().width,jn=Rt.showSpinner?Rt.spinnerRadius:0,qt=(Mt.getWidth()-2*jn-(Rt.showSpinner&&Jn?10:0)-Jn)/2-(Rt.showSpinner&&Jn?0:5+Jn/2)+(Rt.showSpinner?0:Jn/2)+(Jn?0:jn),Cn=Mt.getHeight()/2;Rt.showSpinner&&pn.setShape({cx:qt,cy:Cn}),jt.setShape({x:qt-jn,y:Cn-jn,width:2*jn,height:2*jn}),Tt.setShape({x:0,y:0,width:Mt.getWidth(),height:Mt.getHeight()})},ht.resize(),ht}),oi({type:Mn.Ki,event:Mn.Ki,update:Mn.Ki},k.noop),oi({type:Mn.yx,event:Mn.yx,update:Mn.yx},k.noop),oi({type:Mn.Hg,event:Mn.Hg,update:Mn.Hg},k.noop),oi({type:Mn.JQ,event:Mn.JQ,update:Mn.JQ},k.noop),oi({type:Mn.iK,event:Mn.iK,update:Mn.iK},k.noop),ar("light",tn),ar("dark",kr);var vs={}},3669:(un,ot,E)=>{"use strict";E.d(ot,{sO:()=>Y,D0:()=>j,Li:()=>xe,G8:()=>X,I2:()=>V});var m=E(774),R=E(5065),le=E(284),y="ZH",K={},H={},Y=R.Z.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(y)>-1?y:"EN";function V(Q,fe){Q=Q.toUpperCase(),H[Q]=new m.Z(fe),K[Q]=fe}function j(Q){if((0,le.isString)(Q)){var fe=K[Q.toUpperCase()]||{};return Q===y||"EN"===Q?(0,le.clone)(fe):(0,le.merge)((0,le.clone)(fe),(0,le.clone)(K.EN),!1)}return(0,le.merge)((0,le.clone)(Q),(0,le.clone)(K.EN),!1)}function X(Q){return H[Q]}function xe(){return H.EN}V("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),V(y,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}})},8371:(un,ot,E)=>{"use strict";E.d(ot,{v:()=>R});var m=E(284);function R(le){return new k(le)}var k=function(){function le(y){this._reset=(y=y||{}).reset,this._plan=y.plan,this._count=y.count,this._onDirty=y.onDirty,this._dirty=!0}return le.prototype.perform=function(y){var H,ce=this._upstream,q=y&&y.skip;if(this._dirty&&ce){var K=this.context;K.data=K.outputData=ce.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!q&&(H=this._plan(this.context));var Q,Y=xe(this._modBy),V=this._modDataCount||0,j=xe(y&&y.modBy),X=y&&y.modDataCount||0;function xe(Z){return!(Z>=1)&&(Z=1),Z}(Y!==j||V!==X)&&(H="reset"),(this._dirty||"reset"===H)&&(this._dirty=!1,Q=this._doReset(q)),this._modBy=j,this._modDataCount=X;var fe=y&&y.step;if(this._dueEnd=ce?ce._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var re=this._dueIndex,ie=Math.min(null!=fe?this._dueIndex+fe:1/0,this._dueEnd);if(!q&&(Q||re<ie)){var ne=this._progress;if((0,m.isArray)(ne))for(var de=0;de<ne.length;de++)this._doProgress(ne[de],re,ie,j,X);else this._doProgress(ne,re,ie,j,X)}this._dueIndex=ie,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:ie}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},le.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},le.prototype._doProgress=function(y,ce,q,K,H){Se.reset(ce,q,K,H),this._callingProgress=y,this._callingProgress({start:ce,end:q,count:q-ce,next:Se.next},this.context)},le.prototype._doReset=function(y){var ce,q;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!y&&this._reset&&((ce=this._reset(this.context))&&ce.progress&&(q=ce.forceFirstProgress,ce=ce.progress),(0,m.isArray)(ce)&&!ce.length&&(ce=null)),this._progress=ce,this._modBy=this._modDataCount=null;var K=this._downstream;return K&&K.dirty(),q},le.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},le.prototype.pipe=function(y){(this._downstream!==y||this._dirty)&&(this._downstream=y,y._upstream=this,y.dirty())},le.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},le.prototype.getUpstream=function(){return this._upstream},le.prototype.getDownstream=function(){return this._downstream},le.prototype.setOutputEnd=function(y){this._outputDueEnd=this._settedOutputEnd=y},le}(),Se=function(){var le,y,ce,q,K,H={reset:function(j,X,xe,Q){y=j,le=X,ce=xe,q=Q,K=Math.ceil(q/ce),H.next=ce>1&&q>0?V:Y}};return H;function Y(){return y<le?y++:null}function V(){var j=y%K*ce+Math.ceil(y/K),X=y>=le?null:j<q?j:y;return y++,X}}()},3121:(un,ot,E)=>{"use strict";function m(le){return null==le?0:le.length||1}function R(le){return le}E.d(ot,{Z:()=>Se});const Se=function(){function le(y,ce,q,K,H,Y){this._old=y,this._new=ce,this._oldKeyGetter=q||R,this._newKeyGetter=K||R,this.context=H,this._diffModeMultiple="multiple"===Y}return le.prototype.add=function(y){return this._add=y,this},le.prototype.update=function(y){return this._update=y,this},le.prototype.updateManyToOne=function(y){return this._updateManyToOne=y,this},le.prototype.updateOneToMany=function(y){return this._updateOneToMany=y,this},le.prototype.updateManyToMany=function(y){return this._updateManyToMany=y,this},le.prototype.remove=function(y){return this._remove=y,this},le.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},le.prototype._executeOneToOne=function(){var y=this._old,ce=this._new,q={},K=new Array(y.length),H=new Array(ce.length);this._initIndexMap(y,null,K,"_oldKeyGetter"),this._initIndexMap(ce,q,H,"_newKeyGetter");for(var Y=0;Y<y.length;Y++){var V=K[Y],j=q[V],X=m(j);if(X>1){var xe=j.shift();1===j.length&&(q[V]=j[0]),this._update&&this._update(xe,Y)}else 1===X?(q[V]=null,this._update&&this._update(j,Y)):this._remove&&this._remove(Y)}this._performRestAdd(H,q)},le.prototype._executeMultiple=function(){var ce=this._new,q={},K={},H=[],Y=[];this._initIndexMap(this._old,q,H,"_oldKeyGetter"),this._initIndexMap(ce,K,Y,"_newKeyGetter");for(var V=0;V<H.length;V++){var j=H[V],X=q[j],xe=K[j],Q=m(X),fe=m(xe);if(Q>1&&1===fe)this._updateManyToOne&&this._updateManyToOne(xe,X),K[j]=null;else if(1===Q&&fe>1)this._updateOneToMany&&this._updateOneToMany(xe,X),K[j]=null;else if(1===Q&&1===fe)this._update&&this._update(xe,X),K[j]=null;else if(Q>1&&fe>1)this._updateManyToMany&&this._updateManyToMany(xe,X),K[j]=null;else if(Q>1)for(var re=0;re<Q;re++)this._remove&&this._remove(X[re]);else this._remove&&this._remove(X)}this._performRestAdd(Y,K)},le.prototype._performRestAdd=function(y,ce){for(var q=0;q<y.length;q++){var K=y[q],H=ce[K],Y=m(H);if(Y>1)for(var V=0;V<Y;V++)this._add&&this._add(H[V]);else 1===Y&&this._add&&this._add(H);ce[K]=null}},le.prototype._initIndexMap=function(y,ce,q,K){for(var H=this._diffModeMultiple,Y=0;Y<y.length;Y++){var V="_ec_"+this[K](y[Y],Y);if(H||(q[Y]=V),ce){var j=ce[V],X=m(j);0===X?(ce[V]=Y,H&&q.push(V)):1===X?ce[V]=[j,Y]:j.push(Y)}}},le}()},7:(un,ot,E)=>{"use strict";E.d(ot,{hG:()=>ce,ZP:()=>Q});var H,m=E(284),R=E(3585),k=E(8296),Se="undefined",le=typeof Uint32Array===Se?Array:Uint32Array,y=typeof Uint16Array===Se?Array:Uint16Array,ce=typeof Int32Array===Se?Array:Int32Array,q=typeof Float64Array===Se?Array:Float64Array,K={float:q,int:ce,ordinal:Array,number:Array,time:q};function Y(fe){return fe>65535?le:y}function j(fe){var re=fe.constructor;return re===Array?fe.slice():new re(fe)}function X(fe,re,ie,ne,de){var oe=K[ie||"float"];if(de){var Z=fe[re],U=Z&&Z.length;if(U!==ne){for(var W=new oe(ne),L=0;L<U;L++)W[L]=Z[L];fe[re]=W}}else fe[re]=new oe(ne)}const Q=function(){function fe(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=(0,m.createHashMap)()}return fe.prototype.initData=function(re,ie,ne){this._provider=re,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var de=re.getSource(),oe=this.defaultDimValueGetter=H[de.sourceFormat];this._dimValueGetter=ne||oe,this._rawExtent=[],(0,k.QY)(de),this._dimensions=(0,m.map)(ie,function(U){return{type:U.type,property:U.property}}),this._initDataFromProvider(0,re.count())},fe.prototype.getProvider=function(){return this._provider},fe.prototype.getSource=function(){return this._provider.getSource()},fe.prototype.ensureCalculationDimension=function(re,ie){var ne=this._calcDimNameToIdx,de=this._dimensions,oe=ne.get(re);if(null!=oe){if(de[oe].type===ie)return oe}else oe=de.length;return de[oe]={type:ie},ne.set(re,oe),this._chunks[oe]=new K[ie||"float"](this._rawCount),this._rawExtent[oe]=[1/0,-1/0],oe},fe.prototype.collectOrdinalMeta=function(re,ie){var ne=this._chunks[re],de=this._dimensions[re],oe=this._rawExtent,Z=de.ordinalOffset||0,U=ne.length;0===Z&&(oe[re]=[1/0,-1/0]);for(var W=oe[re],L=Z;L<U;L++){var D=ne[L]=ie.parseAndCollect(ne[L]);W[0]=Math.min(D,W[0]),W[1]=Math.max(D,W[1])}de.ordinalMeta=ie,de.ordinalOffset=U,de.type="ordinal"},fe.prototype.getOrdinalMeta=function(re){return this._dimensions[re].ordinalMeta},fe.prototype.getDimensionProperty=function(re){var ie=this._dimensions[re];return ie&&ie.property},fe.prototype.appendData=function(re){var ie=this._provider,ne=this.count();ie.appendData(re);var de=ie.count();return ie.persistent||(de+=ne),ne<de&&this._initDataFromProvider(ne,de,!0),[ne,de]},fe.prototype.appendValues=function(re,ie){for(var ne=this._chunks,de=this._dimensions,oe=de.length,Z=this._rawExtent,U=this.count(),W=U+Math.max(re.length,ie||0),L=0;L<oe;L++)X(ne,L,de[L].type,W,!0);for(var A=[],M=U;M<W;M++)for(var C=M-U,P=0;P<oe;P++){var N=H.arrayRows.call(this,re[C]||A,de[P].property,C,P);ne[P][M]=N;var ee=Z[P];N<ee[0]&&(ee[0]=N),N>ee[1]&&(ee[1]=N)}return this._rawCount=this._count=W,{start:U,end:W}},fe.prototype._initDataFromProvider=function(re,ie,ne){for(var de=this._provider,oe=this._chunks,Z=this._dimensions,U=Z.length,W=this._rawExtent,L=(0,m.map)(Z,function(Te){return Te.property}),D=0;D<U;D++){var A=Z[D];W[D]||(W[D]=[1/0,-1/0]),X(oe,D,A.type,ie,ne)}if(de.fillStorage)de.fillStorage(re,ie,oe,W);else for(var M=[],C=re;C<ie;C++){M=de.getItem(C,M);for(var P=0;P<U;P++){var N=oe[P],ee=this._dimValueGetter(M,L[P],C,P);N[C]=ee;var ye=W[P];ee<ye[0]&&(ye[0]=ee),ee>ye[1]&&(ye[1]=ee)}}!de.persistent&&de.clean&&de.clean(),this._rawCount=this._count=ie,this._extent=[]},fe.prototype.count=function(){return this._count},fe.prototype.get=function(re,ie){if(!(ie>=0&&ie<this._count))return NaN;var ne=this._chunks[re];return ne?ne[this.getRawIndex(ie)]:NaN},fe.prototype.getValues=function(re,ie){var ne=[],de=[];if(null==ie){ie=re,re=[];for(var oe=0;oe<this._dimensions.length;oe++)de.push(oe)}else de=re;oe=0;for(var Z=de.length;oe<Z;oe++)ne.push(this.get(de[oe],ie));return ne},fe.prototype.getByRawIndex=function(re,ie){if(!(ie>=0&&ie<this._rawCount))return NaN;var ne=this._chunks[re];return ne?ne[ie]:NaN},fe.prototype.getSum=function(re){var ne=0;if(this._chunks[re])for(var de=0,oe=this.count();de<oe;de++){var Z=this.get(re,de);isNaN(Z)||(ne+=Z)}return ne},fe.prototype.getMedian=function(re){var ie=[];this.each([re],function(oe){isNaN(oe)||ie.push(oe)});var ne=ie.sort(function(oe,Z){return oe-Z}),de=this.count();return 0===de?0:de%2==1?ne[(de-1)/2]:(ne[de/2]+ne[de/2-1])/2},fe.prototype.indexOfRawIndex=function(re){if(re>=this._rawCount||re<0)return-1;if(!this._indices)return re;var ie=this._indices,ne=ie[re];if(null!=ne&&ne<this._count&&ne===re)return re;for(var de=0,oe=this._count-1;de<=oe;){var Z=(de+oe)/2|0;if(ie[Z]<re)de=Z+1;else{if(!(ie[Z]>re))return Z;oe=Z-1}}return-1},fe.prototype.indicesOfNearest=function(re,ie,ne){var oe=this._chunks[re],Z=[];if(!oe)return Z;null==ne&&(ne=1/0);for(var U=1/0,W=-1,L=0,D=0,A=this.count();D<A;D++){var C=ie-oe[this.getRawIndex(D)],P=Math.abs(C);P<=ne&&((P<U||P===U&&C>=0&&W<0)&&(U=P,W=C,L=0),C===W&&(Z[L++]=D))}return Z.length=L,Z},fe.prototype.getIndices=function(){var re,ie=this._indices;if(ie){var de=this._count;if((ne=ie.constructor)===Array){re=new ne(de);for(var oe=0;oe<de;oe++)re[oe]=ie[oe]}else re=new ne(ie.buffer,0,de)}else{var ne;for(re=new(ne=Y(this._rawCount))(this.count()),oe=0;oe<re.length;oe++)re[oe]=oe}return re},fe.prototype.filter=function(re,ie){if(!this._count)return this;for(var ne=this.clone(),de=ne.count(),Z=new(Y(ne._rawCount))(de),U=[],W=re.length,L=0,D=re[0],A=ne._chunks,M=0;M<de;M++){var C=void 0,P=ne.getRawIndex(M);if(0===W)C=ie(M);else if(1===W)C=ie(A[D][P],M);else{for(var ee=0;ee<W;ee++)U[ee]=A[re[ee]][P];U[ee]=M,C=ie.apply(null,U)}C&&(Z[L++]=P)}return L<de&&(ne._indices=Z),ne._count=L,ne._extent=[],ne._updateGetRawIdx(),ne},fe.prototype.selectRange=function(re){var ie=this.clone(),ne=ie._count;if(!ne)return this;var de=(0,m.keys)(re),oe=de.length;if(!oe)return this;var Z=ie.count(),W=new(Y(ie._rawCount))(Z),L=0,D=de[0],A=re[D][0],M=re[D][1],C=ie._chunks,P=!1;if(!ie._indices){var N=0;if(1===oe){for(var ee=C[de[0]],ye=0;ye<ne;ye++)((Te=ee[ye])>=A&&Te<=M||isNaN(Te))&&(W[L++]=N),N++;P=!0}else if(2===oe){ee=C[de[0]];var he=C[de[1]],me=re[de[1]][0],Re=re[de[1]][1];for(ye=0;ye<ne;ye++){var Le=he[ye];((Te=ee[ye])>=A&&Te<=M||isNaN(Te))&&(Le>=me&&Le<=Re||isNaN(Le))&&(W[L++]=N),N++}P=!0}}if(!P)if(1===oe)for(ye=0;ye<Z;ye++){var Je=ie.getRawIndex(ye);((Te=C[de[0]][Je])>=A&&Te<=M||isNaN(Te))&&(W[L++]=Je)}else for(ye=0;ye<Z;ye++){for(var Oe=!0,Ve=(Je=ie.getRawIndex(ye),0);Ve<oe;Ve++){var Te,Fe=de[Ve];((Te=C[Fe][Je])<re[Fe][0]||Te>re[Fe][1])&&(Oe=!1)}Oe&&(W[L++]=ie.getRawIndex(ye))}return L<Z&&(ie._indices=W),ie._count=L,ie._extent=[],ie._updateGetRawIdx(),ie},fe.prototype.map=function(re,ie){var ne=this.clone(re);return this._updateDims(ne,re,ie),ne},fe.prototype.modify=function(re,ie){this._updateDims(this,re,ie)},fe.prototype._updateDims=function(re,ie,ne){for(var de=re._chunks,oe=[],Z=ie.length,U=re.count(),W=[],L=re._rawExtent,D=0;D<ie.length;D++)L[ie[D]]=[1/0,-1/0];for(var A=0;A<U;A++){for(var M=re.getRawIndex(A),C=0;C<Z;C++)W[C]=de[ie[C]][M];W[Z]=A;var P=ne&&ne.apply(null,W);if(null!=P)for("object"!=typeof P&&(oe[0]=P,P=oe),D=0;D<P.length;D++){var N=ie[D],ee=P[D],ye=L[N],Te=de[N];Te&&(Te[M]=ee),ee<ye[0]&&(ye[0]=ee),ee>ye[1]&&(ye[1]=ee)}}},fe.prototype.lttbDownSample=function(re,ie){var D,A,M,ne=this.clone([re],!0),oe=ne._chunks[re],Z=this.count(),U=0,W=Math.floor(1/ie),L=this.getRawIndex(0),C=new(Y(this._rawCount))(Math.ceil(Z/W)+2);C[U++]=L;for(var P=1;P<Z-1;P+=W){for(var N=Math.min(P+W,Z-1),ee=Math.min(P+2*W,Z),ye=(ee+N)/2,Te=0,he=N;he<ee;he++){var Re=oe[me=this.getRawIndex(he)];isNaN(Re)||(Te+=Re)}Te/=ee-N;var Le=P,Je=Math.min(P+W,Z),Oe=P-1,Ve=oe[L];for(D=-1,M=Le,he=Le;he<Je;he++){var me;Re=oe[me=this.getRawIndex(he)],isNaN(Re)||(A=Math.abs((Oe-ye)*(Re-Ve)-(Oe-he)*(Te-Ve)))>D&&(D=A,M=me)}C[U++]=M,L=M}return C[U++]=this.getRawIndex(Z-1),ne._count=U,ne._indices=C,ne.getRawIndex=this._getRawIdx,ne},fe.prototype.downSample=function(re,ie,ne,de){for(var oe=this.clone([re],!0),Z=oe._chunks,U=[],W=Math.floor(1/ie),L=Z[re],D=this.count(),A=oe._rawExtent[re]=[1/0,-1/0],M=new(Y(this._rawCount))(Math.ceil(D/W)),C=0,P=0;P<D;P+=W){W>D-P&&(U.length=W=D-P);for(var N=0;N<W;N++){var ee=this.getRawIndex(P+N);U[N]=L[ee]}var ye=ne(U),Te=this.getRawIndex(Math.min(P+de(U,ye)||0,D-1));L[Te]=ye,ye<A[0]&&(A[0]=ye),ye>A[1]&&(A[1]=ye),M[C++]=Te}return oe._count=C,oe._indices=M,oe._updateGetRawIdx(),oe},fe.prototype.each=function(re,ie){if(this._count)for(var ne=re.length,de=this._chunks,oe=0,Z=this.count();oe<Z;oe++){var U=this.getRawIndex(oe);switch(ne){case 0:ie(oe);break;case 1:ie(de[re[0]][U],oe);break;case 2:ie(de[re[0]][U],de[re[1]][U],oe);break;default:for(var W=0,L=[];W<ne;W++)L[W]=de[re[W]][U];L[W]=oe,ie.apply(null,L)}}},fe.prototype.getDataExtent=function(re){var ie=this._chunks[re],ne=[1/0,-1/0];if(!ie)return ne;var Z,de=this.count();if(!this._indices)return this._rawExtent[re].slice();if(Z=this._extent[re])return Z.slice();for(var U=(Z=ne)[0],W=Z[1],L=0;L<de;L++){var A=ie[this.getRawIndex(L)];A<U&&(U=A),A>W&&(W=A)}return this._extent[re]=Z=[U,W],Z},fe.prototype.getRawDataItem=function(re){var ie=this.getRawIndex(re);if(this._provider.persistent)return this._provider.getItem(ie);for(var ne=[],de=this._chunks,oe=0;oe<de.length;oe++)ne.push(de[oe][ie]);return ne},fe.prototype.clone=function(re,ie){var ne=new fe,de=this._chunks,oe=re&&(0,m.reduce)(re,function(U,W){return U[W]=!0,U},{});if(oe)for(var Z=0;Z<de.length;Z++)ne._chunks[Z]=oe[Z]?j(de[Z]):de[Z];else ne._chunks=de;return this._copyCommonProps(ne),ie||(ne._indices=this._cloneIndices()),ne._updateGetRawIdx(),ne},fe.prototype._copyCommonProps=function(re){re._count=this._count,re._rawCount=this._rawCount,re._provider=this._provider,re._dimensions=this._dimensions,re._extent=(0,m.clone)(this._extent),re._rawExtent=(0,m.clone)(this._rawExtent)},fe.prototype._cloneIndices=function(){if(this._indices){var re=this._indices.constructor,ie=void 0;if(re===Array){var ne=this._indices.length;ie=new re(ne);for(var de=0;de<ne;de++)ie[de]=this._indices[de]}else ie=new re(this._indices);return ie}return null},fe.prototype._getRawIdxIdentity=function(re){return re},fe.prototype._getRawIdx=function(re){return re<this._count&&re>=0?this._indices[re]:-1},fe.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},fe.internalField=function(){function re(ie,ne,de,oe){return(0,R.yQ)(ie[oe],this._dimensions[oe])}H={arrayRows:re,objectRows:function(ie,ne,de,oe){return(0,R.yQ)(ie[ne],this._dimensions[oe])},keyedColumns:re,original:function(ie,ne,de,oe){var Z=ie&&(null==ie.value?ie:ie.value);return(0,R.yQ)(Z instanceof Array?Z[oe]:Z,this._dimensions[oe])},typedArray:function(ie,ne,de,oe){return ie[oe]}}}(),fe}()},6381:(un,ot,E)=>{"use strict";E.d(ot,{ZP:()=>ce});var m=E(284);function R(q){return"_EC_"+q}var k=function(){function q(K){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=K||!1}return q.prototype.isDirected=function(){return this._directed},q.prototype.addNode=function(K,H){var Y=this._nodesMap;if(!Y[R(K=null==K?""+H:""+K)]){var V=new Se(K,H);return V.hostGraph=this,this.nodes.push(V),Y[R(K)]=V,V}},q.prototype.getNodeByIndex=function(K){var H=this.data.getRawIndex(K);return this.nodes[H]},q.prototype.getNodeById=function(K){return this._nodesMap[R(K)]},q.prototype.addEdge=function(K,H,Y){var V=this._nodesMap,j=this._edgesMap;if("number"==typeof K&&(K=this.nodes[K]),"number"==typeof H&&(H=this.nodes[H]),K instanceof Se||(K=V[R(K)]),H instanceof Se||(H=V[R(H)]),K&&H){var X=K.id+"-"+H.id,xe=new le(K,H,Y);return xe.hostGraph=this,this._directed&&(K.outEdges.push(xe),H.inEdges.push(xe)),K.edges.push(xe),K!==H&&H.edges.push(xe),this.edges.push(xe),j[X]=xe,xe}},q.prototype.getEdgeByIndex=function(K){var H=this.edgeData.getRawIndex(K);return this.edges[H]},q.prototype.getEdge=function(K,H){K instanceof Se&&(K=K.id),H instanceof Se&&(H=H.id);var Y=this._edgesMap;return this._directed?Y[K+"-"+H]:Y[K+"-"+H]||Y[H+"-"+K]},q.prototype.eachNode=function(K,H){for(var Y=this.nodes,V=Y.length,j=0;j<V;j++)Y[j].dataIndex>=0&&K.call(H,Y[j],j)},q.prototype.eachEdge=function(K,H){for(var Y=this.edges,V=Y.length,j=0;j<V;j++)Y[j].dataIndex>=0&&Y[j].node1.dataIndex>=0&&Y[j].node2.dataIndex>=0&&K.call(H,Y[j],j)},q.prototype.breadthFirstTraverse=function(K,H,Y,V){if(H instanceof Se||(H=this._nodesMap[R(H)]),H){for(var j="out"===Y?"outEdges":"in"===Y?"inEdges":"edges",X=0;X<this.nodes.length;X++)this.nodes[X].__visited=!1;if(!K.call(V,H,null))for(var xe=[H];xe.length;){var Q=xe.shift(),fe=Q[j];for(X=0;X<fe.length;X++){var re=fe[X],ie=re.node1===Q?re.node2:re.node1;if(!ie.__visited){if(K.call(V,ie,Q))return;xe.push(ie),ie.__visited=!0}}}}},q.prototype.update=function(){for(var K=this.data,H=this.edgeData,Y=this.nodes,V=this.edges,j=0,X=Y.length;j<X;j++)Y[j].dataIndex=-1;for(j=0,X=K.count();j<X;j++)Y[K.getRawIndex(j)].dataIndex=j;for(H.filterSelf(function(xe){var Q=V[H.getRawIndex(xe)];return Q.node1.dataIndex>=0&&Q.node2.dataIndex>=0}),j=0,X=V.length;j<X;j++)V[j].dataIndex=-1;for(j=0,X=H.count();j<X;j++)V[H.getRawIndex(j)].dataIndex=j},q.prototype.clone=function(){for(var K=new q(this._directed),H=this.nodes,Y=this.edges,V=0;V<H.length;V++)K.addNode(H[V].id,H[V].dataIndex);for(V=0;V<Y.length;V++){var j=Y[V];K.addEdge(j.node1.id,j.node2.id,j.dataIndex)}return K},q}(),Se=function(){function q(K,H){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==K?"":K,this.dataIndex=null==H?-1:H}return q.prototype.degree=function(){return this.edges.length},q.prototype.inDegree=function(){return this.inEdges.length},q.prototype.outDegree=function(){return this.outEdges.length},q.prototype.getModel=function(K){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(K)},q.prototype.getAdjacentDataIndices=function(){for(var K={edge:[],node:[]},H=0;H<this.edges.length;H++){var Y=this.edges[H];Y.dataIndex<0||(K.edge.push(Y.dataIndex),K.node.push(Y.node1.dataIndex,Y.node2.dataIndex))}return K},q}(),le=function(){function q(K,H,Y){this.dataIndex=-1,this.node1=K,this.node2=H,this.dataIndex=null==Y?-1:Y}return q.prototype.getModel=function(K){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(K)},q.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},q}();function y(q,K){return{getValue:function(H){var Y=this[q][K];return Y.getStore().get(Y.getDimensionIndex(H||"value"),this.dataIndex)},setVisual:function(H,Y){this.dataIndex>=0&&this[q][K].setItemVisual(this.dataIndex,H,Y)},getVisual:function(H){return this[q][K].getItemVisual(this.dataIndex,H)},setLayout:function(H,Y){this.dataIndex>=0&&this[q][K].setItemLayout(this.dataIndex,H,Y)},getLayout:function(){return this[q][K].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[q][K].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[q][K].getRawIndex(this.dataIndex)}}}m.mixin(Se,y("hostGraph","data")),m.mixin(le,y("hostGraph","edgeData"));const ce=k},6888:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>le});var m=E(284),R=0;function Se(y){return(0,m.isObject)(y)&&null!=y.value?y.value:y+""}const le=function(){function y(ce){this.categories=ce.categories||[],this._needCollect=ce.needCollect,this._deduplication=ce.deduplication,this.uid=++R}return y.createByAxisModel=function(ce){var q=ce.option,K=q.data,H=K&&(0,m.map)(K,Se);return new y({categories:H,needCollect:!H,deduplication:!1!==q.dedplication})},y.prototype.getOrdinal=function(ce){return this._getOrCreateMap().get(ce)},y.prototype.parseAndCollect=function(ce){var q,K=this._needCollect;if("string"!=typeof ce&&!K)return ce;if(K&&!this._deduplication)return this.categories[q=this.categories.length]=ce,q;var H=this._getOrCreateMap();return null==(q=H.get(ce))&&(K?(this.categories[q=this.categories.length]=ce,H.set(ce,q)):q=NaN),q},y.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,m.createHashMap)(this.categories))},y}()},9:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>A});var ne,de,oe,Z,U,W,L,m=E(284),R=E(774),k=E(3121),Se=E(6308),le=E(8100),y=E(9519),ce=E(616),q=E(7911),K=E(265),H=E(8296),Y=E(7),V=E(7032),j=m.isObject,X=m.map,xe="undefined"==typeof Int32Array?Array:Int32Array,re=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],ie=["_approximateExtent"];const A=function(){function M(C,P){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var N,ee=!1;(0,V.bB)(C)?(N=C.dimensions,this._dimOmitted=C.isDimensionOmitted(),this._schema=C):(ee=!0,N=C),N=N||["x","y"];for(var ye={},Te=[],he={},me=!1,Re={},Le=0;Le<N.length;Le++){var Je=N[Le],Oe=m.isString(Je)?new y.Z({name:Je}):Je instanceof y.Z?Je:new y.Z(Je),Ve=Oe.name;Oe.type=Oe.type||"float",Oe.coordDim||(Oe.coordDim=Ve,Oe.coordDimIndex=0);var Fe=Oe.otherDims=Oe.otherDims||{};Te.push(Ve),ye[Ve]=Oe,null!=Re[Ve]&&(me=!0),Oe.createInvertedIndices&&(he[Ve]=[]),0===Fe.itemName&&(this._nameDimIdx=Le),0===Fe.itemId&&(this._idDimIdx=Le),ee&&(Oe.storeDimIndex=Le)}if(this.dimensions=Te,this._dimInfos=ye,this._initGetDimensionInfo(me),this.hostModel=P,this._invertedIndicesMap=he,this._dimOmitted){var et=this._dimIdxToName=m.createHashMap();m.each(Te,function(Ue){et.set(ye[Ue].storeDimIndex,Ue)})}}return M.prototype.getDimension=function(C){var P=this._recognizeDimIndex(C);if(null==P)return C;if(P=C,!this._dimOmitted)return this.dimensions[P];var N=this._dimIdxToName.get(P);if(null!=N)return N;var ee=this._schema.getSourceDimension(P);return ee?ee.name:void 0},M.prototype.getDimensionIndex=function(C){var P=this._recognizeDimIndex(C);if(null!=P)return P;if(null==C)return-1;var N=this._getDimInfo(C);return N?N.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(C):-1},M.prototype._recognizeDimIndex=function(C){if("number"==typeof C||null!=C&&!isNaN(C)&&!this._getDimInfo(C)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(C)<0))return+C},M.prototype._getStoreDimIndex=function(C){return this.getDimensionIndex(C)},M.prototype.getDimensionInfo=function(C){return this._getDimInfo(this.getDimension(C))},M.prototype._initGetDimensionInfo=function(C){var P=this._dimInfos;this._getDimInfo=C?function(N){return P.hasOwnProperty(N)?P[N]:void 0}:function(N){return P[N]}},M.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},M.prototype.mapDimension=function(C,P){var N=this._dimSummary;if(null==P)return N.encodeFirstDimNotExtra[C];var ee=N.encode[C];return ee?ee[P]:null},M.prototype.mapDimensionsAll=function(C){return(this._dimSummary.encode[C]||[]).slice()},M.prototype.getStore=function(){return this._store},M.prototype.initData=function(C,P,N){var ye,ee=this;if(C instanceof Y.ZP&&(ye=C),!ye){var Te=this.dimensions,he=(0,H.Ld)(C)||m.isArrayLike(C)?new Se.Pl(C,Te.length):C;ye=new Y.ZP;var me=X(Te,function(Re){return{type:ee._dimInfos[Re].type,property:Re}});ye.initData(he,me,N)}this._store=ye,this._nameList=(P||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,ye.count()),this._dimSummary=(0,le.y)(this,this._schema),this.userOutput=this._dimSummary.userOutput},M.prototype.appendData=function(C){var P=this._store.appendData(C);this._doInit(P[0],P[1])},M.prototype.appendValues=function(C,P){var N=this._store.appendValues(C,P.length),ee=N.start,ye=N.end,Te=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),P)for(var he=ee;he<ye;he++)this._nameList[he]=P[he-ee],Te&&L(this,he)},M.prototype._updateOrdinalMeta=function(){for(var C=this._store,P=this.dimensions,N=0;N<P.length;N++){var ee=this._dimInfos[P[N]];ee.ordinalMeta&&C.collectOrdinalMeta(ee.storeDimIndex,ee.ordinalMeta)}},M.prototype._shouldMakeIdFromName=function(){var C=this._store.getProvider();return null==this._idDimIdx&&C.getSource().sourceFormat!==ce.J5&&!C.fillStorage},M.prototype._doInit=function(C,P){if(!(C>=P)){var ee=this._store.getProvider();this._updateOrdinalMeta();var ye=this._nameList,Te=this._idList;if(ee.getSource().sourceFormat===ce.cy&&!ee.pure)for(var Re=[],Le=C;Le<P;Le++){var Je=ee.getItem(Le,Re);if(!this.hasItemOption&&(0,q.Co)(Je)&&(this.hasItemOption=!0),Je){var Oe=Je.name;null==ye[Le]&&null!=Oe&&(ye[Le]=(0,q.U5)(Oe,null));var Ve=Je.id;null==Te[Le]&&null!=Ve&&(Te[Le]=(0,q.U5)(Ve,null))}}if(this._shouldMakeIdFromName())for(Le=C;Le<P;Le++)L(this,Le);ne(this)}},M.prototype.getApproximateExtent=function(C){return this._approximateExtent[C]||this._store.getDataExtent(this._getStoreDimIndex(C))},M.prototype.setApproximateExtent=function(C,P){P=this.getDimension(P),this._approximateExtent[P]=C.slice()},M.prototype.getCalculationInfo=function(C){return this._calculationInfo[C]},M.prototype.setCalculationInfo=function(C,P){j(C)?m.extend(this._calculationInfo,C):this._calculationInfo[C]=P},M.prototype.getName=function(C){var P=this.getRawIndex(C),N=this._nameList[P];return null==N&&null!=this._nameDimIdx&&(N=oe(this,this._nameDimIdx,P)),null==N&&(N=""),N},M.prototype._getCategory=function(C,P){var N=this._store.get(C,P),ee=this._store.getOrdinalMeta(C);return ee?ee.categories[N]:N},M.prototype.getId=function(C){return de(this,this.getRawIndex(C))},M.prototype.count=function(){return this._store.count()},M.prototype.get=function(C,P){var ee=this._dimInfos[C];if(ee)return this._store.get(ee.storeDimIndex,P)},M.prototype.getByRawIndex=function(C,P){var ee=this._dimInfos[C];if(ee)return this._store.getByRawIndex(ee.storeDimIndex,P)},M.prototype.getIndices=function(){return this._store.getIndices()},M.prototype.getDataExtent=function(C){return this._store.getDataExtent(this._getStoreDimIndex(C))},M.prototype.getSum=function(C){return this._store.getSum(this._getStoreDimIndex(C))},M.prototype.getMedian=function(C){return this._store.getMedian(this._getStoreDimIndex(C))},M.prototype.getValues=function(C,P){var N=this,ee=this._store;return m.isArray(C)?ee.getValues(X(C,function(ye){return N._getStoreDimIndex(ye)}),P):ee.getValues(C)},M.prototype.hasValue=function(C){for(var P=this._dimSummary.dataDimIndicesOnCoord,N=0,ee=P.length;N<ee;N++)if(isNaN(this._store.get(P[N],C)))return!1;return!0},M.prototype.indexOfName=function(C){for(var P=0,N=this._store.count();P<N;P++)if(this.getName(P)===C)return P;return-1},M.prototype.getRawIndex=function(C){return this._store.getRawIndex(C)},M.prototype.indexOfRawIndex=function(C){return this._store.indexOfRawIndex(C)},M.prototype.rawIndexOf=function(C,P){var ee=(C&&this._invertedIndicesMap[C])[P];return null==ee||isNaN(ee)?-1:ee},M.prototype.indicesOfNearest=function(C,P,N){return this._store.indicesOfNearest(this._getStoreDimIndex(C),P,N)},M.prototype.each=function(C,P,N){"function"==typeof C&&(N=P,P=C,C=[]);var ee=N||this,ye=X(Z(C),this._getStoreDimIndex,this);this._store.each(ye,ee?m.bind(P,ee):P)},M.prototype.filterSelf=function(C,P,N){"function"==typeof C&&(N=P,P=C,C=[]);var ee=N||this,ye=X(Z(C),this._getStoreDimIndex,this);return this._store=this._store.filter(ye,ee?m.bind(P,ee):P),this},M.prototype.selectRange=function(C){var P=this,N={},ee=m.keys(C),ye=[];return m.each(ee,function(Te){var he=P._getStoreDimIndex(Te);N[he]=C[Te],ye.push(he)}),this._store=this._store.selectRange(N),this},M.prototype.mapArray=function(C,P,N){"function"==typeof C&&(N=P,P=C,C=[]);var ee=[];return this.each(C,function(){ee.push(P&&P.apply(this,arguments))},N=N||this),ee},M.prototype.map=function(C,P,N,ee){var ye=N||ee||this,Te=X(Z(C),this._getStoreDimIndex,this),he=W(this);return he._store=this._store.map(Te,ye?m.bind(P,ye):P),he},M.prototype.modify=function(C,P,N,ee){var Te=N||ee||this,he=X(Z(C),this._getStoreDimIndex,this);this._store.modify(he,Te?m.bind(P,Te):P)},M.prototype.downSample=function(C,P,N,ee){var ye=W(this);return ye._store=this._store.downSample(this._getStoreDimIndex(C),P,N,ee),ye},M.prototype.lttbDownSample=function(C,P){var N=W(this);return N._store=this._store.lttbDownSample(this._getStoreDimIndex(C),P),N},M.prototype.getRawDataItem=function(C){return this._store.getRawDataItem(C)},M.prototype.getItemModel=function(C){var P=this.hostModel,N=this.getRawDataItem(C);return new R.Z(N,P,P&&P.ecModel)},M.prototype.diff=function(C){var P=this;return new k.Z(C?C.getStore().getIndices():[],this.getStore().getIndices(),function(N){return de(C,N)},function(N){return de(P,N)})},M.prototype.getVisual=function(C){var P=this._visual;return P&&P[C]},M.prototype.setVisual=function(C,P){this._visual=this._visual||{},j(C)?m.extend(this._visual,C):this._visual[C]=P},M.prototype.getItemVisual=function(C,P){var N=this._itemVisuals[C],ee=N&&N[P];return null==ee?this.getVisual(P):ee},M.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},M.prototype.ensureUniqueItemVisual=function(C,P){var N=this._itemVisuals,ee=N[C];ee||(ee=N[C]={});var ye=ee[P];return null==ye&&(ye=this.getVisual(P),m.isArray(ye)?ye=ye.slice():j(ye)&&(ye=m.extend({},ye)),ee[P]=ye),ye},M.prototype.setItemVisual=function(C,P,N){var ee=this._itemVisuals[C]||{};this._itemVisuals[C]=ee,j(P)?m.extend(ee,P):ee[P]=N},M.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},M.prototype.setLayout=function(C,P){if(j(C))for(var N in C)C.hasOwnProperty(N)&&this.setLayout(N,C[N]);else this._layout[C]=P},M.prototype.getLayout=function(C){return this._layout[C]},M.prototype.getItemLayout=function(C){return this._itemLayouts[C]},M.prototype.setItemLayout=function(C,P,N){this._itemLayouts[C]=N?m.extend(this._itemLayouts[C]||{},P):P},M.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},M.prototype.setItemGraphicEl=function(C,P){(0,K.Q)(this.hostModel&&this.hostModel.seriesIndex,this.dataType,C,P),this._graphicEls[C]=P},M.prototype.getItemGraphicEl=function(C){return this._graphicEls[C]},M.prototype.eachItemGraphicEl=function(C,P){m.each(this._graphicEls,function(N,ee){N&&C&&C.call(P,N,ee)})},M.prototype.cloneShallow=function(C){return C||(C=new M(this._schema?this._schema:X(this.dimensions,this._getDimInfo,this),this.hostModel)),U(C,this),C._store=this._store,C},M.prototype.wrapMethod=function(C,P){var N=this[C];"function"==typeof N&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(C),this[C]=function(){var ee=N.apply(this,arguments);return P.apply(this,[ee].concat(m.slice(arguments)))})},M.internalField=(ne=function(C){var P=C._invertedIndicesMap;m.each(P,function(N,ee){var ye=C._dimInfos[ee],Te=ye.ordinalMeta,he=C._store;if(Te){N=P[ee]=new xe(Te.categories.length);for(var me=0;me<N.length;me++)N[me]=-1;for(me=0;me<he.count();me++)N[he.get(ye.storeDimIndex,me)]=me}})},oe=function(C,P,N){return(0,q.U5)(C._getCategory(P,N),null)},de=function(C,P){var N=C._idList[P];return null==N&&null!=C._idDimIdx&&(N=oe(C,C._idDimIdx,P)),null==N&&(N="e\0\0"+P),N},Z=function(C){return m.isArray(C)||(C=null!=C?[C]:[]),C},W=function(C){var P=new M(C._schema?C._schema:X(C.dimensions,C._getDimInfo,C),C.hostModel);return U(P,C),P},U=function(C,P){m.each(re.concat(P.__wrappedMethods||[]),function(N){P.hasOwnProperty(N)&&(C[N]=P[N])}),C.__wrappedMethods=P.__wrappedMethods,m.each(ie,function(N){C[N]=m.clone(P[N])}),C._calculationInfo=m.extend({},P._calculationInfo)},void(L=function(C,P){var N=C._nameList,ee=C._idList,ye=C._nameDimIdx,Te=C._idDimIdx,he=N[P],me=ee[P];if(null==he&&null!=ye&&(N[P]=he=oe(C,ye,P)),null==me&&null!=Te&&(ee[P]=me=oe(C,Te,P)),null==me&&null!=he){var Re=C._nameRepeatCount,Le=Re[he]=(Re[he]||0)+1;me=he,Le>1&&(me+="__ec__"+Le),ee[P]=me}})),M}()},9519:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>k});var m=E(284);const k=function(le){this.otherDims={},null!=le&&m.extend(this,le)}},8296:(un,ot,E)=>{"use strict";E.d(ot,{Ld:()=>y,_P:()=>ce,nx:()=>q,ML:()=>K,Kp:()=>H,QY:()=>xe});var m=E(284),R=E(616),k=E(7911),Se=E(4241),le=function(fe){this.data=fe.data||(fe.sourceFormat===R.hL?{}:[]),this.sourceFormat=fe.sourceFormat||R.RA,this.seriesLayoutBy=fe.seriesLayoutBy||R.fY,this.startIndex=fe.startIndex||0,this.dimensionsDetectedCount=fe.dimensionsDetectedCount,this.metaRawOption=fe.metaRawOption;var re=this.dimensionsDefine=fe.dimensionsDefine;if(re)for(var ie=0;ie<re.length;ie++){var ne=re[ie];null==ne.type&&(0,Se.u7)(this,ie)===Se.Dq.Must&&(ne.type="ordinal")}};function y(Q){return Q instanceof le}function ce(Q,fe,re){re=re||H(Q);var ie=fe.seriesLayoutBy,ne=function(Q,fe,re,ie,ne){var de,oe;if(!Q)return{dimensionsDefine:j(ne),startIndex:oe,dimensionsDetectedCount:de};if(fe===R.XD){var Z=Q;"auto"===ie||null==ie?X(function(W){null!=W&&"-"!==W&&((0,m.isString)(W)?null==oe&&(oe=1):oe=0)},re,Z,10):oe=(0,m.isNumber)(ie)?ie:ie?1:0,!ne&&1===oe&&(ne=[],X(function(W,L){ne[L]=null!=W?W+"":""},re,Z,1/0)),de=ne?ne.length:re===R.Wc?Z.length:Z[0]?Z[0].length:null}else if(fe===R.qb)ne||(ne=function(Q){for(var re,fe=0;fe<Q.length&&!(re=Q[fe++]););if(re){var ie=[];return(0,m.each)(re,function(ne,de){ie.push(de)}),ie}}(Q));else if(fe===R.hL)ne||(ne=[],(0,m.each)(Q,function(W,L){ne.push(L)}));else if(fe===R.cy){var U=(0,k.C4)(Q[0]);de=(0,m.isArray)(U)&&U.length||1}return{startIndex:oe,dimensionsDefine:j(ne),dimensionsDetectedCount:de}}(Q,re,ie,fe.sourceHeader,fe.dimensions);return new le({data:Q,sourceFormat:re,seriesLayoutBy:ie,dimensionsDefine:ne.dimensionsDefine,startIndex:ne.startIndex,dimensionsDetectedCount:ne.dimensionsDetectedCount,metaRawOption:(0,m.clone)(fe)})}function q(Q){return new le({data:Q,sourceFormat:(0,m.isTypedArray)(Q)?R.J5:R.cy})}function K(Q){return new le({data:Q.data,sourceFormat:Q.sourceFormat,seriesLayoutBy:Q.seriesLayoutBy,dimensionsDefine:(0,m.clone)(Q.dimensionsDefine),startIndex:Q.startIndex,dimensionsDetectedCount:Q.dimensionsDetectedCount})}function H(Q){var fe=R.RA;if((0,m.isTypedArray)(Q))fe=R.J5;else if((0,m.isArray)(Q)){0===Q.length&&(fe=R.XD);for(var re=0,ie=Q.length;re<ie;re++){var ne=Q[re];if(null!=ne){if((0,m.isArray)(ne)){fe=R.XD;break}if((0,m.isObject)(ne)){fe=R.qb;break}}}}else if((0,m.isObject)(Q))for(var de in Q)if((0,m.hasOwn)(Q,de)&&(0,m.isArrayLike)(Q[de])){fe=R.hL;break}return fe}function j(Q){if(Q){var fe=(0,m.createHashMap)();return(0,m.map)(Q,function(re,ie){var ne={name:(re=(0,m.isObject)(re)?re:{name:re}).name,displayName:re.displayName,type:re.type};if(null==ne.name)return ne;ne.name+="",null==ne.displayName&&(ne.displayName=ne.name);var de=fe.get(ne.name);return de?ne.name+="-"+de.count++:fe.set(ne.name,{count:1}),ne})}}function X(Q,fe,re,ie){if(fe===R.Wc)for(var ne=0;ne<re.length&&ne<ie;ne++)Q(re[ne]?re[ne][0]:null,ne);else{var de=re[0]||[];for(ne=0;ne<de.length&&ne<ie;ne++)Q(de[ne],ne)}}function xe(Q){var fe=Q.sourceFormat;return fe===R.qb||fe===R.hL}},7032:(un,ot,E)=>{"use strict";E.d(ot,{Eo:()=>y,bB:()=>ce,v5:()=>q,Jj:()=>K,Jl:()=>H});var m=E(284),R=E(7911),k=E(8296),Se=(0,R.Yf)(),le={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},y=function(){function Y(V){this.dimensions=V.dimensions,this._dimOmitted=V.dimensionOmitted,this.source=V.source,this._fullDimCount=V.fullDimensionCount,this._updateDimOmitted(V.dimensionOmitted)}return Y.prototype.isDimensionOmitted=function(){return this._dimOmitted},Y.prototype._updateDimOmitted=function(V){this._dimOmitted=V,V&&(this._dimNameMap||(this._dimNameMap=K(this.source)))},Y.prototype.getSourceDimensionIndex=function(V){return(0,m.retrieve2)(this._dimNameMap.get(V),-1)},Y.prototype.getSourceDimension=function(V){var j=this.source.dimensionsDefine;if(j)return j[V]},Y.prototype.makeStoreSchema=function(){for(var V=this._fullDimCount,j=(0,k.QY)(this.source),X=!H(V),xe="",Q=[],fe=0,re=0;fe<V;fe++){var ie=void 0,ne=void 0,de=void 0,oe=this.dimensions[re];if(oe&&oe.storeDimIndex===fe)ie=j?oe.name:null,ne=oe.type,de=oe.ordinalMeta,re++;else{var Z=this.getSourceDimension(fe);Z&&(ie=j?Z.name:null,ne=Z.type)}Q.push({property:ie,type:ne,ordinalMeta:de}),j&&null!=ie&&(!oe||!oe.isCalculationCoord)&&(xe+=X?ie.replace(/\`/g,"`1").replace(/\$/g,"`2"):ie),xe+="$",xe+=le[ne]||"f",de&&(xe+=de.uid),xe+="$"}var U=this.source;return{dimensions:Q,hash:[U.seriesLayoutBy,U.startIndex,xe].join("$$")}},Y.prototype.makeOutputDimensionNames=function(){for(var V=[],j=0,X=0;j<this._fullDimCount;j++){var xe=void 0,Q=this.dimensions[X];if(Q&&Q.storeDimIndex===j)Q.isCalculationCoord||(xe=Q.name),X++;else{var fe=this.getSourceDimension(j);fe&&(xe=fe.name)}V.push(xe)}return V},Y.prototype.appendCalculationDimension=function(V){this.dimensions.push(V),V.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},Y}();function ce(Y){return Y instanceof y}function q(Y){for(var V=(0,m.createHashMap)(),j=0;j<(Y||[]).length;j++){var X=Y[j],xe=(0,m.isObject)(X)?X.name:X;null!=xe&&null==V.get(xe)&&V.set(xe,j)}return V}function K(Y){var V=Se(Y);return V.dimNameMap||(V.dimNameMap=q(Y.dimensionsDefine))}function H(Y){return Y>30}},1629:(un,ot,E)=>{"use strict";E.d(ot,{q:()=>K,Z:()=>H});var m=E(616),R=E(9519),k=E(284),Se=E(8296),le=E(7),y=E(7911),ce=E(4241),q=E(7032);function K(X,xe){return H(X,xe).dimensions}function H(X,xe){(0,Se.Ld)(X)||(X=(0,Se.nx)(X));var Q=(xe=xe||{}).coordDimensions||[],fe=xe.dimensionsDefine||X.dimensionsDefine||[],re=(0,k.createHashMap)(),ie=[],ne=function(X,xe,Q,fe){var re=Math.max(X.dimensionsDetectedCount||1,xe.length,Q.length,fe||0);return(0,k.each)(xe,function(ie){var ne;(0,k.isObject)(ie)&&(ne=ie.dimsDef)&&(re=Math.max(re,ne.length))}),re}(X,Q,fe,xe.dimensionsCount),de=xe.canOmitUnusedDimensions&&(0,q.Jl)(ne),oe=fe===X.dimensionsDefine,Z=oe?(0,q.Jj)(X):(0,q.v5)(fe),U=xe.encodeDefine;!U&&xe.encodeDefaulter&&(U=xe.encodeDefaulter(X,ne));for(var W=(0,k.createHashMap)(U),L=new le.hG(ne),D=0;D<L.length;D++)L[D]=-1;function A(Le){var Je=L[Le];if(Je<0){var Oe=fe[Le],Ve=(0,k.isObject)(Oe)?Oe:{name:Oe},Fe=new R.Z,et=Ve.name;return null!=et&&null!=Z.get(et)&&(Fe.name=Fe.displayName=et),null!=Ve.type&&(Fe.type=Ve.type),null!=Ve.displayName&&(Fe.displayName=Ve.displayName),L[Le]=ie.length,Fe.storeDimIndex=Le,ie.push(Fe),Fe}return ie[Je]}if(!de)for(D=0;D<ne;D++)A(D);W.each(function(Le,Je){var Oe=(0,y.kF)(Le).slice();if(1===Oe.length&&!(0,k.isString)(Oe[0])&&Oe[0]<0)W.set(Je,!1);else{var Ve=W.set(Je,[]);(0,k.each)(Oe,function(Fe,et){var Ue=(0,k.isString)(Fe)?Z.get(Fe):Fe;null!=Ue&&Ue<ne&&(Ve[et]=Ue,C(A(Ue),Je,et))})}});var M=0;function C(Le,Je,Oe){null!=m.f7.get(Je)?Le.otherDims[Je]=Oe:(Le.coordDim=Je,Le.coordDimIndex=Oe,re.set(Je,!0))}(0,k.each)(Q,function(Le){var Je,Oe,Ve,Fe;if((0,k.isString)(Le))Je=Le,Fe={};else{Je=(Fe=Le).name;var et=Fe.ordinalMeta;Fe.ordinalMeta=null,(Fe=(0,k.extend)({},Fe)).ordinalMeta=et,Oe=Fe.dimsDef,Ve=Fe.otherDims,Fe.name=Fe.coordDim=Fe.coordDimIndex=Fe.dimsDef=Fe.otherDims=null}var Ue=W.get(Je);if(!1!==Ue){if(!(Ue=(0,y.kF)(Ue)).length)for(var xt=0;xt<(Oe&&Oe.length||1);xt++){for(;M<ne&&null!=A(M).coordDim;)M++;M<ne&&Ue.push(M++)}(0,k.each)(Ue,function(It,Pt){var Wt=A(It);if(oe&&null!=Fe.type&&(Wt.type=Fe.type),C((0,k.defaults)(Wt,Fe),Je,Pt),null==Wt.name&&Oe){var Qt=Oe[Pt];!(0,k.isObject)(Qt)&&(Qt={name:Qt}),Wt.name=Wt.displayName=Qt.name,Wt.defaultTooltip=Qt.defaultTooltip}Ve&&(0,k.defaults)(Wt.otherDims,Ve)})}});var P=xe.generateCoord,N=xe.generateCoordCount,ee=null!=N;N=P?N||1:0;var ye=P||"value";function Te(Le){null==Le.name&&(Le.name=Le.coordDim)}if(de)(0,k.each)(ie,function(Le){Te(Le)}),ie.sort(function(Le,Je){return Le.storeDimIndex-Je.storeDimIndex});else for(var he=0;he<ne;he++){var me=A(he);null==me.coordDim&&(me.coordDim=j(ye,re,ee),me.coordDimIndex=0,(!P||N<=0)&&(me.isExtraCoord=!0),N--),Te(me),null==me.type&&((0,ce.u7)(X,he)===ce.Dq.Must||me.isExtraCoord&&(null!=me.otherDims.itemName||null!=me.otherDims.seriesName))&&(me.type="ordinal")}return function(X){for(var xe=(0,k.createHashMap)(),Q=0;Q<X.length;Q++){var fe=X[Q],re=fe.name,ie=xe.get(re)||0;ie>0&&(fe.name=re+(ie-1)),ie++,xe.set(re,ie)}}(ie),new q.Eo({source:X,dimensions:ie,fullDimensionCount:ne,dimensionOmitted:de})}function j(X,xe,Q){var fe=xe.data;if(Q||fe.hasOwnProperty(X)){for(var re=0;fe.hasOwnProperty(X+re);)re++;X+=re}return xe.set(X,!0),X}},6308:(un,ot,E)=>{"use strict";E.d(ot,{Pl:()=>H,_j:()=>j,a:()=>Q,tB:()=>ie,hk:()=>de});var le,y,ce,q,K,m=E(284),R=E(7911),k=E(8296),Se=E(616),H=function(){function Z(U,W){var L=(0,k.Ld)(U)?U:(0,k.nx)(U);this._source=L;var D=this._data=L.data;L.sourceFormat===Se.J5&&(this._offset=0,this._dimSize=W,this._data=D),K(this,D,L)}return Z.prototype.getSource=function(){return this._source},Z.prototype.count=function(){return 0},Z.prototype.getItem=function(U,W){},Z.prototype.appendData=function(U){},Z.prototype.clean=function(){},Z.protoInitialize=((U=Z.prototype).pure=!1,void(U.persistent=!0)),Z.internalField=function(){var U;K=function(M,C,P){var N=P.sourceFormat,ee=P.seriesLayoutBy,ye=P.startIndex,Te=P.dimensionsDefine,he=q[ne(N,ee)];if((0,m.extend)(M,he),N===Se.J5)M.getItem=W,M.count=D,M.fillStorage=L;else{var me=j(N,ee);M.getItem=(0,m.bind)(me,null,C,ye,Te);var Re=Q(N,ee);M.count=(0,m.bind)(Re,null,C,ye,Te)}};var W=function(M,C){C=C||[];for(var P=this._data,N=this._dimSize,ee=N*(M-=this._offset),ye=0;ye<N;ye++)C[ye]=P[ee+ye];return C},L=function(M,C,P,N){for(var ee=this._data,ye=this._dimSize,Te=0;Te<ye;Te++){for(var he=N[Te],me=null==he[0]?1/0:he[0],Re=null==he[1]?-1/0:he[1],Le=C-M,Je=P[Te],Oe=0;Oe<Le;Oe++){var Ve=ee[Oe*ye+Te];Je[M+Oe]=Ve,Ve<me&&(me=Ve),Ve>Re&&(Re=Ve)}he[0]=me,he[1]=Re}},D=function(){return this._data?this._data.length/this._dimSize:0};function A(M){for(var C=0;C<M.length;C++)this._data.push(M[C])}(U={})[Se.XD+"_"+Se.fY]={pure:!0,appendData:A},U[Se.XD+"_"+Se.Wc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},U[Se.qb]={pure:!0,appendData:A},U[Se.hL]={pure:!0,appendData:function(M){var C=this._data;(0,m.each)(M,function(P,N){for(var ee=C[N]||(C[N]=[]),ye=0;ye<(P||[]).length;ye++)ee.push(P[ye])})}},U[Se.cy]={appendData:A},U[Se.J5]={persistent:!1,pure:!0,appendData:function(M){this._data=M},clean:function(){this._offset+=this.count(),this._data=null}},q=U}(),Z;var U}(),Y=function(Z,U,W,L){return Z[L]},V=((le={})[Se.XD+"_"+Se.fY]=function(Z,U,W,L){return Z[L+U]},le[Se.XD+"_"+Se.Wc]=function(Z,U,W,L,D){L+=U;for(var A=D||[],M=Z,C=0;C<M.length;C++){var P=M[C];A[C]=P?P[L]:null}return A},le[Se.qb]=Y,le[Se.hL]=function(Z,U,W,L,D){for(var A=D||[],M=0;M<W.length;M++){var P=Z[W[M].name];A[M]=P?P[L]:null}return A},le[Se.cy]=Y,le);function j(Z,U){return V[ne(Z,U)]}var X=function(Z,U,W){return Z.length},xe=((y={})[Se.XD+"_"+Se.fY]=function(Z,U,W){return Math.max(0,Z.length-U)},y[Se.XD+"_"+Se.Wc]=function(Z,U,W){var L=Z[0];return L?Math.max(0,L.length-U):0},y[Se.qb]=X,y[Se.hL]=function(Z,U,W){var D=Z[W[0].name];return D?D.length:0},y[Se.cy]=X,y);function Q(Z,U){return xe[ne(Z,U)]}var fe=function(Z,U,W){return Z[U]},re=((ce={})[Se.XD]=fe,ce[Se.qb]=function(Z,U,W){return Z[W]},ce[Se.hL]=fe,ce[Se.cy]=function(Z,U,W){var L=(0,R.C4)(Z);return L instanceof Array?L[U]:L},ce[Se.J5]=fe,ce);function ie(Z){return re[Z]}function ne(Z,U){return Z===Se.XD?Z+"_"+U:Z}function de(Z,U,W){if(Z){var L=Z.getRawDataItem(U);if(null!=L){var D=Z.getStore(),A=D.getSource().sourceFormat;if(null!=W){var M=Z.getDimensionIndex(W),C=D.getDimensionProperty(M);return ie(A)(L,M,C)}var P=L;return A===Se.cy&&(P=(0,R.C4)(L)),P}}}},7172:(un,ot,E)=>{"use strict";E.d(ot,{BM:()=>k,M:()=>le,IR:()=>y});var m=E(284),R=E(7032);function k(ce,q,K){var V,j,X,H=(K=K||{}).byIndex,Y=K.stackedCoordDimension;!function(ce){return!(0,R.bB)(ce.schema)}(q)?(V=(j=q.schema).dimensions,X=q.store):V=q;var Q,fe,re,ie,xe=!(!ce||!ce.get("stack"));if((0,m.each)(V,function(W,L){(0,m.isString)(W)&&(V[L]=W={name:W}),xe&&!W.isExtraCoord&&(!H&&!Q&&W.ordinalMeta&&(Q=W),!fe&&"ordinal"!==W.type&&"time"!==W.type&&(!Y||Y===W.coordDim)&&(fe=W))}),fe&&!H&&!Q&&(H=!0),fe){re="__\0ecstackresult_"+ce.id,ie="__\0ecstackedover_"+ce.id,Q&&(Q.createInvertedIndices=!0);var ne=fe.coordDim,de=fe.type,oe=0;(0,m.each)(V,function(W){W.coordDim===ne&&oe++});var Z={name:re,coordDim:ne,coordDimIndex:oe,type:de,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:V.length},U={name:ie,coordDim:ie,coordDimIndex:oe+1,type:de,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:V.length+1};j?(X&&(Z.storeDimIndex=X.ensureCalculationDimension(ie,de),U.storeDimIndex=X.ensureCalculationDimension(re,de)),j.appendCalculationDimension(Z),j.appendCalculationDimension(U)):(V.push(Z),V.push(U))}return{stackedDimension:fe&&fe.name,stackedByDimension:Q&&Q.name,isStackedByIndex:H,stackedOverDimension:ie,stackResultDimension:re}}function le(ce,q){return!!q&&q===ce.getCalculationInfo("stackedDimension")}function y(ce,q){return le(ce,q)?ce.getCalculationInfo("stackResultDimension"):q}},3585:(un,ot,E)=>{"use strict";E.d(ot,{yQ:()=>Se,o2:()=>y,ID:()=>K,tR:()=>Y});var m=E(6573),R=E(284),k=E(942);function Se(V,j){var X=j&&j.type;return"ordinal"===X?V:("time"===X&&"number"!=typeof V&&null!=V&&"-"!==V&&(V=+(0,m.sG)(V)),null==V||""===V?NaN:+V)}var le=(0,R.createHashMap)({number:function(V){return parseFloat(V)},time:function(V){return+(0,m.sG)(V)},trim:function(V){return"string"==typeof V?(0,R.trim)(V):V}});function y(V){return le.get(V)}var ce={lt:function(V,j){return V<j},lte:function(V,j){return V<=j},gt:function(V,j){return V>j},gte:function(V,j){return V>=j}},q=function(){function V(j,X){"number"!=typeof X&&(0,k._y)(""),this._opFn=ce[j],this._rvalFloat=(0,m.FK)(X)}return V.prototype.evaluate=function(j){return this._opFn("number"==typeof j?j:(0,m.FK)(j),this._rvalFloat)},V}(),K=function(){function V(j,X){var xe="desc"===j;this._resultLT=xe?1:-1,null==X&&(X=xe?"min":"max"),this._incomparable="min"===X?-1/0:1/0}return V.prototype.evaluate=function(j,X){var xe=typeof j,Q=typeof X,fe="number"===xe?j:(0,m.FK)(j),re="number"===Q?X:(0,m.FK)(X),ie=isNaN(fe),ne=isNaN(re);if(ie&&(fe=this._incomparable),ne&&(re=this._incomparable),ie&&ne){var de="string"===xe,oe="string"===Q;de&&(fe=oe?j:0),oe&&(re=de?X:0)}return fe<re?this._resultLT:fe>re?-this._resultLT:0},V}(),H=function(){function V(j,X){this._rval=X,this._isEQ=j,this._rvalTypeof=typeof X,this._rvalFloat=(0,m.FK)(X)}return V.prototype.evaluate=function(j){var X=j===this._rval;if(!X){var xe=typeof j;xe!==this._rvalTypeof&&("number"===xe||"number"===this._rvalTypeof)&&(X=(0,m.FK)(j)===this._rvalFloat)}return this._isEQ?X:!X},V}();function Y(V,j){return"eq"===V||"ne"===V?new H("eq"===V,j):(0,R.hasOwn)(ce,V)?new q(V,j):null}},8100:(un,ot,E)=>{"use strict";E.d(ot,{y:()=>Se,T:()=>y});var m=E(284),R=E(616),k=function(){function q(K,H){this._encode=K,this._schema=H}return q.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},q.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},q}();function Se(q,K){var H={},Y=H.encode={},V=(0,m.createHashMap)(),j=[],X=[],xe={};(0,m.each)(q.dimensions,function(ne){var de=q.getDimensionInfo(ne),oe=de.coordDim;if(oe){var Z=de.coordDimIndex;le(Y,oe)[Z]=ne,de.isExtraCoord||(V.set(oe,1),function(q){return!("ordinal"===q||"time"===q)}(de.type)&&(j[0]=ne),le(xe,oe)[Z]=q.getDimensionIndex(de.name)),de.defaultTooltip&&X.push(ne)}R.f7.each(function(U,W){var L=le(Y,W),D=de.otherDims[W];null!=D&&!1!==D&&(L[D]=de.name)})});var Q=[],fe={};V.each(function(ne,de){var oe=Y[de];fe[de]=oe[0],Q=Q.concat(oe)}),H.dataDimsOnCoord=Q,H.dataDimIndicesOnCoord=(0,m.map)(Q,function(ne){return q.getDimensionInfo(ne).storeDimIndex}),H.encodeFirstDimNotExtra=fe;var re=Y.label;re&&re.length&&(j=re.slice());var ie=Y.tooltip;return ie&&ie.length?X=ie.slice():X.length||(X=j.slice()),Y.defaultedLabel=j,Y.defaultedTooltip=X,H.userOutput=new k(xe,K),H}function le(q,K){return q.hasOwnProperty(K)||(q[K]=[]),q[K]}function y(q){return"category"===q?"ordinal":"time"===q?"time":"float"}},4100:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>j});var m=E(284),k=(0,E(7911).Yf)();function le(X,xe){if(function(X){return k(X).mainData===X}(this)){var Q=(0,m.extend)({},k(this).datas);Q[this.dataType]=xe,Y(xe,Q,X)}else V(xe,this.dataType,k(this).mainData,X);return xe}function y(X,xe){return X.struct&&X.struct.update(),xe}function ce(X,xe){return(0,m.each)(k(xe).datas,function(Q,fe){Q!==xe&&V(Q.cloneShallow(),fe,xe,X)}),xe}function q(X){var xe=k(this).mainData;return null==X||null==xe?xe:k(xe).datas[X]}function K(){var X=k(this).mainData;return null==X?[{data:X}]:(0,m.map)((0,m.keys)(k(X).datas),function(xe){return{type:xe,data:k(X).datas[xe]}})}function Y(X,xe,Q){k(X).datas={},(0,m.each)(xe,function(fe,re){V(fe,re,X,Q)})}function V(X,xe,Q,fe){k(Q).datas[xe]=X,k(X).mainData=Q,X.dataType=xe,fe.struct&&(X[fe.structAttr]=fe.struct,fe.struct[fe.datasAttr[xe]]=X),X.getLinkedData=q,X.getLinkedDataAll=K}const j=function(X){var xe=X.mainData,Q=X.datas;Q||(Q={main:xe},X.datasAttr={main:"data"}),X.datas=X.mainData=null,Y(xe,Q,X),(0,m.each)(Q,function(fe){(0,m.each)(xe.TRANSFERABLE_METHODS,function(re){fe.wrapMethod(re,(0,m.curry)(le,X))})}),xe.wrapMethod("cloneShallow",(0,m.curry)(ce,X)),(0,m.each)(xe.CHANGABLE_METHODS,function(fe){xe.wrapMethod(fe,(0,m.curry)(y,X))}),(0,m.assert)(Q[xe.dataType]===xe)}},4241:(un,ot,E)=>{"use strict";E.d(ot,{Dq:()=>Se,md:()=>y,pY:()=>ce,Ss:()=>q,Wd:()=>K,JT:()=>H,u7:()=>Y});var m=E(7911),R=E(284),k=E(616),Se={Must:1,Might:2,Not:3},le=(0,m.Yf)();function y(j){le(j).datasetMap=(0,R.createHashMap)()}function ce(j,X,xe){var Q={},fe=K(X);if(!fe||!j)return Q;var Z,U,re=[],ie=[],de=le(X.ecModel).datasetMap,oe=fe.uid+"_"+xe.seriesLayoutBy;j=j.slice(),(0,R.each)(j,function(A,M){var C=(0,R.isObject)(A)?A:j[M]={name:A};"ordinal"===C.type&&null==Z&&(Z=M,U=D(C)),Q[C.name]=[]});var W=de.get(oe)||de.set(oe,{categoryWayDim:U,valueWayDim:0});function L(A,M,C){for(var P=0;P<C;P++)A.push(M+P)}function D(A){var M=A.dimsDef;return M?M.length:1}return(0,R.each)(j,function(A,M){var C=A.name,P=D(A);if(null==Z)L(Q[C],N=W.valueWayDim,P),L(ie,N,P),W.valueWayDim+=P;else if(Z===M)L(Q[C],0,P),L(re,0,P);else{var N;L(Q[C],N=W.categoryWayDim,P),L(ie,N,P),W.categoryWayDim+=P}}),re.length&&(Q.itemName=re),ie.length&&(Q.seriesName=ie),Q}function q(j,X,xe){var Q={};if(!K(j))return Q;var ne,re=X.sourceFormat,ie=X.dimensionsDefine;(re===k.qb||re===k.hL)&&(0,R.each)(ie,function(Z,U){"name"===((0,R.isObject)(Z)?Z.name:Z)&&(ne=U)});var de=function(){for(var Z={},U={},W=[],L=0,D=Math.min(5,xe);L<D;L++){var A=V(X.data,re,X.seriesLayoutBy,ie,X.startIndex,L);W.push(A);var M=A===Se.Not;if(M&&null==Z.v&&L!==ne&&(Z.v=L),(null==Z.n||Z.n===Z.v||!M&&W[Z.n]===Se.Not)&&(Z.n=L),C(Z)&&W[Z.n]!==Se.Not)return Z;M||(A===Se.Might&&null==U.v&&L!==ne&&(U.v=L),(null==U.n||U.n===U.v)&&(U.n=L))}function C(P){return null!=P.v&&null!=P.n}return C(Z)?Z:C(U)?U:null}();if(de){Q.value=[de.v];var oe=null!=ne?ne:de.n;Q.itemName=[oe],Q.seriesName=[oe]}return Q}function K(j){if(!j.get("data",!0))return(0,m.HZ)(j.ecModel,"dataset",{index:j.get("datasetIndex",!0),id:j.get("datasetId",!0)},m.C6).models[0]}function H(j){return j.get("transform",!0)||j.get("fromTransformResult",!0)?(0,m.HZ)(j.ecModel,"dataset",{index:j.get("fromDatasetIndex",!0),id:j.get("fromDatasetId",!0)},m.C6).models:[]}function Y(j,X){return V(j.data,j.sourceFormat,j.seriesLayoutBy,j.dimensionsDefine,j.startIndex,X)}function V(j,X,xe,Q,fe,re){var ie,de,oe;if((0,R.isTypedArray)(j))return Se.Not;if(Q){var Z=Q[re];(0,R.isObject)(Z)?(de=Z.name,oe=Z.type):(0,R.isString)(Z)&&(de=Z)}if(null!=oe)return"ordinal"===oe?Se.Must:Se.Not;if(X===k.XD){var U=j;if(xe===k.Wc){for(var W=U[re],L=0;L<(W||[]).length&&L<5;L++)if(null!=(ie=ee(W[fe+L])))return ie}else for(L=0;L<U.length&&L<5;L++){var D=U[fe+L];if(D&&null!=(ie=ee(D[re])))return ie}}else if(X===k.qb){var A=j;if(!de)return Se.Not;for(L=0;L<A.length&&L<5;L++)if((M=A[L])&&null!=(ie=ee(M[de])))return ie}else if(X===k.hL){if(!de)return Se.Not;if(!(W=j[de])||(0,R.isTypedArray)(W))return Se.Not;for(L=0;L<W.length&&L<5;L++)if(null!=(ie=ee(W[L])))return ie}else if(X===k.cy){var P=j;for(L=0;L<P.length&&L<5;L++){var M,N=(0,m.C4)(M=P[L]);if(!(0,R.isArray)(N))return Se.Not;if(null!=(ie=ee(N[re])))return ie}}function ee(ye){var Te=(0,R.isString)(ye);return null!=ye&&isFinite(ye)&&""!==ye?Te?Se.Might:Se.Not:Te&&"-"!==ye?Se.Must:void 0}return Se.Not}},8882:(un,ot,E)=>{"use strict";E.d(ot,{U:()=>q,t:()=>K});var m=E(284),R=E(8296),k=E(616),Se=E(4241),le=E(933),y=E(7),ce=E(6308),q=function(){function V(j){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=j}return V.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},V.prototype._setLocalSource=function(j,X){this._sourceList=j,this._upstreamSignList=X,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},V.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},V.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},V.prototype._createSource=function(){this._setLocalSource([],[]);var Q,fe,j=this._sourceHost,X=this._getUpstreamSourceManagers(),xe=!!X.length;if(H(j)){var re=j,ie=void 0,ne=void 0,de=void 0;if(xe){var oe=X[0];oe.prepareSource(),ie=(de=oe.getSource()).data,ne=de.sourceFormat,fe=[oe._getVersionSign()]}else ie=re.get("data",!0),ne=(0,m.isTypedArray)(ie)?k.J5:k.cy,fe=[];var Z=this._getSourceMetaRawOption()||{},U=de&&de.metaRawOption||{},W=(0,m.retrieve2)(Z.seriesLayoutBy,U.seriesLayoutBy)||null,L=(0,m.retrieve2)(Z.sourceHeader,U.sourceHeader)||null,D=(0,m.retrieve2)(Z.dimensions,U.dimensions);Q=W!==U.seriesLayoutBy||!!L!=!!U.sourceHeader||D?[(0,R._P)(ie,{seriesLayoutBy:W,sourceHeader:L,dimensions:D},ne)]:[]}else{var M=j;if(xe){var C=this._applyTransform(X);Q=C.sourceList,fe=C.upstreamSignList}else{var P=M.get("source",!0);Q=[(0,R._P)(P,this._getSourceMetaRawOption(),null)],fe=[]}}this._setLocalSource(Q,fe)},V.prototype._applyTransform=function(j){var X=this._sourceHost,xe=X.get("transform",!0),Q=X.get("fromTransformResult",!0);null!=Q&&1!==j.length&&Y("");var re,ie=[],ne=[];return(0,m.each)(j,function(de){de.prepareSource();var oe=de.getSource(Q||0);null!=Q&&!oe&&Y(""),ie.push(oe),ne.push(de._getVersionSign())}),xe?re=(0,le.vK)(xe,ie,{datasetIndex:X.componentIndex}):null!=Q&&(re=[(0,R.ML)(ie[0])]),{sourceList:re,upstreamSignList:ne}},V.prototype._isDirty=function(){if(this._dirty)return!0;for(var j=this._getUpstreamSourceManagers(),X=0;X<j.length;X++){var xe=j[X];if(xe._isDirty()||this._upstreamSignList[X]!==xe._getVersionSign())return!0}},V.prototype.getSource=function(j){var X=this._sourceList[j=j||0];if(!X){var xe=this._getUpstreamSourceManagers();return xe[0]&&xe[0].getSource(j)}return X},V.prototype.getSharedDataStore=function(j){var X=j.makeStoreSchema();return this._innerGetDataStore(X.dimensions,j.source,X.hash)},V.prototype._innerGetDataStore=function(j,X,xe){var fe=this._storeList,re=fe[0];re||(re=fe[0]={});var ie=re[xe];if(!ie){var ne=this._getUpstreamSourceManagers()[0];H(this._sourceHost)&&ne?ie=ne._innerGetDataStore(j,X,xe):(ie=new y.ZP).initData(new ce.Pl(X,j.length),j),re[xe]=ie}return ie},V.prototype._getUpstreamSourceManagers=function(){var j=this._sourceHost;if(H(j)){var X=(0,Se.Wd)(j);return X?[X.getSourceManager()]:[]}return(0,m.map)((0,Se.JT)(j),function(xe){return xe.getSourceManager()})},V.prototype._getSourceMetaRawOption=function(){var X,xe,Q,j=this._sourceHost;if(H(j))X=j.get("seriesLayoutBy",!0),xe=j.get("sourceHeader",!0),Q=j.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var fe=j;X=fe.get("seriesLayoutBy",!0),xe=fe.get("sourceHeader",!0),Q=fe.get("dimensions",!0)}return{seriesLayoutBy:X,sourceHeader:xe,dimensions:Q}},V}();function K(V){V.option.transform&&(0,m.setAsPrimitive)(V.option.transform)}function H(V){return"series"===V.mainType}function Y(V){throw new Error(V)}},933:(un,ot,E)=>{"use strict";E.d(ot,{DA:()=>xe,vK:()=>Q});var m=E(616),R=E(7911),k=E(284),Se=E(6308),le=E(3585),y=E(942),ce=E(8296),q=function(){function ie(){}return ie.prototype.getRawData=function(){throw new Error("not supported")},ie.prototype.getRawDataItem=function(ne){throw new Error("not supported")},ie.prototype.cloneRawData=function(){},ie.prototype.getDimensionInfo=function(ne){},ie.prototype.cloneAllDimensionInfo=function(){},ie.prototype.count=function(){},ie.prototype.retrieveValue=function(ne,de){},ie.prototype.retrieveValueFromItem=function(ne,de){},ie.prototype.convertValue=function(ne,de){return(0,le.yQ)(ne,de)},ie}();function H(ie){return re(ie.sourceFormat)||(0,y._y)(""),ie.data}function Y(ie){var ne=ie.sourceFormat,de=ie.data;if(re(ne)||(0,y._y)(""),ne===m.XD){for(var Z=[],U=0,W=de.length;U<W;U++)Z.push(de[U].slice());return Z}if(ne===m.qb){for(Z=[],U=0,W=de.length;U<W;U++)Z.push((0,k.extend)({},de[U]));return Z}}function V(ie,ne,de){if(null!=de){if("number"==typeof de||!isNaN(de)&&!(0,k.hasOwn)(ne,de))return ie[de];if((0,k.hasOwn)(ne,de))return ne[de]}}function j(ie){return(0,k.clone)(ie)}var X=(0,k.createHashMap)();function xe(ie){var ne=(ie=(0,k.clone)(ie)).type;ne||(0,y._y)("");var oe=ne.split(":");2!==oe.length&&(0,y._y)("");var Z=!1;"echarts"===oe[0]&&(ne=oe[1],Z=!0),ie.__isBuiltIn=Z,X.set(ne,ie)}function Q(ie,ne,de){var oe=(0,R.kF)(ie),Z=oe.length;Z||(0,y._y)("");for(var W=0,L=Z;W<L;W++)ne=fe(oe[W],ne),W!==L-1&&(ne.length=Math.max(ne.length,1));return ne}function fe(ie,ne,de,oe){ne.length||(0,y._y)(""),(0,k.isObject)(ie)||(0,y._y)("");var W=X.get(ie.type);W||(0,y._y)("");var L=(0,k.map)(ne,function(M){return function(ie,ne){var de=new q,oe=ie.data,Z=de.sourceFormat=ie.sourceFormat,U=ie.startIndex;ie.seriesLayoutBy!==m.fY&&(0,y._y)("");var L=[],D={},A=ie.dimensionsDefine;if(A)(0,k.each)(A,function(ye,Te){var he=ye.name,me={index:Te,name:he,displayName:ye.displayName};L.push(me),null!=he&&((0,k.hasOwn)(D,he)&&(0,y._y)(""),D[he]=me)});else for(var M=0;M<ie.dimensionsDetectedCount;M++)L.push({index:M});var C=(0,Se._j)(Z,m.fY);ne.__isBuiltIn&&(de.getRawDataItem=function(ye){return C(oe,U,L,ye)},de.getRawData=(0,k.bind)(H,null,ie)),de.cloneRawData=(0,k.bind)(Y,null,ie);var P=(0,Se.a)(Z,m.fY);de.count=(0,k.bind)(P,null,oe,U,L);var N=(0,Se.tB)(Z);de.retrieveValue=function(ye,Te){var he=C(oe,U,L,ye);return ee(he,Te)};var ee=de.retrieveValueFromItem=function(ye,Te){if(null!=ye){var he=L[Te];if(he)return N(ye,Te,he.name)}};return de.getDimensionInfo=(0,k.bind)(V,null,L,D),de.cloneAllDimensionInfo=(0,k.bind)(j,null,L),de}(M,W)}),D=(0,R.kF)(W.transform({upstream:L[0],upstreamList:L,config:(0,k.clone)(ie.config)}));return(0,k.map)(D,function(M,C){(0,k.isObject)(M)||(0,y._y)(""),M.data||(0,y._y)(""),re((0,ce.Kp)(M.data))||(0,y._y)("");var ee,ye=ne[0];if(ye&&0===C&&!M.dimensions){var Te=ye.startIndex;Te&&(M.data=ye.data.slice(0,Te).concat(M.data)),ee={seriesLayoutBy:m.fY,sourceHeader:Te,dimensions:ye.metaRawOption.dimensions}}else ee={seriesLayoutBy:m.fY,sourceHeader:0,dimensions:M.dimensions};return(0,ce._P)(M.data,ee,null)})}function re(ie){return ie===m.XD||ie===m.qb}},4302:(un,ot,E)=>{"use strict";E.d(ot,{RD:()=>$t.Z,TA:()=>Y.Z,tF:()=>q.Z,Ir:()=>K.Z,aV:()=>V.Z,Hn:()=>oe.Z,Hr:()=>ce.Hr,wJ:()=>H.Z,$_:()=>fe,$j:()=>ce.$j,Ok:()=>ce.Ok,HO:()=>ce.HO,eU:()=>ce.eU,zP:()=>ce.zP,B9:()=>ce.B9,OB:()=>Et.Z,Zy:()=>zt,tv:()=>ct,Sp:()=>tt,Zr:()=>_t,WU:()=>le,wL:()=>ce.wL,JE:()=>ce.JE,rp:()=>ce.rp,FU:()=>ce.FU,Q:()=>Se,_y:()=>m,S1:()=>ce.S1,z$:()=>cn.RV,pI:()=>X,Rx:()=>R,Nu:()=>he.Z,pQ:()=>he.Z,zl:()=>ce.zl,RS:()=>ce.RS,qR:()=>ce.qR,yn:()=>ce.yn,I2:()=>ce.I2,je:()=>ce.je,sq:()=>ce.sq,Br:()=>ce.Br,ds:()=>ce.ds,Pu:()=>ce.Pu,aW:()=>ce.aW,rV:()=>ce.OB,YK:()=>ce.YK,Og:()=>ce.Og,jQ:()=>ce.jQ,P2:()=>re.P2,XV:()=>k,D$:()=>Te.D,D5:()=>y,xr:()=>xe,i8:()=>ce.i8,gf:()=>Q,x_:()=>j});var m={};E.r(m),E.d(m,{createDimensions:()=>D.q,createList:()=>C,createScale:()=>N,createSymbol:()=>A.th,createTextStyle:()=>ye,dataStack:()=>P,enableHoverEmphasis:()=>M.vF,getECData:()=>W.A,getLayoutRect:()=>Z.ME,mixinAxisModelCommonMethods:()=>ee});var R={};E.r(R),E.d(R,{MAX_SAFE_INTEGER:()=>me.YM,asc:()=>me.dt,getPercentWithPrecision:()=>me.eJ,getPixelPrecision:()=>me.M9,getPrecision:()=>me.p8,getPrecisionSafe:()=>me.ZB,isNumeric:()=>me.kE,isRadianAroundZero:()=>me.mW,linearMap:()=>me.NU,nice:()=>me.kx,numericToNumber:()=>me.FK,parseDate:()=>me.sG,quantile:()=>me.VR,quantity:()=>me.Xd,quantityExponent:()=>me.xW,reformIntervals:()=>me.nR,remRadian:()=>me.wW,round:()=>me.NM});var k={};E.r(k),E.d(k,{format:()=>Re.WU,parse:()=>me.sG});var Se={};E.r(Se),E.d(Se,{Arc:()=>Dn.Z,BezierCurve:()=>In.Z,BoundingRect:()=>wt.Z,Circle:()=>et.Z,CompoundPath:()=>sn.Z,Ellipse:()=>Ue.Z,Group:()=>Oe.Z,Image:()=>Ve.ZP,IncrementalDisplayable:()=>Yt.Z,Line:()=>gn.Z,LinearGradient:()=>it.Z,Polygon:()=>Pt.Z,Polyline:()=>Wt.Z,RadialGradient:()=>vn.Z,Rect:()=>Qt.Z,Ring:()=>It.Z,Sector:()=>xt.C,Text:()=>Fe.ZP,clipPointsByRect:()=>Le.clipPointsByRect,clipRectByRect:()=>Le.clipRectByRect,createIcon:()=>Le.createIcon,extendPath:()=>Le.extendPath,extendShape:()=>Le.extendShape,getShapeClass:()=>Le.getShapeClass,getTransform:()=>Le.getTransform,initProps:()=>Je.KZ,makeImage:()=>Le.makeImage,makePath:()=>Le.makePath,mergePath:()=>Le.mergePath,registerShape:()=>Le.registerShape,resizePath:()=>Le.resizePath,updateProps:()=>Je.D});var le={};E.r(le),E.d(le,{addCommas:()=>ke.OD,capitalFirst:()=>ke.ew,encodeHTML:()=>ke.F1,formatTime:()=>ke.mr,formatTpl:()=>ke.kF,getTextRect:()=>yt,getTooltipMarker:()=>ke.A0,normalizeCssArray:()=>ke.MY,toCamelCase:()=>ke.zW,truncateText:()=>je.aF});var y={};E.r(y),E.d(y,{bind:()=>Q.bind,clone:()=>Q.clone,curry:()=>Q.curry,defaults:()=>Q.defaults,each:()=>Q.each,extend:()=>Q.extend,filter:()=>Q.filter,indexOf:()=>Q.indexOf,inherits:()=>Q.inherits,isArray:()=>Q.isArray,isFunction:()=>Q.isFunction,isObject:()=>Q.isObject,isString:()=>Q.isString,map:()=>Q.map,merge:()=>Q.merge,reduce:()=>Q.reduce});var ce=E(1347),q=E(5747),K=E(5207),H=E(8615),Y=E(5306),V=E(9),j=E(228),X=E(926),xe=E(7322),Q=E(284),fe=E(589),re=E(7118),ie=E(671),ne=E(9016),de=E(7498),oe=E(774),Z=E(3180),U=E(7172),W=E(265),L=E(3884),D=E(1629),A=E(1298),M=E(5613);function C(ft){return(0,ie.Z)(null,ft)}var P={isDimensionStacked:U.M,enableDataStack:U.BM,getStackedDimension:U.IR};function N(ft,Ye){var Ke=Ye;Ye instanceof oe.Z||(Ke=new oe.Z(Ye));var we=ne.aG(Ke);return we.setExtent(ft[0],ft[1]),ne.Jk(we,Ke),we}function ee(ft){Q.mixin(ft,de.W)}function ye(ft,Ye){return(0,L.Lr)(ft,null,null,"normal"!==(Ye=Ye||{}).state)}var Te=E(5051),he=E(5868),me=E(6573),Re=E(1329),Le=E(2321),Je=E(5311),Oe=E(7350),Ve=E(5252),Fe=E(1078),et=E(4756),Ue=E(5865),xt=E(1620),It=E(7316),Pt=E(7204),Wt=E(7140),Qt=E(9024),gn=E(3246),In=E(4487),Dn=E(3864),Yt=E(6324),sn=E(7301),it=E(3256),vn=E(2204),wt=E(1436),ke=E(780),je=E(2729);function yt(ft,Ye,Ke,we,Me,qe,lt,Lt){return new Fe.ZP({style:{text:ft,font:Ye,align:Ke,verticalAlign:we,padding:Me,rich:qe,overflow:lt?"truncate":null,lineHeight:Lt}}).getBoundingRect()}var Et=E(5065),$t=E(7428),cn=E(6314);function ct(ft){var Ye=q.Z.extend(ft);return q.Z.registerClass(Ye),Ye}function tt(ft){var Ye=K.Z.extend(ft);return K.Z.registerClass(Ye),Ye}function _t(ft){var Ye=H.Z.extend(ft);return H.Z.registerClass(Ye),Ye}function zt(ft){var Ye=Y.Z.extend(ft);return Y.Z.registerClass(Ye),Ye}var Ft=E(437);(0,Te.D)(Ft.T)},5051:(un,ot,E)=>{"use strict";E.d(ot,{D:()=>H});var m=E(1347),R=E(5207),k=E(5306),Se=E(5747),le=E(8615),y=E(284),ce=E(228),q=[],K={registerPreprocessor:m.ds,registerProcessor:m.Pu,registerPostInit:m.sq,registerPostUpdate:m.Br,registerUpdateLifecycle:m.YK,registerAction:m.zl,registerCoordinateSystem:m.RS,registerLayout:m.qR,registerVisual:m.Og,registerTransform:m.OB,registerLoading:m.yn,registerMap:m.je,PRIORITY:m.Hr,ComponentModel:Se.Z,ComponentView:R.Z,SeriesModel:le.Z,ChartView:k.Z,registerComponentModel:function(Y){Se.Z.registerClass(Y)},registerComponentView:function(Y){R.Z.registerClass(Y)},registerSeriesModel:function(Y){le.Z.registerClass(Y)},registerChartView:function(Y){k.Z.registerClass(Y)},registerSubTypeDefaulter:function(Y,V){Se.Z.registerSubTypeDefaulter(Y,V)},registerPainter:function(Y,V){(0,ce.registerPainter)(Y,V)}};function H(Y){(0,y.isArray)(Y)?(0,y.each)(Y,function(V){H(V)}):(0,y.indexOf)(q,Y)>=0||(q.push(Y),(0,y.isFunction)(Y)&&(Y={install:Y}),Y.install(K))}},437:(un,ot,E)=>{"use strict";E.d(ot,{T:()=>oe});var m=E(7911),R=E(1436),k=E(5311),Se=E(265),le=E(6573),y=E(9736),ce=E(6389),q=E(284),K=E(2602),H=E(3884);function Y(Z){if(Z){for(var U=[],W=0;W<Z.length;W++)U.push(Z[W].slice());return U}}function V(Z,U){var W=Z.label,L=U&&U.getTextGuideLine();return{dataIndex:Z.dataIndex,dataType:Z.dataType,seriesIndex:Z.seriesModel.seriesIndex,text:Z.label.style.text,rect:Z.hostRect,labelRect:Z.rect,align:W.style.align,verticalAlign:W.style.verticalAlign,labelLinePoints:Y(L&&L.shape.points)}}var j=["align","verticalAlign","width","height","fontSize"],X=new y.Z,xe=(0,m.Yf)(),Q=(0,m.Yf)();function fe(Z,U,W){for(var L=0;L<W.length;L++){var D=W[L];null!=U[D]&&(Z[D]=U[D])}}var re=["x","y","rotation"];const ne=function(){function Z(){this._labelList=[],this._chartViewList=[]}return Z.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},Z.prototype._addLabel=function(U,W,L,D,A){var M=D.style,P=D.__hostTarget.textConfig||{},N=D.getComputedTransform(),ee=D.getBoundingRect().plain();R.Z.applyTransform(ee,ee,N),N?X.setLocalTransform(N):(X.x=X.y=X.rotation=X.originX=X.originY=0,X.scaleX=X.scaleY=1);var Te,ye=D.__hostTarget;if(ye){Te=ye.getBoundingRect().plain();var he=ye.getComputedTransform();R.Z.applyTransform(Te,Te,he)}var me=Te&&ye.getTextGuideLine();this._labelList.push({label:D,labelLine:me,seriesModel:L,dataIndex:U,dataType:W,layoutOption:A,computedLayoutOption:null,rect:ee,hostRect:Te,priority:Te?Te.width*Te.height:0,defaultAttr:{ignore:D.ignore,labelGuideIgnore:me&&me.ignore,x:X.x,y:X.y,scaleX:X.scaleX,scaleY:X.scaleY,rotation:X.rotation,style:{x:M.x,y:M.y,align:M.align,verticalAlign:M.verticalAlign,width:M.width,height:M.height,fontSize:M.fontSize},cursor:D.cursor,attachedPos:P.position,attachedRot:P.rotation}})},Z.prototype.addLabelsOfSeries=function(U){var W=this;this._chartViewList.push(U);var L=U.__model,D=L.get("labelLayout");!(0,q.isFunction)(D)&&!(0,q.keys)(D).length||U.group.traverse(function(A){if(A.ignore)return!0;var M=A.getTextContent(),C=(0,Se.A)(A);M&&!M.disableLabelLayout&&W._addLabel(C.dataIndex,C.dataType,L,M,D)})},Z.prototype.updateLayoutConfig=function(U){var W=U.getWidth(),L=U.getHeight();function D(Ve,Fe){return function(){(0,ce.d)(Ve,Fe)}}for(var A=0;A<this._labelList.length;A++){var M=this._labelList[A],C=M.label,P=C.__hostTarget,N=M.defaultAttr,ee=void 0;ee="function"==typeof M.layoutOption?M.layoutOption(V(M,P)):M.layoutOption,M.computedLayoutOption=ee=ee||{};var ye=Math.PI/180;P&&P.setTextConfig({local:!1,position:null!=ee.x||null!=ee.y?null:N.attachedPos,rotation:null!=ee.rotate?ee.rotate*ye:N.attachedRot,offset:[ee.dx||0,ee.dy||0]});var Te=!1;if(null!=ee.x?(C.x=(0,le.GM)(ee.x,W),C.setStyle("x",0),Te=!0):(C.x=N.x,C.setStyle("x",N.style.x)),null!=ee.y?(C.y=(0,le.GM)(ee.y,L),C.setStyle("y",0),Te=!0):(C.y=N.y,C.setStyle("y",N.style.y)),ee.labelLinePoints){var he=P.getTextGuideLine();he&&(he.setShape({points:ee.labelLinePoints}),Te=!1)}xe(C).needsUpdateLabelLine=Te,C.rotation=null!=ee.rotate?ee.rotate*ye:N.rotation,C.scaleX=N.scaleX,C.scaleY=N.scaleY;for(var Re=0;Re<j.length;Re++){var Le=j[Re];C.setStyle(Le,null!=ee[Le]?ee[Le]:N.style[Le])}if(ee.draggable){if(C.draggable=!0,C.cursor="move",P){var Je=M.seriesModel;null!=M.dataIndex&&(Je=M.seriesModel.getData(M.dataType).getItemModel(M.dataIndex)),C.on("drag",D(P,Je.getModel("labelLine")))}}else C.off("drag"),C.cursor=N.cursor}},Z.prototype.layout=function(U){var W=U.getWidth(),L=U.getHeight(),D=(0,K.VT)(this._labelList),A=(0,q.filter)(D,function(P){return"shiftX"===P.layoutOption.moveOverlap}),M=(0,q.filter)(D,function(P){return"shiftY"===P.layoutOption.moveOverlap});(0,K.WE)(A,0,W),(0,K.GI)(M,0,L);var C=(0,q.filter)(D,function(P){return P.layoutOption.hideOverlap});(0,K.yl)(C)},Z.prototype.processLabelsOverall=function(){var U=this;(0,q.each)(this._chartViewList,function(W){var L=W.__model,D=W.ignoreLabelLineUpdate,A=L.isAnimationEnabled();W.group.traverse(function(M){if(M.ignore&&!M.forceLabelAnimation)return!0;var C=!D,P=M.getTextContent();!C&&P&&(C=xe(P).needsUpdateLabelLine),C&&U._updateLabelLine(M,L),A&&U._animateLabels(M,L)})})},Z.prototype._updateLabelLine=function(U,W){var L=U.getTextContent(),D=(0,Se.A)(U),A=D.dataIndex;if(L&&null!=A){var M=W.getData(D.dataType),C=M.getItemModel(A),P={},N=M.getItemVisual(A,"style"),ee=M.getVisual("drawType");P.stroke=N[ee];var ye=C.getModel("labelLine");(0,ce.Iu)(U,(0,ce.$x)(C),P),(0,ce.d)(U,ye)}},Z.prototype._animateLabels=function(U,W){var L=U.getTextContent(),D=U.getTextGuideLine();if(L&&(U.forceLabelAnimation||!L.ignore&&!L.invisible&&!U.disableLabelAnimation&&!(0,k.eq)(U))){var M=(A=xe(L)).oldLayout,C=(0,Se.A)(U),P=C.dataIndex,N={x:L.x,y:L.y,rotation:L.rotation},ee=W.getData(C.dataType);if(M){L.attr(M);var Te=U.prevStates;Te&&((0,q.indexOf)(Te,"select")>=0&&L.attr(A.oldLayoutSelect),(0,q.indexOf)(Te,"emphasis")>=0&&L.attr(A.oldLayoutEmphasis)),(0,k.D)(L,N,W,P)}else if(L.attr(N),!(0,H.qA)(L).valueAnimation){var ye=(0,q.retrieve2)(L.style.opacity,1);L.style.opacity=0,(0,k.KZ)(L,{style:{opacity:ye}},W,P)}if(A.oldLayout=N,L.states.select){var he=A.oldLayoutSelect={};fe(he,N,re),fe(he,L.states.select,re)}if(L.states.emphasis){var me=A.oldLayoutEmphasis={};fe(me,N,re),fe(me,L.states.emphasis,re)}(0,H.tD)(L,P,ee,W,W)}if(D&&!D.ignore&&!D.invisible){var A=Q(D),Re={points:D.shape.points};(M=A.oldLayout)?(D.attr({shape:M}),(0,k.D)(D,{shape:Re},W)):(D.setShape(Re),D.style.strokePercent=0,(0,k.KZ)(D,{style:{strokePercent:1}},W)),A.oldLayout=Re}},Z}();var de=(0,m.Yf)();function oe(Z){Z.registerUpdateLifecycle("series:beforeupdate",function(U,W,L){var D=de(W).labelManager;D||(D=de(W).labelManager=new ne),D.clearLabels()}),Z.registerUpdateLifecycle("series:layoutlabels",function(U,W,L){var D=de(W).labelManager;L.updatedSeries.forEach(function(A){D.addLabelsOfSeries(W.getViewOfSeriesModel(A))}),D.updateLayoutConfig(W),D.layout(W),D.processLabelsOverall()})}},6389:(un,ot,E)=>{"use strict";E.d(ot,{d:()=>L,qK:()=>M,_A:()=>C,Iu:()=>ee,$x:()=>ye});var m=E(5359),R=E(5581),k=E(7140),Se=E(89),le=E(1057),y=E(3775),ce=E(284),q=E(926),K=E(7322),H=E(5613),Y=2*Math.PI,V=Se.Z.CMD,j=["top","right","bottom","left"];function X(Te,he,me,Re,Le){var Je=me.width,Oe=me.height;switch(Te){case"top":Re.set(me.x+Je/2,me.y-he),Le.set(0,-1);break;case"bottom":Re.set(me.x+Je/2,me.y+Oe+he),Le.set(0,1);break;case"left":Re.set(me.x-he,me.y+Oe/2),Le.set(-1,0);break;case"right":Re.set(me.x+Je+he,me.y+Oe/2),Le.set(1,0)}}function xe(Te,he,me,Re,Le,Je,Oe,Ve,Fe){Oe-=Te,Ve-=he;var et=Math.sqrt(Oe*Oe+Ve*Ve),Ue=(Oe/=et)*me+Te,xt=(Ve/=et)*me+he;if(Math.abs(Re-Le)%Y<1e-4)return Fe[0]=Ue,Fe[1]=xt,et-me;if(Je){var It=Re;Re=(0,le.m)(Le),Le=(0,le.m)(It)}else Re=(0,le.m)(Re),Le=(0,le.m)(Le);Re>Le&&(Le+=Y);var Pt=Math.atan2(Ve,Oe);if(Pt<0&&(Pt+=Y),Pt>=Re&&Pt<=Le||Pt+Y>=Re&&Pt+Y<=Le)return Fe[0]=Ue,Fe[1]=xt,et-me;var Wt=me*Math.cos(Re)+Te,Qt=me*Math.sin(Re)+he,gn=me*Math.cos(Le)+Te,In=me*Math.sin(Le)+he,Dn=(Wt-Oe)*(Wt-Oe)+(Qt-Ve)*(Qt-Ve),Yt=(gn-Oe)*(gn-Oe)+(In-Ve)*(In-Ve);return Dn<Yt?(Fe[0]=Wt,Fe[1]=Qt,Math.sqrt(Dn)):(Fe[0]=gn,Fe[1]=In,Math.sqrt(Yt))}function Q(Te,he,me,Re,Le,Je,Oe,Ve){var Fe=Le-Te,et=Je-he,Ue=me-Te,xt=Re-he,It=Math.sqrt(Ue*Ue+xt*xt),Wt=(Fe*(Ue/=It)+et*(xt/=It))/It;Ve&&(Wt=Math.min(Math.max(Wt,0),1));var Qt=Oe[0]=Te+(Wt*=It)*Ue,gn=Oe[1]=he+Wt*xt;return Math.sqrt((Qt-Le)*(Qt-Le)+(gn-Je)*(gn-Je))}function fe(Te,he,me,Re,Le,Je,Oe){me<0&&(Te+=me,me=-me),Re<0&&(he+=Re,Re=-Re);var Ve=Te+me,Fe=he+Re,et=Oe[0]=Math.min(Math.max(Le,Te),Ve),Ue=Oe[1]=Math.min(Math.max(Je,he),Fe);return Math.sqrt((et-Le)*(et-Le)+(Ue-Je)*(Ue-Je))}var re=[];function ie(Te,he,me){var Re=fe(he.x,he.y,he.width,he.height,Te.x,Te.y,re);return me.set(re[0],re[1]),Re}function ne(Te,he,me){for(var Ve,Fe,Re=0,Le=0,Je=0,Oe=0,et=1/0,Ue=he.data,xt=Te.x,It=Te.y,Pt=0;Pt<Ue.length;){var Wt=Ue[Pt++];1===Pt&&(Je=Re=Ue[Pt],Oe=Le=Ue[Pt+1]);var Qt=et;switch(Wt){case V.M:Re=Je=Ue[Pt++],Le=Oe=Ue[Pt++];break;case V.L:Qt=Q(Re,Le,Ue[Pt],Ue[Pt+1],xt,It,re,!0),Re=Ue[Pt++],Le=Ue[Pt++];break;case V.C:Qt=(0,y.t1)(Re,Le,Ue[Pt++],Ue[Pt++],Ue[Pt++],Ue[Pt++],Ue[Pt],Ue[Pt+1],xt,It,re),Re=Ue[Pt++],Le=Ue[Pt++];break;case V.Q:Qt=(0,y.Wr)(Re,Le,Ue[Pt++],Ue[Pt++],Ue[Pt],Ue[Pt+1],xt,It,re),Re=Ue[Pt++],Le=Ue[Pt++];break;case V.A:var gn=Ue[Pt++],In=Ue[Pt++],Dn=Ue[Pt++],Yt=Ue[Pt++],sn=Ue[Pt++],it=Ue[Pt++];Pt+=1;var vn=!!(1-Ue[Pt++]);Ve=Math.cos(sn)*Dn+gn,Fe=Math.sin(sn)*Yt+In,Pt<=1&&(Je=Ve,Oe=Fe),Qt=xe(gn,In,Yt,sn,sn+it,vn,(xt-gn)*Yt/Dn+gn,It,re),Re=Math.cos(sn+it)*Dn+gn,Le=Math.sin(sn+it)*Yt+In;break;case V.R:Qt=fe(Je=Re=Ue[Pt++],Oe=Le=Ue[Pt++],Ue[Pt++],Ue[Pt++],xt,It,re);break;case V.Z:Qt=Q(Re,Le,Je,Oe,xt,It,re,!0),Re=Je,Le=Oe}Qt<et&&(et=Qt,me.set(re[0],re[1]))}return et}var de=new m.Z,oe=new m.Z,Z=new m.Z,U=new m.Z,W=new m.Z;function L(Te,he){if(Te){var me=Te.getTextGuideLine(),Re=Te.getTextContent();if(Re&&me){var Le=Te.textGuideLineConfig||{},Je=[[0,0],[0,0],[0,0]],Oe=Le.candidates||j,Ve=Re.getBoundingRect().clone();Ve.applyTransform(Re.getComputedTransform());var Fe=1/0,et=Le.anchor,Ue=Te.getComputedTransform(),xt=Ue&&(0,q.invert)([],Ue),It=he.get("length2")||0;et&&Z.copy(et);for(var Pt=0;Pt<Oe.length;Pt++){X(Oe[Pt],0,Ve,de,U),m.Z.scaleAndAdd(oe,de,U,It),oe.transform(xt);var Qt=Te.getBoundingRect(),gn=et?et.distance(oe):Te instanceof R.ZP?ne(oe,Te.path,Z):ie(oe,Qt,Z);gn<Fe&&(Fe=gn,oe.transform(Ue),Z.transform(Ue),Z.toArray(Je[0]),oe.toArray(Je[1]),de.toArray(Je[2]))}M(Je,he.get("minTurnAngle")),me.setShape({points:Je})}}}var D=[],A=new m.Z;function M(Te,he){if(he<=180&&he>0){he=he/180*Math.PI,de.fromArray(Te[0]),oe.fromArray(Te[1]),Z.fromArray(Te[2]),m.Z.sub(U,de,oe),m.Z.sub(W,Z,oe);var me=U.len(),Re=W.len();if(!(me<.001||Re<.001)){U.scale(1/me),W.scale(1/Re);var Le=U.dot(W);if(Math.cos(he)<Le){var Oe=Q(oe.x,oe.y,Z.x,Z.y,de.x,de.y,D,!1);A.fromArray(D),A.scaleAndAdd(W,Oe/Math.tan(Math.PI-he));var Ve=Z.x!==oe.x?(A.x-oe.x)/(Z.x-oe.x):(A.y-oe.y)/(Z.y-oe.y);if(isNaN(Ve))return;Ve<0?m.Z.copy(A,oe):Ve>1&&m.Z.copy(A,Z),A.toArray(Te[1])}}}}function C(Te,he,me){if(me<=180&&me>0){me=me/180*Math.PI,de.fromArray(Te[0]),oe.fromArray(Te[1]),Z.fromArray(Te[2]),m.Z.sub(U,oe,de),m.Z.sub(W,Z,oe);var Re=U.len(),Le=W.len();if(!(Re<.001||Le<.001)&&(U.scale(1/Re),W.scale(1/Le),U.dot(he)<Math.cos(me))){var Ve=Q(oe.x,oe.y,Z.x,Z.y,de.x,de.y,D,!1);A.fromArray(D);var Fe=Math.PI/2,Ue=Fe+Math.acos(W.dot(he))-me;if(Ue>=Fe)m.Z.copy(A,Z);else{A.scaleAndAdd(W,Ve/Math.tan(Math.PI/2-Ue));var xt=Z.x!==oe.x?(A.x-oe.x)/(Z.x-oe.x):(A.y-oe.y)/(Z.y-oe.y);if(isNaN(xt))return;xt<0?m.Z.copy(A,oe):xt>1&&m.Z.copy(A,Z)}A.toArray(Te[1])}}}function P(Te,he,me,Re){var Le="normal"===me,Je=Le?Te:Te.ensureState(me);Je.ignore=he;var Oe=Re.get("smooth");Oe&&!0===Oe&&(Oe=.3),Je.shape=Je.shape||{},Oe>0&&(Je.shape.smooth=Oe);var Ve=Re.getModel("lineStyle").getLineStyle();Le?Te.useStyle(Ve):Je.style=Ve}function N(Te,he){var me=he.smooth,Re=he.points;if(Re)if(Te.moveTo(Re[0][0],Re[0][1]),me>0&&Re.length>=3){var Le=K.dist(Re[0],Re[1]),Je=K.dist(Re[1],Re[2]);if(!Le||!Je)return Te.lineTo(Re[1][0],Re[1][1]),void Te.lineTo(Re[2][0],Re[2][1]);var Oe=Math.min(Le,Je)*me,Ve=K.lerp([],Re[1],Re[0],Oe/Le),Fe=K.lerp([],Re[1],Re[2],Oe/Je),et=K.lerp([],Ve,Fe,.5);Te.bezierCurveTo(Ve[0],Ve[1],Ve[0],Ve[1],et[0],et[1]),Te.bezierCurveTo(Fe[0],Fe[1],Fe[0],Fe[1],Re[2][0],Re[2][1])}else for(var Ue=1;Ue<Re.length;Ue++)Te.lineTo(Re[Ue][0],Re[Ue][1])}function ee(Te,he,me){var Re=Te.getTextGuideLine(),Le=Te.getTextContent();if(Le){for(var Je=he.normal,Oe=Je.get("show"),Ve=Le.ignore,Fe=0;Fe<H.qc.length;Fe++){var et=H.qc[Fe],Ue=he[et],xt="normal"===et;if(Ue){var It=Ue.get("show");if((xt?Ve:(0,ce.retrieve2)(Le.states[et]&&Le.states[et].ignore,Ve))||!(0,ce.retrieve2)(It,Oe)){var Wt=xt?Re:Re&&Re.states.normal;Wt&&(Wt.ignore=!0);continue}Re||(Re=new k.Z,Te.setTextGuideLine(Re),!xt&&(Ve||!Oe)&&P(Re,!0,"normal",he.normal),Te.stateProxy&&(Re.stateProxy=Te.stateProxy)),P(Re,!1,et,Ue)}}if(Re){(0,ce.defaults)(Re.style,me),Re.style.fill=null;var Qt=Je.get("showAbove");(Te.textGuideLineConfig=Te.textGuideLineConfig||{}).showAbove=Qt||!1,Re.buildPath=N}}else Re&&Te.removeTextGuideLine()}function ye(Te,he){for(var me={normal:Te.getModel(he=he||"labelLine")},Re=0;Re<H.L1.length;Re++){var Le=H.L1[Re];me[Le]=Te.getModel([Le,he])}return me}},2602:(un,ot,E)=>{"use strict";E.d(ot,{VT:()=>k,WE:()=>le,GI:()=>y,yl:()=>ce});var m=E(13),R=E(1436);function k(q){for(var K=[],H=0;H<q.length;H++){var Y=q[H];if(!Y.defaultAttr.ignore){var V=Y.label,j=V.getComputedTransform(),X=V.getBoundingRect(),xe=!j||j[1]<1e-5&&j[2]<1e-5,Q=V.style.margin||0,fe=X.clone();fe.applyTransform(j),fe.x-=Q/2,fe.y-=Q/2,fe.width+=Q,fe.height+=Q;var re=xe?new m.Z(X,j):null;K.push({label:V,labelLine:Y.labelLine,rect:fe,localRect:X,obb:re,priority:Y.priority,defaultAttr:Y.defaultAttr,layoutOption:Y.computedLayoutOption,axisAligned:xe,transform:j})}}return K}function Se(q,K,H,Y,V,j){var X=q.length;if(!(X<2)){q.sort(function(ee,ye){return ee.rect[K]-ye.rect[K]});for(var Q,xe=0,fe=!1,re=[],ie=0,ne=0;ne<X;ne++){var de=q[ne],oe=de.rect;(Q=oe[K]-xe)<0&&(oe[K]-=Q,de.label[K]-=Q,fe=!0);var Z=Math.max(-Q,0);re.push(Z),ie+=Z,xe=oe[K]+oe[H]}ie>0&&j&&C(-ie/X,0,X);var L,D,U=q[0],W=q[X-1];return A(),L<0&&P(-L,.8),D<0&&P(D,.8),A(),M(L,D,1),M(D,L,-1),A(),L<0&&N(-L),D<0&&N(D),fe}function A(){L=U.rect[K]-Y,D=V-W.rect[K]-W.rect[H]}function M(ee,ye,Te){if(ee<0){var he=Math.min(ye,-ee);if(he>0){C(he*Te,0,X);var me=he+ee;me<0&&P(-me*Te,1)}else P(-ee*Te,1)}}function C(ee,ye,Te){0!==ee&&(fe=!0);for(var he=ye;he<Te;he++){var me=q[he];me.rect[K]+=ee,me.label[K]+=ee}}function P(ee,ye){for(var Te=[],he=0,me=1;me<X;me++){var Re=q[me-1].rect,Le=Math.max(q[me].rect[K]-Re[K]-Re[H],0);Te.push(Le),he+=Le}if(he){var Je=Math.min(Math.abs(ee)/he,ye);if(ee>0)for(me=0;me<X-1;me++)C(Te[me]*Je,0,me+1);else for(me=X-1;me>0;me--)C(-Te[me-1]*Je,me,X)}}function N(ee){var ye=ee<0?-1:1;ee=Math.abs(ee);for(var Te=Math.ceil(ee/(X-1)),he=0;he<X-1;he++)if(ye>0?C(Te,0,he+1):C(-Te,X-he-1,X),(ee-=Te)<=0)return}}function le(q,K,H,Y){return Se(q,"x","width",K,H,Y)}function y(q,K,H,Y){return Se(q,"y","height",K,H,Y)}function ce(q){var K=[];q.sort(function(Z,U){return U.priority-Z.priority});var H=new R.Z(0,0,0,0);function Y(Z){if(!Z.ignore){var U=Z.ensureState("emphasis");null==U.ignore&&(U.ignore=!1)}Z.ignore=!0}for(var V=0;V<q.length;V++){var j=q[V],X=j.axisAligned,xe=j.localRect,Q=j.transform,fe=j.label,re=j.labelLine;H.copy(j.rect),H.width-=.1,H.height-=.1,H.x+=.05,H.y+=.05;for(var ie=j.obb,ne=!1,de=0;de<K.length;de++){var oe=K[de];if(H.intersect(oe.rect)){if(X&&oe.axisAligned){ne=!0;break}if(oe.obb||(oe.obb=new m.Z(oe.localRect,oe.transform)),ie||(ie=new m.Z(xe,Q)),ie.intersect(oe.obb)){ne=!0;break}}}ne?(Y(fe),re&&Y(re)):(fe.attr("ignore",j.defaultAttr.ignore),re&&re.attr("ignore",j.defaultAttr.labelGuideIgnore),K.push(j))}}},3884:(un,ot,E)=>{"use strict";E.d(ot,{ni:()=>K,k3:()=>H,Lr:()=>Y,nC:()=>V,qT:()=>ie,qA:()=>ne,pe:()=>de,tD:()=>oe});var m=E(1078),R=E(284),k=E(5613),Se=E(7911),le=E(5311),y={};function ce(Z,U){for(var W=0;W<k.L1.length;W++){var L=k.L1[W],D=U[L],A=Z.ensureState(L);A.style=A.style||{},A.style.text=D}var M=Z.currentStates.slice();Z.clearStates(!0),Z.setStyle({text:U.normal}),Z.useStates(M,!0)}function q(Z,U,W){var C,L=Z.labelFetcher,D=Z.labelDataIndex,A=Z.labelDimIndex,M=U.normal;L&&(C=L.getFormattedLabel(D,"normal",null,A,M&&M.get("formatter"),null!=W?{interpolatedValue:W}:null)),null==C&&(C=(0,R.isFunction)(Z.defaultText)?Z.defaultText(D,Z,W):Z.defaultText);for(var P={normal:C},N=0;N<k.L1.length;N++){var ee=k.L1[N],ye=U[ee];P[ee]=(0,R.retrieve2)(L?L.getFormattedLabel(D,ee,null,A,ye&&ye.get("formatter")):null,C)}return P}function K(Z,U,W,L){W=W||y;for(var D=Z instanceof m.ZP,A=!1,M=0;M<k.qc.length;M++)if((C=U[k.qc[M]])&&C.getShallow("show")){A=!0;break}var P=D?Z:Z.getTextContent();if(A){D||(P||(P=new m.ZP,Z.setTextContent(P)),Z.stateProxy&&(P.stateProxy=Z.stateProxy));var N=q(W,U),ee=U.normal,ye=!!ee.getShallow("show"),Te=Y(ee,L&&L.normal,W,!1,!D);for(Te.text=N.normal,D||Z.setTextConfig(V(ee,W,!1)),M=0;M<k.L1.length;M++){var C,he=k.L1[M];if(C=U[he]){var me=P.ensureState(he),Re=!!(0,R.retrieve2)(C.getShallow("show"),ye);Re!==ye&&(me.ignore=!Re),me.style=Y(C,L&&L[he],W,!0,!D),me.style.text=N[he],D||(Z.ensureState(he).textConfig=V(C,W,!0))}}P.silent=!!ee.getShallow("silent"),null!=P.style.x&&(Te.x=P.style.x),null!=P.style.y&&(Te.y=P.style.y),P.ignore=!ye,P.useStyle(Te),P.dirty(),W.enableTextSetter&&(ne(P).setLabelText=function(Je){var Oe=q(W,U,Je);ce(P,Oe)})}else P&&(P.ignore=!0);Z.dirty()}function H(Z,U){for(var W={normal:Z.getModel(U=U||"label")},L=0;L<k.L1.length;L++){var D=k.L1[L];W[D]=Z.getModel([D,U])}return W}function Y(Z,U,W,L,D){var A={};return function(Z,U,W,L,D){W=W||y;var P,A=U.ecModel,M=A&&A.option.textStyle,C=function(Z){for(var U;Z&&Z!==Z.ecModel;){var W=(Z.option||y).rich;if(W){U=U||{};for(var L=(0,R.keys)(W),D=0;D<L.length;D++)U[L[D]]=1}Z=Z.parentModel}return U}(U);if(C)for(var N in P={},C)if(C.hasOwnProperty(N)){var ee=U.getModel(["rich",N]);re(P[N]={},ee,M,W,L,D,!1,!0)}P&&(Z.rich=P);var ye=U.get("overflow");ye&&(Z.overflow=ye);var Te=U.get("minMargin");null!=Te&&(Z.margin=Te),re(Z,U,M,W,L,D,!0,!1)}(A,Z,W,L,D),U&&(0,R.extend)(A,U),A}function V(Z,U,W){U=U||{};var D,L={},A=Z.getShallow("rotate"),M=(0,R.retrieve2)(Z.getShallow("distance"),W?null:5),C=Z.getShallow("offset");return"outside"===(D=Z.getShallow("position")||(W?null:"inside"))&&(D=U.defaultOutsidePosition||"top"),null!=D&&(L.position=D),null!=C&&(L.offset=C),null!=A&&(A*=Math.PI/180,L.rotation=A),null!=M&&(L.distance=M),L.outsideFill="inherit"===Z.get("color")?U.inheritColor||null:"auto",L}var xe=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Q=["align","lineHeight","width","height","tag","verticalAlign"],fe=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function re(Z,U,W,L,D,A,M,C){W=!D&&W||y;var P=L&&L.inheritColor,N=U.getShallow("color"),ee=U.getShallow("textBorderColor"),ye=(0,R.retrieve2)(U.getShallow("opacity"),W.opacity);("inherit"===N||"auto"===N)&&(N=P||null),("inherit"===ee||"auto"===ee)&&(ee=P||null),A||(N=N||W.color,ee=ee||W.textBorderColor),null!=N&&(Z.fill=N),null!=ee&&(Z.stroke=ee);var Te=(0,R.retrieve2)(U.getShallow("textBorderWidth"),W.textBorderWidth);null!=Te&&(Z.lineWidth=Te);var he=(0,R.retrieve2)(U.getShallow("textBorderType"),W.textBorderType);null!=he&&(Z.lineDash=he);var me=(0,R.retrieve2)(U.getShallow("textBorderDashOffset"),W.textBorderDashOffset);null!=me&&(Z.lineDashOffset=me),!D&&null==ye&&!C&&(ye=L&&L.defaultOpacity),null!=ye&&(Z.opacity=ye),!D&&!A&&null==Z.fill&&L.inheritColor&&(Z.fill=L.inheritColor);for(var Re=0;Re<xe.length;Re++)null!=(Je=(0,R.retrieve2)(U.getShallow(Le=xe[Re]),W[Le]))&&(Z[Le]=Je);for(Re=0;Re<Q.length;Re++)null!=(Je=U.getShallow(Le=Q[Re]))&&(Z[Le]=Je);if(null==Z.verticalAlign){var Oe=U.getShallow("baseline");null!=Oe&&(Z.verticalAlign=Oe)}if(!M||!L.disableBox){for(Re=0;Re<fe.length;Re++){var Le,Je;null!=(Je=U.getShallow(Le=fe[Re]))&&(Z[Le]=Je)}var Ve=U.getShallow("borderType");null!=Ve&&(Z.borderDash=Ve),("auto"===Z.backgroundColor||"inherit"===Z.backgroundColor)&&P&&(Z.backgroundColor=P),("auto"===Z.borderColor||"inherit"===Z.borderColor)&&P&&(Z.borderColor=P)}}function ie(Z,U){var W=U&&U.getModel("textStyle");return(0,R.trim)([Z.fontStyle||W&&W.getShallow("fontStyle")||"",Z.fontWeight||W&&W.getShallow("fontWeight")||"",(Z.fontSize||W&&W.getShallow("fontSize")||12)+"px",Z.fontFamily||W&&W.getShallow("fontFamily")||"sans-serif"].join(" "))}var ne=(0,Se.Yf)();function de(Z,U,W,L){if(Z){var D=ne(Z);D.prevValue=D.value,D.value=W;var A=U.normal;D.valueAnimation=A.get("valueAnimation"),D.valueAnimation&&(D.precision=A.get("precision"),D.defaultInterpolatedText=L,D.statesModels=U)}}function oe(Z,U,W,L,D){var A=ne(Z);if(A.valueAnimation&&A.prevValue!==A.value){var M=A.defaultInterpolatedText,C=(0,R.retrieve2)(A.interpolatedValue,A.prevValue),P=A.value;Z.percent=0,(null==A.prevValue?le.KZ:le.D)(Z,{percent:1},L,U,null,function(ee){var ye=(0,Se.pk)(W,A.precision,C,P,ee);A.interpolatedValue=1===ee?null:ye;var Te=q({labelDataIndex:U,labelFetcher:D,defaultText:M?M(ye):ye+""},A.statesModels,ye);ce(Z,Te)})}}},9325:(un,ot,E)=>{"use strict";E.d(ot,{Gk:()=>H,Ge:()=>Y,My:()=>j,G_:()=>xe,bK:()=>Q,kY:()=>fe});var m=E(284),R=E(6573),k=E(7172),Se=E(7521),le="__ec_stack_",ce="undefined"!=typeof Float32Array?Float32Array:Array;function q(de){return de.get("stack")||le+de.seriesIndex}function K(de){return de.dim+de.index}function H(de){var oe=[],Z=de.axis,U="axis0";if("category"===Z.type){for(var W=Z.getBandWidth(),L=0;L<de.count;L++)oe.push(m.defaults({bandWidth:W,axisKey:U,stackId:le+L},de));var D=X(oe),A=[];for(L=0;L<de.count;L++){var M=D[U][le+L];M.offsetCenter=M.offset+M.width/2,A.push(M)}return A}}function Y(de,oe){var Z=[];return oe.eachSeriesByType(de,function(U){re(U)&&!ie(U)&&Z.push(U)}),Z}function j(de){var oe=function(de){var oe={};m.each(de,function(M){var P=M.coordinateSystem.getBaseAxis();if("time"===P.type||"value"===P.type)for(var N=M.getData(),ee=P.dim+"_"+P.index,ye=N.getDimensionIndex(N.mapDimension(P.dim)),Te=N.getStore(),he=0,me=Te.count();he<me;++he){var Re=Te.get(ye,he);oe[ee]?oe[ee].push(Re):oe[ee]=[Re]}});var Z={};for(var U in oe)if(oe.hasOwnProperty(U)){var W=oe[U];if(W){W.sort(function(M,C){return M-C});for(var L=null,D=1;D<W.length;++D){var A=W[D]-W[D-1];A>0&&(L=null===L?A:Math.min(L,A))}Z[U]=L}}return Z}(de),Z=[];return m.each(de,function(U){var A,L=U.coordinateSystem.getBaseAxis(),D=L.getExtent();if("category"===L.type)A=L.getBandWidth();else if("value"===L.type||"time"===L.type){var C=oe[L.dim+"_"+L.index],P=Math.abs(D[1]-D[0]),N=L.scale.getExtent(),ee=Math.abs(N[1]-N[0]);A=C?P/ee*C:P}else{var ye=U.getData();A=Math.abs(D[1]-D[0])/ye.count()}var Te=(0,R.GM)(U.get("barWidth"),A),he=(0,R.GM)(U.get("barMaxWidth"),A),me=(0,R.GM)(U.get("barMinWidth")||1,A),Re=U.get("barGap"),Le=U.get("barCategoryGap");Z.push({bandWidth:A,barWidth:Te,barMaxWidth:he,barMinWidth:me,barGap:Re,barCategoryGap:Le,axisKey:K(L),stackId:q(U)})}),X(Z)}function X(de){var oe={};m.each(de,function(U,W){var L=U.axisKey,D=U.bandWidth,A=oe[L]||{bandWidth:D,remainedWidth:D,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},M=A.stacks;oe[L]=A;var C=U.stackId;M[C]||A.autoWidthCount++,M[C]=M[C]||{width:0,maxWidth:0};var P=U.barWidth;P&&!M[C].width&&(M[C].width=P,P=Math.min(A.remainedWidth,P),A.remainedWidth-=P);var N=U.barMaxWidth;N&&(M[C].maxWidth=N);var ee=U.barMinWidth;ee&&(M[C].minWidth=ee);var ye=U.barGap;null!=ye&&(A.gap=ye);var Te=U.barCategoryGap;null!=Te&&(A.categoryGap=Te)});var Z={};return m.each(oe,function(U,W){Z[W]={};var L=U.stacks,D=U.bandWidth,A=U.categoryGap;if(null==A){var M=m.keys(L).length;A=Math.max(35-4*M,15)+"%"}var C=(0,R.GM)(A,D),P=(0,R.GM)(U.gap,1),N=U.remainedWidth,ee=U.autoWidthCount,ye=(N-C)/(ee+(ee-1)*P);ye=Math.max(ye,0),m.each(L,function(Re){var Le=Re.maxWidth,Je=Re.minWidth;if(Re.width){var Oe=Re.width;Le&&(Oe=Math.min(Oe,Le)),Je&&(Oe=Math.max(Oe,Je)),Re.width=Oe,N-=Oe+P*Oe,ee--}else Oe=ye,Le&&Le<Oe&&(Oe=Math.min(Le,N)),Je&&Je>Oe&&(Oe=Je),Oe!==ye&&(Re.width=Oe,N-=Oe+P*Oe,ee--)}),ye=(N-C)/(ee+(ee-1)*P),ye=Math.max(ye,0);var he,Te=0;m.each(L,function(Re,Le){Re.width||(Re.width=ye),he=Re,Te+=Re.width*(1+P)}),he&&(Te-=he.width*P);var me=-Te/2;m.each(L,function(Re,Le){Z[W][Le]=Z[W][Le]||{bandWidth:D,offset:me,width:Re.width},me+=Re.width*(1+P)})}),Z}function xe(de,oe,Z){if(de&&oe){var U=de[K(oe)];return null!=U&&null!=Z?U[q(Z)]:U}}function Q(de,oe){var Z=Y(de,oe),U=j(Z),W={};m.each(Z,function(L){var D=L.getData(),A=L.coordinateSystem,M=A.getBaseAxis(),C=q(L),P=U[K(M)][C],N=P.offset,ee=P.width,ye=A.getOtherAxis(M),Te=L.get("barMinHeight")||0;W[C]=W[C]||[],D.setLayout({bandWidth:P.bandWidth,offset:N,size:ee});for(var he=D.mapDimension(ye.dim),me=D.mapDimension(M.dim),Re=(0,k.M)(D,he),Le=ye.isHorizontal(),Je=ne(0,ye),Oe=D.getStore(),Ve=D.getDimensionIndex(he),Fe=D.getDimensionIndex(me),et=0,Ue=Oe.count();et<Ue;et++){var xt=Oe.get(Ve,et),It=Oe.get(Fe,et),Pt=xt>=0?"p":"n",Wt=Je;Re&&(W[C][It]||(W[C][It]={p:Je,n:Je}),Wt=W[C][It][Pt]);var Yt,Qt=void 0,gn=void 0,In=void 0,Dn=void 0;Le?(Qt=Wt,gn=(Yt=A.dataToPoint([xt,It]))[1]+N,In=Yt[0]-Je,Dn=ee,Math.abs(In)<Te&&(In=(In<0?-1:1)*Te),isNaN(In)||Re&&(W[C][It][Pt]+=In)):(Qt=(Yt=A.dataToPoint([It,xt]))[0]+N,gn=Wt,In=ee,Dn=Yt[1]-Je,Math.abs(Dn)<Te&&(Dn=(Dn<=0?-1:1)*Te),isNaN(Dn)||Re&&(W[C][It][Pt]+=Dn)),D.setItemLayout(et,{x:Qt,y:gn,width:In,height:Dn})}})}var fe={seriesType:"bar",plan:(0,Se.Z)(),reset:function(de){if(re(de)&&ie(de)){var oe=de.getData(),Z=de.coordinateSystem,U=Z.master.getRect(),W=Z.getBaseAxis(),L=Z.getOtherAxis(W),D=oe.getDimensionIndex(oe.mapDimension(L.dim)),A=oe.getDimensionIndex(oe.mapDimension(W.dim)),M=L.isHorizontal(),C=M?0:1,P=xe(j([de]),W,de).width;return P>.5||(P=.5),{progress:function(N,ee){for(var Re,ye=N.count,Te=new ce(2*ye),he=new ce(2*ye),me=new ce(ye),Le=[],Je=[],Oe=0,Ve=0,Fe=ee.getStore();null!=(Re=N.next());)Je[C]=Fe.get(D,Re),Je[1-C]=Fe.get(A,Re),Le=Z.dataToPoint(Je,null),he[Oe]=M?U.x+U.width:Le[0],Te[Oe++]=Le[0],he[Oe]=M?Le[1]:U.y+U.height,Te[Oe++]=Le[1],me[Ve++]=Re;ee.setLayout({largePoints:Te,largeDataIndices:me,largeBackgroundPoints:he,barWidth:P,valueAxisStart:ne(0,L),backgroundStart:M?U.x:U.y,valueAxisHorizontal:M})}}}}};function re(de){return de.coordinateSystem&&"cartesian2d"===de.coordinateSystem.type}function ie(de){return de.pipelineContext&&de.pipelineContext.large}function ne(de,oe,Z){return oe.toGlobalCoord(oe.dataToCoord("log"===oe.type?1:0))}},1706:(un,ot,E)=>{"use strict";E.d(ot,{y:()=>k,s:()=>le});var m=E(284),R=E(7911);function k(y,ce){function q(K,H){var Y=[];return K.eachComponent({mainType:"series",subType:y,query:H},function(V){Y.push(V.seriesIndex)}),Y}(0,m.each)([[y+"ToggleSelect","toggleSelect"],[y+"Select","select"],[y+"UnSelect","unselect"]],function(K){ce(K[0],function(H,Y,V){H=(0,m.extend)({},H),V.dispatchAction((0,m.extend)(H,{type:K[1],seriesIndex:q(Y,H)}))})})}function Se(y,ce,q,K,H){var Y=y+ce;q.isSilent(Y)||K.eachComponent({mainType:"series",subType:"pie"},function(V){for(var j=V.seriesIndex,X=H.selected,xe=0;xe<X.length;xe++)if(X[xe].seriesIndex===j){var Q=V.getData(),fe=(0,R.gO)(Q,H.fromActionPayload);q.trigger(Y,{type:Y,seriesId:V.id,name:(0,m.isArray)(fe)?Q.getName(fe[0]):Q.getName(fe),selected:(0,m.extend)({},V.option.selectedMap)})}})}function le(y,ce,q){y.on("selectchanged",function(K){var H=q.getModel();K.isFromClick?(Se("map","selectchanged",ce,H,K),Se("pie","selectchanged",ce,H,K)):"select"===K.fromAction?(Se("map","selected",ce,H,K),Se("pie","selected",ce,H,K)):"unselect"===K.fromAction&&(Se("map","unselected",ce,H,K),Se("pie","unselected",ce,H,K))})}},5747:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>Y});var m=E(5845),R=E(284),k=E(774),Se=E(304),le=E(1373),y=E(7911),ce=E(3180),q=(0,y.Yf)(),K=function(V){function j(X,xe,Q){var fe=V.call(this,X,xe,Q)||this;return fe.uid=Se.Kr("ec_cpt_model"),fe}return(0,m.ZT)(j,V),j.prototype.init=function(X,xe,Q){this.mergeDefaultAndTheme(X,Q)},j.prototype.mergeDefaultAndTheme=function(X,xe){var Q=ce.YD(this),fe=Q?ce.tE(X):{},re=xe.getTheme();R.merge(X,re.get(this.mainType)),R.merge(X,this.getDefaultOption()),Q&&ce.dt(X,fe,Q)},j.prototype.mergeOption=function(X,xe){R.merge(this.option,X,!0);var Q=ce.YD(this);Q&&ce.dt(this.option,X,Q)},j.prototype.optionUpdated=function(X,xe){},j.prototype.getDefaultOption=function(){var X=this.constructor;if(!(0,le.PT)(X))return X.defaultOption;var xe=q(this);if(!xe.defaultOption){for(var Q=[],fe=X;fe;){var re=fe.prototype.defaultOption;re&&Q.push(re),fe=fe.superClass}for(var ie={},ne=Q.length-1;ne>=0;ne--)ie=R.merge(ie,Q[ne],!0);xe.defaultOption=ie}return xe.defaultOption},j.prototype.getReferringComponents=function(X,xe){var fe=X+"Id";return(0,y.HZ)(this.ecModel,X,{index:this.get(X+"Index",!0),id:this.get(fe,!0)},xe)},j.prototype.getBoxLayoutParams=function(){var X=this;return{left:X.get("left"),top:X.get("top"),right:X.get("right"),bottom:X.get("bottom"),width:X.get("width"),height:X.get("height")}},j.protoInitialize=((X=j.prototype).type="component",X.id="",X.name="",X.mainType="",X.subType="",void(X.componentIndex=0)),j;var X}(k.Z);(0,le.pw)(K,k.Z),(0,le.au)(K),Se.cj(K),Se.jS(K,function(V){var j=[];return R.each(K.getClassesByMainType(V),function(X){j=j.concat(X.dependencies||X.prototype.dependencies||[])}),j=R.map(j,function(X){return(0,le.u9)(X).main}),"dataset"!==V&&R.indexOf(j,"dataset")<=0&&j.unshift("dataset"),j});const Y=K},774:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>fe});var m=E(5065),R=E(1373),le=(0,E(1237).Z)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),y=function(){function re(){}return re.prototype.getAreaStyle=function(ie,ne){return le(this,ie,ne)},re}(),ce=E(3884),q=E(1078),K=["textStyle","color"],H=new q.ZP;const V=function(){function re(){}return re.prototype.getTextColor=function(ie){var ne=this.ecModel;return this.getShallow("color")||(!ie&&ne?ne.get(K):null)},re.prototype.getFont=function(){return(0,ce.qT)({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},re.prototype.getTextRect=function(ie){return H.useStyle({text:ie,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),H.update(),H.getBoundingRect()},re}();var j=E(8002),X=E(5556),xe=E(284),Q=function(){function re(ie,ne,de){this.parentModel=ne,this.ecModel=de,this.option=ie}return re.prototype.init=function(ie,ne,de){for(var oe=[],Z=3;Z<arguments.length;Z++)oe[Z-3]=arguments[Z]},re.prototype.mergeOption=function(ie,ne){(0,xe.merge)(this.option,ie,!0)},re.prototype.get=function(ie,ne){return null==ie?this.option:this._doGet(this.parsePath(ie),!ne&&this.parentModel)},re.prototype.getShallow=function(ie,ne){var de=this.option,oe=null==de?de:de[ie];if(null==oe&&!ne){var Z=this.parentModel;Z&&(oe=Z.getShallow(ie))}return oe},re.prototype.getModel=function(ie,ne){var de=null!=ie,oe=de?this.parsePath(ie):null;return new re(de?this._doGet(oe):this.option,ne=ne||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(oe)),this.ecModel)},re.prototype.isEmpty=function(){return null==this.option},re.prototype.restoreData=function(){},re.prototype.clone=function(){return new(0,this.constructor)((0,xe.clone)(this.option))},re.prototype.parsePath=function(ie){return"string"==typeof ie?ie.split("."):ie},re.prototype.resolveParentPath=function(ie){return ie},re.prototype.isAnimationEnabled=function(){if(!m.Z.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},re.prototype._doGet=function(ie,ne){var de=this.option;if(!ie)return de;for(var oe=0;oe<ie.length&&(!ie[oe]||null!=(de=de&&"object"==typeof de?de[ie[oe]]:null));oe++);return null==de&&ne&&(de=ne._doGet(this.resolveParentPath(ie),ne.parentModel)),de},re}();(0,R.dm)(Q),(0,R.Qj)(Q),(0,xe.mixin)(Q,j.K),(0,xe.mixin)(Q,X.D),(0,xe.mixin)(Q,y),(0,xe.mixin)(Q,V);const fe=Q},8615:(un,ot,E)=>{"use strict";E.d(ot,{V:()=>xe,Z:()=>W});var m=E(5845),R=E(284),k=E(5065),Se=E(7911),le=E(5747),y=E(4279),ce=E(9126),q=E(3180),K=E(8371),H=E(1373),Y=E(8882),V=E(9734),j=Se.Yf();function X(L,D){return L.getName(D)||L.getId(D)}var xe="__universalTransitionEnabled",Q=function(L){function D(){var A=null!==L&&L.apply(this,arguments)||this;return A._selectedDataIndicesMap={},A}return(0,m.ZT)(D,L),D.prototype.init=function(A,M,C){this.seriesIndex=this.componentIndex,this.dataTask=(0,K.v)({count:ie,reset:ne}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(A,C),(j(this).sourceManager=new Y.U(this)).prepareSource();var N=this.getInitialData(A,C);oe(N,this),this.dataTask.context.data=N,j(this).dataBeforeProcessed=N,fe(this),this._initSelectedMapFromData(N)},D.prototype.mergeDefaultAndTheme=function(A,M){var C=(0,q.YD)(this),P=C?(0,q.tE)(A):{},N=this.subType;le.Z.hasClass(N)&&(N+="Series"),R.merge(A,M.getTheme().get(this.subType)),R.merge(A,this.getDefaultOption()),Se.Cc(A,"label",["show"]),this.fillDataTextStyle(A.data),C&&(0,q.dt)(A,P,C)},D.prototype.mergeOption=function(A,M){A=R.merge(this.option,A,!0),this.fillDataTextStyle(A.data);var C=(0,q.YD)(this);C&&(0,q.dt)(this.option,A,C);var P=j(this).sourceManager;P.dirty(),P.prepareSource();var N=this.getInitialData(A,M);oe(N,this),this.dataTask.dirty(),this.dataTask.context.data=N,j(this).dataBeforeProcessed=N,fe(this),this._initSelectedMapFromData(N)},D.prototype.fillDataTextStyle=function(A){if(A&&!R.isTypedArray(A))for(var M=["show"],C=0;C<A.length;C++)A[C]&&A[C].label&&Se.Cc(A[C],"label",M)},D.prototype.getInitialData=function(A,M){},D.prototype.appendData=function(A){this.getRawData().appendData(A.data)},D.prototype.getData=function(A){var M=U(this);if(M){var C=M.context.data;return null==A?C:C.getLinkedData(A)}return j(this).data},D.prototype.getAllData=function(){var A=this.getData();return A&&A.getLinkedDataAll?A.getLinkedDataAll():[{data:A}]},D.prototype.setData=function(A){var M=U(this);if(M){var C=M.context;C.outputData=A,M!==this.dataTask&&(C.data=A)}j(this).data=A},D.prototype.getEncode=function(){var A=this.get("encode",!0);if(A)return R.createHashMap(A)},D.prototype.getSourceManager=function(){return j(this).sourceManager},D.prototype.getSource=function(){return this.getSourceManager().getSource()},D.prototype.getRawData=function(){return j(this).dataBeforeProcessed},D.prototype.getColorBy=function(){return this.get("colorBy")||"series"},D.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},D.prototype.getBaseAxis=function(){var A=this.coordinateSystem;return A&&A.getBaseAxis&&A.getBaseAxis()},D.prototype.formatTooltip=function(A,M,C){return(0,V.w)({series:this,dataIndex:A,multipleSeries:M})},D.prototype.isAnimationEnabled=function(){if(k.Z.node)return!1;var A=this.getShallow("animation");return A&&this.getData().count()>this.getShallow("animationThreshold")&&(A=!1),!!A},D.prototype.restoreData=function(){this.dataTask.dirty()},D.prototype.getColorFromPalette=function(A,M,C){var P=this.ecModel,N=y._.prototype.getColorFromPalette.call(this,A,M,C);return N||(N=P.getColorFromPalette(A,M,C)),N},D.prototype.coordDimToDataDim=function(A){return this.getRawData().mapDimensionsAll(A)},D.prototype.getProgressive=function(){return this.get("progressive")},D.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},D.prototype.select=function(A,M){this._innerSelect(this.getData(M),A)},D.prototype.unselect=function(A,M){var C=this.option.selectedMap;if(C)for(var P=this.getData(M),N=0;N<A.length;N++){var ye=X(P,A[N]);C[ye]=!1,this._selectedDataIndicesMap[ye]=-1}},D.prototype.toggleSelect=function(A,M){for(var C=[],P=0;P<A.length;P++)C[0]=A[P],this.isSelected(A[P],M)?this.unselect(C,M):this.select(C,M)},D.prototype.getSelectedDataIndices=function(){for(var A=this._selectedDataIndicesMap,M=R.keys(A),C=[],P=0;P<M.length;P++){var N=A[M[P]];N>=0&&C.push(N)}return C},D.prototype.isSelected=function(A,M){var C=this.option.selectedMap;return C&&C[X(this.getData(M),A)]||!1},D.prototype.isUniversalTransitionEnabled=function(){if(this[xe])return!0;var A=this.option.universalTransition;return!!A&&(!0===A||A&&A.enabled)},D.prototype._innerSelect=function(A,M){var C,P,N=this.option.selectedMode,ee=M.length;if(N&&ee)if("multiple"===N)for(var ye=this.option.selectedMap||(this.option.selectedMap={}),Te=0;Te<ee;Te++){var he=M[Te];ye[me=X(A,he)]=!0,this._selectedDataIndicesMap[me]=A.getRawIndex(he)}else if("single"===N||!0===N){var Re=M[ee-1],me=X(A,Re);this.option.selectedMap=((C={})[me]=!0,C),this._selectedDataIndicesMap=((P={})[me]=A.getRawIndex(Re),P)}},D.prototype._initSelectedMapFromData=function(A){if(!this.option.selectedMap){var M=[];A.hasItemOption&&A.each(function(C){var P=A.getRawDataItem(C);P&&P.selected&&M.push(C)}),M.length>0&&this._innerSelect(A,M)}},D.registerClass=function(A){return le.Z.registerClass(A)},D.protoInitialize=((A=D.prototype).type="series.__base__",A.seriesIndex=0,A.ignoreStyleOnData=!1,A.hasSymbolVisual=!1,A.defaultSymbol="circle",A.visualStyleAccessPath="itemStyle",void(A.visualDrawType="fill")),D;var A}(le.Z);function fe(L){var D=L.name;Se.yu(L)||(L.name=function(L){var D=L.getRawData(),A=D.mapDimensionsAll("seriesName"),M=[];return R.each(A,function(C){var P=D.getDimensionInfo(C);P.displayName&&M.push(P.displayName)}),M.join(" ")}(L)||D)}function ie(L){return L.model.getRawData().count()}function ne(L){var D=L.model;return D.setData(D.getRawData().cloneShallow()),de}function de(L,D){D.outputData&&L.end>D.outputData.count()&&D.model.getRawData().cloneShallow(D.outputData)}function oe(L,D){R.each(R.concatArray(L.CHANGABLE_METHODS,L.DOWNSAMPLE_METHODS),function(A){L.wrapMethod(A,R.curry(Z,D))})}function Z(L,D){var A=U(L);return A&&A.setOutputEnd((D||this).count()),D}function U(L){var D=(L.ecModel||{}).scheduler,A=D&&D.getPipeline(L.uid);if(A){var M=A.currentTask;if(M){var C=M.agentStubMap;C&&(M=C.get(L.uid))}return M}}R.mixin(Q,ce.X),R.mixin(Q,y._),(0,H.pw)(Q,le.Z);const W=Q},4137:(un,ot,E)=>{"use strict";E.d(ot,{f:()=>k,R:()=>Se});var m=E(284),R=(0,m.createHashMap)();function k(le,y){(0,m.assert)(null==R.get(le)&&y),R.set(le,y)}function Se(le,y,ce){var q=R.get(y);if(!q)return ce;var K=q(le);return K?ce.concat(K):ce}},9126:(un,ot,E)=>{"use strict";E.d(ot,{X:()=>le,f:()=>y});var m=E(284),R=E(6308),k=E(780),Se=/\{@(.+?)\}/g,le=function(){function ce(){}return ce.prototype.getDataParams=function(q,K){var H=this.getData(K),Y=this.getRawValue(q,K),V=H.getRawIndex(q),j=H.getName(q),X=H.getRawDataItem(q),xe=H.getItemVisual(q,"style"),Q=xe&&xe[H.getItemVisual(q,"drawType")||"fill"],fe=xe&&xe.stroke,re=this.mainType,ie="series"===re,ne=H.userOutput&&H.userOutput.get();return{componentType:re,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:ie?this.subType:null,seriesIndex:this.seriesIndex,seriesId:ie?this.id:null,seriesName:ie?this.name:null,name:j,dataIndex:V,data:X,dataType:K,value:Y,color:Q,borderColor:fe,dimensionNames:ne?ne.fullDimensions:null,encode:ne?ne.encode:null,$vars:["seriesName","name","value"]}},ce.prototype.getFormattedLabel=function(q,K,H,Y,V,j){K=K||"normal";var X=this.getData(H),xe=this.getDataParams(q,H);return j&&(xe.value=j.interpolatedValue),null!=Y&&m.isArray(xe.value)&&(xe.value=xe.value[Y]),V||(V=X.getItemModel(q).get("normal"===K?["label","formatter"]:[K,"label","formatter"])),"function"==typeof V?(xe.status=K,xe.dimensionIndex=Y,V(xe)):"string"==typeof V?(0,k.kF)(V,xe).replace(Se,function(re,ie){var ne=ie.length,de=ie;"["===de.charAt(0)&&"]"===de.charAt(ne-1)&&(de=+de.slice(1,ne-1));var oe=(0,R.hk)(X,q,de);if(j&&m.isArray(j.interpolatedValue)){var Z=X.getDimensionIndex(de);Z>=0&&(oe=j.interpolatedValue[Z])}return null!=oe?oe+"":""}):void 0},ce.prototype.getRawValue=function(q,K){return(0,R.hk)(this.getData(K),q)},ce.prototype.formatTooltip=function(q,K,H){},ce}();function y(ce){var q,K;return m.isObject(ce)?ce.type&&(K=ce):q=ce,{markupText:q,markupFragment:K}}},5556:(un,ot,E)=>{"use strict";E.d(ot,{t:()=>R,D:()=>Se});var m=E(1237),R=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],k=(0,m.Z)(R),Se=function(){function le(){}return le.prototype.getItemStyle=function(y,ce){return k(this,y,ce)},le}()},8002:(un,ot,E)=>{"use strict";E.d(ot,{v:()=>R,K:()=>Se});var m=E(1237),R=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],k=(0,m.Z)(R),Se=function(){function le(){}return le.prototype.getLineStyle=function(y){return k(this,y)},le}()},1237:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>R});var m=E(284);function R(k,Se){for(var le=0;le<k.length;le++)k[le][1]||(k[le][1]=k[le][0]);return Se=Se||!1,function(y,ce,q){for(var K={},H=0;H<k.length;H++){var Y=k[H][1];if(!(ce&&m.indexOf(ce,Y)>=0||q&&m.indexOf(q,Y)<0)){var V=y.getShallow(Y,Se);null!=V&&(K[k[H][0]]=V)}}return K}}},4279:(un,ot,E)=>{"use strict";E.d(ot,{i:()=>le,_:()=>Se});var m=E(7911),R=(0,m.Yf)(),k=(0,m.Yf)(),Se=function(){function K(){}return K.prototype.getColorFromPalette=function(H,Y,V){var j=(0,m.kF)(this.get("color",!0)),X=this.get("colorLayer",!0);return ce(this,R,j,X,H,Y,V)},K.prototype.clearColorPalette=function(){!function(K,H){H(K).paletteIdx=0,H(K).paletteNameMap={}}(this,R)},K}();function le(K,H,Y,V){var j=(0,m.kF)(K.get(["aria","decal","decals"]));return ce(K,k,j,null,H,Y,V)}function ce(K,H,Y,V,j,X,xe){var Q=H(X=X||K),fe=Q.paletteIdx||0,re=Q.paletteNameMap=Q.paletteNameMap||{};if(re.hasOwnProperty(j))return re[j];var ie=null!=xe&&V?function(K,H){for(var Y=K.length,V=0;V<Y;V++)if(K[V].length>H)return K[V];return K[Y-1]}(V,xe):Y;if((ie=ie||Y)&&ie.length){var ne=ie[fe];return j&&(re[j]=ne),Q.paletteIdx=(fe+1)%ie.length,ne}}},9043:(un,ot,E)=>{"use strict";E.d(ot,{N:()=>W});var m=E(4297),R=E(284),k=E(908),Se=E(4955),le=E(8424),y=E(6314),ce=E(1436),q=E(558);function K(){return!1}function H(L,D,A){var M=R.createCanvas(),C=D.getWidth(),P=D.getHeight(),N=M.style;return N&&(N.position="absolute",N.left="0",N.top="0",N.width=C+"px",N.height=P+"px",M.setAttribute("data-zr-dom-id",L)),M.width=C*A,M.height=P*A,M}const V=function(L){function D(A,M,C){var N,P=L.call(this)||this;P.motionBlur=!1,P.lastFrameAlpha=.7,P.dpr=1,P.virtual=!1,P.config={},P.incremental=!1,P.zlevel=0,P.maxRepaintRectCount=5,P.__dirty=!0,P.__firstTimePaint=!0,P.__used=!1,P.__drawIndex=0,P.__startIndex=0,P.__endIndex=0,P.__prevStartIndex=null,P.__prevEndIndex=null,C=C||m.KL,"string"==typeof A?N=H(A,M,C):R.isObject(A)&&(A=(N=A).id),P.id=A,P.dom=N;var ee=N.style;return ee&&(N.onselectstart=K,ee.webkitUserSelect="none",ee.userSelect="none",ee.webkitTapHighlightColor="rgba(0,0,0,0)",ee["-webkit-touch-callout"]="none",ee.padding="0",ee.margin="0",ee.borderWidth="0"),P.domBack=null,P.ctxBack=null,P.painter=M,P.config=null,P.dpr=C,P}return(0,k.ZT)(D,L),D.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},D.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},D.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},D.prototype.setUnpainted=function(){this.__firstTimePaint=!0},D.prototype.createBackBuffer=function(){var A=this.dpr;this.domBack=H("back-"+this.id,this.painter,A),this.ctxBack=this.domBack.getContext("2d"),1!==A&&this.ctxBack.scale(A,A)},D.prototype.createRepaintRects=function(A,M,C,P){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var Ve,N=[],ee=this.maxRepaintRectCount,ye=!1,Te=new ce.Z(0,0,0,0);function he(et){if(et.isFinite()&&!et.isZero())if(0===N.length)(Ue=new ce.Z(0,0,0,0)).copy(et),N.push(Ue);else{for(var xt=!1,It=1/0,Pt=0,Wt=0;Wt<N.length;++Wt){var Qt=N[Wt];if(Qt.intersect(et)){var gn=new ce.Z(0,0,0,0);gn.copy(Qt),gn.union(et),N[Wt]=gn,xt=!0;break}if(ye){Te.copy(et),Te.union(Qt);var sn=Te.width*Te.height-et.width*et.height-Qt.width*Qt.height;sn<It&&(It=sn,Pt=Wt)}}var Ue;ye&&(N[Pt].union(et),xt=!0),xt||((Ue=new ce.Z(0,0,0,0)).copy(et),N.push(Ue)),ye||(ye=N.length>=ee)}}for(var me=this.__startIndex;me<this.__endIndex;++me)if(Re=A[me]){var Le=Re.shouldBePainted(C,P,!0,!0);(Je=Re.__isRendered&&(Re.__dirty&q.YV||!Le)?Re.getPrevPaintRect():null)&&he(Je);var Oe=Le&&(Re.__dirty&q.YV||!Re.__isRendered)?Re.getPaintRect():null;Oe&&he(Oe)}for(me=this.__prevStartIndex;me<this.__prevEndIndex;++me){var Re,Je;Le=(Re=M[me]).shouldBePainted(C,P,!0,!0),!Re||Le&&Re.__zr||!Re.__isRendered||(Je=Re.getPrevPaintRect())&&he(Je)}do{for(Ve=!1,me=0;me<N.length;)if(N[me].isZero())N.splice(me,1);else{for(var Fe=me+1;Fe<N.length;)N[me].intersect(N[Fe])?(Ve=!0,N[me].union(N[Fe]),N.splice(Fe,1)):Fe++;me++}}while(Ve);return this._paintRects=N,N},D.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},D.prototype.resize=function(A,M){var C=this.dpr,P=this.dom,N=P.style,ee=this.domBack;N&&(N.width=A+"px",N.height=M+"px"),P.width=A*C,P.height=M*C,ee&&(ee.width=A*C,ee.height=M*C,1!==C&&this.ctxBack.scale(C,C))},D.prototype.clear=function(A,M,C){var P=this.dom,N=this.ctx,ee=P.width,ye=P.height;M=M||this.clearColor;var Te=this.motionBlur&&!A,he=this.lastFrameAlpha,me=this.dpr,Re=this;Te&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(P,0,0,ee/me,ye/me));var Le=this.domBack;function Je(Oe,Ve,Fe,et){if(N.clearRect(Oe,Ve,Fe,et),M&&"transparent"!==M){var Ue=void 0;R.isGradientObject(M)?(Ue=M.__canvasGradient||(0,le.ZF)(N,M,{x:0,y:0,width:Fe,height:et}),M.__canvasGradient=Ue):R.isImagePatternObject(M)&&(Ue=(0,y.RZ)(N,M,{dirty:function(){Re.setUnpainted(),Re.__painter.refresh()}})),N.save(),N.fillStyle=Ue||M,N.fillRect(Oe,Ve,Fe,et),N.restore()}Te&&(N.save(),N.globalAlpha=he,N.drawImage(Le,Oe,Ve,Fe,et),N.restore())}!C||Te?Je(0,0,ee,ye):C.length&&R.each(C,function(Oe){Je(Oe.x*me,Oe.y*me,Oe.width*me,Oe.height*me)})},D}(Se.Z);var j=E(8996),X=E(5252),xe=E(5065),Q=1e5,fe=314159;function ne(L){return parseInt(L,10)}const U=function(){function L(D,A,M,C){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var P=!D.nodeName||"CANVAS"===D.nodeName.toUpperCase();this._opts=M=R.extend({},M||{}),this.dpr=M.devicePixelRatio||m.KL,this._singleCanvas=P,this.root=D;var N=D.style;N&&(N.webkitTapHighlightColor="transparent",N.webkitUserSelect="none",N.userSelect="none",N["-webkit-touch-callout"]="none",D.innerHTML=""),this.storage=A;var ee=this._zlevelList;this._prevDisplayList=[];var ye=this._layers;if(P){var he=D,me=he.width,Re=he.height;null!=M.width&&(me=M.width),null!=M.height&&(Re=M.height),this.dpr=M.devicePixelRatio||1,he.width=me*this.dpr,he.height=Re*this.dpr,this._width=me,this._height=Re;var Le=new V(he,this,this.dpr);Le.__builtin__=!0,Le.initContext(),ye[fe]=Le,Le.zlevel=fe,ee.push(fe),this._domRoot=D}else{this._width=this._getSize(0),this._height=this._getSize(1);var Te=this._domRoot=function(L,D){var A=document.createElement("div");return A.style.cssText=["position:relative","width:"+L+"px","height:"+D+"px","padding:0","margin:0","border-width:0"].join(";")+";",A}(this._width,this._height);D.appendChild(Te)}}return L.prototype.getType=function(){return"canvas"},L.prototype.isSingleCanvas=function(){return this._singleCanvas},L.prototype.getViewportRoot=function(){return this._domRoot},L.prototype.getViewportRootOffset=function(){var D=this.getViewportRoot();if(D)return{offsetLeft:D.offsetLeft||0,offsetTop:D.offsetTop||0}},L.prototype.refresh=function(D){var A=this.storage.getDisplayList(!0),M=this._prevDisplayList,C=this._zlevelList;this._redrawId=Math.random(),this._paintList(A,M,D,this._redrawId);for(var P=0;P<C.length;P++){var ee=this._layers[C[P]];!ee.__builtin__&&ee.refresh&&ee.refresh(0===P?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=A.slice()),this},L.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},L.prototype._paintHoverList=function(D){var A=D.length,M=this._hoverlayer;if(M&&M.clear(),A){for(var P,C={inHover:!0,viewWidth:this._width,viewHeight:this._height},N=0;N<A;N++){var ee=D[N];ee.__inHover&&(M||(M=this._hoverlayer=this.getLayer(Q)),P||(P=M.ctx).save(),(0,y.Dm)(P,ee,C,N===A-1))}P&&P.restore()}},L.prototype.getHoverLayer=function(){return this.getLayer(Q)},L.prototype.paintOne=function(D,A){(0,y.RV)(D,A)},L.prototype._paintList=function(D,A,M,C){if(this._redrawId===C){M=M||!1,this._updateLayerStatus(D);var P=this._doPaintList(D,A,M),N=P.finished,ee=P.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),ee&&this._paintHoverList(D),N)this.eachLayer(function(Te){Te.afterBrush&&Te.afterBrush()});else{var ye=this;(0,j.Z)(function(){ye._paintList(D,A,M,C)})}}},L.prototype._compositeManually=function(){var D=this.getLayer(fe).ctx,A=this._domRoot.width,M=this._domRoot.height;D.clearRect(0,0,A,M),this.eachBuiltinLayer(function(C){C.virtual&&D.drawImage(C.dom,0,0,A,M)})},L.prototype._doPaintList=function(D,A,M){for(var C=this,P=[],N=this._opts.useDirtyRect,ee=0;ee<this._zlevelList.length;ee++){var Te=this._layers[this._zlevelList[ee]];Te.__builtin__&&Te!==this._hoverlayer&&(Te.__dirty||M)&&P.push(Te)}for(var he=!0,me=!1,Re=function(Oe){var Ve=P[Oe],Fe=Ve.ctx,et=N&&Ve.createRepaintRects(D,A,Le._width,Le._height),Ue=M?Ve.__startIndex:Ve.__drawIndex,xt=!M&&Ve.incremental&&Date.now,It=xt&&Date.now(),Pt=Ve.zlevel===Le._zlevelList[0]?Le._backgroundColor:null;if(Ve.__startIndex===Ve.__endIndex)Ve.clear(!1,Pt,et);else if(Ue===Ve.__startIndex){var Wt=D[Ue];(!Wt.incremental||!Wt.notClear||M)&&Ve.clear(!1,Pt,et)}-1===Ue&&(console.error("For some unknown reason. drawIndex is -1"),Ue=Ve.__startIndex);var Qt,gn=function(sn){var it={inHover:!1,allClipped:!1,prevEl:null,viewWidth:C._width,viewHeight:C._height};for(Qt=Ue;Qt<Ve.__endIndex;Qt++){var vn=D[Qt];if(vn.__inHover&&(me=!0),C._doPaintEl(vn,Ve,N,sn,it,Qt===Ve.__endIndex-1),xt&&Date.now()-It>15)break}it.prevElClipPaths&&Fe.restore()};if(et)if(0===et.length)Qt=Ve.__endIndex;else for(var In=Le.dpr,Dn=0;Dn<et.length;++Dn){var Yt=et[Dn];Fe.save(),Fe.beginPath(),Fe.rect(Yt.x*In,Yt.y*In,Yt.width*In,Yt.height*In),Fe.clip(),gn(Yt),Fe.restore()}else Fe.save(),gn(),Fe.restore();Ve.__drawIndex=Qt,Ve.__drawIndex<Ve.__endIndex&&(he=!1)},Le=this,Je=0;Je<P.length;Je++)Re(Je);return xe.Z.wxa&&R.each(this._layers,function(Oe){Oe&&Oe.ctx&&Oe.ctx.draw&&Oe.ctx.draw()}),{finished:he,needsRefreshHover:me}},L.prototype._doPaintEl=function(D,A,M,C,P,N){var ee=A.ctx;if(M){var ye=D.getPaintRect();(!C||ye&&ye.intersect(C))&&((0,y.Dm)(ee,D,P,N),D.setPrevPaintRect(ye))}else(0,y.Dm)(ee,D,P,N)},L.prototype.getLayer=function(D,A){this._singleCanvas&&!this._needsManuallyCompositing&&(D=fe);var M=this._layers[D];return M||((M=new V("zr_"+D,this,this.dpr)).zlevel=D,M.__builtin__=!0,this._layerConfig[D]?R.merge(M,this._layerConfig[D],!0):this._layerConfig[D-.01]&&R.merge(M,this._layerConfig[D-.01],!0),A&&(M.virtual=A),this.insertLayer(D,M),M.initContext()),M},L.prototype.insertLayer=function(D,A){var M=this._layers,C=this._zlevelList,P=C.length,N=this._domRoot,ee=null,ye=-1;if(M[D])R.logError("ZLevel "+D+" has been used already");else if(function(L){return!(!L||!L.__builtin__&&("function"!=typeof L.resize||"function"!=typeof L.refresh))}(A)){if(P>0&&D>C[0]){for(ye=0;ye<P-1&&!(C[ye]<D&&C[ye+1]>D);ye++);ee=M[C[ye]]}if(C.splice(ye+1,0,D),M[D]=A,!A.virtual)if(ee){var Te=ee.dom;Te.nextSibling?N.insertBefore(A.dom,Te.nextSibling):N.appendChild(A.dom)}else N.firstChild?N.insertBefore(A.dom,N.firstChild):N.appendChild(A.dom);A.__painter=this}else R.logError("Layer of zlevel "+D+" is not valid")},L.prototype.eachLayer=function(D,A){for(var M=this._zlevelList,C=0;C<M.length;C++){var P=M[C];D.call(A,this._layers[P],P)}},L.prototype.eachBuiltinLayer=function(D,A){for(var M=this._zlevelList,C=0;C<M.length;C++){var P=M[C],N=this._layers[P];N.__builtin__&&D.call(A,N,P)}},L.prototype.eachOtherLayer=function(D,A){for(var M=this._zlevelList,C=0;C<M.length;C++){var P=M[C],N=this._layers[P];N.__builtin__||D.call(A,N,P)}},L.prototype.getLayers=function(){return this._layers},L.prototype._updateLayerStatus=function(D){function A(me){P&&(P.__endIndex!==me&&(P.__dirty=!0),P.__endIndex=me)}if(this.eachBuiltinLayer(function(me,Re){me.__dirty=me.__used=!1}),this._singleCanvas)for(var M=1;M<D.length;M++)if((C=D[M]).zlevel!==D[M-1].zlevel||C.incremental){this._needsManuallyCompositing=!0;break}var ee,ye,P=null,N=0;for(ye=0;ye<D.length;ye++){var C,Te=(C=D[ye]).zlevel,he=void 0;ee!==Te&&(ee=Te,N=0),C.incremental?((he=this.getLayer(Te+.001,this._needsManuallyCompositing)).incremental=!0,N=1):he=this.getLayer(Te+(N>0?.01:0),this._needsManuallyCompositing),he.__builtin__||R.logError("ZLevel "+Te+" has been used by unkown layer "+he.id),he!==P&&(he.__used=!0,he.__startIndex!==ye&&(he.__dirty=!0),he.__startIndex=ye,he.__drawIndex=he.incremental?-1:ye,A(ye),P=he),C.__dirty&q.YV&&!C.__inHover&&(he.__dirty=!0,he.incremental&&he.__drawIndex<0&&(he.__drawIndex=ye))}A(ye),this.eachBuiltinLayer(function(me,Re){!me.__used&&me.getElementCount()>0&&(me.__dirty=!0,me.__startIndex=me.__endIndex=me.__drawIndex=0),me.__dirty&&me.__drawIndex<0&&(me.__drawIndex=me.__startIndex)})},L.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},L.prototype._clearLayer=function(D){D.clear()},L.prototype.setBackgroundColor=function(D){this._backgroundColor=D,R.each(this._layers,function(A){A.setUnpainted()})},L.prototype.configLayer=function(D,A){if(A){var M=this._layerConfig;M[D]?R.merge(M[D],A,!0):M[D]=A;for(var C=0;C<this._zlevelList.length;C++){var P=this._zlevelList[C];P!==D&&P!==D+.01||R.merge(this._layers[P],M[D],!0)}}},L.prototype.delLayer=function(D){var A=this._layers,M=this._zlevelList,C=A[D];!C||(C.dom.parentNode.removeChild(C.dom),delete A[D],M.splice(R.indexOf(M,D),1))},L.prototype.resize=function(D,A){if(this._domRoot.style){var M=this._domRoot;M.style.display="none";var C=this._opts;if(null!=D&&(C.width=D),null!=A&&(C.height=A),D=this._getSize(0),A=this._getSize(1),M.style.display="",this._width!==D||A!==this._height){for(var P in M.style.width=D+"px",M.style.height=A+"px",this._layers)this._layers.hasOwnProperty(P)&&this._layers[P].resize(D,A);this.refresh(!0)}this._width=D,this._height=A}else{if(null==D||null==A)return;this._width=D,this._height=A,this.getLayer(fe).resize(D,A)}return this},L.prototype.clearLayer=function(D){var A=this._layers[D];A&&A.clear()},L.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},L.prototype.getRenderedCanvas=function(D){if(this._singleCanvas&&!this._compositeManually)return this._layers[fe].dom;var A=new V("image",this,(D=D||{}).pixelRatio||this.dpr);A.initContext(),A.clear(!1,D.backgroundColor||this._backgroundColor);var M=A.ctx;if(D.pixelRatio<=this.dpr){this.refresh();var C=A.dom.width,P=A.dom.height;this.eachLayer(function(me){me.__builtin__?M.drawImage(me.dom,0,0,C,P):me.renderToCanvas&&(M.save(),me.renderToCanvas(M),M.restore())})}else for(var N={inHover:!1,viewWidth:this._width,viewHeight:this._height},ee=this.storage.getDisplayList(!0),ye=0,Te=ee.length;ye<Te;ye++)(0,y.Dm)(M,ee[ye],N,ye===Te-1);return A.dom},L.prototype.getWidth=function(){return this._width},L.prototype.getHeight=function(){return this._height},L.prototype._getSize=function(D){var A=this._opts,M=["width","height"][D],C=["clientWidth","clientHeight"][D],P=["paddingLeft","paddingTop"][D],N=["paddingRight","paddingBottom"][D];if(null!=A[M]&&"auto"!==A[M])return parseFloat(A[M]);var ee=this.root,ye=document.defaultView.getComputedStyle(ee);return(ee[C]||ne(ye[M])||ne(ee.style[M]))-(ne(ye[P])||0)-(ne(ye[N])||0)|0},L.prototype.pathToImage=function(D,A){A=A||this.dpr;var M=document.createElement("canvas"),C=M.getContext("2d"),P=D.getBoundingRect(),N=D.style,ee=N.shadowBlur*A,ye=N.shadowOffsetX*A,Te=N.shadowOffsetY*A,he=D.hasStroke()?N.lineWidth:0,me=Math.max(he/2,-ye+ee),Re=Math.max(he/2,ye+ee),Le=Math.max(he/2,-Te+ee),Je=Math.max(he/2,Te+ee),Oe=P.width+me+Re,Ve=P.height+Le+Je;M.width=Oe*A,M.height=Ve*A,C.scale(A,A),C.clearRect(0,0,Oe,Ve),C.dpr=A;var Fe={x:D.x,y:D.y,scaleX:D.scaleX,scaleY:D.scaleY,rotation:D.rotation,originX:D.originX,originY:D.originY};D.x=me-P.x,D.y=Le-P.y,D.rotation=0,D.scaleX=1,D.scaleY=1,D.updateTransform(),D&&(0,y.Dm)(C,D,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var et=new X.ZP({style:{x:0,y:0,image:M}});return R.extend(D,Fe),et},L}();function W(L){L.registerPainter("canvas",U)}},2120:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>q});var m=E(5845),R=E(6573),k=E(780),Se=E(3563),le=E(2905),y=R.NM,ce=function(K){function H(){var Y=null!==K&&K.apply(this,arguments)||this;return Y.type="interval",Y._interval=0,Y._intervalPrecision=2,Y}return(0,m.ZT)(H,K),H.prototype.parse=function(Y){return Y},H.prototype.contain=function(Y){return le.XS(Y,this._extent)},H.prototype.normalize=function(Y){return le.Fv(Y,this._extent)},H.prototype.scale=function(Y){return le.bA(Y,this._extent)},H.prototype.setExtent=function(Y,V){var j=this._extent;isNaN(Y)||(j[0]=parseFloat(Y)),isNaN(V)||(j[1]=parseFloat(V))},H.prototype.unionExtent=function(Y){var V=this._extent;Y[0]<V[0]&&(V[0]=Y[0]),Y[1]>V[1]&&(V[1]=Y[1]),this.setExtent(V[0],V[1])},H.prototype.getInterval=function(){return this._interval},H.prototype.setInterval=function(Y){this._interval=Y,this._niceExtent=this._extent.slice(),this._intervalPrecision=le.lb(Y)},H.prototype.getTicks=function(Y){var V=this._interval,j=this._extent,X=this._niceExtent,xe=this._intervalPrecision,Q=[];if(!V)return Q;j[0]<X[0]&&Q.push(Y?{value:y(X[0]-V,xe)}:{value:j[0]});for(var re=X[0];re<=X[1]&&(Q.push({value:re}),(re=y(re+V,xe))!==Q[Q.length-1].value);)if(Q.length>1e4)return[];var ie=Q.length?Q[Q.length-1].value:X[1];return j[1]>ie&&Q.push(Y?{value:y(ie+V,xe)}:{value:j[1]}),Q},H.prototype.getMinorTicks=function(Y){for(var V=this.getTicks(!0),j=[],X=this.getExtent(),xe=1;xe<V.length;xe++){for(var fe=V[xe-1],re=0,ie=[],de=(V[xe].value-fe.value)/Y;re<Y-1;){var oe=y(fe.value+(re+1)*de);oe>X[0]&&oe<X[1]&&ie.push(oe),re++}j.push(ie)}return j},H.prototype.getLabel=function(Y,V){if(null==Y)return"";var j=V&&V.precision;null==j?j=R.p8(Y.value)||0:"auto"===j&&(j=this._intervalPrecision);var X=y(Y.value,j,!0);return k.OD(X)},H.prototype.niceTicks=function(Y,V,j){Y=Y||5;var X=this._extent,xe=X[1]-X[0];if(isFinite(xe)){xe<0&&(xe=-xe,X.reverse());var Q=le.Qf(X,Y,V,j);this._intervalPrecision=Q.intervalPrecision,this._interval=Q.interval,this._niceExtent=Q.niceTickExtent}},H.prototype.niceExtent=function(Y){var V=this._extent;if(V[0]===V[1])if(0!==V[0]){var j=V[0];Y.fixMax||(V[1]+=j/2),V[0]-=j/2}else V[1]=1;isFinite(V[1]-V[0])||(V[0]=0,V[1]=1),this.niceTicks(Y.splitNumber,Y.minInterval,Y.maxInterval);var xe=this._interval;Y.fixMin||(V[0]=y(Math.floor(V[0]/xe)*xe)),Y.fixMax||(V[1]=y(Math.ceil(V[1]/xe)*xe))},H.type="interval",H}(Se.Z);Se.Z.registerClass(ce);const q=ce},2884:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>ce});var m=E(5845),R=E(3563),k=E(6888),Se=E(2905),le=E(284),y=function(q){function K(H){var Y=q.call(this,H)||this;Y.type="ordinal";var V=Y.getSetting("ordinalMeta");return V||(V=new k.Z({})),(0,le.isArray)(V)&&(V=new k.Z({categories:(0,le.map)(V,function(j){return(0,le.isObject)(j)?j.value:j})})),Y._ordinalMeta=V,Y._extent=Y.getSetting("extent")||[0,V.categories.length-1],Y}return(0,m.ZT)(K,q),K.prototype.parse=function(H){return"string"==typeof H?this._ordinalMeta.getOrdinal(H):Math.round(H)},K.prototype.contain=function(H){return H=this.parse(H),Se.XS(H,this._extent)&&null!=this._ordinalMeta.categories[H]},K.prototype.normalize=function(H){return H=this._getTickNumber(this.parse(H)),Se.Fv(H,this._extent)},K.prototype.scale=function(H){return H=Math.round(Se.bA(H,this._extent)),this.getRawOrdinalNumber(H)},K.prototype.getTicks=function(){for(var H=[],Y=this._extent,V=Y[0];V<=Y[1];)H.push({value:V}),V++;return H},K.prototype.getMinorTicks=function(H){},K.prototype.setSortInfo=function(H){if(null!=H){for(var Y=H.ordinalNumbers,V=this._ordinalNumbersByTick=[],j=this._ticksByOrdinalNumber=[],X=0,xe=this._ordinalMeta.categories.length,Q=Math.min(xe,Y.length);X<Q;++X){var fe=Y[X];V[X]=fe,j[fe]=X}for(var re=0;X<xe;++X){for(;null!=j[re];)re++;V.push(re),j[re]=X}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},K.prototype._getTickNumber=function(H){var Y=this._ticksByOrdinalNumber;return Y&&H>=0&&H<Y.length?Y[H]:H},K.prototype.getRawOrdinalNumber=function(H){var Y=this._ordinalNumbersByTick;return Y&&H>=0&&H<Y.length?Y[H]:H},K.prototype.getLabel=function(H){if(!this.isBlank()){var Y=this.getRawOrdinalNumber(H.value),V=this._ordinalMeta.categories[Y];return null==V?"":V+""}},K.prototype.count=function(){return this._extent[1]-this._extent[0]+1},K.prototype.unionExtentFromData=function(H,Y){this.unionExtent(H.getApproximateExtent(Y))},K.prototype.isInExtentRange=function(H){return H=this._getTickNumber(H),this._extent[0]<=H&&this._extent[1]>=H},K.prototype.getOrdinalMeta=function(){return this._ordinalMeta},K.prototype.niceTicks=function(){},K.prototype.niceExtent=function(){},K.type="ordinal",K}(R.Z);R.Z.registerClass(y);const ce=y},3563:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>k});var m=E(1373),R=function(){function Se(le){this._setting=le||{},this._extent=[1/0,-1/0]}return Se.prototype.getSetting=function(le){return this._setting[le]},Se.prototype.unionExtent=function(le){var y=this._extent;le[0]<y[0]&&(y[0]=le[0]),le[1]>y[1]&&(y[1]=le[1])},Se.prototype.unionExtentFromData=function(le,y){this.unionExtent(le.getApproximateExtent(y))},Se.prototype.getExtent=function(){return this._extent.slice()},Se.prototype.setExtent=function(le,y){var ce=this._extent;isNaN(le)||(ce[0]=le),isNaN(y)||(ce[1]=y)},Se.prototype.isInExtentRange=function(le){return this._extent[0]<=le&&this._extent[1]>=le},Se.prototype.isBlank=function(){return this._isBlank},Se.prototype.setBlank=function(le){this._isBlank=le},Se}();m.au(R);const k=R},6914:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>ie});var m=E(5845),R=E(6573),k=E(1329),Se=E(2905),le=E(2120),y=E(3563),ce=E(284),K=function(ne){function de(oe){var Z=ne.call(this,oe)||this;return Z.type="time",Z}return(0,m.ZT)(de,ne),de.prototype.getLabel=function(oe){var Z=this.getSetting("useUTC");return(0,k.WU)(oe.value,k.V8[(0,k.xC)((0,k.Tj)(this._minLevelUnit))]||k.V8.second,Z,this.getSetting("locale"))},de.prototype.getFormattedLabel=function(oe,Z,U){var W=this.getSetting("useUTC"),L=this.getSetting("locale");return(0,k.k7)(oe,Z,U,L,W)},de.prototype.getTicks=function(oe){var U=this._extent,W=[];if(!this._interval)return W;W.push({value:U[0],level:0});var L=this.getSetting("useUTC"),D=function(ne,de,oe,Z){var W=k.FW,L=0;function D(xt,It,Pt,Wt,Qt,gn,In){for(var Dn=new Date(It),Yt=It,sn=Dn[Wt]();Yt<Pt&&Yt<=Z[1];)In.push({value:Yt}),Dn[Qt](sn+=xt),Yt=Dn.getTime();In.push({value:Yt,notAdd:!0})}function A(xt,It,Pt){var Wt=[],Qt=!It.length;if(!function(ne,de,oe,Z){var U=R.sG(de),W=R.sG(oe),L=function(ye){return(0,k.q5)(U,ye,Z)===(0,k.q5)(W,ye,Z)},D=function(){return L("year")},A=function(){return D()&&L("month")},M=function(){return A()&&L("day")},C=function(){return M()&&L("hour")},P=function(){return C()&&L("minute")},N=function(){return P()&&L("second")};switch(ne){case"year":return D();case"month":return A();case"day":return M();case"hour":return C();case"minute":return P();case"second":return N();case"millisecond":return N()&&L("millisecond")}}((0,k.Tj)(xt),Z[0],Z[1],oe)){Qt&&(It=[{value:fe(new Date(Z[0]),xt,oe)},{value:Z[1]}]);for(var gn=0;gn<It.length-1;gn++){var In=It[gn].value,Dn=It[gn+1].value;if(In!==Dn){var Yt=void 0,sn=void 0,it=void 0;switch(xt){case"year":Yt=Math.max(1,Math.round(de/k.s2/365)),sn=(0,k.sx)(oe),it=(0,k.xL)(oe);break;case"half-year":case"quarter":case"month":Yt=j(de),sn=(0,k.CW)(oe),it=(0,k.vh)(oe);break;case"week":case"half-week":case"day":Yt=V(de),sn=(0,k.xz)(oe),it=(0,k.f5)(oe),!0;break;case"half-day":case"quarter-day":case"hour":Yt=X(de),sn=(0,k.Wp)(oe),it=(0,k.En)(oe);break;case"minute":Yt=xe(de,!0),sn=(0,k.fn)(oe),it=(0,k.eN)(oe);break;case"second":Yt=xe(de,!1),sn=(0,k.MV)(oe),it=(0,k.rM)(oe);break;case"millisecond":Yt=Q(de),sn=(0,k.RZ)(oe),it=(0,k.cb)(oe)}D(Yt,In,Dn,sn,it,0,Wt),"year"===xt&&Pt.length>1&&0===gn&&Pt.unshift({value:Pt[0].value-Yt})}}for(gn=0;gn<Wt.length;gn++)Pt.push(Wt[gn]);return Wt}}for(var M=[],C=[],P=0,N=0,ee=0;ee<W.length&&L++<1e4;++ee){var ye=(0,k.Tj)(W[ee]);if((0,k.$K)(W[ee])&&(A(W[ee],M[M.length-1]||[],C),ye!==(W[ee+1]?(0,k.Tj)(W[ee+1]):null))){if(C.length){N=P,C.sort(function(xt,It){return xt.value-It.value});for(var he=[],me=0;me<C.length;++me){var Re=C[me].value;(0===me||C[me-1].value!==Re)&&(he.push(C[me]),Re>=Z[0]&&Re<=Z[1]&&P++)}var Le=(Z[1]-Z[0])/de;if(P>1.5*Le&&N>Le/1.5||(M.push(he),P>Le||ne===W[ee]))break}C=[]}}var Je=(0,ce.filter)((0,ce.map)(M,function(xt){return(0,ce.filter)(xt,function(It){return It.value>=Z[0]&&It.value<=Z[1]&&!It.notAdd})}),function(xt){return xt.length>0}),Oe=[],Ve=Je.length-1;for(ee=0;ee<Je.length;++ee)for(var Fe=Je[ee],et=0;et<Fe.length;++et)Oe.push({value:Fe[et].value,level:Ve-ee});Oe.sort(function(xt,It){return xt.value-It.value});var Ue=[];for(ee=0;ee<Oe.length;++ee)(0===ee||Oe[ee].value!==Oe[ee-1].value)&&Ue.push(Oe[ee]);return Ue}(this._minLevelUnit,this._approxInterval,L,U);return(W=W.concat(D)).push({value:U[1],level:0}),W},de.prototype.niceExtent=function(oe){var Z=this._extent;if(Z[0]===Z[1]&&(Z[0]-=k.s2,Z[1]+=k.s2),Z[1]===-1/0&&Z[0]===1/0){var U=new Date;Z[1]=+new Date(U.getFullYear(),U.getMonth(),U.getDate()),Z[0]=Z[1]-k.s2}this.niceTicks(oe.splitNumber,oe.minInterval,oe.maxInterval)},de.prototype.niceTicks=function(oe,Z,U){var W=this._extent;this._approxInterval=(W[1]-W[0])/(oe=oe||10),null!=Z&&this._approxInterval<Z&&(this._approxInterval=Z),null!=U&&this._approxInterval>U&&(this._approxInterval=U);var D=H.length,A=Math.min(function(ne,de,oe,Z){for(;oe<Z;){var U=oe+Z>>>1;ne[U][1]<de?oe=U+1:Z=U}return oe}(H,this._approxInterval,0,D),D-1);this._interval=H[A][1],this._minLevelUnit=H[Math.max(A-1,0)][0]},de.prototype.parse=function(oe){return"number"==typeof oe?oe:+R.sG(oe)},de.prototype.contain=function(oe){return Se.XS(this.parse(oe),this._extent)},de.prototype.normalize=function(oe){return Se.Fv(this.parse(oe),this._extent)},de.prototype.scale=function(oe){return Se.bA(oe,this._extent)},de.type="time",de}(le.Z),H=[["second",k.WT],["minute",k.yR],["hour",k.dV],["quarter-day",6*k.dV],["half-day",12*k.dV],["day",1.2*k.s2],["half-week",3.5*k.s2],["week",7*k.s2],["month",31*k.s2],["quarter",95*k.s2],["half-year",k.P5/2],["year",k.P5]];function V(ne,de){return(ne/=k.s2)>16?16:ne>7.5?7:ne>3.5?4:ne>1.5?2:1}function j(ne){return(ne/=30*k.s2)>6?6:ne>3?3:ne>2?2:1}function X(ne){return(ne/=k.dV)>12?12:ne>6?6:ne>3.5?4:ne>2?2:1}function xe(ne,de){return(ne/=de?k.yR:k.WT)>30?30:ne>20?20:ne>15?15:ne>10?10:ne>5?5:ne>2?2:1}function Q(ne){return R.kx(ne,!0)}function fe(ne,de,oe){var Z=new Date(ne);switch((0,k.Tj)(de)){case"year":case"month":Z[(0,k.vh)(oe)](0);case"day":Z[(0,k.f5)(oe)](1);case"hour":Z[(0,k.En)(oe)](0);case"minute":Z[(0,k.eN)(oe)](0);case"second":Z[(0,k.rM)(oe)](0),Z[(0,k.cb)(oe)](0)}return Z.getTime()}y.Z.registerClass(K);const ie=K},2905:(un,ot,E)=>{"use strict";E.d(ot,{Qf:()=>k,lb:()=>Se,XS:()=>ce,Fv:()=>q,bA:()=>K});var m=E(6573),R=m.NM;function k(H,Y,V,j){var X={},Q=X.interval=m.kx((H[1]-H[0])/Y,!0);null!=V&&Q<V&&(Q=X.interval=V),null!=j&&Q>j&&(Q=X.interval=j);var fe=X.intervalPrecision=Se(Q);return function(H,Y){!isFinite(H[0])&&(H[0]=Y[0]),!isFinite(H[1])&&(H[1]=Y[1]),le(H,0,Y),le(H,1,Y),H[0]>H[1]&&(H[0]=H[1])}(X.niceTickExtent=[R(Math.ceil(H[0]/Q)*Q,fe),R(Math.floor(H[1]/Q)*Q,fe)],H),X}function Se(H){return m.p8(H)+2}function le(H,Y,V){H[Y]=Math.max(Math.min(H[Y],V[1]),V[0])}function ce(H,Y){return H>=Y[0]&&H<=Y[1]}function q(H,Y){return Y[1]===Y[0]?.5:(H-Y[0])/(Y[1]-Y[0])}function K(H,Y){return H*(Y[1]-Y[0])+Y[0]}},1373:(un,ot,E)=>{"use strict";E.d(ot,{u9:()=>y,PT:()=>q,dm:()=>K,pw:()=>Y,Qj:()=>j,au:()=>Q});var m=E(5845),R=E(284),Se="___EC__COMPONENT__CONTAINER___",le="___EC__EXTENDED_CLASS___";function y(fe){var re={main:"",sub:""};if(fe){var ie=fe.split(".");re.main=ie[0]||"",re.sub=ie[1]||""}return re}function q(fe){return!(!fe||!fe[le])}function K(fe,re){fe.$constructor=fe,fe.extend=function(ie){var ne=this;function de(){for(var oe=[],Z=0;Z<arguments.length;Z++)oe[Z]=arguments[Z];if(ie.$constructor)ie.$constructor.apply(this,arguments);else{if(H(ne)){var U=R.createObject(de.prototype,new(ne.bind.apply(ne,(0,m.ev)([void 0],oe))));return U}ne.apply(this,arguments)}}return de[le]=!0,R.extend(de.prototype,ie),de.extend=this.extend,de.superCall=X,de.superApply=xe,R.inherits(de,this),de.superClass=ne,de}}function H(fe){return"function"==typeof fe&&/^class\s/.test(Function.prototype.toString.call(fe))}function Y(fe,re){fe.extend=re.extend}var V=Math.round(10*Math.random());function j(fe){var re=["__\0is_clz",V++].join("_");fe.prototype[re]=!0,fe.isInstance=function(ie){return!(!ie||!ie[re])}}function X(fe,re){for(var ie=[],ne=2;ne<arguments.length;ne++)ie[ne-2]=arguments[ne];return this.superClass.prototype[re].apply(fe,ie)}function xe(fe,re,ie){return this.superClass.prototype[re].apply(fe,ie)}function Q(fe){var re={};fe.registerClass=function(ne){var de=ne.type||ne.prototype.type;if(de){(function(fe){R.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(fe),'componentType "'+fe+'" illegal')})(de),ne.prototype.type=de;var oe=y(de);if(oe.sub){if(oe.sub!==Se){var Z=function(ne){var de=re[ne.main];return(!de||!de[Se])&&((de=re[ne.main]={})[Se]=!0),de}(oe);Z[oe.sub]=ne}}else re[oe.main]=ne}return ne},fe.getClass=function(ne,de,oe){var Z=re[ne];if(Z&&Z[Se]&&(Z=de?Z[de]:null),oe&&!Z)throw new Error(de?"Component "+ne+"."+(de||"")+" is used but not imported.":ne+".type should be specified.");return Z},fe.getClassesByMainType=function(ne){var de=y(ne),oe=[],Z=re[de.main];return Z&&Z[Se]?R.each(Z,function(U,W){W!==Se&&oe.push(U)}):oe.push(Z),oe},fe.hasClass=function(ne){var de=y(ne);return!!re[de.main]},fe.getAllClassMainTypes=function(){var ne=[];return R.each(re,function(de,oe){ne.push(oe)}),ne},fe.hasSubTypes=function(ne){var de=y(ne),oe=re[de.main];return oe&&oe[Se]}}},304:(un,ot,E)=>{"use strict";E.d(ot,{Kr:()=>Se,cj:()=>le,jS:()=>y,ZL:()=>ce});var m=E(284),R=E(1373),k=Math.round(10*Math.random());function Se(q){return[q||"",k++].join("_")}function le(q){var K={};q.registerSubTypeDefaulter=function(H,Y){var V=(0,R.u9)(H);K[V.main]=Y},q.determineSubType=function(H,Y){var V=Y.type;if(!V){var j=(0,R.u9)(H).main;q.hasSubTypes(H)&&K[j]&&(V=K[j](Y))}return V}}function y(q,K){function Y(j,X){return j[X]||(j[X]={predecessor:[],successor:[]}),j[X]}q.topologicalTravel=function(j,X,xe,Q){if(j.length){var fe=function(j){var X={},xe=[];return m.each(j,function(Q){var fe=Y(X,Q),ie=function(j,X){var xe=[];return m.each(j,function(Q){m.indexOf(X,Q)>=0&&xe.push(Q)}),xe}(fe.originalDeps=K(Q),j);fe.entryCount=ie.length,0===fe.entryCount&&xe.push(Q),m.each(ie,function(ne){m.indexOf(fe.predecessor,ne)<0&&fe.predecessor.push(ne);var de=Y(X,ne);m.indexOf(de.successor,ne)<0&&de.successor.push(Q)})}),{graph:X,noEntryList:xe}}(X),re=fe.graph,ie=fe.noEntryList,ne={};for(m.each(j,function(L){ne[L]=!0});ie.length;){var de=ie.pop(),oe=re[de],Z=!!ne[de];Z&&(xe.call(Q,de,oe.originalDeps.slice()),delete ne[de]),m.each(oe.successor,Z?W:U)}m.each(ne,function(){throw new Error("")})}function U(L){re[L].entryCount--,0===re[L].entryCount&&ie.push(L)}function W(L){ne[L]=!0,U(L)}}}function ce(q,K){return m.merge(m.merge({},q,!0),K,!0)}},341:(un,ot,E)=>{"use strict";E.d(ot,{I:()=>H});var m=E(3302),R=E(4371),k=E(284),Se=E(6573),le=E(1298),y=E(6314),ce=new m.Z,q=new R.ZP(100),K=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function H(Q,fe){if("none"===Q)return null;var re=fe.getDevicePixelRatio(),ie=fe.getZr(),ne="svg"===ie.painter.type;Q.dirty&&ce.delete(Q);var de=ce.get(Q);if(de)return de;var oe=(0,k.defaults)(Q,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===oe.backgroundColor&&(oe.backgroundColor=null);var Z={repeat:"repeat"};return function(W){for(var L=[re],D=!0,A=0;A<K.length;++A){var M=oe[K[A]],C=typeof M;if(null!=M&&!(0,k.isArray)(M)&&"string"!==C&&"number"!==C&&"boolean"!==C){D=!1;break}L.push(M)}var P;if(D){P=L.join(",")+(ne?"-svg":"");var N=q.get(P);N&&(ne?W.svgElement=N:W.image=N)}var Oe,ee=V(oe.dashArrayX),ye=function(Q){if(!Q||"object"==typeof Q&&0===Q.length)return[0,0];if("number"==typeof Q){var fe=Math.ceil(Q);return[fe,fe]}var re=(0,k.map)(Q,function(ie){return Math.ceil(ie)});return Q.length%2?re.concat(re):re}(oe.dashArrayY),Te=Y(oe.symbol),he=function(Q){return(0,k.map)(Q,function(fe){return xe(fe)})}(ee),me=xe(ye),Re=!ne&&(0,k.createCanvas)(),Le=ne&&ie.painter.createSVGElement("g"),Je=function(){for(var et=1,Ue=0,xt=he.length;Ue<xt;++Ue)et=(0,Se.nl)(et,he[Ue]);var It=1;for(Ue=0,xt=Te.length;Ue<xt;++Ue)It=(0,Se.nl)(It,Te[Ue].length);et*=It;var Pt=me*he.length*Te.length;return{width:Math.max(1,Math.min(et,oe.maxTileWidth)),height:Math.max(1,Math.min(Pt,oe.maxTileHeight))}}();Re&&(Re.width=Je.width*re,Re.height=Je.height*re,Oe=Re.getContext("2d")),function(){Oe&&(Oe.clearRect(0,0,Re.width,Re.height),oe.backgroundColor&&(Oe.fillStyle=oe.backgroundColor,Oe.fillRect(0,0,Re.width,Re.height)));for(var et=0,Ue=0;Ue<ye.length;++Ue)et+=ye[Ue];var _t,zt;if(!(et<=0))for(var xt=-me,It=0,Pt=0,Wt=0;xt<Je.height;){if(It%2==0){for(var Qt=Pt/2%Te.length,gn=0,In=0,Dn=0;gn<2*Je.width;){var Yt=0;for(Ue=0;Ue<ee[Wt].length;++Ue)Yt+=ee[Wt][Ue];if(Yt<=0)break;if(In%2==0){var sn=.5*(1-oe.symbolSize);void 0,void 0,zt=(0,le.th)(Te[Qt][Dn/2%Te[Qt].length],(gn+ee[Wt][In]*sn)*(_t=ne?1:re),(xt+ye[It]*sn)*_t,ee[Wt][In]*oe.symbolSize*_t,ye[It]*oe.symbolSize*_t,oe.color,oe.symbolKeepAspect),ne?Le.appendChild(ie.painter.paintOne(zt)):(0,y.RV)(Oe,zt)}gn+=ee[Wt][In],++Dn,++In===ee[Wt].length&&(In=0)}++Wt===ee.length&&(Wt=0)}xt+=ye[It],++Pt,++It===ye.length&&(It=0)}}(),D&&q.put(P,Re||Le),W.image=Re,W.svgElement=Le,W.svgWidth=Je.width,W.svgHeight=Je.height}(Z),Z.rotation=oe.rotation,Z.scaleX=Z.scaleY=ne?1:1/re,ce.set(Q,Z),Q.dirty=!1,Z}function Y(Q){if(!Q||0===Q.length)return[["rect"]];if("string"==typeof Q)return[[Q]];for(var fe=!0,re=0;re<Q.length;++re)if("string"!=typeof Q[re]){fe=!1;break}if(fe)return Y([Q]);var ie=[];for(re=0;re<Q.length;++re)ie.push("string"==typeof Q[re]?[Q[re]]:Q[re]);return ie}function V(Q){if(!Q||0===Q.length)return[[0,0]];if("number"==typeof Q)return[[fe=Math.ceil(Q),fe]];for(var re=!0,ie=0;ie<Q.length;++ie)if("number"!=typeof Q[ie]){re=!1;break}if(re)return V([Q]);var ne=[];for(ie=0;ie<Q.length;++ie)if("number"==typeof Q[ie]){var fe=Math.ceil(Q[ie]);ne.push([fe,fe])}else fe=(0,k.map)(Q[ie],function(Z){return Math.ceil(Z)}),ne.push(fe.length%2==1?fe.concat(fe):fe);return ne}function xe(Q){for(var fe=0,re=0;re<Q.length;++re)fe+=Q[re];return Q.length%2==1?2*fe:fe}},7401:(un,ot,E)=>{"use strict";function m(R,k,Se){for(var le;R&&(!k(R)||(le=R,!Se));)R=R.__hostTarget||R.parent;return le}E.d(ot,{o:()=>m})},780:(un,ot,E)=>{"use strict";E.d(ot,{OD:()=>Se,zW:()=>le,MY:()=>y,F1:()=>K,uX:()=>H,kF:()=>j,wx:()=>X,A0:()=>xe,mr:()=>Q,ew:()=>fe,Lz:()=>re,MI:()=>ie});var m=E(284),R=E(6573),k=E(1329);function Se(ne){if(!(0,R.kE)(ne))return m.isString(ne)?ne:"-";var de=(ne+"").split(".");return de[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(de.length>1?"."+de[1]:"")}function le(ne,de){return ne=(ne||"").toLowerCase().replace(/-(.)/g,function(oe,Z){return Z.toUpperCase()}),de&&ne&&(ne=ne.charAt(0).toUpperCase()+ne.slice(1)),ne}var y=m.normalizeCssArray,ce=/([&<>"'])/g,q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function K(ne){return null==ne?"":(ne+"").replace(ce,function(de,oe){return q[oe]})}function H(ne,de,oe){function U(C){return C&&m.trim(C)?C:"-"}function W(C){return!(null==C||isNaN(C)||!isFinite(C))}var L="time"===de,D=ne instanceof Date;if(L||D){var A=L?(0,R.sG)(ne):ne;if(!isNaN(+A))return(0,k.WU)(A,"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}",oe);if(D)return"-"}if("ordinal"===de)return m.isStringSafe(ne)?U(ne):m.isNumber(ne)&&W(ne)?ne+"":"-";var M=(0,R.FK)(ne);return W(M)?Se(M):m.isStringSafe(ne)?U(ne):"boolean"==typeof ne?ne+"":"-"}var Y=["a","b","c","d","e","f","g"],V=function(ne,de){return"{"+ne+(null==de?"":de)+"}"};function j(ne,de,oe){m.isArray(de)||(de=[de]);var Z=de.length;if(!Z)return"";for(var U=de[0].$vars||[],W=0;W<U.length;W++){var L=Y[W];ne=ne.replace(V(L),V(L,0))}for(var D=0;D<Z;D++)for(var A=0;A<U.length;A++){var M=de[D][U[A]];ne=ne.replace(V(Y[A],D),oe?K(M):M)}return ne}function X(ne,de,oe){return m.each(de,function(Z,U){ne=ne.replace("{"+U+"}",oe?K(Z):Z)}),ne}function xe(ne,de){var oe=m.isString(ne)?{color:ne,extraCssText:de}:ne||{},Z=oe.color,U=oe.type;de=oe.extraCssText;var W=oe.renderMode||"html";return Z?"html"===W?"subItem"===U?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+K(Z)+";"+(de||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+K(Z)+";"+(de||"")+'"></span>':{renderMode:W,content:"{"+(oe.markerId||"markerX")+"|}  ",style:"subItem"===U?{width:4,height:4,borderRadius:2,backgroundColor:Z}:{width:10,height:10,borderRadius:5,backgroundColor:Z}}:""}function Q(ne,de,oe){("week"===ne||"month"===ne||"quarter"===ne||"half-year"===ne||"year"===ne)&&(ne="MM-dd\nyyyy");var Z=(0,R.sG)(de),U=oe?"UTC":"",W=Z["get"+U+"FullYear"](),L=Z["get"+U+"Month"]()+1,D=Z["get"+U+"Date"](),A=Z["get"+U+"Hours"](),M=Z["get"+U+"Minutes"](),C=Z["get"+U+"Seconds"](),P=Z["get"+U+"Milliseconds"]();return ne.replace("MM",(0,k.vk)(L,2)).replace("M",L).replace("yyyy",W).replace("yy",W%100+"").replace("dd",(0,k.vk)(D,2)).replace("d",D).replace("hh",(0,k.vk)(A,2)).replace("h",A).replace("mm",(0,k.vk)(M,2)).replace("m",M).replace("ss",(0,k.vk)(C,2)).replace("s",C).replace("SSS",(0,k.vk)(P,3))}function fe(ne){return ne&&ne.charAt(0).toUpperCase()+ne.substr(1)}function re(ne,de){return de=de||"transparent",m.isString(ne)?ne:m.isObject(ne)&&ne.colorStops&&(ne.colorStops[0]||{}).color||de}function ie(ne,de){if("_blank"===de||"blank"===de){var oe=window.open();oe.opener=null,oe.location.href=ne}else window.open(ne,de)}},2321:(un,ot,E)=>{"use strict";E.r(ot),E.d(ot,{updateProps:()=>M.D,initProps:()=>M.KZ,removeElement:()=>M.bX,removeElementWithFadeOut:()=>M.XD,isElementRemoved:()=>M.eq,extendShape:()=>ee,extendPath:()=>Te,registerShape:()=>he,getShapeClass:()=>me,makePath:()=>Re,makeImage:()=>Le,mergePath:()=>Oe,resizePath:()=>Ve,subPixelOptimizeLine:()=>Fe,subPixelOptimizeRect:()=>et,subPixelOptimize:()=>Ue,getTransform:()=>xt,applyTransform:()=>It,transformDirection:()=>Pt,groupTransition:()=>gn,clipPointsByRect:()=>In,clipRectByRect:()=>Dn,createIcon:()=>Yt,linePolygonIntersect:()=>sn,lineLineIntersect:()=>it,setTooltipConfig:()=>ke,Group:()=>ce.Z,Image:()=>y.ZP,Text:()=>q.ZP,Circle:()=>K.Z,Ellipse:()=>H.Z,Sector:()=>Y.C,Ring:()=>V.Z,Polygon:()=>j.Z,Polyline:()=>X.Z,Rect:()=>xe.Z,Line:()=>Q.Z,BezierCurve:()=>fe.Z,Arc:()=>re.Z,IncrementalDisplayable:()=>W.Z,CompoundPath:()=>ie.Z,LinearGradient:()=>ne.Z,RadialGradient:()=>de.Z,BoundingRect:()=>oe.Z,OrientedBoundingRect:()=>Z.Z,Point:()=>U.Z,Path:()=>Se.ZP});var m=E(9849),R=E(926),k=E(7322),Se=E(5581),le=E(9736),y=E(5252),ce=E(7350),q=E(1078),K=E(4756),H=E(5865),Y=E(1620),V=E(7316),j=E(7204),X=E(7140),xe=E(9024),Q=E(3246),fe=E(4487),re=E(3864),ie=E(7301),ne=E(3256),de=E(2204),oe=E(1436),Z=E(13),U=E(5359),W=E(6324),L=E(6482),D=E(284),A=E(265),M=E(5311),C=Math.max,P=Math.min,N={};function ee(je){return Se.ZP.extend(je)}var ye=m.Pc;function Te(je,yt){return ye(je,yt)}function he(je,yt){N[je]=yt}function me(je){if(N.hasOwnProperty(je))return N[je]}function Re(je,yt,Et,$t){var cn=m.iR(je,yt);return Et&&("center"===$t&&(Et=Je(Et,cn.getBoundingRect())),Ve(cn,Et)),cn}function Le(je,yt,Et){var $t=new y.ZP({style:{image:je,x:yt.x,y:yt.y,width:yt.width,height:yt.height},onload:function(cn){"center"===Et&&$t.setStyle(Je(yt,{width:cn.width,height:cn.height}))}});return $t}function Je(je,yt){var cn,Et=yt.width/yt.height,$t=je.height*Et;return cn=$t<=je.width?je.height:($t=je.width)/Et,{x:je.x+je.width/2-$t/2,y:je.y+je.height/2-cn/2,width:$t,height:cn}}var Oe=m.AA;function Ve(je,yt){if(je.applyTransform){var $t=je.getBoundingRect().calculateTransform(yt);je.applyTransform($t)}}function Fe(je){return L._3(je.shape,je.shape,je.style),je}function et(je){return L.Pw(je.shape,je.shape,je.style),je}var Ue=L.vu;function xt(je,yt){for(var Et=R.identity([]);je&&je!==yt;)R.mul(Et,je.getLocalTransform(),Et),je=je.parent;return Et}function It(je,yt,Et){return yt&&!(0,D.isArrayLike)(yt)&&(yt=le.Z.getLocalTransform(yt)),Et&&(yt=R.invert([],yt)),k.applyTransform([],je,yt)}function Pt(je,yt,Et){var $t=0===yt[4]||0===yt[5]||0===yt[0]?1:Math.abs(2*yt[4]/yt[0]),cn=0===yt[4]||0===yt[5]||0===yt[2]?1:Math.abs(2*yt[4]/yt[2]),ct=["left"===je?-$t:"right"===je?$t:0,"top"===je?-cn:"bottom"===je?cn:0];return ct=It(ct,yt,Et),Math.abs(ct[0])>Math.abs(ct[1])?ct[0]>0?"right":"left":ct[1]>0?"bottom":"top"}function Wt(je){return!je.isGroup}function gn(je,yt,Et){if(je&&yt){var _t,ct=(_t={},je.traverse(function(zt){Wt(zt)&&zt.anid&&(_t[zt.anid]=zt)}),_t);yt.traverse(function(tt){if(Wt(tt)&&tt.anid){var _t=ct[tt.anid];if(_t){var zt=cn(tt);tt.attr(cn(_t)),(0,M.D)(tt,zt,Et,(0,A.A)(tt).dataIndex)}}})}function cn(tt){var _t={x:tt.x,y:tt.y,rotation:tt.rotation};return function(je){return null!=je.shape}(tt)&&(_t.shape=(0,D.extend)({},tt.shape)),_t}}function In(je,yt){return(0,D.map)(je,function(Et){var $t=Et[0];$t=C($t,yt.x),$t=P($t,yt.x+yt.width);var cn=Et[1];return cn=C(cn,yt.y),[$t,cn=P(cn,yt.y+yt.height)]})}function Dn(je,yt){var Et=C(je.x,yt.x),$t=P(je.x+je.width,yt.x+yt.width),cn=C(je.y,yt.y),ct=P(je.y+je.height,yt.y+yt.height);if($t>=Et&&ct>=cn)return{x:Et,y:cn,width:$t-Et,height:ct-cn}}function Yt(je,yt,Et){var $t=(0,D.extend)({rectHover:!0},yt),cn=$t.style={strokeNoScale:!0};if(Et=Et||{x:-1,y:-1,width:2,height:2},je)return 0===je.indexOf("image://")?(cn.image=je.slice(8),(0,D.defaults)(cn,Et),new y.ZP($t)):Re(je.replace("path://",""),$t,Et,"center")}function sn(je,yt,Et,$t,cn){for(var ct=0,tt=cn[cn.length-1];ct<cn.length;ct++){var _t=cn[ct];if(it(je,yt,Et,$t,_t[0],_t[1],tt[0],tt[1]))return!0;tt=_t}}function it(je,yt,Et,$t,cn,ct,tt,_t){var zt=Et-je,Ft=$t-yt,ft=tt-cn,Ye=_t-ct,Ke=vn(ft,Ye,zt,Ft);if(function(je){return je<=1e-6&&je>=-1e-6}(Ke))return!1;var we=je-cn,Me=yt-ct,qe=vn(we,Me,zt,Ft)/Ke;if(qe<0||qe>1)return!1;var lt=vn(we,Me,ft,Ye)/Ke;return!(lt<0||lt>1)}function vn(je,yt,Et,$t){return je*$t-Et*yt}function ke(je){var yt=je.itemTooltipOption,Et=je.componentModel,$t=je.itemName,cn=(0,D.isString)(yt)?{formatter:yt}:yt,ct=Et.mainType,tt=Et.componentIndex,_t={componentType:ct,name:$t,$vars:["name"]};_t[ct+"Index"]=tt;var zt=je.formatterParamsExtra;zt&&(0,D.each)((0,D.keys)(zt),function(ft){(0,D.hasOwn)(_t,ft)||(_t[ft]=zt[ft],_t.$vars.push(ft))});var Ft=(0,A.A)(je.el);Ft.componentMainType=ct,Ft.componentIndex=tt,Ft.tooltipConfig={name:$t,option:(0,D.defaults)({content:$t,formatterParams:_t},cn)}}he("circle",K.Z),he("ellipse",H.Z),he("sector",Y.C),he("ring",V.Z),he("polygon",j.Z),he("polyline",X.Z),he("rect",xe.Z),he("line",Q.Z),he("bezierCurve",fe.Z),he("arc",re.Z)},265:(un,ot,E)=>{"use strict";E.d(ot,{A:()=>R,Q:()=>k});var R=(0,E(7911).Yf)(),k=function(Se,le,y,ce){if(ce){var q=R(ce);q.dataIndex=y,q.dataType=le,q.seriesIndex=Se,"group"===ce.type&&ce.traverse(function(K){var H=R(K);H.seriesIndex=Se,H.dataIndex=y,H.dataType=le})}}},3180:(un,ot,E)=>{"use strict";E.d(ot,{gN:()=>y,BZ:()=>K,lq:()=>V,ME:()=>j,p$:()=>X,QM:()=>xe,YD:()=>Q,dt:()=>fe,tE:()=>re,QT:()=>ie});var m=E(284),R=E(1436),k=E(6573),Se=E(780),le=m.each,y=["left","right","top","bottom","width","height"],ce=[["width","left","right"],["height","top","bottom"]];function q(ne,de,oe,Z,U){var W=0,L=0;null==Z&&(Z=1/0),null==U&&(U=1/0);var D=0;de.eachChild(function(A,M){var ee,ye,C=A.getBoundingRect(),P=de.childAt(M+1),N=P&&P.getBoundingRect();if("horizontal"===ne){var Te=C.width+(N?-N.x+C.x:0);(ee=W+Te)>Z||A.newline?(W=0,ee=Te,L+=D+oe,D=C.height):D=Math.max(D,C.height)}else{var he=C.height+(N?-N.y+C.y:0);(ye=L+he)>U||A.newline?(W+=D+oe,L=0,ye=he,D=C.width):D=Math.max(D,C.width)}A.newline||(A.x=W,A.y=L,A.markRedraw(),"horizontal"===ne?W=ee+oe:L=ye+oe)})}var K=q;function V(ne,de,oe){var Z=de.width,U=de.height,W=(0,k.GM)(ne.left,Z),L=(0,k.GM)(ne.top,U),D=(0,k.GM)(ne.right,Z),A=(0,k.GM)(ne.bottom,U);return(isNaN(W)||isNaN(parseFloat(ne.left)))&&(W=0),(isNaN(D)||isNaN(parseFloat(ne.right)))&&(D=Z),(isNaN(L)||isNaN(parseFloat(ne.top)))&&(L=0),(isNaN(A)||isNaN(parseFloat(ne.bottom)))&&(A=U),oe=Se.MY(oe||0),{width:Math.max(D-W-oe[1]-oe[3],0),height:Math.max(A-L-oe[0]-oe[2],0)}}function j(ne,de,oe){oe=Se.MY(oe||0);var Z=de.width,U=de.height,W=(0,k.GM)(ne.left,Z),L=(0,k.GM)(ne.top,U),D=(0,k.GM)(ne.right,Z),A=(0,k.GM)(ne.bottom,U),M=(0,k.GM)(ne.width,Z),C=(0,k.GM)(ne.height,U),P=oe[2]+oe[0],N=oe[1]+oe[3],ee=ne.aspect;switch(isNaN(M)&&(M=Z-D-N-W),isNaN(C)&&(C=U-A-P-L),null!=ee&&(isNaN(M)&&isNaN(C)&&(ee>Z/U?M=.8*Z:C=.8*U),isNaN(M)&&(M=ee*C),isNaN(C)&&(C=M/ee)),isNaN(W)&&(W=Z-D-M-N),isNaN(L)&&(L=U-A-C-P),ne.left||ne.right){case"center":W=Z/2-M/2-oe[3];break;case"right":W=Z-M-N}switch(ne.top||ne.bottom){case"middle":case"center":L=U/2-C/2-oe[0];break;case"bottom":L=U-C-P}W=W||0,L=L||0,isNaN(M)&&(M=Z-N-W-(D||0)),isNaN(C)&&(C=U-P-L-(A||0));var ye=new R.Z(W+oe[3],L+oe[0],M,C);return ye.margin=oe,ye}function X(ne,de,oe,Z,U){var W=!U||!U.hv||U.hv[0],L=!U||!U.hv||U.hv[1],D=U&&U.boundingMode||"all";if(W||L){var A;if("raw"===D)A="group"===ne.type?new R.Z(0,0,+de.width||0,+de.height||0):ne.getBoundingRect();else if(A=ne.getBoundingRect(),ne.needLocalTransform()){var M=ne.getLocalTransform();(A=A.clone()).applyTransform(M)}var C=j(m.defaults({width:A.width,height:A.height},de),oe,Z),P=W?C.x-A.x:0,N=L?C.y-A.y:0;"raw"===D?(ne.x=P,ne.y=N):(ne.x+=P,ne.y+=N),ne.markRedraw()}}function xe(ne,de){return null!=ne[ce[de][0]]||null!=ne[ce[de][1]]&&null!=ne[ce[de][2]]}function Q(ne){var de=ne.layoutMode||ne.constructor.layoutMode;return m.isObject(de)?de:de?{type:de}:null}function fe(ne,de,oe){var Z=oe&&oe.ignoreSize;!m.isArray(Z)&&(Z=[Z,Z]);var U=L(ce[0],0),W=L(ce[1],1);function L(C,P){var N={},ee=0,ye={},Te=0;if(le(C,function(Le){ye[Le]=ne[Le]}),le(C,function(Le){D(de,Le)&&(N[Le]=ye[Le]=de[Le]),A(N,Le)&&ee++,A(ye,Le)&&Te++}),Z[P])return A(de,C[1])?ye[C[2]]=null:A(de,C[2])&&(ye[C[1]]=null),ye;if(2===Te||!ee)return ye;if(ee>=2)return N;for(var me=0;me<C.length;me++){var Re=C[me];if(!D(N,Re)&&D(ne,Re)){N[Re]=ne[Re];break}}return N}function D(C,P){return C.hasOwnProperty(P)}function A(C,P){return null!=C[P]&&"auto"!==C[P]}function M(C,P,N){le(C,function(ee){P[ee]=N[ee]})}M(ce[0],ne,U),M(ce[1],ne,W)}function re(ne){return ie({},ne)}function ie(ne,de){return de&&ne&&le(y,function(oe){de.hasOwnProperty(oe)&&(ne[oe]=de[oe])}),ne}m.curry(q,"vertical"),m.curry(q,"horizontal")},942:(un,ot,E)=>{"use strict";E.d(ot,{ZK:()=>le,Sh:()=>ce,_y:()=>Y});var k="undefined"!=typeof console&&console.warn&&console.log;function le(V){k&&console.warn("[ECharts] "+V)}function ce(V){}function Y(V){throw new Error(V)}},7911:(un,ot,E)=>{"use strict";E.d(ot,{kF:()=>ce,Cc:()=>q,Td:()=>K,C4:()=>H,Co:()=>Y,ab:()=>V,U5:()=>de,yu:()=>U,lY:()=>W,g0:()=>L,O0:()=>D,XI:()=>M,gO:()=>C,Yf:()=>P,pm:()=>ee,zH:()=>ye,C6:()=>Te,iP:()=>he,HZ:()=>me,P$:()=>Re,IL:()=>Le,U9:()=>Je,pv:()=>Oe,pk:()=>Ve});var m=E(284),R=E(5065),k=E(6573),Se=E(547),le="series\0",y="\0_ec_\0";function ce(Fe){return Fe instanceof Array?Fe:null==Fe?[]:[Fe]}function q(Fe,et,Ue){if(Fe){Fe[et]=Fe[et]||{},Fe.emphasis=Fe.emphasis||{},Fe.emphasis[et]=Fe.emphasis[et]||{};for(var xt=0,It=Ue.length;xt<It;xt++){var Pt=Ue[xt];!Fe.emphasis[et].hasOwnProperty(Pt)&&Fe[et].hasOwnProperty(Pt)&&(Fe.emphasis[et][Pt]=Fe[et][Pt])}}}var K=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function H(Fe){return!(0,m.isObject)(Fe)||(0,m.isArray)(Fe)||Fe instanceof Date?Fe:Fe.value}function Y(Fe){return(0,m.isObject)(Fe)&&!(Fe instanceof Array)}function V(Fe,et,Ue){var xt="normalMerge"===Ue,It="replaceMerge"===Ue,Pt="replaceAll"===Ue;Fe=Fe||[],et=(et||[]).slice();var Wt=(0,m.createHashMap)();(0,m.each)(et,function(gn,In){(0,m.isObject)(gn)||(et[In]=null)});var Qt=function(Fe,et,Ue){var xt=[];if("replaceAll"===Ue)return xt;for(var It=0;It<Fe.length;It++){var Pt=Fe[It];Pt&&null!=Pt.id&&et.set(Pt.id,It),xt.push({existing:"replaceMerge"===Ue||W(Pt)?null:Pt,newOption:null,keyInfo:null,brandNew:null})}return xt}(Fe,Wt,Ue);return(xt||It)&&function(Fe,et,Ue,xt){(0,m.each)(xt,function(It,Pt){if(It&&null!=It.id){var Wt=ne(It.id),Qt=Ue.get(Wt);if(null!=Qt){var gn=Fe[Qt];(0,m.assert)(!gn.newOption,'Duplicated option on id "'+Wt+'".'),gn.newOption=It,gn.existing=et[Qt],xt[Pt]=null}}})}(Qt,Fe,Wt,et),xt&&function(Fe,et){(0,m.each)(et,function(Ue,xt){if(Ue&&null!=Ue.name)for(var It=0;It<Fe.length;It++){var Pt=Fe[It].existing;if(!Fe[It].newOption&&Pt&&(null==Pt.id||null==Ue.id)&&!W(Ue)&&!W(Pt)&&ie("name",Pt,Ue))return Fe[It].newOption=Ue,void(et[xt]=null)}})}(Qt,et),xt||It?function(Fe,et,Ue){(0,m.each)(et,function(xt){if(xt){for(var It,Pt=0;(It=Fe[Pt])&&(It.newOption||W(It.existing)||It.existing&&null!=xt.id&&!ie("id",xt,It.existing));)Pt++;It?(It.newOption=xt,It.brandNew=Ue):Fe.push({newOption:xt,brandNew:Ue,existing:null,keyInfo:null}),Pt++}})}(Qt,et,It):Pt&&function(Fe,et){(0,m.each)(et,function(Ue){Fe.push({newOption:Ue,brandNew:!0,existing:null,keyInfo:null})})}(Qt,et),function(Fe){var et=(0,m.createHashMap)();(0,m.each)(Fe,function(Ue){var xt=Ue.existing;xt&&et.set(xt.id,Ue)}),(0,m.each)(Fe,function(Ue){var xt=Ue.newOption;(0,m.assert)(!xt||null==xt.id||!et.get(xt.id)||et.get(xt.id)===Ue,"id duplicates: "+(xt&&xt.id)),xt&&null!=xt.id&&et.set(xt.id,Ue),!Ue.keyInfo&&(Ue.keyInfo={})}),(0,m.each)(Fe,function(Ue,xt){var It=Ue.existing,Pt=Ue.newOption,Wt=Ue.keyInfo;if((0,m.isObject)(Pt)){if(Wt.name=null!=Pt.name?ne(Pt.name):It?It.name:le+xt,It)Wt.id=ne(It.id);else if(null!=Pt.id)Wt.id=ne(Pt.id);else{var Qt=0;do{Wt.id="\0"+Wt.name+"\0"+Qt++}while(et.get(Wt.id))}et.set(Wt.id,Ue)}})}(Qt),Qt}function ie(Fe,et,Ue){var xt=de(et[Fe],null),It=de(Ue[Fe],null);return null!=xt&&null!=It&&xt===It}function ne(Fe){return de(Fe,"")}function de(Fe,et){if(null==Fe)return et;var Ue=typeof Fe;return"string"===Ue?Fe:"number"===Ue||(0,m.isStringSafe)(Fe)?Fe+"":et}function U(Fe){var et=Fe.name;return!(!et||!et.indexOf(le))}function W(Fe){return Fe&&null!=Fe.id&&0===ne(Fe.id).indexOf(y)}function L(Fe){return y+Fe}function D(Fe,et,Ue){(0,m.each)(Fe,function(xt){var It=xt.newOption;(0,m.isObject)(It)&&(xt.keyInfo.mainType=et,xt.keyInfo.subType=function(Fe,et,Ue,xt){return et.type?et.type:Ue?Ue.subType:xt.determineSubType(Fe,et)}(et,It,xt.existing,Ue))})}function M(Fe,et){var Ue={},xt={};return It(Fe||[],Ue),It(et||[],xt,Ue),[Pt(Ue),Pt(xt)];function It(Wt,Qt,gn){for(var In=0,Dn=Wt.length;In<Dn;In++){var Yt=de(Wt[In].seriesId,null);if(null==Yt)return;for(var sn=ce(Wt[In].dataIndex),it=gn&&gn[Yt],vn=0,wt=sn.length;vn<wt;vn++){var ke=sn[vn];it&&it[ke]?it[ke]=null:(Qt[Yt]||(Qt[Yt]={}))[ke]=1}}}function Pt(Wt,Qt){var gn=[];for(var In in Wt)if(Wt.hasOwnProperty(In)&&null!=Wt[In])if(Qt)gn.push(+In);else{var Dn=Pt(Wt[In],!0);Dn.length&&gn.push({seriesId:In,dataIndex:Dn})}return gn}}function C(Fe,et){return null!=et.dataIndexInside?et.dataIndexInside:null!=et.dataIndex?(0,m.isArray)(et.dataIndex)?(0,m.map)(et.dataIndex,function(Ue){return Fe.indexOfRawIndex(Ue)}):Fe.indexOfRawIndex(et.dataIndex):null!=et.name?(0,m.isArray)(et.name)?(0,m.map)(et.name,function(Ue){return Fe.indexOfName(Ue)}):Fe.indexOfName(et.name):void 0}function P(){var Fe="__ec_inner_"+N++;return function(et){return et[Fe]||(et[Fe]={})}}var N=(0,k.jj)();function ee(Fe,et,Ue){var xt=ye(et,Ue),Pt=xt.queryOptionMap,Qt=xt.others,gn=Ue?Ue.defaultMainType:null;return!xt.mainTypeSpecified&&gn&&Pt.set(gn,{}),Pt.each(function(In,Dn){var Yt=me(Fe,Dn,In,{useDefault:gn===Dn,enableAll:!Ue||null==Ue.enableAll||Ue.enableAll,enableNone:!Ue||null==Ue.enableNone||Ue.enableNone});Qt[Dn+"Models"]=Yt.models,Qt[Dn+"Model"]=Yt.models[0]}),Qt}function ye(Fe,et){var Ue;if((0,m.isString)(Fe)){var xt={};xt[Fe+"Index"]=0,Ue=xt}else Ue=Fe;var It=(0,m.createHashMap)(),Pt={},Wt=!1;return(0,m.each)(Ue,function(Qt,gn){if("dataIndex"!==gn&&"dataIndexInside"!==gn){var In=gn.match(/^(\w+)(Index|Id|Name)$/)||[],Dn=In[1],Yt=(In[2]||"").toLowerCase();!Dn||!Yt||et&&et.includeMainTypes&&(0,m.indexOf)(et.includeMainTypes,Dn)<0||(Wt=Wt||!!Dn,(It.get(Dn)||It.set(Dn,{}))[Yt]=Qt)}else Pt[gn]=Qt}),{mainTypeSpecified:Wt,queryOptionMap:It,others:Pt}}var Te={useDefault:!0,enableAll:!1,enableNone:!1},he={useDefault:!1,enableAll:!0,enableNone:!0};function me(Fe,et,Ue,xt){xt=xt||Te;var It=Ue.index,Pt=Ue.id,Wt=Ue.name,Qt={models:null,specified:null!=It||null!=Pt||null!=Wt};if(!Qt.specified){var gn=void 0;return Qt.models=xt.useDefault&&(gn=Fe.getComponent(et))?[gn]:[],Qt}return"none"===It||!1===It?((0,m.assert)(xt.enableNone,'`"none"` or `false` is not a valid value on index option.'),Qt.models=[],Qt):("all"===It&&((0,m.assert)(xt.enableAll,'`"all"` is not a valid value on index option.'),It=Pt=Wt=null),Qt.models=Fe.queryComponents({mainType:et,index:It,id:Pt,name:Wt}),Qt)}function Re(Fe,et,Ue){Fe.setAttribute?Fe.setAttribute(et,Ue):Fe[et]=Ue}function Le(Fe,et){return Fe.getAttribute?Fe.getAttribute(et):Fe[et]}function Je(Fe){return"auto"===Fe?R.Z.domSupported?"html":"richText":Fe||"html"}function Oe(Fe,et){var Ue=(0,m.createHashMap)(),xt=[];return(0,m.each)(Fe,function(It){var Pt=et(It);(Ue.get(Pt)||(xt.push(Pt),Ue.set(Pt,[]))).push(It)}),{keys:xt,buckets:Ue}}function Ve(Fe,et,Ue,xt,It){var Pt=null==et||"auto"===et;if(null==xt)return xt;if("number"==typeof xt){var Wt=(0,Se.k4)(Ue||0,xt,It);return(0,k.NM)(Wt,Pt?Math.max((0,k.p8)(Ue||0),(0,k.p8)(xt)):et)}if("string"==typeof xt)return It<1?Ue:xt;for(var Qt=[],gn=Ue,In=xt,Dn=Math.max(gn?gn.length:0,In.length),Yt=0;Yt<Dn;++Yt){var sn=Fe.getDimensionInfo(Yt);if(sn&&"ordinal"===sn.type)Qt[Yt]=(It<1&&gn?gn:In)[Yt];else{var it=gn&&gn[Yt]?gn[Yt]:0,vn=In[Yt];Wt=(0,Se.k4)(it,vn,It),Qt[Yt]=(0,k.NM)(Wt,Pt?Math.max((0,k.p8)(it),(0,k.p8)(vn)):et)}}return Qt}},6573:(un,ot,E)=>{"use strict";E.d(ot,{NU:()=>le,GM:()=>y,NM:()=>ce,dt:()=>q,p8:()=>K,ZB:()=>H,M9:()=>Y,eJ:()=>V,S$:()=>j,YM:()=>X,wW:()=>xe,mW:()=>Q,sG:()=>re,Xd:()=>ie,xW:()=>ne,kx:()=>de,VR:()=>oe,nR:()=>Z,FK:()=>U,kE:()=>W,jj:()=>L,nl:()=>A});var m=E(284),R=1e-4;function le(M,C,P,N){var ee=C[0],ye=C[1],Te=P[0],he=P[1],me=ye-ee,Re=he-Te;if(0===me)return 0===Re?Te:(Te+he)/2;if(N)if(me>0){if(M<=ee)return Te;if(M>=ye)return he}else{if(M>=ee)return Te;if(M<=ye)return he}else{if(M===ee)return Te;if(M===ye)return he}return(M-ee)/me*Re+Te}function y(M,C){switch(M){case"center":case"middle":M="50%";break;case"left":case"top":M="0%";break;case"right":case"bottom":M="100%"}return"string"==typeof M?function(M){return M.replace(/^\s+|\s+$/g,"")}(M).match(/%$/)?parseFloat(M)/100*C:parseFloat(M):null==M?NaN:+M}function ce(M,C,P){return null==C&&(C=10),C=Math.min(Math.max(0,C),20),M=(+M).toFixed(C),P?M:+M}function q(M){return M.sort(function(C,P){return C-P}),M}function K(M){if(M=+M,isNaN(M))return 0;if(M>1e-14)for(var C=1,P=0;P<15;P++,C*=10)if(Math.round(M*C)/C===M)return P;return H(M)}function H(M){var C=M.toString().toLowerCase(),P=C.indexOf("e"),N=P>0?+C.slice(P+1):0,ee=P>0?P:C.length,ye=C.indexOf(".");return Math.max(0,(ye<0?0:ee-1-ye)-N)}function Y(M,C){var P=Math.log,N=Math.LN10,ee=Math.floor(P(M[1]-M[0])/N),ye=Math.round(P(Math.abs(C[1]-C[0]))/N),Te=Math.min(Math.max(-ee+ye,0),20);return isFinite(Te)?Te:20}function V(M,C,P){if(!M[C])return 0;var N=m.reduce(M,function(Fe,et){return Fe+(isNaN(et)?0:et)},0);if(0===N)return 0;for(var ee=Math.pow(10,P),ye=m.map(M,function(Fe){return(isNaN(Fe)?0:Fe)/N*ee*100}),Te=100*ee,he=m.map(ye,function(Fe){return Math.floor(Fe)}),me=m.reduce(he,function(Fe,et){return Fe+et},0),Re=m.map(ye,function(Fe,et){return Fe-he[et]});me<Te;){for(var Le=Number.NEGATIVE_INFINITY,Je=null,Oe=0,Ve=Re.length;Oe<Ve;++Oe)Re[Oe]>Le&&(Le=Re[Oe],Je=Oe);++he[Je],Re[Je]=0,++me}return he[C]/ee}function j(M,C){var P=Math.max(K(M),K(C)),N=M+C;return P>20?N:ce(N,P)}var X=9007199254740991;function xe(M){var C=2*Math.PI;return(M%C+C)%C}function Q(M){return M>-R&&M<R}var fe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function re(M){if(M instanceof Date)return M;if("string"==typeof M){var C=fe.exec(M);if(!C)return new Date(NaN);if(C[8]){var P=+C[4]||0;return"Z"!==C[8].toUpperCase()&&(P-=+C[8].slice(0,3)),new Date(Date.UTC(+C[1],+(C[2]||1)-1,+C[3]||1,P,+(C[5]||0),+C[6]||0,C[7]?+C[7].substring(0,3):0))}return new Date(+C[1],+(C[2]||1)-1,+C[3]||1,+C[4]||0,+(C[5]||0),+C[6]||0,C[7]?+C[7].substring(0,3):0)}return null==M?new Date(NaN):new Date(Math.round(M))}function ie(M){return Math.pow(10,ne(M))}function ne(M){if(0===M)return 0;var C=Math.floor(Math.log(M)/Math.LN10);return M/Math.pow(10,C)>=10&&C++,C}function de(M,C){var P=ne(M),N=Math.pow(10,P),ee=M/N;return M=(C?ee<1.5?1:ee<2.5?2:ee<4?3:ee<7?5:10:ee<1?1:ee<2?2:ee<3?3:ee<5?5:10)*N,P>=-20?+M.toFixed(P<0?-P:0):M}function oe(M,C){var P=(M.length-1)*C+1,N=Math.floor(P),ee=+M[N-1],ye=P-N;return ye?ee+ye*(M[N]-ee):ee}function Z(M){M.sort(function(me,Re){return he(me,Re,0)?-1:1});for(var C=-1/0,P=1,N=0;N<M.length;){for(var ee=M[N].interval,ye=M[N].close,Te=0;Te<2;Te++)ee[Te]<=C&&(ee[Te]=C,ye[Te]=Te?1:1-P),C=ee[Te],P=ye[Te];ee[0]===ee[1]&&ye[0]*ye[1]!=1?M.splice(N,1):N++}return M;function he(me,Re,Le){return me.interval[Le]<Re.interval[Le]||me.interval[Le]===Re.interval[Le]&&(me.close[Le]-Re.close[Le]==(Le?-1:1)||!Le&&he(me,Re,1))}}function U(M){var C=parseFloat(M);return C==M&&(0!==C||"string"!=typeof M||M.indexOf("x")<=0)?C:NaN}function W(M){return!isNaN(U(M))}function L(){return Math.round(9*Math.random())}function D(M,C){return 0===C?M:D(C,M%C)}function A(M,C){return null==M?C:null==C?M:M*C/D(M,C)}},5613:(un,ot,E)=>{"use strict";E.d(ot,{CX:()=>Y,wU:()=>V,L1:()=>j,qc:()=>X,zr:()=>xe,Ki:()=>fe,yx:()=>re,Hg:()=>ie,JQ:()=>ne,iK:()=>de,Gl:()=>ye,MA:()=>Oe,fD:()=>et,Mh:()=>Ue,SX:()=>xt,VP:()=>It,XX:()=>Pt,SJ:()=>Wt,T5:()=>gn,zI:()=>Dn,UL:()=>Yt,oJ:()=>sn,$l:()=>it,Uq:()=>vn,og:()=>wt,ci:()=>ke,C5:()=>je,vF:()=>yt,Ib:()=>Et,WO:()=>ct,Nj:()=>tt,Av:()=>_t,th:()=>zt,RW:()=>Ft,aG:()=>ft,xp:()=>Ye,e9:()=>Ke});var m=E(4371),R=E(284),k=E(265),Se=E(589),le=E(7911),y=E(5581),ce=1,q={},K=(0,le.Yf)(),Y=1,V=2,j=["emphasis","blur","select"],X=["normal","emphasis","blur","select"],xe=10,fe="highlight",re="downplay",ie="select",ne="unselect",de="toggleSelect";function oe(we){return null!=we&&"none"!==we}var Z=new m.ZP(100);function U(we){if("string"!=typeof we)return we;var Me=Z.get(we);return Me||(Me=Se.lift(we,-.1),Z.put(we,Me)),Me}function W(we,Me,qe){we.onHoverStateChange&&(we.hoverState||0)!==qe&&we.onHoverStateChange(Me),we.hoverState=qe}function L(we){W(we,"emphasis",V)}function D(we){we.hoverState===V&&W(we,"normal",0)}function A(we){W(we,"blur",Y)}function M(we){we.hoverState===Y&&W(we,"normal",0)}function C(we){we.selected=!0}function P(we){we.selected=!1}function N(we,Me,qe){Me(we,qe)}function ee(we,Me,qe){N(we,Me,qe),we.isGroup&&we.traverse(function(lt){N(lt,Me,qe)})}function ye(we,Me){switch(Me){case"emphasis":we.hoverState=V;break;case"normal":we.hoverState=0;break;case"blur":we.hoverState=Y;break;case"select":we.selected=!0}}function Je(we,Me){var qe=this.states[we];if(this.style){if("emphasis"===we)return function(we,Me,qe,lt){var Lt=qe&&(0,R.indexOf)(qe,"select")>=0,Kt=!1;if(we instanceof y.ZP){var Mn=K(we),Zt=Lt&&Mn.selectFill||Mn.normalFill,er=Lt&&Mn.selectStroke||Mn.normalStroke;if(oe(Zt)||oe(er)){var Un=(lt=lt||{}).style||{};"inherit"===Un.fill?(Kt=!0,lt=(0,R.extend)({},lt),(Un=(0,R.extend)({},Un)).fill=Zt):!oe(Un.fill)&&oe(Zt)?(Kt=!0,lt=(0,R.extend)({},lt),(Un=(0,R.extend)({},Un)).fill=U(Zt)):!oe(Un.stroke)&&oe(er)&&(Kt||(lt=(0,R.extend)({},lt),Un=(0,R.extend)({},Un)),Un.stroke=U(er)),lt.style=Un}}if(lt&&null==lt.z2){Kt||(lt=(0,R.extend)({},lt));var dr=we.z2EmphasisLift;lt.z2=we.z2+(null!=dr?dr:xe)}return lt}(this,0,Me,qe);if("blur"===we)return function(we,Me,qe){var lt=(0,R.indexOf)(we.currentStates,Me)>=0,Lt=we.style.opacity,Kt=lt?null:function(we,Me,qe,lt){for(var Lt=we.style,Kt={},Mn=0;Mn<Me.length;Mn++){var Zt=Me[Mn],er=Lt[Zt];Kt[Zt]=null==er?lt&&lt[Zt]:er}for(Mn=0;Mn<we.animators.length;Mn++){var Un=we.animators[Mn];Un.__fromStateTransition&&Un.__fromStateTransition.indexOf(qe)<0&&"style"===Un.targetName&&Un.saveFinalToTarget(Kt,Me)}return Kt}(we,["opacity"],Me,{opacity:1}),Mn=(qe=qe||{}).style||{};return null==Mn.opacity&&(qe=(0,R.extend)({},qe),Mn=(0,R.extend)({opacity:lt?Lt:.1*Kt.opacity},Mn),qe.style=Mn),qe}(this,we,qe);if("select"===we)return function(we,Me,qe){if(qe&&null==qe.z2){qe=(0,R.extend)({},qe);var lt=we.z2SelectLift;qe.z2=we.z2+(null!=lt?lt:9)}return qe}(this,0,qe)}return qe}function Oe(we){we.stateProxy=Je;var Me=we.getTextContent(),qe=we.getTextGuideLine();Me&&(Me.stateProxy=Je),qe&&(qe.stateProxy=Je)}function Ve(we,Me){!Qt(we,Me)&&!we.__highByOuter&&ee(we,L)}function Fe(we,Me){!Qt(we,Me)&&!we.__highByOuter&&ee(we,D)}function et(we,Me){we.__highByOuter|=1<<(Me||0),ee(we,L)}function Ue(we,Me){!(we.__highByOuter&=~(1<<(Me||0)))&&ee(we,D)}function xt(we){ee(we,A)}function It(we){ee(we,M)}function Pt(we){ee(we,C)}function Wt(we){ee(we,P)}function Qt(we,Me){return we.__highDownSilentOnTouch&&Me.zrByTouch}function gn(we){we.getModel().eachComponent(function(qe,lt){("series"===qe?we.getViewOfSeriesModel(lt):we.getViewOfComponentModel(lt)).group.traverse(function(Kt){M(Kt)})})}function In(we,Me,qe,lt){var Lt=lt.getModel();function Kt(Un,dr){for(var pr=0;pr<dr.length;pr++){var si=Un.getItemGraphicEl(dr[pr]);si&&It(si)}}if(qe=qe||"coordinateSystem",null!=we&&Me&&"none"!==Me){var Mn=Lt.getSeriesByIndex(we),Zt=Mn.coordinateSystem;Zt&&Zt.master&&(Zt=Zt.master);var er=[];Lt.eachSeries(function(Un){var dr=Mn===Un,pr=Un.coordinateSystem;if(pr&&pr.master&&(pr=pr.master),!("series"===qe&&!dr||"coordinateSystem"===qe&&!(pr&&Zt?pr===Zt:dr)||"series"===Me&&dr)){if(lt.getViewOfSeriesModel(Un).group.traverse(function(Xn){A(Xn)}),(0,R.isArrayLike)(Me))Kt(Un.getData(),Me);else if((0,R.isObject)(Me))for(var lr=(0,R.keys)(Me),Hr=0;Hr<lr.length;Hr++)Kt(Un.getData(lr[Hr]),Me[lr[Hr]]);er.push(Un)}}),Lt.eachComponent(function(Un,dr){if("series"!==Un){var pr=lt.getViewOfComponentModel(dr);pr&&pr.blurSeries&&pr.blurSeries(er,Lt)}})}}function Dn(we,Me,qe){if(null!=we&&null!=Me){var lt=qe.getModel().getComponent(we,Me);if(lt){var Lt=qe.getViewOfComponentModel(lt);!Lt||!Lt.focusBlurEnabled||Lt.group.traverse(function(Kt){A(Kt)})}}}function Yt(we,Me,qe){var lt=we.seriesIndex,Lt=we.getData(Me.dataType),Kt=(0,le.gO)(Lt,Me);Kt=((0,R.isArray)(Kt)?Kt[0]:Kt)||0;var Mn=Lt.getItemGraphicEl(Kt);if(!Mn)for(var Zt=Lt.count(),er=0;!Mn&&er<Zt;)Mn=Lt.getItemGraphicEl(er++);if(Mn){var Un=(0,k.A)(Mn);In(lt,Un.focus,Un.blurScope,qe)}else{var dr=we.get(["emphasis","focus"]),pr=we.get(["emphasis","blurScope"]);null!=dr&&In(lt,dr,pr,qe)}}function sn(we,Me,qe,lt){var Lt={focusSelf:!1,dispatchers:null};if(null==we||"series"===we||null==Me||null==qe)return Lt;var Kt=lt.getModel().getComponent(we,Me);if(!Kt)return Lt;var Mn=lt.getViewOfComponentModel(Kt);if(!Mn||!Mn.findHighDownDispatchers)return Lt;for(var er,Zt=Mn.findHighDownDispatchers(qe),Un=0;Un<Zt.length;Un++)if("self"===(0,k.A)(Zt[Un]).focus){er=!0;break}return{focusSelf:er,dispatchers:Zt}}function it(we,Me,qe){var lt=(0,k.A)(we),Lt=sn(lt.componentMainType,lt.componentIndex,lt.componentHighDownName,qe),Kt=Lt.dispatchers;Kt?(Lt.focusSelf&&Dn(lt.componentMainType,lt.componentIndex,qe),(0,R.each)(Kt,function(Zt){return Ve(Zt,Me)})):(In(lt.seriesIndex,lt.focus,lt.blurScope,qe),"self"===lt.focus&&Dn(lt.componentMainType,lt.componentIndex,qe),Ve(we,Me))}function vn(we,Me,qe){gn(qe);var lt=(0,k.A)(we),Lt=sn(lt.componentMainType,lt.componentIndex,lt.componentHighDownName,qe).dispatchers;Lt?(0,R.each)(Lt,function(Kt){return Fe(Kt,Me)}):Fe(we,Me)}function wt(we,Me,qe){if(ft(Me)){var lt=Me.dataType,Lt=we.getData(lt),Kt=(0,le.gO)(Lt,Me);(0,R.isArray)(Kt)||(Kt=[Kt]),we[Me.type===de?"toggleSelect":Me.type===ie?"select":"unselect"](Kt,lt)}}function ke(we){var Me=we.getAllData();(0,R.each)(Me,function(qe){var Lt=qe.type;qe.data.eachItemGraphicEl(function(Kt,Mn){we.isSelected(Mn,Lt)?Pt(Kt):Wt(Kt)})})}function je(we){var Me=[];return we.eachSeries(function(qe){var lt=qe.getAllData();(0,R.each)(lt,function(Lt){var Mn=Lt.type,Zt=qe.getSelectedDataIndices();if(Zt.length>0){var er={dataIndex:Zt,seriesIndex:qe.seriesIndex};null!=Mn&&(er.dataType=Mn),Me.push(er)}})}),Me}function yt(we,Me,qe){tt(we,!0),ee(we,Oe),Et(we,Me,qe)}function Et(we,Me,qe){var lt=(0,k.A)(we);null!=Me?(lt.focus=Me,lt.blurScope=qe):lt.focus&&(lt.focus=null)}var $t=["emphasis","blur","select"],cn={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ct(we,Me,qe,lt){qe=qe||"itemStyle";for(var Lt=0;Lt<$t.length;Lt++){var Kt=$t[Lt],Mn=Me.getModel([Kt,qe]);we.ensureState(Kt).style=lt?lt(Mn):Mn[cn[qe]]()}}function tt(we,Me){var qe=!1===Me,lt=we;we.highDownSilentOnTouch&&(lt.__highDownSilentOnTouch=we.highDownSilentOnTouch),(!qe||lt.__highDownDispatcher)&&(lt.__highByOuter=lt.__highByOuter||0,lt.__highDownDispatcher=!qe)}function _t(we){return!(!we||!we.__highDownDispatcher)}function zt(we,Me,qe){var lt=(0,k.A)(we);lt.componentMainType=Me.mainType,lt.componentIndex=Me.componentIndex,lt.componentHighDownName=qe}function Ft(we){var Me=q[we];return null==Me&&ce<=32&&(Me=q[we]=ce++),Me}function ft(we){var Me=we.type;return Me===ie||Me===ne||Me===de}function Ye(we){var Me=we.type;return Me===fe||Me===re}function Ke(we){var Me=K(we);Me.normalFill=we.style.fill,Me.normalStroke=we.style.stroke;var qe=we.states.select||{};Me.selectFill=qe.style&&qe.style.fill||null,Me.selectStroke=qe.style&&qe.style.stroke||null}},1298:(un,ot,E)=>{"use strict";E.d(ot,{Pw:()=>Q,th:()=>ie,zp:()=>ne,Cq:()=>de});var m=E(284),R=E(5581),k=E(3246),Se=E(9024),le=E(4756),y=E(2321),ce=E(1436),q=E(7084),K=E(6573),H=R.ZP.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(oe,Z){var U=Z.cx,W=Z.cy,L=Z.width/2,D=Z.height/2;oe.moveTo(U,W-D),oe.lineTo(U+L,W+D),oe.lineTo(U-L,W+D),oe.closePath()}}),Y=R.ZP.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(oe,Z){var U=Z.cx,W=Z.cy,L=Z.width/2,D=Z.height/2;oe.moveTo(U,W-D),oe.lineTo(U+L,W),oe.lineTo(U,W+D),oe.lineTo(U-L,W),oe.closePath()}}),V=R.ZP.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(oe,Z){var U=Z.x,W=Z.y,L=Z.width/5*3,D=Math.max(L,Z.height),A=L/2,M=A*A/(D-A),C=W-D+A+M,P=Math.asin(M/A),N=Math.cos(P)*A,ee=Math.sin(P),ye=Math.cos(P),Te=.6*A,he=.7*A;oe.moveTo(U-N,C+M),oe.arc(U,C,A,Math.PI-P,2*Math.PI+P),oe.bezierCurveTo(U+N-ee*Te,C+M+ye*Te,U,W-he,U,W),oe.bezierCurveTo(U,W-he,U-N+ee*Te,C+M+ye*Te,U-N,C+M),oe.closePath()}}),j=R.ZP.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(oe,Z){var U=Z.height,L=Z.x,D=Z.y,A=Z.width/3*2;oe.moveTo(L,D),oe.lineTo(L+A,D+U),oe.lineTo(L,D+U/4*3),oe.lineTo(L-A,D+U),oe.lineTo(L,D),oe.closePath()}}),xe={line:function(oe,Z,U,W,L){L.x1=oe,L.y1=Z+W/2,L.x2=oe+U,L.y2=Z+W/2},rect:function(oe,Z,U,W,L){L.x=oe,L.y=Z,L.width=U,L.height=W},roundRect:function(oe,Z,U,W,L){L.x=oe,L.y=Z,L.width=U,L.height=W,L.r=Math.min(U,W)/4},square:function(oe,Z,U,W,L){var D=Math.min(U,W);L.x=oe,L.y=Z,L.width=D,L.height=D},circle:function(oe,Z,U,W,L){L.cx=oe+U/2,L.cy=Z+W/2,L.r=Math.min(U,W)/2},diamond:function(oe,Z,U,W,L){L.cx=oe+U/2,L.cy=Z+W/2,L.width=U,L.height=W},pin:function(oe,Z,U,W,L){L.x=oe+U/2,L.y=Z+W/2,L.width=U,L.height=W},arrow:function(oe,Z,U,W,L){L.x=oe+U/2,L.y=Z+W/2,L.width=U,L.height=W},triangle:function(oe,Z,U,W,L){L.cx=oe+U/2,L.cy=Z+W/2,L.width=U,L.height=W}},Q={};(0,m.each)({line:k.Z,rect:Se.Z,roundRect:Se.Z,square:Se.Z,circle:le.Z,diamond:Y,pin:V,arrow:j,triangle:H},function(oe,Z){Q[Z]=new oe});var fe=R.ZP.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(oe,Z,U){var W=(0,q.wI)(oe,Z,U),L=this.shape;return L&&"pin"===L.symbolType&&"inside"===Z.position&&(W.y=U.y+.4*U.height),W},buildPath:function(oe,Z,U){var W=Z.symbolType;if("none"!==W){var L=Q[W];L||(L=Q[W="rect"]),xe[W](Z.x,Z.y,Z.width,Z.height,L.shape),L.buildPath(oe,L.shape,U)}}});function re(oe,Z){if("image"!==this.type){var U=this.style;this.__isEmptyBrush?(U.stroke=oe,U.fill=Z||"#fff",U.lineWidth=2):"line"===this.shape.symbolType?U.stroke=oe:U.fill=oe,this.markRedraw()}}function ie(oe,Z,U,W,L,D,A){var C,M=0===oe.indexOf("empty");return M&&(oe=oe.substr(5,1).toLowerCase()+oe.substr(6)),(C=0===oe.indexOf("image://")?y.makeImage(oe.slice(8),new ce.Z(Z,U,W,L),A?"center":"cover"):0===oe.indexOf("path://")?y.makePath(oe.slice(7),{},new ce.Z(Z,U,W,L),A?"center":"cover"):new fe({shape:{symbolType:oe,x:Z,y:U,width:W,height:L}})).__isEmptyBrush=M,C.setColor=re,D&&C.setColor(D),C}function ne(oe){return(0,m.isArray)(oe)||(oe=[+oe,+oe]),[oe[0]||0,oe[1]||0]}function de(oe,Z){if(null!=oe)return(0,m.isArray)(oe)||(oe=[oe,oe]),[(0,K.GM)(oe[0],Z[0])||0,(0,K.GM)((0,m.retrieve2)(oe[1],oe[0]),Z[1])||0]}},7118:(un,ot,E)=>{"use strict";E.d(ot,{P2:()=>Se,T9:()=>le,ZH:()=>y});var m="\0__throttleOriginMethod",R="\0__throttleRate",k="\0__throttleType";function Se(ce,q,K){var H,X,xe,Q,fe,Y=0,V=0,j=null;function re(){V=(new Date).getTime(),j=null,ce.apply(xe,Q||[])}q=q||0;var ie=function(){for(var ne=[],de=0;de<arguments.length;de++)ne[de]=arguments[de];H=(new Date).getTime(),xe=this,Q=ne;var oe=fe||q,Z=fe||K;fe=null,X=H-(Z?Y:V)-oe,clearTimeout(j),Z?j=setTimeout(re,oe):X>=0?re():j=setTimeout(re,-X),Y=H};return ie.clear=function(){j&&(clearTimeout(j),j=null)},ie.debounceNextCall=function(ne){fe=ne},ie}function le(ce,q,K,H){var Y=ce[q];if(Y){var V=Y[m]||Y;if(Y[R]!==K||Y[k]!==H){if(null==K||!H)return ce[q]=V;(Y=ce[q]=Se(V,K,"debounce"===H))[m]=V,Y[k]=H,Y[R]=K}return Y}}function y(ce,q){var K=ce[q];K&&K[m]&&(ce[q]=K[m])}},1329:(un,ot,E)=>{"use strict";E.d(ot,{WT:()=>le,yR:()=>y,dV:()=>ce,s2:()=>q,P5:()=>K,V8:()=>V,FW:()=>X,vk:()=>xe,Tj:()=>Q,$K:()=>fe,xC:()=>re,WU:()=>ie,k7:()=>ne,q5:()=>oe,sx:()=>Z,CW:()=>U,xz:()=>W,Wp:()=>L,fn:()=>D,MV:()=>A,RZ:()=>M,xL:()=>C,vh:()=>P,f5:()=>N,En:()=>ee,eN:()=>ye,rM:()=>Te,cb:()=>he});var m=E(284),R=E(6573),k=E(3669),Se=E(774),le=1e3,y=60*le,ce=60*y,q=24*ce,K=365*q,H={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Y="{yyyy}-{MM}-{dd}",V={year:"{yyyy}",month:"{yyyy}-{MM}",day:Y,hour:Y+" "+H.hour,minute:Y+" "+H.minute,second:Y+" "+H.second,millisecond:H.none},j=["year","month","day","hour","minute","second","millisecond"],X=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function xe(me,Re){return"0000".substr(0,Re-(me+="").length)+me}function Q(me){switch(me){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return me}}function fe(me){return me===Q(me)}function re(me){switch(me){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function ie(me,Re,Le,Je){var Oe=R.sG(me),Ve=Oe[Z(Le)](),Fe=Oe[U(Le)]()+1,et=Math.floor((Fe-1)/4)+1,Ue=Oe[W(Le)](),xt=Oe["get"+(Le?"UTC":"")+"Day"](),It=Oe[L(Le)](),Pt=(It-1)%12+1,Wt=Oe[D(Le)](),Qt=Oe[A(Le)](),gn=Oe[M(Le)](),Dn=(Je instanceof Se.Z?Je:(0,k.G8)(Je||k.sO)||(0,k.Li)()).getModel("time"),Yt=Dn.get("month"),sn=Dn.get("monthAbbr"),it=Dn.get("dayOfWeek"),vn=Dn.get("dayOfWeekAbbr");return(Re||"").replace(/{yyyy}/g,Ve+"").replace(/{yy}/g,Ve%100+"").replace(/{Q}/g,et+"").replace(/{MMMM}/g,Yt[Fe-1]).replace(/{MMM}/g,sn[Fe-1]).replace(/{MM}/g,xe(Fe,2)).replace(/{M}/g,Fe+"").replace(/{dd}/g,xe(Ue,2)).replace(/{d}/g,Ue+"").replace(/{eeee}/g,it[xt]).replace(/{ee}/g,vn[xt]).replace(/{e}/g,xt+"").replace(/{HH}/g,xe(It,2)).replace(/{H}/g,It+"").replace(/{hh}/g,xe(Pt+"",2)).replace(/{h}/g,Pt+"").replace(/{mm}/g,xe(Wt,2)).replace(/{m}/g,Wt+"").replace(/{ss}/g,xe(Qt,2)).replace(/{s}/g,Qt+"").replace(/{SSS}/g,xe(gn,3)).replace(/{S}/g,gn+"")}function ne(me,Re,Le,Je,Oe){var Ve=null;if("string"==typeof Le)Ve=Le;else if("function"==typeof Le)Ve=Le(me.value,Re,{level:me.level});else{var Fe=m.extend({},H);if(me.level>0)for(var et=0;et<j.length;++et)Fe[j[et]]="{primary|"+Fe[j[et]]+"}";var Ue=Le?!1===Le.inherit?Le:m.defaults(Le,Fe):Fe,xt=de(me.value,Oe);if(Ue[xt])Ve=Ue[xt];else if(Ue.inherit){for(et=X.indexOf(xt)-1;et>=0;--et)if(Ue[xt]){Ve=Ue[xt];break}Ve=Ve||Fe.none}if(m.isArray(Ve)){var Pt=null==me.level?0:me.level>=0?me.level:Ve.length+me.level;Ve=Ve[Pt=Math.min(Pt,Ve.length-1)]}}return ie(new Date(me.value),Ve,Oe,Je)}function de(me,Re){var Le=R.sG(me),Je=Le[U(Re)]()+1,Oe=Le[W(Re)](),Ve=Le[L(Re)](),Fe=Le[D(Re)](),et=Le[A(Re)](),xt=0===Le[M(Re)](),It=xt&&0===et,Pt=It&&0===Fe,Wt=Pt&&0===Ve,Qt=Wt&&1===Oe;return Qt&&1===Je?"year":Qt?"month":Wt?"day":Pt?"hour":It?"minute":xt?"second":"millisecond"}function oe(me,Re,Le){var Je="number"==typeof me?R.sG(me):me;switch(Re=Re||de(me,Le)){case"year":return Je[Z(Le)]();case"half-year":return Je[U(Le)]()>=6?1:0;case"quarter":return Math.floor((Je[U(Le)]()+1)/4);case"month":return Je[U(Le)]();case"day":return Je[W(Le)]();case"half-day":return Je[L(Le)]()/24;case"hour":return Je[L(Le)]();case"minute":return Je[D(Le)]();case"second":return Je[A(Le)]();case"millisecond":return Je[M(Le)]()}}function Z(me){return me?"getUTCFullYear":"getFullYear"}function U(me){return me?"getUTCMonth":"getMonth"}function W(me){return me?"getUTCDate":"getDate"}function L(me){return me?"getUTCHours":"getHours"}function D(me){return me?"getUTCMinutes":"getMinutes"}function A(me){return me?"getUTCSeconds":"getSeconds"}function M(me){return me?"getUTCMilliseconds":"getMilliseconds"}function C(me){return me?"setUTCFullYear":"setFullYear"}function P(me){return me?"setUTCMonth":"setMonth"}function N(me){return me?"setUTCDate":"setDate"}function ee(me){return me?"setUTCHours":"setHours"}function ye(me){return me?"setUTCMinutes":"setMinutes"}function Te(me){return me?"setUTCSeconds":"setSeconds"}function he(me){return me?"setUTCMilliseconds":"setMilliseconds"}},616:(un,ot,E)=>{"use strict";E.d(ot,{f7:()=>R,cy:()=>k,XD:()=>Se,qb:()=>le,hL:()=>y,J5:()=>ce,RA:()=>q,fY:()=>K,Wc:()=>H});var R=(0,E(284).createHashMap)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),k="original",Se="arrayRows",le="objectRows",y="keyedColumns",ce="typedArray",q="unknown",K="column",H="row"},5306:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>fe});var m=E(284),R=E(7350),k=E(304),Se=E(1373),le=E(7911),y=E(5613),ce=E(8371),q=E(7521),K=le.Yf(),H=(0,q.Z)(),Y=function(){function re(){this.group=new R.Z,this.uid=k.Kr("viewChart"),this.renderTask=(0,ce.v)({plan:X,reset:xe}),this.renderTask.context={view:this}}return re.prototype.init=function(ie,ne){},re.prototype.render=function(ie,ne,de,oe){},re.prototype.highlight=function(ie,ne,de,oe){j(ie.getData(),oe,"emphasis")},re.prototype.downplay=function(ie,ne,de,oe){j(ie.getData(),oe,"normal")},re.prototype.remove=function(ie,ne){this.group.removeAll()},re.prototype.dispose=function(ie,ne){},re.prototype.updateView=function(ie,ne,de,oe){this.render(ie,ne,de,oe)},re.prototype.updateLayout=function(ie,ne,de,oe){this.render(ie,ne,de,oe)},re.prototype.updateVisual=function(ie,ne,de,oe){this.render(ie,ne,de,oe)},re.markUpdateMethod=function(ie,ne){K(ie).updateMethod=ne},re.protoInitialize=void(re.prototype.type="chart"),re}();function V(re,ie,ne){re&&("emphasis"===ie?y.fD:y.Mh)(re,ne)}function j(re,ie,ne){var de=le.gO(re,ie),oe=ie&&null!=ie.highlightKey?(0,y.RW)(ie.highlightKey):null;null!=de?(0,m.each)(le.kF(de),function(Z){V(re.getItemGraphicEl(Z),ne,oe)}):re.eachItemGraphicEl(function(Z){V(Z,ne,oe)})}function X(re){return H(re.model)}function xe(re){var ie=re.model,ne=re.ecModel,de=re.api,oe=re.payload,Z=ie.pipelineContext.progressiveRender,U=re.view,W=oe&&K(oe).updateMethod,L=Z?"incrementalPrepareRender":W&&U[W]?W:"render";return"render"!==L&&U[L](ie,ne,de,oe),Q[L]}Se.dm(Y,["dispose"]),Se.au(Y);var Q={incrementalPrepareRender:{progress:function(re,ie){ie.view.incrementalRender(re,ie.model,ie.ecModel,ie.api,ie.payload)}},render:{forceFirstProgress:!0,progress:function(re,ie){ie.view.render(ie.model,ie.ecModel,ie.api,ie.payload)}}};const fe=Y},5207:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>le});var m=E(7350),R=E(304),k=E(1373),Se=function(){function y(){this.group=new m.Z,this.uid=R.Kr("viewComponent")}return y.prototype.init=function(ce,q){},y.prototype.render=function(ce,q,K,H){},y.prototype.dispose=function(ce,q){},y.prototype.updateView=function(ce,q,K,H){},y.prototype.updateLayout=function(ce,q,K,H){},y.prototype.updateVisual=function(ce,q,K,H){},y.prototype.blurSeries=function(ce,q){},y}();k.dm(Se),k.au(Se);const le=Se},6041:(un,ot,E)=>{"use strict";function m(Se,le,y){switch(y){case"color":return Se.getItemVisual(le,"style")[Se.getVisual("drawType")];case"opacity":return Se.getItemVisual(le,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return Se.getItemVisual(le,y)}}function R(Se,le){switch(le){case"color":return Se.getVisual("style")[Se.getVisual("drawType")];case"opacity":return Se.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return Se.getVisual(le)}}function k(Se,le,y,ce){switch(y){case"color":Se.ensureUniqueItemVisual(le,"style")[Se.getVisual("drawType")]=ce,Se.setItemVisual(le,"colorFromPalette",!1);break;case"opacity":Se.ensureUniqueItemVisual(le,"style").opacity=ce;break;case"symbol":case"symbolSize":case"liftZ":Se.setItemVisual(le,y,ce)}}E.d(ot,{Or:()=>m,UL:()=>R,LZ:()=>k})},7590:function(un,ot,E){var R,k;R=[ot,E(7217)],void 0!==(k=function(Se,le){var K;if(le){var ce=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"];le.registerTheme("macarons",{color:ce,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:ce[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{color:"#008acd",borderColor:"#008acd"},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{color:"#d87a80",color0:"#2ec7c9"},lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"},areaStyle:{color:"#2ec7c9",color0:"#b6a2de"}},scatter:{symbol:"circle",symbolSize:4},map:{itemStyle:{color:"#ddd"},areaStyle:{color:"#fe994e"},label:{color:"#d87a80"}},graph:{itemStyle:{color:"#d87a80"},linkStyle:{color:"#2ec7c9"}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}})}else K="ECharts is not Loaded","undefined"!=typeof console&&console&&console.error&&console.error(K)}.apply(ot,R))&&(un.exports=k)},7407:(un,ot,E)=>{"use strict";E.d(ot,{Dg:()=>L,MO:()=>D,lt:()=>M});var m=E(4762),R=E(2355),k=E(8223),Se=E(3405),le=E(8805),y=E(8735),ce=E(1125),q=E(9987),K=E(3398),H=E(2325),Y=E(6019),V=E(5142),j=E(2018),X=E(7585),xe=E(8772),Q=E(3668);function fe(C,P){if(1&C){const N=Q.EpF();Q.TgZ(0,"nz-breadcrumb-item"),Q.TgZ(1,"a",2),Q.NdJ("click",function(ye){const he=Q.CHM(N).$implicit;return Q.oxw(2).navigate(he.url,ye)}),Q._uU(2),Q.qZA(),Q.qZA()}if(2&C){const N=P.$implicit;Q.xp6(1),Q.uIk("href",N.url,Q.LSH),Q.xp6(1),Q.Oqu(N.label)}}function re(C,P){if(1&C&&(Q.ynx(0),Q.YNc(1,fe,3,2,"nz-breadcrumb-item",1),Q.BQk()),2&C){const N=Q.oxw();Q.xp6(1),Q.Q6J("ngForOf",N.breadcrumbs)}}const ie=["*"];function ne(C,P){}function de(C,P){1&C&&Q._UZ(0,"i",6)}function oe(C,P){if(1&C&&(Q.ynx(0),Q.TgZ(1,"span",3),Q.YNc(2,ne,0,0,"ng-template",4),Q.YNc(3,de,1,0,"i",5),Q.qZA(),Q.BQk()),2&C){const N=Q.oxw(),ee=Q.MAs(2);Q.xp6(1),Q.Q6J("nzDropdownMenu",N.nzOverlay),Q.xp6(1),Q.Q6J("ngTemplateOutlet",ee),Q.xp6(1),Q.Q6J("ngIf",!!N.nzOverlay)}}function Z(C,P){1&C&&(Q.TgZ(0,"span",7),Q.Hsn(1),Q.qZA())}function U(C,P){if(1&C&&(Q.ynx(0),Q._uU(1),Q.BQk()),2&C){const N=Q.oxw(2);Q.xp6(1),Q.hij(" ",N.nzBreadCrumbComponent.nzSeparator," ")}}function W(C,P){if(1&C&&(Q.TgZ(0,"span",8),Q.YNc(1,U,2,1,"ng-container",9),Q.qZA()),2&C){const N=Q.oxw();Q.xp6(1),Q.Q6J("nzStringTemplateOutlet",N.nzBreadCrumbComponent.nzSeparator)}}let L=(()=>{class C{constructor(N,ee,ye,Te,he){this.injector=N,this.cdr=ee,this.elementRef=ye,this.renderer=Te,this.directionality=he,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=me=>me,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new Se.xQ,Te.addClass(ye.nativeElement,"ant-breadcrumb")}ngOnInit(){var N;this.nzAutoGenerate&&this.registerRouterChange(),null===(N=this.directionality.change)||void 0===N||N.pipe((0,le.R)(this.destroy$)).subscribe(ee=>{this.dir=ee,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(N,ee){ee.preventDefault(),this.injector.get(k.F0).navigateByUrl(N)}registerRouterChange(){try{const N=this.injector.get(k.F0),ee=this.injector.get(k.gz);N.events.pipe((0,y.h)(ye=>ye instanceof k.m2),(0,le.R)(this.destroy$),(0,ce.O)(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(ee.root),this.cdr.markForCheck()})}catch(N){throw new Error(`${q.Bq} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(N,ee="",ye=[]){const Te=N.children;if(0===Te.length)return ye;for(const he of Te)if(he.outlet===k.eC){const me=he.snapshot.url.map(Je=>Je.path).filter(Je=>Je).join("/"),Re=me?`${ee}/${me}`:ee,Le=this.nzRouteLabelFn(he.snapshot.data[this.nzRouteLabel]);return me&&Le&&ye.push({label:Le,params:he.snapshot.params,url:Re}),this.getBreadcrumbs(he,Re,ye)}return ye}prepareComponentForRtl(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}}return C.\u0275fac=function(N){return new(N||C)(Q.Y36(Q.zs3),Q.Y36(Q.sBO),Q.Y36(Q.SBq),Q.Y36(Q.Qsj),Q.Y36(R.Is,8))},C.\u0275cmp=Q.Xpm({type:C,selectors:[["nz-breadcrumb"]],inputs:{nzAutoGenerate:"nzAutoGenerate",nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn"},exportAs:["nzBreadcrumb"],ngContentSelectors:ie,decls:2,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(N,ee){1&N&&(Q.F$t(),Q.Hsn(0),Q.YNc(1,re,2,1,"ng-container",0)),2&N&&(Q.xp6(1),Q.Q6J("ngIf",ee.nzAutoGenerate&&ee.breadcrumbs.length))},directives:function(){return[Y.O5,Y.sg,D]},encapsulation:2,changeDetection:0}),(0,m.gn)([(0,K.yF)()],C.prototype,"nzAutoGenerate",void 0),C})(),D=(()=>{class C{constructor(N){this.nzBreadCrumbComponent=N}}return C.\u0275fac=function(N){return new(N||C)(Q.Y36(L))},C.\u0275cmp=Q.Xpm({type:C,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:ie,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["noMenuTpl",""],["class","ant-breadcrumb-separator",4,"ngIf"],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","down"],[1,"ant-breadcrumb-link"],[1,"ant-breadcrumb-separator"],[4,"nzStringTemplateOutlet"]],template:function(N,ee){if(1&N&&(Q.F$t(),Q.YNc(0,oe,4,3,"ng-container",0),Q.YNc(1,Z,2,0,"ng-template",null,1,Q.W1O),Q.YNc(3,W,2,1,"span",2)),2&N){const ye=Q.MAs(2);Q.Q6J("ngIf",!!ee.nzOverlay)("ngIfElse",ye),Q.xp6(3),Q.Q6J("ngIf",ee.nzBreadCrumbComponent.nzSeparator)}},directives:[Y.O5,X.cm,Y.tP,xe.Ls,V.f],encapsulation:2,changeDetection:0}),C})(),M=(()=>{class C{}return C.\u0275fac=function(N){return new(N||C)},C.\u0275mod=Q.oAB({type:C}),C.\u0275inj=Q.cJS({imports:[[Y.ez,V.T,H.U8,j.e4,X.b1,xe.PV],R.vT]}),C})()},6091:(un,ot,E)=>{"use strict";E.d(ot,{ix:()=>ie,fY:()=>ne,sL:()=>de});var m=E(4762),R=E(2355),k=E(3668),Se=E(3405),le=E(6087),y=E(8805),ce=E(1125),q=E(8735),K=E(7867),H=E(3398),Y=E(8772),V=E(6019),j=E(4090),X=E(4827);const xe=["nz-button",""];function Q(oe,Z){1&oe&&k._UZ(0,"i",1)}const fe=["*"];let ie=(()=>{class oe{constructor(U,W,L,D,A,M){this.ngZone=U,this.elementRef=W,this.cdr=L,this.renderer=D,this.nzConfigService=A,this.directionality=M,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new Se.xQ,this.loading$=new Se.xQ,this.elementRef.nativeElement.classList.add("ant-btn"),this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,y.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(U,W){U.forEach(L=>{if("#text"===L.nodeName){const D=W.createElement("span"),A=W.parentNode(L);W.insertBefore(A,D,L),W.appendChild(D,L)}})}assertIconOnly(U,W){const L=Array.from(U.childNodes),D=L.filter(P=>"I"===P.nodeName).length,A=L.every(P=>"#text"!==P.nodeName);L.every(P=>"SPAN"!==P.nodeName)&&A&&D>=1&&W.addClass(U,"ant-btn-icon-only")}ngOnInit(){var U;null===(U=this.directionality.change)||void 0===U||U.pipe((0,y.R)(this.destroy$)).subscribe(W=>{this.dir=W,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,le.R)(this.elementRef.nativeElement,"click").pipe((0,y.R)(this.destroy$)).subscribe(W=>{var L;this.disabled&&"A"===(null===(L=W.target)||void 0===L?void 0:L.tagName)&&(W.preventDefault(),W.stopImmediatePropagation())})})}ngOnChanges(U){const{nzLoading:W}=U;W&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,ce.O)(this.nzLoading),(0,q.h)(()=>!!this.nzIconDirectiveElement),(0,y.R)(this.destroy$)).subscribe(U=>{const W=this.nzIconDirectiveElement.nativeElement;U?this.renderer.setStyle(W,"display","none"):this.renderer.removeStyle(W,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return oe.\u0275fac=function(U){return new(U||oe)(k.Y36(k.R0b),k.Y36(k.SBq),k.Y36(k.sBO),k.Y36(k.Qsj),k.Y36(K.jY),k.Y36(R.Is,8))},oe.\u0275cmp=k.Xpm({type:oe,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(U,W,L){if(1&U&&k.Suo(L,Y.Ls,5,k.SBq),2&U){let D;k.iGM(D=k.CRH())&&(W.nzIconDirectiveElement=D.first)}},hostVars:30,hostBindings:function(U,W){2&U&&(k.uIk("tabindex",W.disabled?-1:null===W.tabIndex?null:W.tabIndex)("disabled",W.disabled||null),k.ekj("ant-btn-primary","primary"===W.nzType)("ant-btn-dashed","dashed"===W.nzType)("ant-btn-link","link"===W.nzType)("ant-btn-text","text"===W.nzType)("ant-btn-circle","circle"===W.nzShape)("ant-btn-round","round"===W.nzShape)("ant-btn-lg","large"===W.nzSize)("ant-btn-sm","small"===W.nzSize)("ant-btn-dangerous",W.nzDanger)("ant-btn-loading",W.nzLoading)("ant-btn-background-ghost",W.nzGhost)("ant-btn-block",W.nzBlock)("ant-input-search-button",W.nzSearch)("ant-btn-rtl","rtl"===W.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[k.TTD],attrs:xe,ngContentSelectors:fe,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(U,W){1&U&&(k.F$t(),k.YNc(0,Q,1,0,"i",0),k.Hsn(1)),2&U&&k.Q6J("ngIf",W.nzLoading)},directives:[V.O5,Y.Ls,j.w],encapsulation:2,changeDetection:0}),(0,m.gn)([(0,H.yF)()],oe.prototype,"nzBlock",void 0),(0,m.gn)([(0,H.yF)()],oe.prototype,"nzGhost",void 0),(0,m.gn)([(0,H.yF)()],oe.prototype,"nzSearch",void 0),(0,m.gn)([(0,H.yF)()],oe.prototype,"nzLoading",void 0),(0,m.gn)([(0,H.yF)()],oe.prototype,"nzDanger",void 0),(0,m.gn)([(0,H.yF)()],oe.prototype,"disabled",void 0),(0,m.gn)([(0,K.oS)()],oe.prototype,"nzSize",void 0),oe})(),ne=(()=>{class oe{constructor(U,W){this.elementRef=U,this.directionality=W,this.nzSize="default",this.dir="ltr",this.destroy$=new Se.xQ,this.elementRef.nativeElement.classList.add("ant-btn-group")}ngOnInit(){var U;this.dir=this.directionality.value,null===(U=this.directionality.change)||void 0===U||U.pipe((0,y.R)(this.destroy$)).subscribe(W=>{this.dir=W})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return oe.\u0275fac=function(U){return new(U||oe)(k.Y36(k.SBq),k.Y36(R.Is,8))},oe.\u0275cmp=k.Xpm({type:oe,selectors:[["nz-button-group"]],hostVars:6,hostBindings:function(U,W){2&U&&k.ekj("ant-btn-group-lg","large"===W.nzSize)("ant-btn-group-sm","small"===W.nzSize)("ant-btn-group-rtl","rtl"===W.dir)},inputs:{nzSize:"nzSize"},exportAs:["nzButtonGroup"],ngContentSelectors:fe,decls:1,vars:0,template:function(U,W){1&U&&(k.F$t(),k.Hsn(0))},encapsulation:2,changeDetection:0}),oe})(),de=(()=>{class oe{}return oe.\u0275fac=function(U){return new(U||oe)},oe.\u0275mod=k.oAB({type:oe}),oe.\u0275inj=k.cJS({imports:[[R.vT,V.ez,X.vG,Y.PV,j.a],j.a,X.vG]}),oe})()},6447:(un,ot,E)=>{"use strict";E.d(ot,{D3:()=>q});var m=E(3668),Se=(E(4762),E(3398),E(5139)),le=E(5548),y=E(3405);let ce=(()=>{class Y{create(j){return"undefined"==typeof ResizeObserver?null:new ResizeObserver(j)}}return Y.\u0275fac=function(j){return new(j||Y)},Y.\u0275prov=m.Yz7({factory:function(){return new Y},token:Y,providedIn:"root"}),Y})(),q=(()=>{class Y{constructor(j){this.nzResizeObserverFactory=j,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((j,X)=>this.cleanupObserver(X))}observe(j){const X=(0,Se.fI)(j);return new le.y(xe=>{const fe=this.observeElement(X).subscribe(xe);return()=>{fe.unsubscribe(),this.unobserveElement(X)}})}observeElement(j){if(this.observedElements.has(j))this.observedElements.get(j).count++;else{const X=new y.xQ,xe=this.nzResizeObserverFactory.create(Q=>X.next(Q));xe&&xe.observe(j),this.observedElements.set(j,{observer:xe,stream:X,count:1})}return this.observedElements.get(j).stream}unobserveElement(j){this.observedElements.has(j)&&(this.observedElements.get(j).count--,this.observedElements.get(j).count||this.cleanupObserver(j))}cleanupObserver(j){if(this.observedElements.has(j)){const{observer:X,stream:xe}=this.observedElements.get(j);X&&X.disconnect(),xe.complete(),this.observedElements.delete(j)}}}return Y.\u0275fac=function(j){return new(j||Y)(m.LFG(ce))},Y.\u0275prov=m.Yz7({factory:function(){return new Y(m.LFG(ce))},token:Y,providedIn:"root"}),Y})()},2077:(un,ot,E)=>{"use strict";E.d(ot,{J_:()=>Se,YK:()=>q,mF:()=>V,$C:()=>X});var m=E(9814);let R=(()=>{class Q{}return Q.SLOW="0.3s",Q.BASE="0.2s",Q.FAST="0.1s",Q})(),k=(()=>{class Q{}return Q.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",Q.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",Q.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",Q.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",Q.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",Q.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",Q.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",Q.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",Q.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",Q.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",Q.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",Q.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",Q.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",Q.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",Q})();const Se=(0,m.X$)("collapseMotion",[(0,m.SB)("expanded",(0,m.oB)({height:"*"})),(0,m.SB)("collapsed",(0,m.oB)({height:0,overflow:"hidden"})),(0,m.SB)("hidden",(0,m.oB)({height:0,overflow:"hidden",borderTopWidth:"0"})),(0,m.eR)("expanded => collapsed",(0,m.jt)(`150ms ${k.EASE_IN_OUT}`)),(0,m.eR)("expanded => hidden",(0,m.jt)(`150ms ${k.EASE_IN_OUT}`)),(0,m.eR)("collapsed => expanded",(0,m.jt)(`150ms ${k.EASE_IN_OUT}`)),(0,m.eR)("hidden => expanded",(0,m.jt)(`150ms ${k.EASE_IN_OUT}`))]),q=((0,m.X$)("treeCollapseMotion",[(0,m.eR)("* => *",[(0,m.IO)("nz-tree-node:leave,nz-tree-builtin-node:leave",[(0,m.oB)({overflow:"hidden"}),(0,m.EY)(0,[(0,m.jt)(`150ms ${k.EASE_IN_OUT}`,(0,m.oB)({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),(0,m.IO)("nz-tree-node:enter,nz-tree-builtin-node:enter",[(0,m.oB)({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),(0,m.EY)(0,[(0,m.jt)(`150ms ${k.EASE_IN_OUT}`,(0,m.oB)({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),(0,m.X$)("fadeMotion",[(0,m.eR)(":enter",[(0,m.oB)({opacity:0}),(0,m.jt)(`${R.BASE}`,(0,m.oB)({opacity:1}))]),(0,m.eR)(":leave",[(0,m.oB)({opacity:1}),(0,m.jt)(`${R.BASE}`,(0,m.oB)({opacity:0}))])]),(0,m.X$)("helpMotion",[(0,m.eR)(":enter",[(0,m.oB)({opacity:0,transform:"translateY(-5px)"}),(0,m.jt)(`${R.SLOW} ${k.EASE_IN_OUT}`,(0,m.oB)({opacity:1,transform:"translateY(0)"}))]),(0,m.eR)(":leave",[(0,m.oB)({opacity:1,transform:"translateY(0)"}),(0,m.jt)(`${R.SLOW} ${k.EASE_IN_OUT}`,(0,m.oB)({opacity:0,transform:"translateY(-5px)"}))])]),(0,m.X$)("moveUpMotion",[(0,m.eR)("* => enter",[(0,m.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),(0,m.jt)(`${R.BASE}`,(0,m.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),(0,m.eR)("* => leave",[(0,m.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),(0,m.jt)(`${R.BASE}`,(0,m.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])])),H=((0,m.X$)("notificationMotion",[(0,m.SB)("enterRight",(0,m.oB)({opacity:1,transform:"translateX(0)"})),(0,m.eR)("* => enterRight",[(0,m.oB)({opacity:0,transform:"translateX(5%)"}),(0,m.jt)("100ms linear")]),(0,m.SB)("enterLeft",(0,m.oB)({opacity:1,transform:"translateX(0)"})),(0,m.eR)("* => enterLeft",[(0,m.oB)({opacity:0,transform:"translateX(-5%)"}),(0,m.jt)("100ms linear")]),(0,m.SB)("leave",(0,m.oB)({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),(0,m.eR)("* => leave",[(0,m.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,m.jt)("100ms linear")])]),`${R.BASE} ${k.EASE_OUT_QUINT}`),Y=`${R.BASE} ${k.EASE_IN_QUINT}`,V=(0,m.X$)("slideMotion",[(0,m.SB)("void",(0,m.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,m.SB)("enter",(0,m.oB)({opacity:1,transform:"scaleY(1)"})),(0,m.eR)("void => *",[(0,m.jt)(H)]),(0,m.eR)("* => void",[(0,m.jt)(Y)])]),X=((0,m.X$)("slideAlertMotion",[(0,m.eR)(":leave",[(0,m.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,m.jt)(`${R.SLOW} ${k.EASE_IN_OUT_CIRC}`,(0,m.oB)({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),(0,m.X$)("zoomBigMotion",[(0,m.eR)("void => active",[(0,m.oB)({opacity:0,transform:"scale(0.8)"}),(0,m.jt)(`${R.BASE} ${k.EASE_OUT_CIRC}`,(0,m.oB)({opacity:1,transform:"scale(1)"}))]),(0,m.eR)("active => void",[(0,m.oB)({opacity:1,transform:"scale(1)"}),(0,m.jt)(`${R.BASE} ${k.EASE_IN_OUT_CIRC}`,(0,m.oB)({opacity:0,transform:"scale(0.8)"}))])]));(0,m.X$)("zoomBadgeMotion",[(0,m.eR)(":enter",[(0,m.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}),(0,m.jt)(`${R.SLOW} ${k.EASE_OUT_BACK}`,(0,m.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),(0,m.eR)(":leave",[(0,m.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}),(0,m.jt)(`${R.SLOW} ${k.EASE_IN_BACK}`,(0,m.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])])},7867:(un,ot,E)=>{"use strict";E.d(ot,{jY:()=>q,oS:()=>K});var m=E(3668),R=E(3405),k=E(8735),Se=E(4120);const le=new m.OlP("nz-config"),y=function(H){return void 0!==H};let q=(()=>{class H{constructor(V){this.configUpdated$=new R.xQ,this.config=V||{}}getConfig(){return this.config}getConfigForComponent(V){return this.config[V]}getConfigChangeEventForComponent(V){return this.configUpdated$.pipe((0,k.h)(j=>j===V),(0,Se.h)(void 0))}set(V,j){this.config[V]=Object.assign(Object.assign({},this.config[V]),j),this.configUpdated$.next(V)}}return H.\u0275fac=function(V){return new(V||H)(m.LFG(le,8))},H.\u0275prov=m.Yz7({factory:function(){return new H(m.LFG(le,8))},token:H,providedIn:"root"}),H})();function K(){return function(Y,V,j){const X=`$$__zorroConfigDecorator__${V}`;return Object.defineProperty(Y,X,{configurable:!0,writable:!0,enumerable:!1}),{get(){var xe,Q;const fe=(null==j?void 0:j.get)?j.get.bind(this)():this[X],re=((null===(xe=this.propertyAssignCounter)||void 0===xe?void 0:xe[V])||0)>1,ie=null===(Q=this.nzConfigService.getConfigForComponent(this._nzModuleName))||void 0===Q?void 0:Q[V];return re&&y(fe)?fe:y(ie)?ie:fe},set(xe){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[V]=(this.propertyAssignCounter[V]||0)+1,(null==j?void 0:j.set)?j.set.bind(this)(xe):this[X]=xe},configurable:!0,enumerable:!0}}}},9359:(un,ot,E)=>{"use strict";E.d(ot,{N:()=>m});const m={isTestMode:!1}},9987:(un,ot,E)=>{"use strict";E.d(ot,{Bq:()=>Se,ZK:()=>ce,iX:()=>q});var m=E(3668),R=E(9359);const k={},Se="[NG-ZORRO]:";function y(H,...Y){(R.N.isTestMode||(0,m.X6Q)()&&function(...H){const Y=H.reduce((V,j)=>V+j.toString(),"");return!k[Y]&&(k[Y]=!0,!0)}(...Y))&&H(...Y)}const ce=(...H)=>y((...Y)=>console.warn(Se,...Y),...H),q=(...H)=>{if(R.N.isTestMode)return()=>{};{const Y=(new Error).stack;return y((...V)=>console.warn(Se,"deprecated:",...V,Y),...H)}}},4847:(un,ot,E)=>{"use strict";E.d(ot,{P:()=>q,g:()=>K});var m=E(6019),R=E(4762),k=E(5139),Se=E(9555),le=E(3398),y=E(3668);const ce="nz-animate-disabled";let q=(()=>{class H{constructor(V,j,X){this.element=V,this.renderer=j,this.animationType=X,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const V=(0,k.fI)(this.element);!V||(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(V,ce):this.renderer.removeClass(V,ce))}}return H.\u0275fac=function(V){return new(V||H)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(Se.Qb,8))},H.\u0275dir=y.lG2({type:H,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[y.TTD]}),(0,R.gn)([(0,le.yF)()],H.prototype,"nzNoAnimation",void 0),H})(),K=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=y.oAB({type:H}),H.\u0275inj=y.cJS({imports:[[m.ez]]}),H})()},5142:(un,ot,E)=>{"use strict";E.d(ot,{T:()=>le,f:()=>k});var m=E(6019),R=E(3668);let k=(()=>{class y{constructor(q,K){this.viewContainer=q,this.templateRef=K,this.embeddedViewRef=null,this.context=new Se,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(q,K){return!0}recreateView(){this.viewContainer.clear();const q=this.nzStringTemplateOutlet instanceof R.Rgc;this.embeddedViewRef=this.viewContainer.createEmbeddedView(q?this.nzStringTemplateOutlet:this.templateRef,q?this.nzStringTemplateOutletContext:this.context)}updateContext(){const K=this.nzStringTemplateOutlet instanceof R.Rgc?this.nzStringTemplateOutletContext:this.context,H=this.embeddedViewRef.context;if(K)for(const Y of Object.keys(K))H[Y]=K[Y]}ngOnChanges(q){const{nzStringTemplateOutletContext:K,nzStringTemplateOutlet:H}=q;H&&(this.context.$implicit=H.currentValue),(()=>{let j=!1;if(H)if(H.firstChange)j=!0;else{const fe=H.currentValue instanceof R.Rgc;j=H.previousValue instanceof R.Rgc||fe}return K&&(Q=>{const fe=Object.keys(Q.previousValue||{}),re=Object.keys(Q.currentValue||{});if(fe.length===re.length){for(const ie of re)if(-1===fe.indexOf(ie))return!0;return!1}return!0})(K)||j})()?this.recreateView():this.updateContext()}}return y.\u0275fac=function(q){return new(q||y)(R.Y36(R.s_b),R.Y36(R.Rgc))},y.\u0275dir=R.lG2({type:y,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[R.TTD]}),y})();class Se{}let le=(()=>{class y{}return y.\u0275fac=function(q){return new(q||y)},y.\u0275mod=R.oAB({type:y}),y.\u0275inj=R.cJS({imports:[[m.ez]]}),y})()},2018:(un,ot,E)=>{"use strict";E.d(ot,{e4:()=>Se,yW:()=>le,d_:()=>H});var m=E(2325),R=E(3668);let Se=(()=>{class Y{}return Y.\u0275fac=function(j){return new(j||Y)},Y.\u0275mod=R.oAB({type:Y}),Y.\u0275inj=R.cJS({}),Y})();const le={top:new m.tR({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new m.tR({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new m.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new m.tR({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new m.tR({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new m.tR({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new m.tR({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new m.tR({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new m.tR({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new m.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new m.tR({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new m.tR({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new m.tR({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new m.tR({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})};function H(Y){for(const V in le)if(Y.connectionPair.originX===le[V].originX&&Y.connectionPair.originY===le[V].originY&&Y.connectionPair.overlayX===le[V].overlayX&&Y.connectionPair.overlayY===le[V].overlayY)return V}new m.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new m.tR({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new m.tR({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"})},8302:(un,ot,E)=>{"use strict";E.d(ot,{r3:()=>oe,KV:()=>X,WV:()=>ne,ow:()=>de});var m=E(3668),R=E(3405),k=E(1506),Se=E(6658),le=E(8053),y=E(1125),ce=E(5389),q=E(9359),K=E(3648);const H=()=>{};let V=(()=>{class W{constructor(D,A){this.ngZone=D,this.rendererFactory2=A,this.resizeSource$=new R.xQ,this.listeners=0,this.disposeHandle=H,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=H}subscribe(){return this.registerListener(),this.resizeSource$.pipe((0,k.e)(16),(0,Se.x)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=H)}}return W.\u0275fac=function(D){return new(D||W)(m.LFG(m.R0b),m.LFG(m.FYo))},W.\u0275prov=m.Yz7({factory:function(){return new W(m.LFG(m.R0b),m.LFG(m.FYo))},token:W,providedIn:"root"}),W})();const j=new Map;let X=(()=>{class W{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return q.N.isTestMode?j:this._singletonRegistry}registerSingletonWithKey(D,A){const M=this.singletonRegistry.has(D),C=M?this.singletonRegistry.get(D):this.withNewTarget(A);M||this.singletonRegistry.set(D,C)}getSingletonWithKey(D){return this.singletonRegistry.has(D)?this.singletonRegistry.get(D).target:null}withNewTarget(D){return{target:D}}}return W.\u0275fac=function(D){return new(D||W)},W.\u0275prov=m.Yz7({factory:function(){return new W},token:W,providedIn:"root"}),W})();var ie=(()=>{return(W=ie||(ie={})).xxl="xxl",W.xl="xl",W.lg="lg",W.md="md",W.sm="sm",W.xs="xs",ie;var W})();const ne={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},de={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"};let oe=(()=>{class W{constructor(D,A){this.resizeService=D,this.mediaMatcher=A,this.resizeService.subscribe().subscribe(()=>{})}subscribe(D,A){if(A){const M=()=>this.matchMedia(D,!0);return this.resizeService.subscribe().pipe((0,le.U)(M),(0,y.O)(M()),(0,ce.x)((C,P)=>C[0]===P[0]),(0,le.U)(C=>C[1]))}{const M=()=>this.matchMedia(D);return this.resizeService.subscribe().pipe((0,le.U)(M),(0,y.O)(M()),(0,ce.x)())}}matchMedia(D,A){let M=ie.md;const C={};return Object.keys(D).map(P=>{const N=P,ee=this.mediaMatcher.matchMedia(ne[N]).matches;C[P]=ee,ee&&(M=N)}),A?[M,C]:M}}return W.\u0275fac=function(D){return new(D||W)(m.LFG(V),m.LFG(K.vx))},W.\u0275prov=m.Yz7({factory:function(){return new W(m.LFG(V),m.LFG(K.vx))},token:W,providedIn:"root"}),W})()},4090:(un,ot,E)=>{"use strict";E.d(ot,{w:()=>k,a:()=>Se});var m=E(1069),R=E(3668);let k=(()=>{class le{constructor(ce,q){this.elementRef=ce,this.renderer=q,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return le.\u0275fac=function(ce){return new(ce||le)(R.Y36(R.SBq),R.Y36(R.Qsj))},le.\u0275dir=R.lG2({type:le,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[R.TTD]}),le})(),Se=(()=>{class le{}return le.\u0275fac=function(ce){return new(ce||le)},le.\u0275mod=R.oAB({type:le}),le.\u0275inj=R.cJS({imports:[[m.ud]]}),le})()},3398:(un,ot,E)=>{"use strict";E.d(ot,{yF:()=>de,ov:()=>cn,DX:()=>Y,WX:()=>re,lN:()=>ct});var m=E(5139),R=E(9987),k=E(3405),Se=E(7214),le=E(1915),y=E(2411),ce=E(6636);function Y(tt){return null!=tt}function Q(tt){return(0,m.Ig)(tt)}function re(tt){return(0,m.HM)(tt)}function de(){return tt="InputBoolean",_t=Q,function(Ft,ft,Ye){const Ke=`$$__zorroPropDecorator__${ft}`;return Object.prototype.hasOwnProperty.call(Ft,Ke)&&(0,R.ZK)(`The prop "${Ke}" is already exist, it will be overrided by ${tt} decorator.`),Object.defineProperty(Ft,Ke,{configurable:!0,writable:!0}),{get(){return Ye&&Ye.get?Ye.get.bind(this)():this[Ke]},set(we){Ye&&Ye.set&&Ye.set.bind(this)(_t(we)),this[Ke]=_t(we)}}};var tt,_t}function cn(){const tt=new k.xQ;return Promise.resolve().then(()=>tt.next()),tt.pipe((0,ce.q)(1))}function ct(tt){return(0,Se.b)(tt)?tt:function(tt){return!!tt&&"function"==typeof tt.then&&"function"==typeof tt.catch}(tt)?(0,le.D)(Promise.resolve(tt)):(0,y.of)(tt)}"undefined"!=typeof window&&window},4827:(un,ot,E)=>{"use strict";E.d(ot,{dQ:()=>q,vG:()=>K});var m=E(1069),R=E(3668),k=E(9555);class Se{constructor(Y,V,j,X){this.triggerElement=Y,this.ngZone=V,this.insertExtraNode=j,this.platformId=X,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=xe=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===xe.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new m.t4(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const Y=this.triggerElement,V=this.getWaveColor(Y);Y.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(V)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${V};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",Y.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{Y.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(Y){return!!Y&&"#ffffff"!==Y&&"rgb(255, 255, 255)"!==Y&&this.isNotGrey(Y)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(Y)&&"transparent"!==Y}isNotGrey(Y){const V=Y.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(V&&V[1]&&V[2]&&V[3]&&V[1]===V[2]&&V[2]===V[3])}getWaveColor(Y){const V=getComputedStyle(Y);return V.getPropertyValue("border-top-color")||V.getPropertyValue("border-color")||V.getPropertyValue("background-color")}runTimeoutOutsideZone(Y,V){this.ngZone.runOutsideAngular(()=>setTimeout(Y,V))}}const le={disabled:!1},y=new R.OlP("nz-wave-global-options",{providedIn:"root",factory:function(){return le}});let q=(()=>{class H{constructor(V,j,X,xe,Q){this.ngZone=V,this.elementRef=j,this.config=X,this.animationType=xe,this.platformId=Q,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let V=!1;return this.config&&"boolean"==typeof this.config.disabled&&(V=this.config.disabled),"NoopAnimations"===this.animationType&&(V=!0),V}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new Se(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return H.\u0275fac=function(V){return new(V||H)(R.Y36(R.R0b),R.Y36(R.SBq),R.Y36(y,8),R.Y36(k.Qb,8),R.Y36(R.Lbi))},H.\u0275dir=R.lG2({type:H,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),H})(),K=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=R.oAB({type:H}),H.\u0275inj=R.cJS({imports:[[m.ud]]}),H})()},2660:(un,ot,E)=>{"use strict";E.d(ot,{g:()=>K,S:()=>H});var m=E(4762),R=E(3398),k=E(2355),Se=E(6019),le=E(5142),y=E(3668);function ce(Y,V){if(1&Y&&(y.ynx(0),y._uU(1),y.BQk()),2&Y){const j=y.oxw(2);y.xp6(1),y.Oqu(j.nzText)}}function q(Y,V){if(1&Y&&(y.TgZ(0,"span",1),y.YNc(1,ce,2,1,"ng-container",2),y.qZA()),2&Y){const j=y.oxw();y.xp6(1),y.Q6J("nzStringTemplateOutlet",j.nzText)}}let K=(()=>{class Y{constructor(j){this.elementRef=j,this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1,this.elementRef.nativeElement.classList.add("ant-divider")}}return Y.\u0275fac=function(j){return new(j||Y)(y.Y36(y.SBq))},Y.\u0275cmp=y.Xpm({type:Y,selectors:[["nz-divider"]],hostVars:16,hostBindings:function(j,X){2&j&&y.ekj("ant-divider-horizontal","horizontal"===X.nzType)("ant-divider-vertical","vertical"===X.nzType)("ant-divider-with-text",X.nzText)("ant-divider-plain",X.nzPlain)("ant-divider-with-text-left",X.nzText&&"left"===X.nzOrientation)("ant-divider-with-text-right",X.nzText&&"right"===X.nzOrientation)("ant-divider-with-text-center",X.nzText&&"center"===X.nzOrientation)("ant-divider-dashed",X.nzDashed)},inputs:{nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain",nzText:"nzText"},exportAs:["nzDivider"],decls:1,vars:1,consts:[["class","ant-divider-inner-text",4,"ngIf"],[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(j,X){1&j&&y.YNc(0,q,2,1,"span",0),2&j&&y.Q6J("ngIf",X.nzText)},directives:[Se.O5,le.f],encapsulation:2,changeDetection:0}),(0,m.gn)([(0,R.yF)()],Y.prototype,"nzDashed",void 0),(0,m.gn)([(0,R.yF)()],Y.prototype,"nzPlain",void 0),Y})(),H=(()=>{class Y{}return Y.\u0275fac=function(j){return new(j||Y)},Y.\u0275mod=y.oAB({type:Y}),Y.\u0275inj=y.cJS({imports:[[k.vT,Se.ez,le.T]]}),Y})()},7585:(un,ot,E)=>{"use strict";E.d(ot,{cm:()=>Te,b1:()=>Je,RR:()=>Le});var m=E(4762),R=E(1865),k=E(2325),Se=E(1069),le=E(1957),y=E(3668),ce=E(3405),q=E(4099),K=E(8526),H=E(6087),Y=E(172),V=E(2668),j=E(4120),X=E(8053),xe=E(9204),Q=E(8735),fe=E(1506),re=E(5389),ie=E(8805),ne=E(9987),de=E(2018),oe=E(3398),Z=E(2355),U=E(6019),W=E(9010),L=E(6091),D=E(4847),A=E(5142),M=E(8772),C=E(4696),P=E(2077);function N(Fe,et){if(1&Fe){const Ue=y.EpF();y.TgZ(0,"div",0),y.NdJ("@slideMotion.done",function(It){return y.CHM(Ue),y.oxw().onAnimationEvent(It)})("mouseenter",function(){return y.CHM(Ue),y.oxw().setMouseState(!0)})("mouseleave",function(){return y.CHM(Ue),y.oxw().setMouseState(!1)}),y.Hsn(1),y.qZA()}if(2&Fe){const Ue=y.oxw();y.ekj("ant-dropdown-rtl","rtl"===Ue.dir),y.Q6J("ngClass",Ue.nzOverlayClassName)("ngStyle",Ue.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",null==Ue.noAnimation?null:Ue.noAnimation.nzNoAnimation)("nzNoAnimation",null==Ue.noAnimation?null:Ue.noAnimation.nzNoAnimation)}}const ee=["*"],ye=[de.yW.bottomLeft,de.yW.bottomRight,de.yW.topRight,de.yW.topLeft];let Te=(()=>{class Fe{constructor(Ue,xt,It,Pt,Wt){this.elementRef=Ue,this.overlay=xt,this.renderer=It,this.viewContainerRef=Pt,this.platform=Wt,this.overlayRef=null,this.destroy$=new ce.xQ,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new q.X(!1),this.nzTrigger$=new q.X("hover"),this.overlayClose$=new ce.xQ,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzHasBackdrop=!1,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new y.vpe,this.elementRef.nativeElement.classList.add("ant-dropdown-trigger")}setDropdownMenuValue(Ue,xt){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(Ue,xt)}ngAfterViewInit(){if(this.nzDropdownMenu){const Ue=this.elementRef.nativeElement,xt=(0,K.T)((0,H.R)(Ue,"mouseenter").pipe((0,j.h)(!0)),(0,H.R)(Ue,"mouseleave").pipe((0,j.h)(!1))),Pt=(0,K.T)(this.nzDropdownMenu.mouseState$,xt),Wt=(0,H.R)(Ue,"click").pipe((0,X.U)(()=>!this.nzVisible)),Qt=this.nzTrigger$.pipe((0,xe.w)(Yt=>"hover"===Yt?Pt:"click"===Yt?Wt:Y.E)),gn=this.nzDropdownMenu.descendantMenuItemClick$.pipe((0,Q.h)(()=>this.nzClickHide),(0,j.h)(!1)),In=(0,K.T)(Qt,gn,this.overlayClose$).pipe((0,Q.h)(()=>!this.nzDisabled)),Dn=(0,K.T)(this.inputVisible$,In);(0,V.aj)([Dn,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe((0,X.U)(([Yt,sn])=>Yt||sn),(0,fe.e)(150),(0,re.x)(),(0,Q.h)(()=>this.platform.isBrowser),(0,ie.R)(this.destroy$)).subscribe(Yt=>{const it=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:Ue).getBoundingClientRect().width;this.nzVisible!==Yt&&this.nzVisibleChange.emit(Yt),this.nzVisible=Yt,Yt?(this.overlayRef?this.overlayRef.getConfig().minWidth=it:(this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:it,disposeOnNavigation:!0,hasBackdrop:(this.nzHasBackdrop||this.nzBackdrop)&&"click"===this.nzTrigger,scrollStrategy:this.overlay.scrollStrategies.reposition()}),(0,K.T)(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe((0,Q.h)(vn=>!this.elementRef.nativeElement.contains(vn.target))),this.overlayRef.keydownEvents().pipe((0,Q.h)(vn=>vn.keyCode===R.hY&&!(0,R.Vb)(vn)))).pipe((0,ie.R)(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)})),this.positionStrategy.withPositions([de.yW[this.nzPlacement],...ye]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new le.UE(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)):this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe((0,ie.R)(this.destroy$)).subscribe(Yt=>{"void"===Yt.toState&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(Ue){const{nzVisible:xt,nzDisabled:It,nzOverlayClassName:Pt,nzOverlayStyle:Wt,nzTrigger:Qt,nzHasBackdrop:gn}=Ue;if(Qt&&this.nzTrigger$.next(this.nzTrigger),xt&&this.inputVisible$.next(this.nzVisible),It){const In=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(In,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(In,"disabled")}Pt&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),Wt&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle),gn&&(0,ne.iX)("`nzHasBackdrop` in dropdown component will be removed in 13.0.0, please use `nzBackdrop` instead.")}}return Fe.\u0275fac=function(Ue){return new(Ue||Fe)(y.Y36(y.SBq),y.Y36(k.aV),y.Y36(y.Qsj),y.Y36(y.s_b),y.Y36(Se.t4))},Fe.\u0275dir=y.lG2({type:Fe,selectors:[["","nz-dropdown",""]],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzHasBackdrop:"nzHasBackdrop",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[y.TTD]}),(0,m.gn)([(0,oe.yF)()],Fe.prototype,"nzHasBackdrop",void 0),(0,m.gn)([(0,oe.yF)()],Fe.prototype,"nzBackdrop",void 0),(0,m.gn)([(0,oe.yF)()],Fe.prototype,"nzClickHide",void 0),(0,m.gn)([(0,oe.yF)()],Fe.prototype,"nzDisabled",void 0),(0,m.gn)([(0,oe.yF)()],Fe.prototype,"nzVisible",void 0),Fe})(),he=(()=>{class Fe{}return Fe.\u0275fac=function(Ue){return new(Ue||Fe)},Fe.\u0275mod=y.oAB({type:Fe}),Fe.\u0275inj=y.cJS({}),Fe})(),Le=(()=>{class Fe{constructor(Ue,xt,It,Pt,Wt,Qt,gn){this.cdr=Ue,this.elementRef=xt,this.renderer=It,this.viewContainerRef=Pt,this.nzMenuService=Wt,this.directionality=Qt,this.noAnimation=gn,this.mouseState$=new q.X(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new y.vpe,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new ce.xQ}onAnimationEvent(Ue){this.animationStateChange$.emit(Ue)}setMouseState(Ue){this.mouseState$.next(Ue)}setValue(Ue,xt){this[Ue]=xt,this.cdr.markForCheck()}ngOnInit(){var Ue;null===(Ue=this.directionality.change)||void 0===Ue||Ue.pipe((0,ie.R)(this.destroy$)).subscribe(xt=>{this.dir=xt,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Fe.\u0275fac=function(Ue){return new(Ue||Fe)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.s_b),y.Y36(C.hl),y.Y36(Z.Is,8),y.Y36(D.P,9))},Fe.\u0275cmp=y.Xpm({type:Fe,selectors:[["nz-dropdown-menu"]],viewQuery:function(Ue,xt){if(1&Ue&&y.Gf(y.Rgc,7),2&Ue){let It;y.iGM(It=y.CRH())&&(xt.templateRef=It.first)}},exportAs:["nzDropdownMenu"],features:[y._Bn([C.hl,{provide:C.Cc,useValue:!0}])],ngContentSelectors:ee,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"ngClass","ngStyle","nzNoAnimation","mouseenter","mouseleave"]],template:function(Ue,xt){1&Ue&&(y.F$t(),y.YNc(0,N,2,7,"ng-template"))},directives:[U.mk,U.PC,D.P],encapsulation:2,data:{animation:[P.mF]},changeDetection:0}),Fe})(),Je=(()=>{class Fe{}return Fe.\u0275fac=function(Ue){return new(Ue||Fe)},Fe.\u0275mod=y.oAB({type:Fe}),Fe.\u0275inj=y.cJS({imports:[[Z.vT,U.ez,k.U8,W.u5,L.sL,C.ip,M.PV,D.g,Se.ud,de.e4,he,A.T],C.ip]}),Fe})();new k.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new k.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new k.tR({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new k.tR({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})},2585:(un,ot,E)=>{"use strict";E.d(ot,{t3:()=>V,Jb:()=>j,SK:()=>Y});var m=E(2355),R=E(3648),k=E(1069),Se=E(2919),le=E(3405),y=E(8805),ce=E(8302),q=E(3398),K=E(6019),H=E(3668);let Y=(()=>{class X{constructor(Q,fe,re,ie,ne,de,oe){this.elementRef=Q,this.renderer=fe,this.mediaMatcher=re,this.ngZone=ie,this.platform=ne,this.breakpointService=de,this.directionality=oe,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new Se.t(1),this.dir="ltr",this.destroy$=new le.xQ,this.elementRef.nativeElement.classList.add("ant-row")}getGutter(){const Q=[null,null],fe=this.nzGutter||0;return(Array.isArray(fe)?fe:[fe,null]).forEach((ie,ne)=>{"object"==typeof ie&&null!==ie?(Q[ne]=null,Object.keys(ce.WV).map(de=>{const oe=de;this.mediaMatcher.matchMedia(ce.WV[oe]).matches&&ie[oe]&&(Q[ne]=ie[oe])})):Q[ne]=Number(ie)||null}),Q}setGutterStyle(){const[Q,fe]=this.getGutter();this.actualGutter$.next([Q,fe]);const re=(ie,ne)=>{null!==ne&&this.renderer.setStyle(this.elementRef.nativeElement,ie,`-${ne/2}px`)};re("margin-left",Q),re("margin-right",Q),re("margin-top",fe),re("margin-bottom",fe)}ngOnInit(){var Q;this.dir=this.directionality.value,null===(Q=this.directionality.change)||void 0===Q||Q.pipe((0,y.R)(this.destroy$)).subscribe(fe=>{this.dir=fe}),this.setGutterStyle()}ngOnChanges(Q){Q.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(ce.WV).pipe((0,y.R)(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return X.\u0275fac=function(Q){return new(Q||X)(H.Y36(H.SBq),H.Y36(H.Qsj),H.Y36(R.vx),H.Y36(H.R0b),H.Y36(k.t4),H.Y36(ce.r3),H.Y36(m.Is,8))},X.\u0275dir=H.lG2({type:X,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostVars:18,hostBindings:function(Q,fe){2&Q&&H.ekj("ant-row-top","top"===fe.nzAlign)("ant-row-middle","middle"===fe.nzAlign)("ant-row-bottom","bottom"===fe.nzAlign)("ant-row-start","start"===fe.nzJustify)("ant-row-end","end"===fe.nzJustify)("ant-row-center","center"===fe.nzJustify)("ant-row-space-around","space-around"===fe.nzJustify)("ant-row-space-between","space-between"===fe.nzJustify)("ant-row-rtl","rtl"===fe.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[H.TTD]}),X})(),V=(()=>{class X{constructor(Q,fe,re,ie){this.elementRef=Q,this.nzRowDirective=fe,this.renderer=re,this.directionality=ie,this.classMap={},this.destroy$=new le.xQ,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}setHostClassMap(){const Q=Object.assign({"ant-col":!0,[`ant-col-${this.nzSpan}`]:(0,q.DX)(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:(0,q.DX)(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:(0,q.DX)(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:(0,q.DX)(this.nzPull),[`ant-col-push-${this.nzPush}`]:(0,q.DX)(this.nzPush),"ant-col-rtl":"rtl"===this.dir},this.generateClass());for(const fe in this.classMap)this.classMap.hasOwnProperty(fe)&&this.renderer.removeClass(this.elementRef.nativeElement,fe);this.classMap=Object.assign({},Q);for(const fe in this.classMap)this.classMap.hasOwnProperty(fe)&&this.classMap[fe]&&this.renderer.addClass(this.elementRef.nativeElement,fe)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(Q){return"number"==typeof Q?`${Q} ${Q} auto`:"string"==typeof Q&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(Q)?`0 0 ${Q}`:Q}generateClass(){const fe={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(re=>{const ie=re.replace("nz","").toLowerCase();if((0,q.DX)(this[re]))if("number"==typeof this[re]||"string"==typeof this[re])fe[`ant-col-${ie}-${this[re]}`]=!0;else{const ne=this[re];["span","pull","push","offset","order"].forEach(oe=>{fe[`ant-col-${ie}${"span"===oe?"-":`-${oe}-`}${ne[oe]}`]=ne&&(0,q.DX)(ne[oe])})}}),fe}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe((0,y.R)(this.destroy$)).subscribe(Q=>{this.dir=Q,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(Q){this.setHostClassMap();const{nzFlex:fe}=Q;fe&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe((0,y.R)(this.destroy$)).subscribe(([Q,fe])=>{const re=(ie,ne)=>{null!==ne&&this.renderer.setStyle(this.elementRef.nativeElement,ie,ne/2+"px")};re("padding-left",Q),re("padding-right",Q),re("padding-top",fe),re("padding-bottom",fe)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return X.\u0275fac=function(Q){return new(Q||X)(H.Y36(H.SBq),H.Y36(Y,9),H.Y36(H.Qsj),H.Y36(m.Is,8))},X.\u0275dir=H.lG2({type:X,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(Q,fe){2&Q&&H.Udp("flex",fe.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[H.TTD]}),X})(),j=(()=>{class X{}return X.\u0275fac=function(Q){return new(Q||X)},X.\u0275mod=H.oAB({type:X}),X.\u0275inj=H.cJS({imports:[[m.vT,K.ez,R.xu,k.ud]]}),X})()},8772:(un,ot,E)=>{"use strict";E.d(ot,{sV:()=>jr,Ls:()=>sa,PV:()=>gi});var m=E(1069),R=E(3668),k=E(4762),Se=E(6019);function le(kt,tn){(function(kt){return"string"==typeof kt&&-1!==kt.indexOf(".")&&1===parseFloat(kt)})(kt)&&(kt="100%");var St=function(kt){return"string"==typeof kt&&-1!==kt.indexOf("%")}(kt);return kt=360===tn?kt:Math.min(tn,Math.max(0,parseFloat(kt))),St&&(kt=parseInt(String(kt*tn),10)/100),Math.abs(kt-tn)<1e-6?1:kt=360===tn?(kt<0?kt%tn+tn:kt%tn)/parseFloat(String(tn)):kt%tn/parseFloat(String(tn))}function y(kt){return Math.min(1,Math.max(0,kt))}function K(kt){return kt=parseFloat(kt),(isNaN(kt)||kt<0||kt>1)&&(kt=1),kt}function H(kt){return kt<=1?100*Number(kt)+"%":kt}function Y(kt){return 1===kt.length?"0"+kt:String(kt)}function j(kt,tn,St){kt=le(kt,255),tn=le(tn,255),St=le(St,255);var An=Math.max(kt,tn,St),Kn=Math.min(kt,tn,St),sr=0,Rr=0,kr=(An+Kn)/2;if(An===Kn)Rr=0,sr=0;else{var Fr=An-Kn;switch(Rr=kr>.5?Fr/(2-An-Kn):Fr/(An+Kn),An){case kt:sr=(tn-St)/Fr+(tn<St?6:0);break;case tn:sr=(St-kt)/Fr+2;break;case St:sr=(kt-tn)/Fr+4}sr/=6}return{h:sr,s:Rr,l:kr}}function X(kt,tn,St){return St<0&&(St+=1),St>1&&(St-=1),St<1/6?kt+6*St*(tn-kt):St<.5?tn:St<2/3?kt+(tn-kt)*(2/3-St)*6:kt}function Q(kt,tn,St){kt=le(kt,255),tn=le(tn,255),St=le(St,255);var An=Math.max(kt,tn,St),Kn=Math.min(kt,tn,St),sr=0,Rr=An,kr=An-Kn,Fr=0===An?0:kr/An;if(An===Kn)sr=0;else{switch(An){case kt:sr=(tn-St)/kr+(tn<St?6:0);break;case tn:sr=(St-kt)/kr+2;break;case St:sr=(kt-tn)/kr+4}sr/=6}return{h:sr,s:Fr,v:Rr}}function re(kt,tn,St,An){var Kn=[Y(Math.round(kt).toString(16)),Y(Math.round(tn).toString(16)),Y(Math.round(St).toString(16))];return An&&Kn[0].startsWith(Kn[0].charAt(1))&&Kn[1].startsWith(Kn[1].charAt(1))&&Kn[2].startsWith(Kn[2].charAt(1))?Kn[0].charAt(0)+Kn[1].charAt(0)+Kn[2].charAt(0):Kn.join("")}function de(kt){return Math.round(255*parseFloat(kt)).toString(16)}function oe(kt){return Z(kt)/255}function Z(kt){return parseInt(kt,16)}var W={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var M="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",C="[\\s|\\(]+("+M+")[,|\\s]+("+M+")[,|\\s]+("+M+")\\s*\\)?",P="[\\s|\\(]+("+M+")[,|\\s]+("+M+")[,|\\s]+("+M+")[,|\\s]+("+M+")\\s*\\)?",N={CSS_UNIT:new RegExp(M),rgb:new RegExp("rgb"+C),rgba:new RegExp("rgba"+P),hsl:new RegExp("hsl"+C),hsla:new RegExp("hsla"+P),hsv:new RegExp("hsv"+C),hsva:new RegExp("hsva"+P),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ye(kt){return Boolean(N.CSS_UNIT.exec(String(kt)))}var Te=function(){function kt(tn,St){var An;if(void 0===tn&&(tn=""),void 0===St&&(St={}),tn instanceof kt)return tn;"number"==typeof tn&&(tn=function(kt){return{r:kt>>16,g:(65280&kt)>>8,b:255&kt}}(tn)),this.originalInput=tn;var Kn=function(kt){var tn={r:0,g:0,b:0},St=1,An=null,Kn=null,sr=null,Rr=!1,kr=!1;return"string"==typeof kt&&(kt=function(kt){if(0===(kt=kt.trim().toLowerCase()).length)return!1;var tn=!1;if(W[kt])kt=W[kt],tn=!0;else if("transparent"===kt)return{r:0,g:0,b:0,a:0,format:"name"};var St=N.rgb.exec(kt);return St?{r:St[1],g:St[2],b:St[3]}:(St=N.rgba.exec(kt))?{r:St[1],g:St[2],b:St[3],a:St[4]}:(St=N.hsl.exec(kt))?{h:St[1],s:St[2],l:St[3]}:(St=N.hsla.exec(kt))?{h:St[1],s:St[2],l:St[3],a:St[4]}:(St=N.hsv.exec(kt))?{h:St[1],s:St[2],v:St[3]}:(St=N.hsva.exec(kt))?{h:St[1],s:St[2],v:St[3],a:St[4]}:(St=N.hex8.exec(kt))?{r:Z(St[1]),g:Z(St[2]),b:Z(St[3]),a:oe(St[4]),format:tn?"name":"hex8"}:(St=N.hex6.exec(kt))?{r:Z(St[1]),g:Z(St[2]),b:Z(St[3]),format:tn?"name":"hex"}:(St=N.hex4.exec(kt))?{r:Z(St[1]+St[1]),g:Z(St[2]+St[2]),b:Z(St[3]+St[3]),a:oe(St[4]+St[4]),format:tn?"name":"hex8"}:!!(St=N.hex3.exec(kt))&&{r:Z(St[1]+St[1]),g:Z(St[2]+St[2]),b:Z(St[3]+St[3]),format:tn?"name":"hex"}}(kt)),"object"==typeof kt&&(ye(kt.r)&&ye(kt.g)&&ye(kt.b)?(tn=function(kt,tn,St){return{r:255*le(kt,255),g:255*le(tn,255),b:255*le(St,255)}}(kt.r,kt.g,kt.b),Rr=!0,kr="%"===String(kt.r).substr(-1)?"prgb":"rgb"):ye(kt.h)&&ye(kt.s)&&ye(kt.v)?(An=H(kt.s),Kn=H(kt.v),tn=function(kt,tn,St){kt=6*le(kt,360),tn=le(tn,100),St=le(St,100);var An=Math.floor(kt),Kn=kt-An,sr=St*(1-tn),Rr=St*(1-Kn*tn),kr=St*(1-(1-Kn)*tn),Fr=An%6;return{r:255*[St,Rr,sr,sr,kr,St][Fr],g:255*[kr,St,St,Rr,sr,sr][Fr],b:255*[sr,sr,kr,St,St,Rr][Fr]}}(kt.h,An,Kn),Rr=!0,kr="hsv"):ye(kt.h)&&ye(kt.s)&&ye(kt.l)&&(An=H(kt.s),sr=H(kt.l),tn=function(kt,tn,St){var An,Kn,sr;if(kt=le(kt,360),tn=le(tn,100),St=le(St,100),0===tn)Kn=St,sr=St,An=St;else{var Rr=St<.5?St*(1+tn):St+tn-St*tn,kr=2*St-Rr;An=X(kr,Rr,kt+1/3),Kn=X(kr,Rr,kt),sr=X(kr,Rr,kt-1/3)}return{r:255*An,g:255*Kn,b:255*sr}}(kt.h,An,sr),Rr=!0,kr="hsl"),Object.prototype.hasOwnProperty.call(kt,"a")&&(St=kt.a)),St=K(St),{ok:Rr,format:kt.format||kr,r:Math.min(255,Math.max(tn.r,0)),g:Math.min(255,Math.max(tn.g,0)),b:Math.min(255,Math.max(tn.b,0)),a:St}}(tn);this.originalInput=tn,this.r=Kn.r,this.g=Kn.g,this.b=Kn.b,this.a=Kn.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(An=St.format)&&void 0!==An?An:Kn.format,this.gradientType=St.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=Kn.ok}return kt.prototype.isDark=function(){return this.getBrightness()<128},kt.prototype.isLight=function(){return!this.isDark()},kt.prototype.getBrightness=function(){var tn=this.toRgb();return(299*tn.r+587*tn.g+114*tn.b)/1e3},kt.prototype.getLuminance=function(){var tn=this.toRgb(),sr=tn.r/255,Rr=tn.g/255,kr=tn.b/255;return.2126*(sr<=.03928?sr/12.92:Math.pow((sr+.055)/1.055,2.4))+.7152*(Rr<=.03928?Rr/12.92:Math.pow((Rr+.055)/1.055,2.4))+.0722*(kr<=.03928?kr/12.92:Math.pow((kr+.055)/1.055,2.4))},kt.prototype.getAlpha=function(){return this.a},kt.prototype.setAlpha=function(tn){return this.a=K(tn),this.roundA=Math.round(100*this.a)/100,this},kt.prototype.toHsv=function(){var tn=Q(this.r,this.g,this.b);return{h:360*tn.h,s:tn.s,v:tn.v,a:this.a}},kt.prototype.toHsvString=function(){var tn=Q(this.r,this.g,this.b),St=Math.round(360*tn.h),An=Math.round(100*tn.s),Kn=Math.round(100*tn.v);return 1===this.a?"hsv("+St+", "+An+"%, "+Kn+"%)":"hsva("+St+", "+An+"%, "+Kn+"%, "+this.roundA+")"},kt.prototype.toHsl=function(){var tn=j(this.r,this.g,this.b);return{h:360*tn.h,s:tn.s,l:tn.l,a:this.a}},kt.prototype.toHslString=function(){var tn=j(this.r,this.g,this.b),St=Math.round(360*tn.h),An=Math.round(100*tn.s),Kn=Math.round(100*tn.l);return 1===this.a?"hsl("+St+", "+An+"%, "+Kn+"%)":"hsla("+St+", "+An+"%, "+Kn+"%, "+this.roundA+")"},kt.prototype.toHex=function(tn){return void 0===tn&&(tn=!1),re(this.r,this.g,this.b,tn)},kt.prototype.toHexString=function(tn){return void 0===tn&&(tn=!1),"#"+this.toHex(tn)},kt.prototype.toHex8=function(tn){return void 0===tn&&(tn=!1),function(kt,tn,St,An,Kn){var sr=[Y(Math.round(kt).toString(16)),Y(Math.round(tn).toString(16)),Y(Math.round(St).toString(16)),Y(de(An))];return Kn&&sr[0].startsWith(sr[0].charAt(1))&&sr[1].startsWith(sr[1].charAt(1))&&sr[2].startsWith(sr[2].charAt(1))&&sr[3].startsWith(sr[3].charAt(1))?sr[0].charAt(0)+sr[1].charAt(0)+sr[2].charAt(0)+sr[3].charAt(0):sr.join("")}(this.r,this.g,this.b,this.a,tn)},kt.prototype.toHex8String=function(tn){return void 0===tn&&(tn=!1),"#"+this.toHex8(tn)},kt.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},kt.prototype.toRgbString=function(){var tn=Math.round(this.r),St=Math.round(this.g),An=Math.round(this.b);return 1===this.a?"rgb("+tn+", "+St+", "+An+")":"rgba("+tn+", "+St+", "+An+", "+this.roundA+")"},kt.prototype.toPercentageRgb=function(){var tn=function(St){return Math.round(100*le(St,255))+"%"};return{r:tn(this.r),g:tn(this.g),b:tn(this.b),a:this.a}},kt.prototype.toPercentageRgbString=function(){var tn=function(St){return Math.round(100*le(St,255))};return 1===this.a?"rgb("+tn(this.r)+"%, "+tn(this.g)+"%, "+tn(this.b)+"%)":"rgba("+tn(this.r)+"%, "+tn(this.g)+"%, "+tn(this.b)+"%, "+this.roundA+")"},kt.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var tn="#"+re(this.r,this.g,this.b,!1),St=0,An=Object.entries(W);St<An.length;St++){var Kn=An[St];if(tn===Kn[1])return Kn[0]}return!1},kt.prototype.toString=function(tn){var St=Boolean(tn);tn=null!=tn?tn:this.format;var An=!1;return!St&&this.a<1&&this.a>=0&&(tn.startsWith("hex")||"name"===tn)?"name"===tn&&0===this.a?this.toName():this.toRgbString():("rgb"===tn&&(An=this.toRgbString()),"prgb"===tn&&(An=this.toPercentageRgbString()),("hex"===tn||"hex6"===tn)&&(An=this.toHexString()),"hex3"===tn&&(An=this.toHexString(!0)),"hex4"===tn&&(An=this.toHex8String(!0)),"hex8"===tn&&(An=this.toHex8String()),"name"===tn&&(An=this.toName()),"hsl"===tn&&(An=this.toHslString()),"hsv"===tn&&(An=this.toHsvString()),An||this.toHexString())},kt.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},kt.prototype.clone=function(){return new kt(this.toString())},kt.prototype.lighten=function(tn){void 0===tn&&(tn=10);var St=this.toHsl();return St.l+=tn/100,St.l=y(St.l),new kt(St)},kt.prototype.brighten=function(tn){void 0===tn&&(tn=10);var St=this.toRgb();return St.r=Math.max(0,Math.min(255,St.r-Math.round(-tn/100*255))),St.g=Math.max(0,Math.min(255,St.g-Math.round(-tn/100*255))),St.b=Math.max(0,Math.min(255,St.b-Math.round(-tn/100*255))),new kt(St)},kt.prototype.darken=function(tn){void 0===tn&&(tn=10);var St=this.toHsl();return St.l-=tn/100,St.l=y(St.l),new kt(St)},kt.prototype.tint=function(tn){return void 0===tn&&(tn=10),this.mix("white",tn)},kt.prototype.shade=function(tn){return void 0===tn&&(tn=10),this.mix("black",tn)},kt.prototype.desaturate=function(tn){void 0===tn&&(tn=10);var St=this.toHsl();return St.s-=tn/100,St.s=y(St.s),new kt(St)},kt.prototype.saturate=function(tn){void 0===tn&&(tn=10);var St=this.toHsl();return St.s+=tn/100,St.s=y(St.s),new kt(St)},kt.prototype.greyscale=function(){return this.desaturate(100)},kt.prototype.spin=function(tn){var St=this.toHsl(),An=(St.h+tn)%360;return St.h=An<0?360+An:An,new kt(St)},kt.prototype.mix=function(tn,St){void 0===St&&(St=50);var An=this.toRgb(),Kn=new kt(tn).toRgb(),sr=St/100;return new kt({r:(Kn.r-An.r)*sr+An.r,g:(Kn.g-An.g)*sr+An.g,b:(Kn.b-An.b)*sr+An.b,a:(Kn.a-An.a)*sr+An.a})},kt.prototype.analogous=function(tn,St){void 0===tn&&(tn=6),void 0===St&&(St=30);var An=this.toHsl(),Kn=360/St,sr=[this];for(An.h=(An.h-(Kn*tn>>1)+720)%360;--tn;)An.h=(An.h+Kn)%360,sr.push(new kt(An));return sr},kt.prototype.complement=function(){var tn=this.toHsl();return tn.h=(tn.h+180)%360,new kt(tn)},kt.prototype.monochromatic=function(tn){void 0===tn&&(tn=6);for(var St=this.toHsv(),An=St.h,Kn=St.s,sr=St.v,Rr=[],kr=1/tn;tn--;)Rr.push(new kt({h:An,s:Kn,v:sr})),sr=(sr+kr)%1;return Rr},kt.prototype.splitcomplement=function(){var tn=this.toHsl(),St=tn.h;return[this,new kt({h:(St+72)%360,s:tn.s,l:tn.l}),new kt({h:(St+216)%360,s:tn.s,l:tn.l})]},kt.prototype.onBackground=function(tn){var St=this.toRgb(),An=new kt(tn).toRgb();return new kt({r:An.r+(St.r-An.r)*St.a,g:An.g+(St.g-An.g)*St.a,b:An.b+(St.b-An.b)*St.a})},kt.prototype.triad=function(){return this.polyad(3)},kt.prototype.tetrad=function(){return this.polyad(4)},kt.prototype.polyad=function(tn){for(var St=this.toHsl(),An=St.h,Kn=[this],sr=360/tn,Rr=1;Rr<tn;Rr++)Kn.push(new kt({h:(An+Rr*sr)%360,s:St.s,l:St.l}));return Kn},kt.prototype.equals=function(tn){return this.toRgbString()===new kt(tn).toRgbString()},kt}(),et=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ue(kt,tn,St){var An;return(An=Math.round(kt.h)>=60&&Math.round(kt.h)<=240?St?Math.round(kt.h)-2*tn:Math.round(kt.h)+2*tn:St?Math.round(kt.h)+2*tn:Math.round(kt.h)-2*tn)<0?An+=360:An>=360&&(An-=360),An}function xt(kt,tn,St){return 0===kt.h&&0===kt.s?kt.s:((An=St?kt.s-.16*tn:4===tn?kt.s+.16:kt.s+.05*tn)>1&&(An=1),St&&5===tn&&An>.1&&(An=.1),An<.06&&(An=.06),Number(An.toFixed(2)));var An}function It(kt,tn,St){var An;return(An=St?kt.v+.05*tn:kt.v-.15*tn)>1&&(An=1),Number(An.toFixed(2))}function Pt(kt){for(var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},St=[],An=new Te(kt),Kn=5;Kn>0;Kn-=1){var sr=An.toHsv(),Rr=new Te({h:Ue(sr,Kn,!0),s:xt(sr,Kn,!0),v:It(sr,Kn,!0)}).toHexString();St.push(Rr)}St.push(An.toHexString());for(var kr=1;kr<=4;kr+=1){var Fr=An.toHsv(),ri=new Te({h:Ue(Fr,kr),s:xt(Fr,kr),v:It(Fr,kr)}).toHexString();St.push(ri)}return"dark"===tn.theme?et.map(function(Oi){var Xt=Oi.index,Or=Oi.opacity;return new Te(tn.backgroundColor||"#141414").mix(St[Xt],100*Or).toHexString()}):St}var Wt={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Qt={},gn={};Object.keys(Wt).forEach(function(kt){Qt[kt]=Pt(Wt[kt]),Qt[kt].primary=Qt[kt][5],gn[kt]=Pt(Wt[kt],{theme:"dark",backgroundColor:"#141414"}),gn[kt].primary=gn[kt][5]});var ct=E(4522),tt=E(3405),_t=E(2411),zt=E(5548),Ft=E(8053),ft=E(5722),Ye=E(6658),Ke=E(2047),we=E(6669),Me=E(8735),qe=E(6636),lt=E(5427);const Lt="[@ant-design/icons-angular]:";function Mn(kt){(0,R.X6Q)()&&console.warn(`${Lt} ${kt}.`)}function Zt(kt){return Pt(kt)[0]}function er(kt,tn){switch(tn){case"fill":return`${kt}-fill`;case"outline":return`${kt}-o`;case"twotone":return`${kt}-twotone`;case void 0:return kt;default:throw new Error(`${Lt}Theme "${tn}" is not a recognized theme!`)}}function si(kt){return"object"==typeof kt&&"string"==typeof kt.name&&("string"==typeof kt.theme||void 0===kt.theme)&&"string"==typeof kt.icon}function Xn(kt){const tn=kt.split(":");switch(tn.length){case 1:return[kt,""];case 2:return[tn[1],tn[0]];default:throw new Error(`${Lt}The icon type ${kt} is not valid!`)}}function Ur(){return new Error(`${Lt}<svg> tag not found.`)}let Ei=(()=>{class kt{constructor(St,An,Kn,sr){this._rendererFactory=St,this._handler=An,this._document=Kn,this.sanitizer=sr,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new tt.xQ,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new ct.eN(this._handler))}set twoToneColor({primaryColor:St,secondaryColor:An}){this._twoToneColorPalette.primaryColor=St,this._twoToneColorPalette.secondaryColor=An||Zt(St)}get twoToneColor(){return Object.assign({},this._twoToneColorPalette)}useJsonpLoading(){this._enableJsonpLoading?Mn("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=St=>{this._jsonpIconLoad$.next(St)})}changeAssetsSource(St){this._assetsUrlRoot=St.endsWith("/")?St:St+"/"}addIcon(...St){St.forEach(An=>{this._svgDefinitions.set(er(An.name,An.theme),An)})}addIconLiteral(St,An){const[Kn,sr]=Xn(St);if(!sr)throw new Error(`${Lt}Type should have a namespace. Try "namespace:${name}".`);this.addIcon({name:St,icon:An})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(St,An){const Kn=si(St)?St:this._svgDefinitions.get(St)||null;return(Kn?(0,_t.of)(Kn):this._loadIconDynamically(St)).pipe((0,Ft.U)(Rr=>{if(!Rr)throw function(kt){return new Error(`${Lt}the icon ${kt} does not exist or is not registered.`)}(St);return this._loadSVGFromCacheOrCreateNew(Rr,An)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(St){if(!this._http&&!this._enableJsonpLoading)return(0,_t.of)((console.error(`${Lt} you need to import "HttpClientModule" to use dynamic importing..`),null));let An=this._inProgressFetches.get(St);if(!An){const[Kn,sr]=Xn(St),Rr=sr?{name:St,icon:""}:function(kt){const tn=kt.split("-"),St=function(kt){return"o"===kt?"outline":kt}(tn.splice(tn.length-1,1)[0]);return{name:tn.join("-"),theme:St,icon:""}}(Kn),Fr=(sr?`${this._assetsUrlRoot}assets/${sr}/${Kn}`:`${this._assetsUrlRoot}assets/${Rr.theme}/${Rr.name}`)+(this._enableJsonpLoading?".js":".svg"),ri=this.sanitizer.sanitize(R.q3G.URL,Fr);if(!ri)throw function(kt){return new Error(`${Lt}The url "${kt}" is unsafe.`)}(Fr);An=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(Rr,ri):this._http.get(ri,{responseType:"text"}).pipe((0,Ft.U)(Xt=>Object.assign(Object.assign({},Rr),{icon:Xt})))).pipe((0,ft.b)(Xt=>this.addIcon(Xt)),(0,Ye.x)(()=>this._inProgressFetches.delete(St)),(0,Ke.K)(()=>(0,_t.of)(null)),(0,we.B)()),this._inProgressFetches.set(St,An)}return An}_loadIconDynamicallyWithJsonp(St,An){return new zt.y(Kn=>{const sr=this._document.createElement("script"),Rr=setTimeout(()=>{kr(),Kn.error(new Error(`${Lt}Importing timeout error.`))},6e3);function kr(){sr.parentNode.removeChild(sr),clearTimeout(Rr)}sr.src=An,this._document.body.appendChild(sr),this._jsonpIconLoad$.pipe((0,Me.h)(Fr=>Fr.name===St.name&&Fr.theme===St.theme),(0,qe.q)(1)).subscribe(Fr=>{Kn.next(Fr),kr()})})}_loadSVGFromCacheOrCreateNew(St,An){let Kn;const sr=An||this._twoToneColorPalette.primaryColor,Rr=Zt(sr)||this._twoToneColorPalette.secondaryColor,kr="twotone"===St.theme?function(kt,tn,St,An){return`${er(kt,tn)}-${St}-${An}`}(St.name,St.theme,sr,Rr):void 0===St.theme?St.name:er(St.name,St.theme),Fr=this._svgRenderedDefinitions.get(kr);return Fr?Kn=Fr.icon:(Kn=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function(kt){return""!==Xn(kt)[1]}(St.name)?St.icon:function(kt){return kt.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(St.icon)),"twotone"===St.theme,sr,Rr)),this._svgRenderedDefinitions.set(kr,Object.assign(Object.assign({},St),{icon:Kn}))),function(kt){return kt.cloneNode(!0)}(Kn)}_createSVGElementFromString(St){const An=this._document.createElement("div");An.innerHTML=St;const Kn=An.querySelector("svg");if(!Kn)throw Ur;return Kn}_setSVGAttribute(St){return this._renderer.setAttribute(St,"width","1em"),this._renderer.setAttribute(St,"height","1em"),St}_colorizeSVGIcon(St,An,Kn,sr){if(An){const Rr=St.childNodes,kr=Rr.length;for(let Fr=0;Fr<kr;Fr++){const ri=Rr[Fr];"secondaryColor"===ri.getAttribute("fill")?this._renderer.setAttribute(ri,"fill",sr):this._renderer.setAttribute(ri,"fill",Kn)}}return this._renderer.setAttribute(St,"fill","currentColor"),St}}return kt.\u0275fac=function(St){return new(St||kt)(R.LFG(R.FYo),R.LFG(ct.jN,8),R.LFG(Se.K0,8),R.LFG(lt.H7))},kt.\u0275prov=R.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),Fa=(()=>{class kt{constructor(St,An,Kn){this._iconService=St,this._elementRef=An,this._renderer=Kn}ngOnChanges(St){(St.type||St.theme||St.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(St=>{if(this.type){const An=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(Kn=>{!function(kt,tn){return kt.type===tn.type&&kt.theme===tn.theme&&kt.twoToneColor===tn.twoToneColor}(An,this._getSelfRenderMeta())?St(null):(this._setSVGElement(Kn),St(Kn))})}else this._clearSVGElement(),St(null)})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(St,An){if(si(St))return St;{const[Kn,sr]=Xn(St);return sr?St:function(kt){return kt.endsWith("-fill")||kt.endsWith("-o")||kt.endsWith("-twotone")}(Kn)?(An&&Mn(`'type' ${Kn} already gets a theme inside so 'theme' ${An} would be ignored`),Kn):er(Kn,An||this._iconService.defaultTheme)}}_setSVGElement(St){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,St)}_clearSVGElement(){var St;const An=this._elementRef.nativeElement,Kn=An.childNodes;for(let Rr=Kn.length-1;Rr>=0;Rr--){const kr=Kn[Rr];"svg"===(null===(St=kr.tagName)||void 0===St?void 0:St.toLowerCase())&&this._renderer.removeChild(An,kr)}}}return kt.\u0275fac=function(St){return new(St||kt)(R.Y36(Ei),R.Y36(R.SBq),R.Y36(R.Qsj))},kt.\u0275dir=R.lG2({type:kt,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[R.TTD]}),kt})();var xn=E(3398),rn=E(7867),Rn=E(9987),Ln=E(2);const Jr=[Ln.V65,Ln.ud1,Ln.bBn,Ln.BOg,Ln.Hkd,Ln.XuQ,Ln.Rfq,Ln.yQU,Ln.U2Q,Ln.UKj,Ln.OYp,Ln.BXH,Ln.eLU,Ln.x0x,Ln.VWu,Ln.rMt,Ln.vEg,Ln.RIp,Ln.RU0,Ln.M8e,Ln.ssy,Ln.Z5F,Ln.iUK,Ln.LJh,Ln.NFG,Ln.UTl,Ln.nrZ,Ln.gvV,Ln.d2H,Ln.eFY,Ln.sZJ,Ln.np6,Ln.w1L,Ln.UY$,Ln.v6v,Ln.rHg,Ln.v6v,Ln.s_U,Ln.TSL,Ln.FsU,Ln.cN2,Ln.uIz,Ln.d_$],jr=new R.OlP("nz_icons"),pa=(new R.OlP("nz_icon_default_twotone_color"),"#1890ff");let Hi=(()=>{class kt extends Ei{constructor(St,An,Kn,sr,Rr,kr){super(St,sr,Rr,An),this.nzConfigService=Kn,this.configUpdated$=new tt.xQ,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.addIcon(...Jr,...kr||[]),this.configDefaultTwotoneColor(),this.configDefaultTheme()}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(St){St.getAttribute("viewBox")||this._renderer.setAttribute(St,"viewBox","0 0 1024 1024"),(!St.getAttribute("width")||!St.getAttribute("height"))&&(this._renderer.setAttribute(St,"width","1em"),this._renderer.setAttribute(St,"height","1em")),St.getAttribute("fill")||this._renderer.setAttribute(St,"fill","currentColor")}fetchFromIconfont(St){const{scriptUrl:An}=St;if(this._document&&!this.iconfontCache.has(An)){const Kn=this._renderer.createElement("script");this._renderer.setAttribute(Kn,"src",An),this._renderer.setAttribute(Kn,"data-namespace",An.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,Kn),this.iconfontCache.add(An)}}createIconfontIcon(St){return this._createSVGElementFromString(`<svg><use xlink:href="${St}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const St=this.getConfig();this.defaultTheme=St.nzTheme||"outline"}configDefaultTwotoneColor(){const An=this.getConfig().nzTwotoneColor||pa;let Kn=pa;An&&(An.startsWith("#")?Kn=An:(0,Rn.ZK)("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:Kn}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return kt.\u0275fac=function(St){return new(St||kt)(R.LFG(R.FYo),R.LFG(lt.H7),R.LFG(rn.jY),R.LFG(ct.jN,8),R.LFG(Se.K0,8),R.LFG(jr,8))},kt.\u0275prov=R.Yz7({factory:function(){return new kt(R.LFG(R.FYo),R.LFG(lt.H7),R.LFG(rn.jY),R.LFG(ct.jN,8),R.LFG(Se.K0,8),R.LFG(jr,8))},token:kt,providedIn:"root"}),kt})();const di=new R.OlP("nz_icons_patch");let fr=(()=>{class kt{constructor(St,An){this.extraIcons=St,this.rootIconService=An,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(St=>this.rootIconService.addIcon(St)),this.patched=!0)}}return kt.\u0275fac=function(St){return new(St||kt)(R.LFG(di,2),R.LFG(Hi))},kt.\u0275prov=R.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),sa=(()=>{class kt extends Fa{constructor(St,An,Kn,sr){super(An,St,Kn),this.iconService=An,this.renderer=Kn,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,sr&&sr.doPatch(),this.el=St.nativeElement}set nzSpin(St){this.spin=St}set nzType(St){this.type=St}set nzTheme(St){this.theme=St}set nzTwotoneColor(St){this.twoToneColor=St}set nzIconfont(St){this.iconfont=St}ngOnChanges(St){const{nzType:An,nzTwotoneColor:Kn,nzSpin:sr,nzTheme:Rr,nzRotate:kr}=St;An||Kn||sr||Rr?this.changeIcon2():kr?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const St=this.el.children;let An=St.length;if(!this.type&&St.length)for(;An--;){const Kn=St[An];"svg"===Kn.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(Kn)}}}changeIcon2(){this.setClassName(),this._changeIcon().then(St=>{St&&(this.setSVGData(St),this.handleSpin(St),this.handleRotate(St))})}handleSpin(St){this.spin||"loading"===this.type?this.renderer.addClass(St,"anticon-spin"):this.renderer.removeClass(St,"anticon-spin")}handleRotate(St){this.nzRotate?this.renderer.setAttribute(St,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(St,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(St){this.renderer.setAttribute(St,"data-icon",this.type),this.renderer.setAttribute(St,"aria-hidden","true")}}return kt.\u0275fac=function(St){return new(St||kt)(R.Y36(R.SBq),R.Y36(Hi),R.Y36(R.Qsj),R.Y36(fr,8))},kt.\u0275dir=R.lG2({type:kt,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(St,An){2&St&&R.ekj("anticon",!0)},inputs:{nzRotate:"nzRotate",nzSpin:"nzSpin",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[R.qOj,R.TTD]}),(0,k.gn)([(0,xn.yF)()],kt.prototype,"nzSpin",null),kt})(),gi=(()=>{class kt{static forRoot(St){return{ngModule:kt,providers:[{provide:jr,useValue:St}]}}static forChild(St){return{ngModule:kt,providers:[fr,{provide:di,useValue:St}]}}}return kt.\u0275fac=function(St){return new(St||kt)},kt.\u0275mod=R.oAB({type:kt}),kt.\u0275inj=R.cJS({imports:[[m.ud]]}),kt})()},4199:(un,ot,E)=>{"use strict";E.d(ot,{OK:()=>U,E8:()=>L,hw:()=>A,wm:()=>C,t7:()=>D});var m=E(3668),R=E(2355),k=E(3405),Se=E(8805),le=E(4762),y=E(1069),ce=E(8302),q=E(3398),K=E(4696),H=E(3648),Y=E(6019),V=E(8772);const j=["*"];function X(P,N){if(1&P){const ee=m.EpF();m.TgZ(0,"div",2),m.NdJ("click",function(){m.CHM(ee);const Te=m.oxw();return Te.setCollapsed(!Te.nzCollapsed)}),m.qZA()}if(2&P){const ee=m.oxw();m.Q6J("matchBreakPoint",ee.matchBreakPoint)("nzCollapsedWidth",ee.nzCollapsedWidth)("nzCollapsed",ee.nzCollapsed)("nzBreakpoint",ee.nzBreakpoint)("nzReverseArrow",ee.nzReverseArrow)("nzTrigger",ee.nzTrigger)("nzZeroTrigger",ee.nzZeroTrigger)("siderWidth",ee.widthSetting)}}const xe=["nz-sider-trigger",""];function Q(P,N){}function fe(P,N){if(1&P&&(m.ynx(0),m.YNc(1,Q,0,0,"ng-template",3),m.BQk()),2&P){const ee=m.oxw(),ye=m.MAs(5);m.xp6(1),m.Q6J("ngTemplateOutlet",ee.nzZeroTrigger||ye)}}function re(P,N){}function ie(P,N){if(1&P&&(m.ynx(0),m.YNc(1,re,0,0,"ng-template",3),m.BQk()),2&P){const ee=m.oxw(),ye=m.MAs(3);m.xp6(1),m.Q6J("ngTemplateOutlet",ee.nzTrigger||ye)}}function ne(P,N){if(1&P&&m._UZ(0,"i",5),2&P){const ee=m.oxw(2);m.Q6J("nzType",ee.nzCollapsed?"right":"left")}}function de(P,N){if(1&P&&m._UZ(0,"i",5),2&P){const ee=m.oxw(2);m.Q6J("nzType",ee.nzCollapsed?"left":"right")}}function oe(P,N){if(1&P&&(m.YNc(0,ne,1,1,"i",4),m.YNc(1,de,1,1,"i",4)),2&P){const ee=m.oxw();m.Q6J("ngIf",!ee.nzReverseArrow),m.xp6(1),m.Q6J("ngIf",ee.nzReverseArrow)}}function Z(P,N){1&P&&m._UZ(0,"i",6)}let U=(()=>{class P{constructor(ee,ye){this.elementRef=ee,this.renderer=ye,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}}return P.\u0275fac=function(ee){return new(ee||P)(m.Y36(m.SBq),m.Y36(m.Qsj))},P.\u0275cmp=m.Xpm({type:P,selectors:[["nz-content"]],exportAs:["nzContent"],ngContentSelectors:j,decls:1,vars:0,template:function(ee,ye){1&ee&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),P})(),L=(()=>{class P{constructor(ee,ye){this.elementRef=ee,this.renderer=ye,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}}return P.\u0275fac=function(ee){return new(ee||P)(m.Y36(m.SBq),m.Y36(m.Qsj))},P.\u0275cmp=m.Xpm({type:P,selectors:[["nz-header"]],exportAs:["nzHeader"],ngContentSelectors:j,decls:1,vars:0,template:function(ee,ye){1&ee&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),P})(),D=(()=>{class P{constructor(ee,ye,Te,he){this.platform=ee,this.cdr=ye,this.breakpointService=Te,this.elementRef=he,this.destroy$=new k.xQ,this.nzMenuDirective=null,this.nzCollapsedChange=new m.vpe,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null,this.elementRef.nativeElement.classList.add("ant-layout-sider")}updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:(0,q.WX)(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&"inline"===this.nzMenuDirective.nzMode&&0!==this.nzCollapsedWidth&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(ee){ee!==this.nzCollapsed&&(this.nzCollapsed=ee,this.nzCollapsedChange.emit(ee),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(ce.ow,!0).pipe((0,Se.R)(this.destroy$)).subscribe(ee=>{const ye=this.nzBreakpoint;ye&&(0,q.ov)().subscribe(()=>{this.matchBreakPoint=!ee[ye],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(ee){const{nzCollapsed:ye,nzCollapsedWidth:Te,nzWidth:he}=ee;(ye||Te||he)&&this.updateStyleMap(),ye&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return P.\u0275fac=function(ee){return new(ee||P)(m.Y36(y.t4),m.Y36(m.sBO),m.Y36(ce.r3),m.Y36(m.SBq))},P.\u0275cmp=m.Xpm({type:P,selectors:[["nz-sider"]],contentQueries:function(ee,ye,Te){if(1&ee&&m.Suo(Te,K.wO,5),2&ee){let he;m.iGM(he=m.CRH())&&(ye.nzMenuDirective=he.first)}},hostVars:16,hostBindings:function(ee,ye){2&ee&&(m.Udp("flex",ye.flexSetting)("max-width",ye.widthSetting)("min-width",ye.widthSetting)("width",ye.widthSetting),m.ekj("ant-layout-sider-zero-width",ye.nzCollapsed&&0===ye.nzCollapsedWidth)("ant-layout-sider-light","light"===ye.nzTheme)("ant-layout-sider-dark","dark"===ye.nzTheme)("ant-layout-sider-collapsed",ye.nzCollapsed))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:"nzReverseArrow",nzCollapsible:"nzCollapsible",nzCollapsed:"nzCollapsed"},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],features:[m.TTD],ngContentSelectors:j,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click",4,"ngIf"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click"]],template:function(ee,ye){1&ee&&(m.F$t(),m.TgZ(0,"div",0),m.Hsn(1),m.qZA(),m.YNc(2,X,1,8,"div",1)),2&ee&&(m.xp6(2),m.Q6J("ngIf",ye.nzCollapsible&&null!==ye.nzTrigger))},directives:function(){return[Y.O5,M]},encapsulation:2,changeDetection:0}),(0,le.gn)([(0,q.yF)()],P.prototype,"nzReverseArrow",void 0),(0,le.gn)([(0,q.yF)()],P.prototype,"nzCollapsible",void 0),(0,le.gn)([(0,q.yF)()],P.prototype,"nzCollapsed",void 0),P})(),A=(()=>{class P{constructor(ee,ye){this.elementRef=ee,this.directionality=ye,this.dir="ltr",this.destroy$=new k.xQ,this.elementRef.nativeElement.classList.add("ant-layout")}ngOnInit(){var ee;this.dir=this.directionality.value,null===(ee=this.directionality.change)||void 0===ee||ee.pipe((0,Se.R)(this.destroy$)).subscribe(ye=>{this.dir=ye})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return P.\u0275fac=function(ee){return new(ee||P)(m.Y36(m.SBq),m.Y36(R.Is,8))},P.\u0275cmp=m.Xpm({type:P,selectors:[["nz-layout"]],contentQueries:function(ee,ye,Te){if(1&ee&&m.Suo(Te,D,4),2&ee){let he;m.iGM(he=m.CRH())&&(ye.listOfNzSiderComponent=he)}},hostVars:4,hostBindings:function(ee,ye){2&ee&&m.ekj("ant-layout-rtl","rtl"===ye.dir)("ant-layout-has-sider",ye.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],ngContentSelectors:j,decls:1,vars:0,template:function(ee,ye){1&ee&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),P})(),M=(()=>{class P{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=0===this.nzCollapsedWidth&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=0!==this.nzCollapsedWidth}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}}return P.\u0275fac=function(ee){return new(ee||P)},P.\u0275cmp=m.Xpm({type:P,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(ee,ye){2&ee&&(m.Udp("width",ye.isNormalTrigger?ye.siderWidth:null),m.ekj("ant-layout-sider-trigger",ye.isNormalTrigger)("ant-layout-sider-zero-width-trigger",ye.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",ye.isZeroTrigger&&ye.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",ye.isZeroTrigger&&!ye.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],features:[m.TTD],attrs:xe,decls:6,vars:2,consts:[[4,"ngIf"],["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(ee,ye){1&ee&&(m.YNc(0,fe,2,1,"ng-container",0),m.YNc(1,ie,2,1,"ng-container",0),m.YNc(2,oe,2,2,"ng-template",null,1,m.W1O),m.YNc(4,Z,1,0,"ng-template",null,2,m.W1O)),2&ee&&(m.Q6J("ngIf",ye.isZeroTrigger),m.xp6(1),m.Q6J("ngIf",ye.isNormalTrigger))},directives:[Y.O5,Y.tP,V.Ls],encapsulation:2,changeDetection:0}),P})(),C=(()=>{class P{}return P.\u0275fac=function(ee){return new(ee||P)},P.\u0275mod=m.oAB({type:P}),P.\u0275inj=m.cJS({imports:[[R.vT,Y.ez,V.PV,H.xu,y.ud]]}),P})()},4696:(un,ot,E)=>{"use strict";E.d(ot,{hl:()=>Dn,Cc:()=>Yt,wO:()=>$t,r9:()=>vn,ip:()=>ft,rY:()=>je});var m=E(4762),R=E(2355),k=E(3668),Se=E(3405),le=E(4099),y=E(8526),ce=E(2668),q=E(8053),K=E(4421),H=E(8735),Y=E(4120),V=E(1506),j=E(5389),X=E(8805),xe=E(1125),Q=E(9204),fe=E(3398),re=E(8223),ie=E(2325),ne=E(1069),de=E(4847),oe=E(2018),Z=E(2077),U=E(6019),W=E(5142),L=E(8772);const D=["nz-submenu",""];function A(Ye,Ke){1&Ye&&k.Hsn(0,0,["*ngIf","!nzTitle"])}function M(Ye,Ke){if(1&Ye&&k._UZ(0,"div",6),2&Ye){const we=k.oxw(),Me=k.MAs(7);k.Q6J("mode",we.mode)("nzOpen",we.nzOpen)("@.disabled",null==we.noAnimation?null:we.noAnimation.nzNoAnimation)("nzNoAnimation",null==we.noAnimation?null:we.noAnimation.nzNoAnimation)("menuClass",we.nzMenuClassName)("templateOutlet",Me)}}function C(Ye,Ke){if(1&Ye){const we=k.EpF();k.TgZ(0,"div",8),k.NdJ("subMenuMouseState",function(qe){return k.CHM(we),k.oxw(2).setMouseEnterState(qe)}),k.qZA()}if(2&Ye){const we=k.oxw(2),Me=k.MAs(7);k.Q6J("theme",we.theme)("mode",we.mode)("nzOpen",we.nzOpen)("position",we.position)("nzDisabled",we.nzDisabled)("isMenuInsideDropDown",we.isMenuInsideDropDown)("templateOutlet",Me)("menuClass",we.nzMenuClassName)("@.disabled",null==we.noAnimation?null:we.noAnimation.nzNoAnimation)("nzNoAnimation",null==we.noAnimation?null:we.noAnimation.nzNoAnimation)}}function P(Ye,Ke){if(1&Ye){const we=k.EpF();k.YNc(0,C,1,10,"ng-template",7),k.NdJ("positionChange",function(qe){return k.CHM(we),k.oxw().onPositionChange(qe)})}if(2&Ye){const we=k.oxw(),Me=k.MAs(1);k.Q6J("cdkConnectedOverlayPositions",we.overlayPositions)("cdkConnectedOverlayOrigin",Me)("cdkConnectedOverlayWidth",we.triggerWidth)("cdkConnectedOverlayOpen",we.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function N(Ye,Ke){1&Ye&&k.Hsn(0,1)}const ee=[[["","title",""]],"*"],ye=["[title]","*"],Oe=["nz-submenu-title",""];function Ve(Ye,Ke){if(1&Ye&&k._UZ(0,"i",4),2&Ye){const we=k.oxw();k.Q6J("nzType",we.nzIcon)}}function Fe(Ye,Ke){if(1&Ye&&(k.ynx(0),k.TgZ(1,"span"),k._uU(2),k.qZA(),k.BQk()),2&Ye){const we=k.oxw();k.xp6(2),k.Oqu(we.nzTitle)}}function et(Ye,Ke){1&Ye&&k._UZ(0,"i",8)}function Ue(Ye,Ke){1&Ye&&k._UZ(0,"i",9)}function xt(Ye,Ke){if(1&Ye&&(k.TgZ(0,"span",5),k.YNc(1,et,1,0,"i",6),k.YNc(2,Ue,1,0,"i",7),k.qZA()),2&Ye){const we=k.oxw();k.Q6J("ngSwitch",we.dir),k.xp6(1),k.Q6J("ngSwitchCase","rtl")}}function It(Ye,Ke){1&Ye&&k._UZ(0,"i",10)}const Pt=["*"],Wt=["nz-submenu-inline-child",""];function Qt(Ye,Ke){}const gn=["nz-submenu-none-inline-child",""];function In(Ye,Ke){}let Dn=(()=>{class Ye{constructor(){this.descendantMenuItemClick$=new Se.xQ,this.childMenuItemClick$=new Se.xQ,this.theme$=new le.X("light"),this.mode$=new le.X("vertical"),this.inlineIndent$=new le.X(24),this.isChildSubMenuOpen$=new le.X(!1)}onDescendantMenuItemClick(we){this.descendantMenuItemClick$.next(we)}onChildMenuItemClick(we){this.childMenuItemClick$.next(we)}setMode(we){this.mode$.next(we)}setTheme(we){this.theme$.next(we)}setInlineIndent(we){this.inlineIndent$.next(we)}}return Ye.\u0275fac=function(we){return new(we||Ye)},Ye.\u0275prov=k.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Yt=new k.OlP("NzIsInDropDownMenuToken"),sn=new k.OlP("NzMenuServiceLocalToken");let it=(()=>{class Ye{constructor(we,Me,qe){this.nzHostSubmenuService=we,this.nzMenuService=Me,this.isMenuInsideDropDown=qe,this.mode$=this.nzMenuService.mode$.pipe((0,q.U)(Mn=>"inline"===Mn?"inline":"vertical"===Mn||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new le.X(!1),this.isChildSubMenuOpen$=new le.X(!1),this.isMouseEnterTitleOrOverlay$=new Se.xQ,this.childMenuItemClick$=new Se.xQ,this.destroy$=new Se.xQ,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const lt=this.childMenuItemClick$.pipe((0,K.zg)(()=>this.mode$),(0,H.h)(Mn=>"inline"!==Mn||this.isMenuInsideDropDown),(0,Y.h)(!1)),Lt=(0,y.T)(this.isMouseEnterTitleOrOverlay$,lt);(0,ce.aj)([this.isChildSubMenuOpen$,Lt]).pipe((0,q.U)(([Mn,Zt])=>Mn||Zt),(0,V.e)(150),(0,j.x)(),(0,X.R)(this.destroy$)).pipe((0,j.x)()).subscribe(Mn=>{this.setOpenStateWithoutDebounce(Mn),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(Mn):this.nzMenuService.isChildSubMenuOpen$.next(Mn)})}onChildMenuItemClick(we){this.childMenuItemClick$.next(we)}setOpenStateWithoutDebounce(we){this.isCurrentSubMenuOpen$.next(we)}setMouseEnterTitleOrOverlayState(we){this.isMouseEnterTitleOrOverlay$.next(we)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Ye.\u0275fac=function(we){return new(we||Ye)(k.LFG(Ye,12),k.LFG(Dn),k.LFG(Yt))},Ye.\u0275prov=k.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),vn=(()=>{class Ye{constructor(we,Me,qe,lt,Lt,Kt,Mn,Zt){this.nzMenuService=we,this.cdr=Me,this.nzSubmenuService=qe,this.isMenuInsideDropDown=lt,this.directionality=Lt,this.routerLink=Kt,this.routerLinkWithHref=Mn,this.router=Zt,this.destroy$=new Se.xQ,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new Se.xQ,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,Zt&&this.router.events.pipe((0,X.R)(this.destroy$),(0,H.h)(er=>er instanceof re.m2)).subscribe(()=>{this.updateRouterActive()})}clickMenuItem(we){this.nzDisabled?(we.preventDefault(),we.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(we){this.nzSelected=we,this.selected$.next(we)}updateRouterActive(){!this.listOfRouterLink||!this.listOfRouterLinkWithHref||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{const we=this.hasActiveLinks();this.nzSelected!==we&&(this.nzSelected=we,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const we=this.isLinkActive(this.router);return this.routerLink&&we(this.routerLink)||this.routerLinkWithHref&&we(this.routerLinkWithHref)||this.listOfRouterLink.some(we)||this.listOfRouterLinkWithHref.some(we)}isLinkActive(we){return Me=>we.isActive(Me.urlTree,this.nzMatchRouterExact)}ngOnInit(){var we;(0,ce.aj)([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,X.R)(this.destroy$)).subscribe(([Me,qe])=>{this.inlinePaddingLeft="inline"===Me?this.level*qe:null}),this.dir=this.directionality.value,null===(we=this.directionality.change)||void 0===we||we.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.dir=Me})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe((0,X.R)(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.listOfRouterLinkWithHref.changes.pipe((0,X.R)(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(we){we.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Ye.\u0275fac=function(we){return new(we||Ye)(k.Y36(Dn),k.Y36(k.sBO),k.Y36(it,8),k.Y36(Yt),k.Y36(R.Is,8),k.Y36(re.rH,8),k.Y36(re.yS,8),k.Y36(re.F0,8))},Ye.\u0275dir=k.lG2({type:Ye,selectors:[["","nz-menu-item",""]],contentQueries:function(we,Me,qe){if(1&we&&(k.Suo(qe,re.rH,5),k.Suo(qe,re.yS,5)),2&we){let lt;k.iGM(lt=k.CRH())&&(Me.listOfRouterLink=lt),k.iGM(lt=k.CRH())&&(Me.listOfRouterLinkWithHref=lt)}},hostVars:20,hostBindings:function(we,Me){1&we&&k.NdJ("click",function(lt){return Me.clickMenuItem(lt)}),2&we&&(k.Udp("padding-left","rtl"===Me.dir?null:Me.nzPaddingLeft||Me.inlinePaddingLeft,"px")("padding-right","rtl"===Me.dir?Me.nzPaddingLeft||Me.inlinePaddingLeft:null,"px"),k.ekj("ant-dropdown-menu-item",Me.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",Me.isMenuInsideDropDown&&Me.nzSelected)("ant-dropdown-menu-item-danger",Me.isMenuInsideDropDown&&Me.nzDanger)("ant-dropdown-menu-item-disabled",Me.isMenuInsideDropDown&&Me.nzDisabled)("ant-menu-item",!Me.isMenuInsideDropDown)("ant-menu-item-selected",!Me.isMenuInsideDropDown&&Me.nzSelected)("ant-menu-item-danger",!Me.isMenuInsideDropDown&&Me.nzDanger)("ant-menu-item-disabled",!Me.isMenuInsideDropDown&&Me.nzDisabled))},inputs:{nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter",nzPaddingLeft:"nzPaddingLeft"},exportAs:["nzMenuItem"],features:[k.TTD]}),(0,m.gn)([(0,fe.yF)()],Ye.prototype,"nzDisabled",void 0),(0,m.gn)([(0,fe.yF)()],Ye.prototype,"nzSelected",void 0),(0,m.gn)([(0,fe.yF)()],Ye.prototype,"nzDanger",void 0),(0,m.gn)([(0,fe.yF)()],Ye.prototype,"nzMatchRouterExact",void 0),(0,m.gn)([(0,fe.yF)()],Ye.prototype,"nzMatchRouter",void 0),Ye})();const wt=[oe.yW.rightTop,oe.yW.right,oe.yW.rightBottom,oe.yW.leftTop,oe.yW.left,oe.yW.leftBottom],ke=[oe.yW.bottomLeft];let je=(()=>{class Ye{constructor(we,Me,qe,lt,Lt,Kt,Mn){this.nzMenuService=we,this.cdr=Me,this.nzSubmenuService=qe,this.platform=lt,this.isMenuInsideDropDown=Lt,this.directionality=Kt,this.noAnimation=Mn,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzOpenChange=new k.vpe,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new Se.xQ,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=wt,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}setOpenStateWithoutDebounce(we){this.nzSubmenuService.setOpenStateWithoutDebounce(we)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(we){this.isActive=we,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(we)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(we){const Me=(0,oe.d_)(we);"rightTop"===Me||"rightBottom"===Me||"right"===Me?this.position="right":("leftTop"===Me||"leftBottom"===Me||"left"===Me)&&(this.position="left"),this.cdr.markForCheck()}ngOnInit(){var we;this.nzMenuService.theme$.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.theme=Me,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.mode=Me,"horizontal"===Me?this.overlayPositions=ke:"vertical"===Me&&(this.overlayPositions=wt),this.cdr.markForCheck()}),(0,ce.aj)([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,X.R)(this.destroy$)).subscribe(([Me,qe])=>{this.inlinePaddingLeft="inline"===Me?this.level*qe:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.isActive=Me,Me!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=Me,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,null===(we=this.directionality.change)||void 0===we||we.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.dir=Me,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const we=this.listOfNzMenuItemDirective,Me=we.changes,qe=(0,y.T)(Me,...we.map(lt=>lt.selected$));Me.pipe((0,xe.O)(we),(0,Q.w)(()=>qe),(0,xe.O)(!0),(0,q.U)(()=>we.some(lt=>lt.nzSelected)),(0,X.R)(this.destroy$)).subscribe(lt=>{this.isSelected=lt,this.cdr.markForCheck()})}ngOnChanges(we){const{nzOpen:Me}=we;Me&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Ye.\u0275fac=function(we){return new(we||Ye)(k.Y36(Dn),k.Y36(k.sBO),k.Y36(it),k.Y36(ne.t4),k.Y36(Yt),k.Y36(R.Is,8),k.Y36(de.P,9))},Ye.\u0275cmp=k.Xpm({type:Ye,selectors:[["","nz-submenu",""]],contentQueries:function(we,Me,qe){if(1&we&&(k.Suo(qe,Ye,5),k.Suo(qe,vn,5)),2&we){let lt;k.iGM(lt=k.CRH())&&(Me.listOfNzSubMenuComponent=lt),k.iGM(lt=k.CRH())&&(Me.listOfNzMenuItemDirective=lt)}},viewQuery:function(we,Me){if(1&we&&k.Gf(ie.xu,7,k.SBq),2&we){let qe;k.iGM(qe=k.CRH())&&(Me.cdkOverlayOrigin=qe.first)}},hostVars:34,hostBindings:function(we,Me){2&we&&k.ekj("ant-dropdown-menu-submenu",Me.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",Me.isMenuInsideDropDown&&Me.nzDisabled)("ant-dropdown-menu-submenu-open",Me.isMenuInsideDropDown&&Me.nzOpen)("ant-dropdown-menu-submenu-selected",Me.isMenuInsideDropDown&&Me.isSelected)("ant-dropdown-menu-submenu-vertical",Me.isMenuInsideDropDown&&"vertical"===Me.mode)("ant-dropdown-menu-submenu-horizontal",Me.isMenuInsideDropDown&&"horizontal"===Me.mode)("ant-dropdown-menu-submenu-inline",Me.isMenuInsideDropDown&&"inline"===Me.mode)("ant-dropdown-menu-submenu-active",Me.isMenuInsideDropDown&&Me.isActive)("ant-menu-submenu",!Me.isMenuInsideDropDown)("ant-menu-submenu-disabled",!Me.isMenuInsideDropDown&&Me.nzDisabled)("ant-menu-submenu-open",!Me.isMenuInsideDropDown&&Me.nzOpen)("ant-menu-submenu-selected",!Me.isMenuInsideDropDown&&Me.isSelected)("ant-menu-submenu-vertical",!Me.isMenuInsideDropDown&&"vertical"===Me.mode)("ant-menu-submenu-horizontal",!Me.isMenuInsideDropDown&&"horizontal"===Me.mode)("ant-menu-submenu-inline",!Me.isMenuInsideDropDown&&"inline"===Me.mode)("ant-menu-submenu-active",!Me.isMenuInsideDropDown&&Me.isActive)("ant-menu-submenu-rtl","rtl"===Me.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],features:[k._Bn([it]),k.TTD],attrs:D,ngContentSelectors:ye,decls:8,vars:9,consts:[["nz-submenu-title","","cdkOverlayOrigin","",3,"nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft","subMenuMouseState","toggleSubMenu"],["origin","cdkOverlayOrigin"],[4,"ngIf"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet",4,"ngIf","ngIfElse"],["nonInlineTemplate",""],["subMenuTemplate",""],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","positionChange"],["nz-submenu-none-inline-child","",3,"theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation","subMenuMouseState"]],template:function(we,Me){if(1&we&&(k.F$t(ee),k.TgZ(0,"div",0,1),k.NdJ("subMenuMouseState",function(lt){return Me.setMouseEnterState(lt)})("toggleSubMenu",function(){return Me.toggleSubMenu()}),k.YNc(2,A,1,0,"ng-content",2),k.qZA(),k.YNc(3,M,1,6,"div",3),k.YNc(4,P,1,5,"ng-template",null,4,k.W1O),k.YNc(6,N,1,0,"ng-template",null,5,k.W1O)),2&we){const qe=k.MAs(5);k.Q6J("nzIcon",Me.nzIcon)("nzTitle",Me.nzTitle)("mode",Me.mode)("nzDisabled",Me.nzDisabled)("isMenuInsideDropDown",Me.isMenuInsideDropDown)("paddingLeft",Me.nzPaddingLeft||Me.inlinePaddingLeft),k.xp6(2),k.Q6J("ngIf",!Me.nzTitle),k.xp6(1),k.Q6J("ngIf","inline"===Me.mode)("ngIfElse",qe)}},directives:function(){return[_t,ie.xu,U.O5,zt,de.P,ie.pI,Ft]},encapsulation:2,changeDetection:0}),(0,m.gn)([(0,fe.yF)()],Ye.prototype,"nzOpen",void 0),(0,m.gn)([(0,fe.yF)()],Ye.prototype,"nzDisabled",void 0),Ye})();function yt(Ye,Ke){return Ye||Ke}function Et(Ye){return Ye||!1}let $t=(()=>{class Ye{constructor(we,Me,qe,lt){this.nzMenuService=we,this.isMenuInsideDropDown=Me,this.cdr=qe,this.directionality=lt,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new k.vpe,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new le.X(this.nzInlineCollapsed),this.mode$=new le.X(this.nzMode),this.destroy$=new Se.xQ,this.listOfOpenedNzSubMenuComponent=[]}setInlineCollapsed(we){this.nzInlineCollapsed=we,this.inlineCollapsed$.next(we)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(we=>we.nzOpen),this.listOfNzSubMenuComponent.forEach(we=>we.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(we=>we.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}ngOnInit(){var we;(0,ce.aj)([this.inlineCollapsed$,this.mode$]).pipe((0,X.R)(this.destroy$)).subscribe(([Me,qe])=>{this.actualMode=Me?"vertical":qe,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.nzClick.emit(Me),this.nzSelectable&&!Me.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(qe=>qe.setSelectedState(qe===Me))}),this.dir=this.directionality.value,null===(we=this.directionality.change)||void 0===we||we.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.dir=Me,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe((0,X.R)(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(we){const{nzInlineCollapsed:Me,nzInlineIndent:qe,nzTheme:lt,nzMode:Lt}=we;Me&&this.inlineCollapsed$.next(this.nzInlineCollapsed),qe&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),lt&&this.nzMenuService.setTheme(this.nzTheme),Lt&&(this.mode$.next(this.nzMode),!we.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(Kt=>Kt.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Ye.\u0275fac=function(we){return new(we||Ye)(k.Y36(Dn),k.Y36(Yt),k.Y36(k.sBO),k.Y36(R.Is,8))},Ye.\u0275dir=k.lG2({type:Ye,selectors:[["","nz-menu",""]],contentQueries:function(we,Me,qe){if(1&we&&(k.Suo(qe,vn,5),k.Suo(qe,je,5)),2&we){let lt;k.iGM(lt=k.CRH())&&(Me.listOfNzMenuItemDirective=lt),k.iGM(lt=k.CRH())&&(Me.listOfNzSubMenuComponent=lt)}},hostVars:34,hostBindings:function(we,Me){2&we&&k.ekj("ant-dropdown-menu",Me.isMenuInsideDropDown)("ant-dropdown-menu-root",Me.isMenuInsideDropDown)("ant-dropdown-menu-light",Me.isMenuInsideDropDown&&"light"===Me.nzTheme)("ant-dropdown-menu-dark",Me.isMenuInsideDropDown&&"dark"===Me.nzTheme)("ant-dropdown-menu-vertical",Me.isMenuInsideDropDown&&"vertical"===Me.actualMode)("ant-dropdown-menu-horizontal",Me.isMenuInsideDropDown&&"horizontal"===Me.actualMode)("ant-dropdown-menu-inline",Me.isMenuInsideDropDown&&"inline"===Me.actualMode)("ant-dropdown-menu-inline-collapsed",Me.isMenuInsideDropDown&&Me.nzInlineCollapsed)("ant-menu",!Me.isMenuInsideDropDown)("ant-menu-root",!Me.isMenuInsideDropDown)("ant-menu-light",!Me.isMenuInsideDropDown&&"light"===Me.nzTheme)("ant-menu-dark",!Me.isMenuInsideDropDown&&"dark"===Me.nzTheme)("ant-menu-vertical",!Me.isMenuInsideDropDown&&"vertical"===Me.actualMode)("ant-menu-horizontal",!Me.isMenuInsideDropDown&&"horizontal"===Me.actualMode)("ant-menu-inline",!Me.isMenuInsideDropDown&&"inline"===Me.actualMode)("ant-menu-inline-collapsed",!Me.isMenuInsideDropDown&&Me.nzInlineCollapsed)("ant-menu-rtl","rtl"===Me.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],features:[k._Bn([{provide:sn,useClass:Dn},{provide:Dn,useFactory:yt,deps:[[new k.tp0,new k.FiY,Dn],sn]},{provide:Yt,useFactory:Et,deps:[[new k.tp0,new k.FiY,Yt]]}]),k.TTD]}),(0,m.gn)([(0,fe.yF)()],Ye.prototype,"nzInlineCollapsed",void 0),(0,m.gn)([(0,fe.yF)()],Ye.prototype,"nzSelectable",void 0),Ye})(),_t=(()=>{class Ye{constructor(we,Me){this.cdr=we,this.directionality=Me,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new k.vpe,this.subMenuMouseState=new k.vpe,this.dir="ltr",this.destroy$=new Se.xQ}ngOnInit(){var we;this.dir=this.directionality.value,null===(we=this.directionality.change)||void 0===we||we.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.dir=Me,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(we){this.nzDisabled||this.subMenuMouseState.next(we)}clickTitle(){"inline"===this.mode&&!this.nzDisabled&&this.toggleSubMenu.emit()}}return Ye.\u0275fac=function(we){return new(we||Ye)(k.Y36(k.sBO),k.Y36(R.Is,8))},Ye.\u0275cmp=k.Xpm({type:Ye,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(we,Me){1&we&&k.NdJ("click",function(){return Me.clickTitle()})("mouseenter",function(){return Me.setMouseState(!0)})("mouseleave",function(){return Me.setMouseState(!1)}),2&we&&(k.Udp("padding-left","rtl"===Me.dir?null:Me.paddingLeft,"px")("padding-right","rtl"===Me.dir?Me.paddingLeft:null,"px"),k.ekj("ant-dropdown-menu-submenu-title",Me.isMenuInsideDropDown)("ant-menu-submenu-title",!Me.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],attrs:Oe,ngContentSelectors:Pt,decls:6,vars:4,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch",4,"ngIf","ngIfElse"],["notDropdownTpl",""],["nz-icon","",3,"nzType"],[1,"ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch"],["nz-icon","","nzType","left","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchCase"],["nz-icon","","nzType","right","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(we,Me){if(1&we&&(k.F$t(),k.YNc(0,Ve,1,1,"i",0),k.YNc(1,Fe,3,1,"ng-container",1),k.Hsn(2),k.YNc(3,xt,3,2,"span",2),k.YNc(4,It,1,0,"ng-template",null,3,k.W1O)),2&we){const qe=k.MAs(5);k.Q6J("ngIf",Me.nzIcon),k.xp6(1),k.Q6J("nzStringTemplateOutlet",Me.nzTitle),k.xp6(2),k.Q6J("ngIf",Me.isMenuInsideDropDown)("ngIfElse",qe)}},directives:[U.O5,W.f,L.Ls,U.RF,U.n9,U.ED],encapsulation:2,changeDetection:0}),Ye})(),zt=(()=>{class Ye{constructor(we,Me,qe){this.elementRef=we,this.renderer=Me,this.directionality=qe,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new Se.xQ,this.elementRef.nativeElement.classList.add("ant-menu","ant-menu-inline","ant-menu-sub")}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){var we;this.calcMotionState(),this.dir=this.directionality.value,null===(we=this.directionality.change)||void 0===we||we.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.dir=Me})}ngOnChanges(we){const{mode:Me,nzOpen:qe,menuClass:lt}=we;(Me||qe)&&this.calcMotionState(),lt&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(Lt=>!!Lt).forEach(Lt=>{this.renderer.removeClass(this.elementRef.nativeElement,Lt)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(Lt=>!!Lt).forEach(Lt=>{this.renderer.addClass(this.elementRef.nativeElement,Lt)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Ye.\u0275fac=function(we){return new(we||Ye)(k.Y36(k.SBq),k.Y36(k.Qsj),k.Y36(R.Is,8))},Ye.\u0275cmp=k.Xpm({type:Ye,selectors:[["","nz-submenu-inline-child",""]],hostVars:3,hostBindings:function(we,Me){2&we&&(k.d8E("@collapseMotion",Me.expandState),k.ekj("ant-menu-rtl","rtl"===Me.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],features:[k.TTD],attrs:Wt,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(we,Me){1&we&&k.YNc(0,Qt,0,0,"ng-template",0),2&we&&k.Q6J("ngTemplateOutlet",Me.templateOutlet)},directives:[U.tP],encapsulation:2,data:{animation:[Z.J_]},changeDetection:0}),Ye})(),Ft=(()=>{class Ye{constructor(we,Me){this.elementRef=we,this.directionality=Me,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new k.vpe,this.expandState="collapsed",this.dir="ltr",this.destroy$=new Se.xQ,this.elementRef.nativeElement.classList.add("ant-menu-submenu","ant-menu-submenu-popup")}setMouseState(we){this.nzDisabled||this.subMenuMouseState.next(we)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){var we;this.calcMotionState(),this.dir=this.directionality.value,null===(we=this.directionality.change)||void 0===we||we.pipe((0,X.R)(this.destroy$)).subscribe(Me=>{this.dir=Me})}ngOnChanges(we){const{mode:Me,nzOpen:qe}=we;(Me||qe)&&this.calcMotionState()}}return Ye.\u0275fac=function(we){return new(we||Ye)(k.Y36(k.SBq),k.Y36(R.Is,8))},Ye.\u0275cmp=k.Xpm({type:Ye,selectors:[["","nz-submenu-none-inline-child",""]],hostVars:14,hostBindings:function(we,Me){1&we&&k.NdJ("mouseenter",function(){return Me.setMouseState(!0)})("mouseleave",function(){return Me.setMouseState(!1)}),2&we&&(k.d8E("@slideMotion",Me.expandState)("@zoomBigMotion",Me.expandState),k.ekj("ant-menu-light","light"===Me.theme)("ant-menu-dark","dark"===Me.theme)("ant-menu-submenu-placement-bottom","horizontal"===Me.mode)("ant-menu-submenu-placement-right","vertical"===Me.mode&&"right"===Me.position)("ant-menu-submenu-placement-left","vertical"===Me.mode&&"left"===Me.position)("ant-menu-submenu-rtl","rtl"===Me.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],features:[k.TTD],attrs:gn,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(we,Me){1&we&&(k.TgZ(0,"div",0),k.YNc(1,In,0,0,"ng-template",1),k.qZA()),2&we&&(k.ekj("ant-dropdown-menu",Me.isMenuInsideDropDown)("ant-menu",!Me.isMenuInsideDropDown)("ant-dropdown-menu-vertical",Me.isMenuInsideDropDown)("ant-menu-vertical",!Me.isMenuInsideDropDown)("ant-dropdown-menu-sub",Me.isMenuInsideDropDown)("ant-menu-sub",!Me.isMenuInsideDropDown)("ant-menu-rtl","rtl"===Me.dir),k.Q6J("ngClass",Me.menuClass),k.xp6(1),k.Q6J("ngTemplateOutlet",Me.templateOutlet))},directives:[U.mk,U.tP],encapsulation:2,data:{animation:[Z.$C,Z.mF]},changeDetection:0}),Ye})(),ft=(()=>{class Ye{}return Ye.\u0275fac=function(we){return new(we||Ye)},Ye.\u0275mod=k.oAB({type:Ye}),Ye.\u0275inj=k.cJS({imports:[[R.vT,U.ez,ne.ud,ie.U8,L.PV,de.g,W.T]]}),Ye})()},1858:(un,ot,E)=>{"use strict";E.d(ot,{gR:()=>ee,dD:()=>P});var m=E(1957),R=E(3668),k=E(3405),Se=E(8735),le=E(6636),y=E(8805),ce=E(2325),q=E(8302),K=E(3398),H=E(2355),Y=E(6019),V=E(5142),j=E(8772),X=E(2077),xe=E(7867);function Q(ye,Te){if(1&ye){const he=R.EpF();R.TgZ(0,"nz-message",2),R.NdJ("destroyed",function(Re){return R.CHM(he),R.oxw().remove(Re.id,Re.userAction)}),R.qZA()}2&ye&&R.Q6J("instance",Te.$implicit)}function fe(ye,Te){1&ye&&R._UZ(0,"i",10)}function re(ye,Te){1&ye&&R._UZ(0,"i",11)}function ie(ye,Te){1&ye&&R._UZ(0,"i",12)}function ne(ye,Te){1&ye&&R._UZ(0,"i",13)}function de(ye,Te){1&ye&&R._UZ(0,"i",14)}function oe(ye,Te){if(1&ye&&(R.ynx(0),R._UZ(1,"span",15),R.BQk()),2&ye){const he=R.oxw();R.xp6(1),R.Q6J("innerHTML",he.instance.content,R.oJD)}}let Z=0,W=(()=>{class ye{constructor(he,me){this.cdr=he,this.nzConfigService=me,this.instances=[],this.destroy$=new k.xQ,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(he){const me=this.onCreate(he);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,me],this.readyInstances(),me}remove(he,me=!1){this.instances.some((Re,Le)=>Re.messageId===he&&(this.instances.splice(Le,1),this.instances=[...this.instances],this.onRemove(Re,me),this.readyInstances(),!0))}removeAll(){this.instances.forEach(he=>this.onRemove(he,!1)),this.instances=[],this.readyInstances()}onCreate(he){return he.options=this.mergeOptions(he.options),he.onClose=new k.xQ,he}onRemove(he,me){he.onClose.next(me),he.onClose.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(he){const{nzDuration:me,nzAnimate:Re,nzPauseOnHover:Le}=this.config;return Object.assign({nzDuration:me,nzAnimate:Re,nzPauseOnHover:Le},he)}}return ye.\u0275fac=function(he){return new(he||ye)(R.Y36(R.sBO),R.Y36(xe.jY))},ye.\u0275dir=R.lG2({type:ye}),ye})(),L=(()=>{class ye{constructor(he){this.cdr=he,this.destroyed=new R.vpe,this.animationStateChanged=new k.xQ,this.userAction=!1,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,Se.h)(he=>"done"===he.phaseName&&"leave"===he.toState),(0,le.q)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(he=!1){this.userAction=he,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:he})},200)):this.destroyed.next({id:this.instance.messageId,userAction:he})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}return ye.\u0275fac=function(he){return new(he||ye)(R.Y36(R.sBO))},ye.\u0275dir=R.lG2({type:ye}),ye})();const D="message",A={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let M=(()=>{class ye extends W{constructor(he,me){super(he,me),this.destroy$=new k.xQ,this.dir="ltr",this.instances=[];const Re=this.nzConfigService.getConfigForComponent(D);this.dir=(null==Re?void 0:Re.nzDirection)||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(D).pipe((0,y.R)(this.destroy$)).subscribe(()=>{this.updateConfig();const he=this.nzConfigService.getConfigForComponent(D);if(he){const{nzDirection:me}=he;this.dir=me||this.dir}})}updateConfig(){this.config=Object.assign(Object.assign(Object.assign({},A),this.config),this.nzConfigService.getConfigForComponent(D)),this.top=(0,K.WX)(this.config.nzTop),this.cdr.markForCheck()}}return ye.\u0275fac=function(he){return new(he||ye)(R.Y36(R.sBO),R.Y36(xe.jY))},ye.\u0275cmp=R.Xpm({type:ye,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[R.qOj],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(he,me){1&he&&(R.TgZ(0,"div",0),R.YNc(1,Q,1,1,"nz-message",1),R.qZA()),2&he&&(R.Udp("top",me.top),R.ekj("ant-message-rtl","rtl"===me.dir),R.xp6(1),R.Q6J("ngForOf",me.instances))},directives:function(){return[Y.sg,N]},encapsulation:2,changeDetection:0}),ye})(),C=(()=>{class ye{}return ye.\u0275fac=function(he){return new(he||ye)},ye.\u0275mod=R.oAB({type:ye}),ye.\u0275inj=R.cJS({}),ye})(),P=(()=>{class ye extends class{constructor(Te,he,me){this.nzSingletonService=Te,this.overlay=he,this.injector=me}remove(Te){this.container&&(Te?this.container.remove(Te):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${Z++}`}withContainer(Te){let he=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(he)return he;const me=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),Re=new m.C5(Te,null,this.injector),Le=me.attach(Re);return me.overlayElement.style.zIndex="1010",he||(this.container=he=Le.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,he)),he}}{constructor(he,me,Re){super(he,me,Re),this.componentPrefix="message-"}success(he,me){return this.createInstance({type:"success",content:he},me)}error(he,me){return this.createInstance({type:"error",content:he},me)}info(he,me){return this.createInstance({type:"info",content:he},me)}warning(he,me){return this.createInstance({type:"warning",content:he},me)}loading(he,me){return this.createInstance({type:"loading",content:he},me)}create(he,me,Re){return this.createInstance({type:he,content:me},Re)}createInstance(he,me){return this.container=this.withContainer(M),this.container.create(Object.assign(Object.assign({},he),{createdAt:new Date,messageId:this.getInstanceId(),options:me}))}}return ye.\u0275fac=function(he){return new(he||ye)(R.LFG(q.KV),R.LFG(ce.aV),R.LFG(R.zs3))},ye.\u0275prov=R.Yz7({factory:function(){return new ye(R.LFG(q.KV),R.LFG(ce.aV),R.LFG(R.gxx))},token:ye,providedIn:C}),ye})(),N=(()=>{class ye extends L{constructor(he){super(he),this.destroyed=new R.vpe}}return ye.\u0275fac=function(he){return new(he||ye)(R.Y36(R.sBO))},ye.\u0275cmp=R.Xpm({type:ye,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[R.qOj],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(he,me){1&he&&(R.TgZ(0,"div",0),R.NdJ("@moveUpMotion.done",function(Le){return me.animationStateChanged.next(Le)})("mouseenter",function(){return me.onEnter()})("mouseleave",function(){return me.onLeave()}),R.TgZ(1,"div",1),R.TgZ(2,"div",2),R.ynx(3,3),R.YNc(4,fe,1,0,"i",4),R.YNc(5,re,1,0,"i",5),R.YNc(6,ie,1,0,"i",6),R.YNc(7,ne,1,0,"i",7),R.YNc(8,de,1,0,"i",8),R.BQk(),R.YNc(9,oe,2,1,"ng-container",9),R.qZA(),R.qZA(),R.qZA()),2&he&&(R.Q6J("@moveUpMotion",me.instance.state),R.xp6(2),R.Q6J("ngClass","ant-message-"+me.instance.type),R.xp6(1),R.Q6J("ngSwitch",me.instance.type),R.xp6(1),R.Q6J("ngSwitchCase","success"),R.xp6(1),R.Q6J("ngSwitchCase","info"),R.xp6(1),R.Q6J("ngSwitchCase","warning"),R.xp6(1),R.Q6J("ngSwitchCase","error"),R.xp6(1),R.Q6J("ngSwitchCase","loading"),R.xp6(1),R.Q6J("nzStringTemplateOutlet",me.instance.content))},directives:[Y.mk,Y.RF,Y.n9,V.f,j.Ls],encapsulation:2,data:{animation:[X.YK]},changeDetection:0}),ye})(),ee=(()=>{class ye{}return ye.\u0275fac=function(he){return new(he||ye)},ye.\u0275mod=R.oAB({type:ye}),ye.\u0275inj=R.cJS({imports:[[H.vT,Y.ez,ce.U8,j.PV,V.T,C]]}),ye})()},3109:(un,ot,E)=>{"use strict";E.d(ot,{A2:()=>M,$O:()=>N,KJ:()=>ye});var m=E(2355),R=E(6019),k=E(3668),Se=E(5142),le=E(8772),y=E(4762),ce=E(3405),q=E(8805),K=E(8053),H=E(7867),Y=E(9987),V=E(6447);function j(Te,he){if(1&Te&&(k.ynx(0),k._UZ(1,"i",9),k.BQk()),2&Te){const me=he.$implicit,Re=k.oxw(2);k.xp6(1),k.Q6J("nzType",me||Re.getBackIcon())}}function X(Te,he){if(1&Te){const me=k.EpF();k.TgZ(0,"div",6),k.NdJ("click",function(){return k.CHM(me),k.oxw().onBack()}),k.TgZ(1,"div",7),k.YNc(2,j,2,1,"ng-container",8),k.qZA(),k.qZA()}if(2&Te){const me=k.oxw();k.xp6(2),k.Q6J("nzStringTemplateOutlet",me.nzBackIcon)}}function xe(Te,he){if(1&Te&&(k.ynx(0),k._uU(1),k.BQk()),2&Te){const me=k.oxw(2);k.xp6(1),k.Oqu(me.nzTitle)}}function Q(Te,he){if(1&Te&&(k.TgZ(0,"span",10),k.YNc(1,xe,2,1,"ng-container",8),k.qZA()),2&Te){const me=k.oxw();k.xp6(1),k.Q6J("nzStringTemplateOutlet",me.nzTitle)}}function fe(Te,he){1&Te&&k.Hsn(0,6,["*ngIf","!nzTitle"])}function re(Te,he){if(1&Te&&(k.ynx(0),k._uU(1),k.BQk()),2&Te){const me=k.oxw(2);k.xp6(1),k.Oqu(me.nzSubtitle)}}function ie(Te,he){if(1&Te&&(k.TgZ(0,"span",11),k.YNc(1,re,2,1,"ng-container",8),k.qZA()),2&Te){const me=k.oxw();k.xp6(1),k.Q6J("nzStringTemplateOutlet",me.nzSubtitle)}}function ne(Te,he){1&Te&&k.Hsn(0,7,["*ngIf","!nzSubtitle"])}const de=[[["nz-breadcrumb","nz-page-header-breadcrumb",""]],[["nz-avatar","nz-page-header-avatar",""]],[["nz-page-header-tags"],["","nz-page-header-tags",""]],[["nz-page-header-extra"],["","nz-page-header-extra",""]],[["nz-page-header-content"],["","nz-page-header-content",""]],[["nz-page-header-footer"],["","nz-page-header-footer",""]],[["nz-page-header-title"],["","nz-page-header-title",""]],[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]]],oe=["nz-breadcrumb[nz-page-header-breadcrumb]","nz-avatar[nz-page-header-avatar]","nz-page-header-tags, [nz-page-header-tags]","nz-page-header-extra, [nz-page-header-extra]","nz-page-header-content, [nz-page-header-content]","nz-page-header-footer, [nz-page-header-footer]","nz-page-header-title, [nz-page-header-title]","nz-page-header-subtitle, [nz-page-header-subtitle]"];let A=(()=>{class Te{}return Te.\u0275fac=function(me){return new(me||Te)},Te.\u0275dir=k.lG2({type:Te,selectors:[["nz-page-header-footer"],["","nz-page-header-footer",""]],hostAttrs:[1,"ant-page-header-footer"],exportAs:["nzPageHeaderFooter"]}),Te})(),M=(()=>{class Te{}return Te.\u0275fac=function(me){return new(me||Te)},Te.\u0275dir=k.lG2({type:Te,selectors:[["nz-breadcrumb","nz-page-header-breadcrumb",""]],exportAs:["nzPageHeaderBreadcrumb"]}),Te})(),N=(()=>{class Te{constructor(me,Re,Le,Je,Oe,Ve){this.location=me,this.nzConfigService=Re,this.elementRef=Le,this.nzResizeObserver=Je,this.cdr=Oe,this.directionality=Ve,this._nzModuleName="pageHeader",this.nzBackIcon=null,this.nzGhost=!0,this.nzBack=new k.vpe,this.compact=!1,this.destroy$=new ce.xQ,this.dir="ltr"}ngOnInit(){var me;null===(me=this.directionality.change)||void 0===me||me.pipe((0,q.R)(this.destroy$)).subscribe(Re=>{this.dir=Re,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,K.U)(([me])=>me.contentRect.width),(0,q.R)(this.destroy$)).subscribe(me=>{this.compact=me<768,this.cdr.markForCheck()})}onBack(){if(this.nzBack.observers.length)this.nzBack.emit();else{if(!this.location)throw new Error(`${Y.Bq} you should import 'RouterModule' or register 'Location' if you want to use 'nzBack' default event!`);this.location.back()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getBackIcon(){return"rtl"===this.dir?"arrow-right":"arrow-left"}}return Te.\u0275fac=function(me){return new(me||Te)(k.Y36(R.Ye,8),k.Y36(H.jY),k.Y36(k.SBq),k.Y36(V.D3),k.Y36(k.sBO),k.Y36(m.Is,8))},Te.\u0275cmp=k.Xpm({type:Te,selectors:[["nz-page-header"]],contentQueries:function(me,Re,Le){if(1&me&&(k.Suo(Le,A,5),k.Suo(Le,M,5)),2&me){let Je;k.iGM(Je=k.CRH())&&(Re.nzPageHeaderFooter=Je.first),k.iGM(Je=k.CRH())&&(Re.nzPageHeaderBreadcrumb=Je.first)}},hostAttrs:[1,"ant-page-header"],hostVars:10,hostBindings:function(me,Re){2&me&&k.ekj("has-footer",Re.nzPageHeaderFooter)("ant-page-header-ghost",Re.nzGhost)("has-breadcrumb",Re.nzPageHeaderBreadcrumb)("ant-page-header-compact",Re.compact)("ant-page-header-rtl","rtl"===Re.dir)},inputs:{nzBackIcon:"nzBackIcon",nzGhost:"nzGhost",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle"},outputs:{nzBack:"nzBack"},exportAs:["nzPageHeader"],ngContentSelectors:oe,decls:13,vars:5,consts:[[1,"ant-page-header-heading"],[1,"ant-page-header-heading-left"],["class","ant-page-header-back",3,"click",4,"ngIf"],["class","ant-page-header-heading-title",4,"ngIf"],[4,"ngIf"],["class","ant-page-header-heading-sub-title",4,"ngIf"],[1,"ant-page-header-back",3,"click"],["role","button","tabindex","0",1,"ant-page-header-back-button"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"],[1,"ant-page-header-heading-title"],[1,"ant-page-header-heading-sub-title"]],template:function(me,Re){1&me&&(k.F$t(de),k.Hsn(0),k.TgZ(1,"div",0),k.TgZ(2,"div",1),k.YNc(3,X,3,1,"div",2),k.Hsn(4,1),k.YNc(5,Q,2,1,"span",3),k.YNc(6,fe,1,0,"ng-content",4),k.YNc(7,ie,2,1,"span",5),k.YNc(8,ne,1,0,"ng-content",4),k.Hsn(9,2),k.qZA(),k.Hsn(10,3),k.qZA(),k.Hsn(11,4),k.Hsn(12,5)),2&me&&(k.xp6(3),k.Q6J("ngIf",null!==Re.nzBackIcon),k.xp6(2),k.Q6J("ngIf",Re.nzTitle),k.xp6(1),k.Q6J("ngIf",!Re.nzTitle),k.xp6(1),k.Q6J("ngIf",Re.nzSubtitle),k.xp6(1),k.Q6J("ngIf",!Re.nzSubtitle))},directives:[R.O5,Se.f,le.Ls],encapsulation:2,changeDetection:0}),(0,y.gn)([(0,H.oS)()],Te.prototype,"nzGhost",void 0),Te})(),ye=(()=>{class Te{}return Te.\u0275fac=function(me){return new(me||Te)},Te.\u0275mod=k.oAB({type:Te}),Te.\u0275inj=k.cJS({imports:[[m.vT,R.ez,Se.T,le.PV]]}),Te})()},2953:(un,ot,E)=>{"use strict";E.d(ot,{xw:()=>qa,cj:()=>ti,xH:()=>ho,we:()=>Ot});var m=E(3668),R=E(9555);const k=["moz","ms","webkit"],ce=function(){if("undefined"==typeof window)return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const Ce=k.filter(He=>`${He}RequestAnimationFrame`in window)[0];return Ce?window[`${Ce}RequestAnimationFrame`]:function(){let Ce=0;return function(He){const _e=(new Date).getTime(),ae=Math.max(0,16-(_e-Ce)),ge=setTimeout(()=>{He(_e+ae)},ae);return Ce=_e+ae,ge}}()}();var q=E(6019),K=E(3405),H=E(1346),Y=E(4099),V=E(2411),j=E(1865),X=E(5722),xe=E(4168),Q=E(8178);class re{constructor(He,_e){this.dueTime=He,this.scheduler=_e}call(He,_e){return _e.subscribe(new ie(He,this.dueTime,this.scheduler))}}class ie extends xe.L{constructor(He,_e,ae){super(He),this.dueTime=_e,this.scheduler=ae,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(He){this.clearDebounce(),this.lastValue=He,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ne,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:He}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(He)}}clearDebounce(){const He=this.debouncedSubscription;null!==He&&(this.remove(He),He.unsubscribe(),this.debouncedSubscription=null)}}function ne(Ce){Ce.debouncedNext()}var de=E(8735),oe=E(8053);E(6636);class W{constructor(He){this.total=He}call(He,_e){return _e.subscribe(new L(He,this.total))}}class L extends xe.L{constructor(He,_e){super(He),this.total=_e,this.count=0}_next(He){++this.count>this.total&&this.destination.next(He)}}var D=E(5389),A=E(8805),M=E(5139),C=E(1069);E(5548);let N=(()=>{class Ce{create(_e){return"undefined"==typeof MutationObserver?null:new MutationObserver(_e)}}return Ce.\u0275fac=function(_e){return new(_e||Ce)},Ce.\u0275prov=m.Yz7({factory:function(){return new Ce},token:Ce,providedIn:"root"}),Ce})(),Te=(()=>{class Ce{}return Ce.\u0275fac=function(_e){return new(_e||Ce)},Ce.\u0275mod=m.oAB({type:Ce}),Ce.\u0275inj=m.cJS({providers:[N]}),Ce})();class gn extends class{constructor(He){this._items=He,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new K.xQ,this._typeaheadSubscription=H.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=_e=>_e.disabled,this._pressedLetters=[],this.tabOut=new K.xQ,this.change=new K.xQ,He instanceof m.n_E&&He.changes.subscribe(_e=>{if(this._activeItem){const ge=_e.toArray().indexOf(this._activeItem);ge>-1&&ge!==this._activeItemIndex&&(this._activeItemIndex=ge)}})}skipPredicate(He){return this._skipPredicateFn=He,this}withWrap(He=!0){return this._wrap=He,this}withVerticalOrientation(He=!0){return this._vertical=He,this}withHorizontalOrientation(He){return this._horizontal=He,this}withAllowedModifierKeys(He){return this._allowedModifierKeys=He,this}withTypeAhead(He=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,X.b)(_e=>this._pressedLetters.push(_e)),function(Ce,He=Q.P){return _e=>_e.lift(new re(Ce,He))}(He),(0,de.h)(()=>this._pressedLetters.length>0),(0,oe.U)(()=>this._pressedLetters.join(""))).subscribe(_e=>{const ae=this._getItemsArray();for(let ge=1;ge<ae.length+1;ge++){const De=(this._activeItemIndex+ge)%ae.length,gt=ae[De];if(!this._skipPredicateFn(gt)&&0===gt.getLabel().toUpperCase().trim().indexOf(_e)){this.setActiveItem(De);break}}this._pressedLetters=[]}),this}withHomeAndEnd(He=!0){return this._homeAndEnd=He,this}setActiveItem(He){const _e=this._activeItem;this.updateActiveItem(He),this._activeItem!==_e&&this.change.next(this._activeItemIndex)}onKeydown(He){const _e=He.keyCode,ge=["altKey","ctrlKey","metaKey","shiftKey"].every(De=>!He[De]||this._allowedModifierKeys.indexOf(De)>-1);switch(_e){case j.Mf:return void this.tabOut.next();case j.JH:if(this._vertical&&ge){this.setNextItemActive();break}return;case j.LH:if(this._vertical&&ge){this.setPreviousItemActive();break}return;case j.SV:if(this._horizontal&&ge){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case j.oh:if(this._horizontal&&ge){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case j.Sd:if(this._homeAndEnd&&ge){this.setFirstItemActive();break}return;case j.uR:if(this._homeAndEnd&&ge){this.setLastItemActive();break}return;default:return void((ge||(0,j.Vb)(He,"shiftKey"))&&(He.key&&1===He.key.length?this._letterKeyStream.next(He.key.toLocaleUpperCase()):(_e>=j.A&&_e<=j.Z||_e>=j.xE&&_e<=j.aO)&&this._letterKeyStream.next(String.fromCharCode(_e))))}this._pressedLetters=[],He.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(He){const _e=this._getItemsArray(),ae="number"==typeof He?He:_e.indexOf(He),ge=_e[ae];this._activeItem=null==ge?null:ge,this._activeItemIndex=ae}_setActiveItemByDelta(He){this._wrap?this._setActiveInWrapMode(He):this._setActiveInDefaultMode(He)}_setActiveInWrapMode(He){const _e=this._getItemsArray();for(let ae=1;ae<=_e.length;ae++){const ge=(this._activeItemIndex+He*ae+_e.length)%_e.length;if(!this._skipPredicateFn(_e[ge]))return void this.setActiveItem(ge)}}_setActiveInDefaultMode(He){this._setActiveItemByIndex(this._activeItemIndex+He,He)}_setActiveItemByIndex(He,_e){const ae=this._getItemsArray();if(ae[He]){for(;this._skipPredicateFn(ae[He]);)if(!ae[He+=_e])return;this.setActiveItem(He)}}_getItemsArray(){return this._items instanceof m.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(He){return this._origin=He,this}setActiveItem(He){super.setActiveItem(He),this.activeItem&&this.activeItem.focus(this._origin)}}"undefined"!=typeof Element&&Element;const Zt=new m.OlP("cdk-input-modality-detector-options"),er={ignoreKeys:[j.zL,j.jx,j.b2,j.MW,j.JU]},dr=(0,C.i$)({passive:!0,capture:!0});let pr=(()=>{class Ce{constructor(_e,ae,ge,De){this._platform=_e,this._mostRecentTarget=null,this._modality=new Y.X(null),this._lastTouchMs=0,this._onKeydown=gt=>{var En,or;(null===(or=null===(En=this._options)||void 0===En?void 0:En.ignoreKeys)||void 0===or?void 0:or.some(Wr=>Wr===gt.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,C.sA)(gt))},this._onMousedown=gt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(Ce){return 0===Ce.offsetX&&0===Ce.offsetY}(gt)?"keyboard":"mouse"),this._mostRecentTarget=(0,C.sA)(gt))},this._onTouchstart=gt=>{!function(Ce){const He=Ce.touches&&Ce.touches[0]||Ce.changedTouches&&Ce.changedTouches[0];return!(!He||-1!==He.identifier||null!=He.radiusX&&1!==He.radiusX||null!=He.radiusY&&1!==He.radiusY)}(gt)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,C.sA)(gt)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},er),De),this.modalityDetected=this._modality.pipe(He=>He.lift(new W(1))),this.modalityChanged=this.modalityDetected.pipe((0,D.x)()),_e.isBrowser&&ae.runOutsideAngular(()=>{ge.addEventListener("keydown",this._onKeydown,dr),ge.addEventListener("mousedown",this._onMousedown,dr),ge.addEventListener("touchstart",this._onTouchstart,dr)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dr),document.removeEventListener("mousedown",this._onMousedown,dr),document.removeEventListener("touchstart",this._onTouchstart,dr))}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.LFG(C.t4),m.LFG(m.R0b),m.LFG(q.K0),m.LFG(Zt,8))},Ce.\u0275prov=m.Yz7({factory:function(){return new Ce(m.LFG(C.t4),m.LFG(m.R0b),m.LFG(q.K0),m.LFG(Zt,8))},token:Ce,providedIn:"root"}),Ce})();const wi=new m.OlP("cdk-focus-monitor-default-options"),yr=(0,C.i$)({passive:!0,capture:!0});let Ti=(()=>{class Ce{constructor(_e,ae,ge,De,gt){this._ngZone=_e,this._platform=ae,this._inputModalityDetector=ge,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new K.xQ,this._rootNodeFocusAndBlurListener=En=>{const or=(0,C.sA)(En),Wr="focus"===En.type?this._onFocus:this._onBlur;for(let _i=or;_i;_i=_i.parentElement)Wr.call(this,En,_i)},this._document=De,this._detectionMode=(null==gt?void 0:gt.detectionMode)||0}monitor(_e,ae=!1){const ge=(0,M.fI)(_e);if(!this._platform.isBrowser||1!==ge.nodeType)return(0,V.of)(null);const De=(0,C.kV)(ge)||this._getDocument(),gt=this._elementInfo.get(ge);if(gt)return ae&&(gt.checkChildren=!0),gt.subject;const En={checkChildren:ae,subject:new K.xQ,rootNode:De};return this._elementInfo.set(ge,En),this._registerGlobalListeners(En),En.subject}stopMonitoring(_e){const ae=(0,M.fI)(_e),ge=this._elementInfo.get(ae);ge&&(ge.subject.complete(),this._setClasses(ae),this._elementInfo.delete(ae),this._removeGlobalListeners(ge))}focusVia(_e,ae,ge){const De=(0,M.fI)(_e);De===this._getDocument().activeElement?this._getClosestElementsInfo(De).forEach(([En,or])=>this._originChanged(En,ae,or)):(this._setOrigin(ae),"function"==typeof De.focus&&De.focus(ge))}ngOnDestroy(){this._elementInfo.forEach((_e,ae)=>this.stopMonitoring(ae))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(_e,ae,ge){ge?_e.classList.add(ae):_e.classList.remove(ae)}_getFocusOrigin(_e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(_e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(_e){return 1===this._detectionMode||!!(null==_e?void 0:_e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(_e,ae){this._toggleClass(_e,"cdk-focused",!!ae),this._toggleClass(_e,"cdk-touch-focused","touch"===ae),this._toggleClass(_e,"cdk-keyboard-focused","keyboard"===ae),this._toggleClass(_e,"cdk-mouse-focused","mouse"===ae),this._toggleClass(_e,"cdk-program-focused","program"===ae)}_setOrigin(_e,ae=!1){this._ngZone.runOutsideAngular(()=>{this._origin=_e,this._originFromTouchInteraction="touch"===_e&&ae,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(_e,ae){const ge=this._elementInfo.get(ae),De=(0,C.sA)(_e);!ge||!ge.checkChildren&&ae!==De||this._originChanged(ae,this._getFocusOrigin(De),ge)}_onBlur(_e,ae){const ge=this._elementInfo.get(ae);!ge||ge.checkChildren&&_e.relatedTarget instanceof Node&&ae.contains(_e.relatedTarget)||(this._setClasses(ae),this._emitOrigin(ge.subject,null))}_emitOrigin(_e,ae){this._ngZone.run(()=>_e.next(ae))}_registerGlobalListeners(_e){if(!this._platform.isBrowser)return;const ae=_e.rootNode,ge=this._rootNodeFocusListenerCount.get(ae)||0;ge||this._ngZone.runOutsideAngular(()=>{ae.addEventListener("focus",this._rootNodeFocusAndBlurListener,yr),ae.addEventListener("blur",this._rootNodeFocusAndBlurListener,yr)}),this._rootNodeFocusListenerCount.set(ae,ge+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,A.R)(this._stopInputModalityDetector)).subscribe(De=>{this._setOrigin(De,!0)}))}_removeGlobalListeners(_e){const ae=_e.rootNode;if(this._rootNodeFocusListenerCount.has(ae)){const ge=this._rootNodeFocusListenerCount.get(ae);ge>1?this._rootNodeFocusListenerCount.set(ae,ge-1):(ae.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yr),ae.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yr),this._rootNodeFocusListenerCount.delete(ae))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(_e,ae,ge){this._setClasses(_e,ae),this._emitOrigin(ge.subject,ae),this._lastFocusOrigin=ae}_getClosestElementsInfo(_e){const ae=[];return this._elementInfo.forEach((ge,De)=>{(De===_e||ge.checkChildren&&De.contains(_e))&&ae.push([De,ge])}),ae}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.LFG(m.R0b),m.LFG(C.t4),m.LFG(pr),m.LFG(q.K0,8),m.LFG(wi,8))},Ce.\u0275prov=m.Yz7({factory:function(){return new Ce(m.LFG(m.R0b),m.LFG(C.t4),m.LFG(pr),m.LFG(q.K0,8),m.LFG(wi,8))},token:Ce,providedIn:"root"}),Ce})(),$n=(()=>{class Ce{constructor(_e,ae){this._elementRef=_e,this._focusMonitor=ae,this.cdkFocusChange=new m.vpe}ngAfterViewInit(){const _e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(_e,1===_e.nodeType&&_e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ae=>this.cdkFocusChange.emit(ae))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(m.SBq),m.Y36(Ti))},Ce.\u0275dir=m.lG2({type:Ce,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),Ce})();const gr="cdk-high-contrast-black-on-white",Ur="cdk-high-contrast-white-on-black",_r="cdk-high-contrast-active";let Zr=(()=>{class Ce{constructor(_e,ae){this._platform=_e,this._document=ae}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const _e=this._document.createElement("div");_e.style.backgroundColor="rgb(1,2,3)",_e.style.position="absolute",this._document.body.appendChild(_e);const ae=this._document.defaultView||window,ge=ae&&ae.getComputedStyle?ae.getComputedStyle(_e):null,De=(ge&&ge.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(_e),De){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const _e=this._document.body.classList;_e.remove(_r),_e.remove(gr),_e.remove(Ur),this._hasCheckedHighContrastMode=!0;const ae=this.getHighContrastMode();1===ae?(_e.add(_r),_e.add(gr)):2===ae&&(_e.add(_r),_e.add(Ur))}}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.LFG(C.t4),m.LFG(q.K0))},Ce.\u0275prov=m.Yz7({factory:function(){return new Ce(m.LFG(C.t4),m.LFG(q.K0))},token:Ce,providedIn:"root"}),Ce})(),Ei=(()=>{class Ce{constructor(_e){_e._applyBodyHighContrastModeCssClasses()}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.LFG(Zr))},Ce.\u0275mod=m.oAB({type:Ce}),Ce.\u0275inj=m.cJS({imports:[[C.ud,Te]]}),Ce})();var va=E(2355),Fa=E(8548),oa=E(2907),zn=E(8526),xn=E(6087),Rn=E(9307);class Jr{constructor(He,_e){this.delay=He,this.scheduler=_e}call(He,_e){return _e.subscribe(new jr(He,this.delay,this.scheduler))}}class jr extends xe.L{constructor(He,_e,ae){super(He),this.delay=_e,this.scheduler=ae,this.queue=[],this.active=!1,this.errored=!1}static dispatch(He){const _e=He.source,ae=_e.queue,ge=He.scheduler,De=He.destination;for(;ae.length>0&&ae[0].time-ge.now()<=0;)ae.shift().notification.observe(De);if(ae.length>0){const gt=Math.max(0,ae[0].time-ge.now());this.schedule(He,gt)}else this.unsubscribe(),_e.active=!1}_schedule(He){this.active=!0,this.destination.add(He.schedule(jr.dispatch,this.delay,{source:this,destination:this.destination,scheduler:He}))}scheduleNotification(He){if(!0===this.errored)return;const _e=this.scheduler,ae=new Wi(_e.now()+this.delay,He);this.queue.push(ae),!1===this.active&&this._schedule(_e)}_next(He){this.scheduleNotification(Rn.P.createNext(He))}_error(He){this.errored=!0,this.queue=[],this.destination.error(He),this.unsubscribe()}_complete(){this.scheduleNotification(Rn.P.createComplete()),this.unsubscribe()}}class Wi{constructor(He,_e){this.time=He,this.notification=_e}}var pa=E(1506),Hi=E(1125),di=E(739),fr=E(4762),sa=E(3398),gi=E(8223),kt=E(6007),tn=E(5142),St=E(7585),An=E(8772),Kn=E(7867),sr=E(9987),Rr=E(4696),kr=E(6447);function Fr(Ce,He){if(1&Ce&&(m.ynx(0),m._UZ(1,"i",1),m.BQk()),2&Ce){const _e=He.$implicit;m.xp6(1),m.Q6J("nzType",_e)}}function ri(Ce,He){if(1&Ce&&(m.ynx(0),m._uU(1),m.BQk()),2&Ce){const _e=m.oxw().$implicit;m.xp6(1),m.hij(" ",_e.tab.label," ")}}const Oi=function(){return{visible:!1}};function Xt(Ce,He){if(1&Ce){const _e=m.EpF();m.TgZ(0,"li",8),m.NdJ("click",function(){const De=m.CHM(_e).$implicit;return m.oxw(2).onSelect(De)})("contextmenu",function(ge){const gt=m.CHM(_e).$implicit;return m.oxw(2).onContextmenu(gt,ge)}),m.YNc(1,ri,2,1,"ng-container",9),m.qZA()}if(2&Ce){const _e=He.$implicit;m.ekj("ant-tabs-dropdown-menu-item-disabled",_e.disabled),m.Q6J("nzSelected",_e.active)("nzDisabled",_e.disabled),m.xp6(1),m.Q6J("nzStringTemplateOutlet",_e.tab.label)("nzStringTemplateOutletContext",m.DdM(6,Oi))}}function Or(Ce,He){if(1&Ce&&(m.TgZ(0,"ul",6),m.YNc(1,Xt,2,7,"li",7),m.qZA()),2&Ce){const _e=m.oxw();m.xp6(1),m.Q6J("ngForOf",_e.items)}}function Qn(Ce,He){if(1&Ce){const _e=m.EpF();m.TgZ(0,"button",10),m.NdJ("click",function(){return m.CHM(_e),m.oxw().addClicked.emit()}),m.qZA()}if(2&Ce){const _e=m.oxw();m.Q6J("addIcon",_e.addIcon)}}const xr=function(){return{minWidth:"46px"}},Ii=["navWarp"],Ji=["navList"];function br(Ce,He){if(1&Ce){const _e=m.EpF();m.TgZ(0,"button",8),m.NdJ("click",function(){return m.CHM(_e),m.oxw().addClicked.emit()}),m.qZA()}if(2&Ce){const _e=m.oxw();m.Q6J("addIcon",_e.addIcon)}}function xo(Ce,He){}function qi(Ce,He){if(1&Ce&&(m.TgZ(0,"div",9),m.YNc(1,xo,0,0,"ng-template",10),m.qZA()),2&Ce){const _e=m.oxw();m.xp6(1),m.Q6J("ngTemplateOutlet",_e.extraTemplate)}}const Ar=["*"],ii=["nz-tab-body",""];function Pn(Ce,He){}function Sa(Ce,He){if(1&Ce&&(m.ynx(0),m.YNc(1,Pn,0,0,"ng-template",1),m.BQk()),2&Ce){const _e=m.oxw();m.xp6(1),m.Q6J("ngTemplateOutlet",_e.content)}}function Ja(Ce,He){if(1&Ce&&(m.ynx(0),m._UZ(1,"i",1),m.BQk()),2&Ce){const _e=He.$implicit;m.xp6(1),m.Q6J("nzType",_e)}}const bo=["contentTemplate"];function Ls(Ce,He){1&Ce&&m.Hsn(0)}function Cs(Ce,He){1&Ce&&m.Hsn(0,1)}const hs=[[["","nz-tab-link",""]],"*"],ds=["[nz-tab-link]","*"];function fs(Ce,He){if(1&Ce&&(m.ynx(0),m._uU(1),m.BQk()),2&Ce){const _e=m.oxw().$implicit;m.xp6(1),m.Oqu(_e.label)}}function Xo(Ce,He){if(1&Ce){const _e=m.EpF();m.TgZ(0,"button",10),m.NdJ("click",function(ge){m.CHM(_e);const De=m.oxw().index;return m.oxw(2).onClose(De,ge)}),m.qZA()}if(2&Ce){const _e=m.oxw().$implicit;m.Q6J("closeIcon",_e.nzCloseIcon)}}const es=function(){return{visible:!0}};function Mo(Ce,He){if(1&Ce){const _e=m.EpF();m.TgZ(0,"div",6),m.NdJ("click",function(ge){const De=m.CHM(_e),gt=De.$implicit,En=De.index;return m.oxw(2).clickNavItem(gt,En,ge)})("contextmenu",function(ge){const gt=m.CHM(_e).$implicit;return m.oxw(2).contextmenuNavItem(gt,ge)}),m.TgZ(1,"div",7),m.YNc(2,fs,2,1,"ng-container",8),m.YNc(3,Xo,1,1,"button",9),m.qZA(),m.qZA()}if(2&Ce){const _e=He.$implicit,ae=He.index,ge=m.oxw(2);m.Udp("margin-right","horizontal"===ge.position?ge.nzTabBarGutter:null,"px")("margin-bottom","vertical"===ge.position?ge.nzTabBarGutter:null,"px"),m.ekj("ant-tabs-tab-active",ge.nzSelectedIndex===ae)("ant-tabs-tab-disabled",_e.nzDisabled),m.xp6(1),m.Q6J("disabled",_e.nzDisabled)("tab",_e)("active",ge.nzSelectedIndex===ae),m.uIk("tabIndex",ge.getTabIndex(_e,ae))("aria-disabled",_e.nzDisabled)("aria-selected",ge.nzSelectedIndex===ae&&!ge.nzHideAll)("aria-controls",ge.getTabContentId(ae)),m.xp6(1),m.Q6J("nzStringTemplateOutlet",_e.label)("nzStringTemplateOutletContext",m.DdM(18,es)),m.xp6(1),m.Q6J("ngIf",_e.nzClosable&&ge.closable&&!_e.nzDisabled)}}function Yi(Ce,He){if(1&Ce){const _e=m.EpF();m.TgZ(0,"nz-tabs-nav",4),m.NdJ("tabScroll",function(ge){return m.CHM(_e),m.oxw().nzTabListScroll.emit(ge)})("selectFocusedIndex",function(ge){return m.CHM(_e),m.oxw().setSelectedIndex(ge)})("addClicked",function(){return m.CHM(_e),m.oxw().onAdd()}),m.YNc(1,Mo,4,19,"div",5),m.qZA()}if(2&Ce){const _e=m.oxw();m.Q6J("ngStyle",_e.nzTabBarStyle)("selectedIndex",_e.nzSelectedIndex||0)("inkBarAnimated",_e.inkBarAnimated)("addable",_e.addable)("addIcon",_e.nzAddIcon)("hideBar",_e.nzHideAll)("position",_e.position)("extraTemplate",_e.nzTabBarExtraContent),m.xp6(1),m.Q6J("ngForOf",_e.tabs)}}function no(Ce,He){if(1&Ce&&m._UZ(0,"div",11),2&Ce){const _e=He.$implicit,ae=He.index,ge=m.oxw();m.Q6J("active",ge.nzSelectedIndex===ae&&!ge.nzHideAll)("content",_e.content)("forceRender",_e.nzForceRender)("tabPaneAnimated",ge.tabPaneAnimated)}}let ei=(()=>{class Ce{constructor(_e){this.elementRef=_e,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){var _e;return(null===(_e=this.element)||void 0===_e?void 0:_e.offsetWidth)||0}getElementHeight(){var _e;return(null===(_e=this.element)||void 0===_e?void 0:_e.offsetHeight)||0}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(m.SBq))},Ce.\u0275cmp=m.Xpm({type:Ce,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(_e,ae){1&_e&&m.YNc(0,Fr,2,1,"ng-container",0),2&_e&&m.Q6J("nzStringTemplateOutlet",ae.addIcon)},directives:[tn.f,An.Ls],encapsulation:2}),Ce})(),Aa=(()=>{class Ce{constructor(_e,ae,ge){this.elementRef=_e,this.ngZone=ae,this.animationMode=ge,this.position="horizontal",this.animated=!0}get _animated(){return"NoopAnimations"!==this.animationMode&&this.animated}alignToElement(_e){this.ngZone.runOutsideAngular(()=>{ce(()=>this.setStyles(_e))})}setStyles(_e){const ae=this.elementRef.nativeElement;"horizontal"===this.position?(ae.style.top="",ae.style.height="",ae.style.left=this.getLeftPosition(_e),ae.style.width=this.getElementWidth(_e)):(ae.style.left="",ae.style.width="",ae.style.top=this.getTopPosition(_e),ae.style.height=this.getElementHeight(_e))}getLeftPosition(_e){return _e?`${_e.offsetLeft||0}px`:"0"}getElementWidth(_e){return _e?`${_e.offsetWidth||0}px`:"0"}getTopPosition(_e){return _e?`${_e.offsetTop||0}px`:"0"}getElementHeight(_e){return _e?`${_e.offsetHeight||0}px`:"0"}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(R.Qb,8))},Ce.\u0275dir=m.lG2({type:Ce,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(_e,ae){2&_e&&m.ekj("ant-tabs-ink-bar-animated",ae._animated)},inputs:{position:"position",animated:"animated"}}),Ce})(),ro=(()=>{class Ce{constructor(_e){this.elementRef=_e,this.disabled=!1,this.active=!1,this.el=_e.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(m.SBq))},Ce.\u0275dir=m.lG2({type:Ce,selectors:[["","nzTabNavItem",""]],inputs:{disabled:"disabled",active:"active",tab:"tab"}}),Ce})(),Ua=(()=>{class Ce{constructor(_e,ae){this.cdr=_e,this.elementRef=ae,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new m.vpe,this.selected=new m.vpe,this.closeAnimationWaitTimeoutId=-1,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(_e){_e.disabled||(_e.tab.nzClick.emit(),this.selected.emit(_e))}onContextmenu(_e,ae){_e.disabled||_e.tab.nzContextmenu.emit(ae)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(_e){_e||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){var _e;return(null===(_e=this.element)||void 0===_e?void 0:_e.offsetWidth)||0}getElementHeight(){var _e;return(null===(_e=this.element)||void 0===_e?void 0:_e.offsetHeight)||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(m.sBO),m.Y36(m.SBq))},Ce.\u0275cmp=m.Xpm({type:Ce,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(_e,ae){2&_e&&m.ekj("ant-tabs-nav-operations-hidden",0===ae.items.length)},inputs:{items:"items",addable:"addable",addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement","nzVisibleChange","mouseenter"],["dropdownTrigger","nzDropdown"],["nz-icon","","nzType","ellipsis"],["menu","nzDropdownMenu"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"nzSelected","nzDisabled","click","contextmenu"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"addIcon","click"]],template:function(_e,ae){if(1&_e&&(m.TgZ(0,"button",0,1),m.NdJ("nzVisibleChange",function(De){return ae.menuVisChange(De)})("mouseenter",function(){return ae.showItems()}),m._UZ(2,"i",2),m.qZA(),m.TgZ(3,"nz-dropdown-menu",null,3),m.YNc(5,Or,2,1,"ul",4),m.qZA(),m.YNc(6,Qn,1,1,"button",5)),2&_e){const ge=m.MAs(4);m.Q6J("nzDropdownMenu",ge)("nzOverlayStyle",m.DdM(5,xr))("nzMatchWidthElement",null),m.xp6(5),m.Q6J("ngIf",ae.menuOpened),m.xp6(1),m.Q6J("ngIf",ae.addable)}},directives:[St.cm,An.Ls,St.RR,q.O5,Rr.wO,q.sg,Rr.r9,tn.f,ei],encapsulation:2,changeDetection:0}),Ce})();const Gi="undefined"!=typeof requestAnimationFrame?Fa.r:oa.e;let $a=(()=>{class Ce{constructor(_e,ae,ge,De,gt){this.cdr=_e,this.ngZone=ae,this.viewportRuler=ge,this.nzResizeObserver=De,this.dir=gt,this.indexFocused=new m.vpe,this.selectFocusedIndex=new m.vpe,this.addClicked=new m.vpe,this.tabScroll=new m.vpe,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new K.xQ,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1,this.lockAnimationTimeoutId=-1,this.cssTransformTimeWaitingId=-1}get selectedIndex(){return this._selectedIndex}set selectedIndex(_e){const ae=(0,M.su)(_e);this._selectedIndex!==ae&&(this._selectedIndex=_e,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(_e))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(_e){!this.isValidIndex(_e)||this.focusIndex===_e||!this.keyManager||this.keyManager.setActiveItem(_e)}get showAddButton(){return 0===this.hiddenItems.length&&this.addable}ngAfterViewInit(){const _e=this.dir?this.dir.change:(0,V.of)(null),ae=this.viewportRuler.change(150),ge=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new gn(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),ce(ge),(0,zn.T)(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe((0,A.R)(this.destroy$),(0,pa.e)(16,Gi)).subscribe(()=>{ge()}),(0,zn.T)(_e,ae,this.items.changes).pipe((0,A.R)(this.destroy$)).subscribe(()=>{Promise.resolve().then(ge),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe((0,A.R)(this.destroy$)).subscribe(De=>{this.indexFocused.emit(De),this.setTabFocus(De),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(_e){const ae=this.items.toArray().findIndex(ge=>ge===_e);-1!==ae&&(this.keyManager.updateActiveItem(ae),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(_e)))}onOffsetChange(_e){if("horizontal"===this.position){if(-1===this.lockAnimationTimeoutId&&(this.transformX>=0&&_e.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&_e.x<0))return;_e.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+_e.x),this.setTransform(this.transformX,0)}else{if(-1===this.lockAnimationTimeoutId&&(this.transformY>=0&&_e.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&_e.y<0))return;_e.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+_e.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(_e){const ae=this.navWarpRef.nativeElement.contains(_e.target);if(!(0,j.Vb)(_e)&&ae)switch(_e.keyCode){case j.oh:case j.LH:case j.SV:case j.JH:this.lockAnimation(),this.keyManager.onKeydown(_e);break;case j.K5:case j.L_:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(_e)}}isValidIndex(_e){if(!this.items)return!0;const ae=this.items?this.items.toArray()[_e]:null;return!!ae&&!ae.disabled}scrollToTab(_e){if(!this.items.find(ge=>ge===_e))return;const ae=this.items.toArray();if("horizontal"===this.position){let ge=this.transformX;if("rtl"===this.getLayoutDirection()){const De=ae[0].left+ae[0].width-_e.left-_e.width;De<this.transformX?ge=De:De+_e.width>this.transformX+this.wrapperWidth&&(ge=De+_e.width-this.wrapperWidth)}else _e.left<-this.transformX?ge=-_e.left:_e.left+_e.width>-this.transformX+this.wrapperWidth&&(ge=-(_e.left+_e.width-this.wrapperWidth));this.transformX=ge,this.transformY=0,this.setTransform(ge,0)}else{let ge=this.transformY;_e.top<-this.transformY?ge=-_e.top:_e.top+_e.height>-this.transformY+this.wrapperHeight&&(ge=-(_e.top+_e.height-this.wrapperHeight)),this.transformY=ge,this.transformX=0,this.setTransform(0,ge)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},150)}lockAnimation(){-1===this.lockAnimationTimeoutId&&this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=-1},150)})}setTransform(_e,ae){this.navListRef.nativeElement.style.transform=`translate(${_e}px, ${ae}px)`}clampTransformX(_e){const ae=this.wrapperWidth-this.scrollListWidth;return"rtl"===this.getLayoutDirection()?Math.max(Math.min(ae,_e),0):Math.min(Math.max(ae,_e),0)}clampTransformY(_e){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,_e),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){const _e=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,ae=_e?_e.elementRef.nativeElement:null;ae&&this.inkBar.alignToElement(ae.parentElement)}setPingStatus(){const _e={top:!1,right:!1,bottom:!1,left:!1},ae=this.navWarpRef.nativeElement;"horizontal"===this.position?"rtl"===this.getLayoutDirection()?(_e.right=this.transformX>0,_e.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(_e.left=this.transformX<0,_e.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(_e.top=this.transformY<0,_e.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(_e).forEach(ge=>{const De=`ant-tabs-nav-wrap-ping-${ge}`;_e[ge]?ae.classList.add(De):ae.classList.remove(De)})}setVisibleRange(){let _e,ae,ge,De,gt,En;const or=this.items.toArray(),Wr={width:0,height:0,left:0,top:0,right:0},_i=ia=>{let io;return io="right"===ae?or[0].left+or[0].width-or[ia].left-or[ia].width:(or[ia]||Wr)[ae],io};"horizontal"===this.position?(_e="width",De=this.wrapperWidth,gt=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),En=this.addButtonWidth,ge=Math.abs(this.transformX),"rtl"===this.getLayoutDirection()?(ae="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,ae="left")):(_e="height",De=this.wrapperHeight,gt=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),En=this.addButtonHeight,ae="top",ge=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let Di=De;if(gt+En>De&&(Di=De-En),!or.length)return this.hiddenItems=[],void this.cdr.markForCheck();const Vi=or.length;let qr=Vi;for(let ia=0;ia<Vi;ia+=1)if(_i(ia)+(or[ia]||Wr)[_e]>ge+Di){qr=ia-1;break}let xi=0;for(let ia=Vi-1;ia>=0;ia-=1)if(_i(ia)<ge){xi=ia+1;break}const Kr=or.slice(0,xi),La=or.slice(qr+1);this.hiddenItems=[...Kr,...La],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}setTabFocus(_e){}ngOnChanges(_e){const{position:ae}=_e;ae&&!ae.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(kt.rL),m.Y36(kr.D3),m.Y36(va.Is,8))},Ce.\u0275cmp=m.Xpm({type:Ce,selectors:[["nz-tabs-nav"]],contentQueries:function(_e,ae,ge){if(1&_e&&m.Suo(ge,ro,5),2&_e){let De;m.iGM(De=m.CRH())&&(ae.items=De)}},viewQuery:function(_e,ae){if(1&_e&&(m.Gf(Ii,7),m.Gf(Ji,7),m.Gf(Ua,7),m.Gf(ei,5),m.Gf(Aa,7)),2&_e){let ge;m.iGM(ge=m.CRH())&&(ae.navWarpRef=ge.first),m.iGM(ge=m.CRH())&&(ae.navListRef=ge.first),m.iGM(ge=m.CRH())&&(ae.operationRef=ge.first),m.iGM(ge=m.CRH())&&(ae.addBtnRef=ge.first),m.iGM(ge=m.CRH())&&(ae.inkBar=ge.first)}},hostAttrs:["role","tablist",1,"ant-tabs-nav"],hostBindings:function(_e,ae){1&_e&&m.NdJ("keydown",function(De){return ae.handleKeydown(De)})},inputs:{position:"position",addable:"addable",hideBar:"hideBar",addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",selectedIndex:"selectedIndex",extraTemplate:"extraTemplate"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[m.TTD],ngContentSelectors:Ar,decls:9,vars:16,consts:[[1,"ant-tabs-nav-wrap"],["navWarp",""],["nzTabScrollList","",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["navList",""],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addIcon","addable","items","addClicked","selected"],["class","ant-tabs-extra-content",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(_e,ae){1&_e&&(m.F$t(),m.TgZ(0,"div",0,1),m.TgZ(2,"div",2,3),m.NdJ("offsetChange",function(De){return ae.onOffsetChange(De)})("tabScroll",function(De){return ae.tabScroll.emit(De)}),m.Hsn(4),m.YNc(5,br,1,1,"button",4),m._UZ(6,"div",5),m.qZA(),m.qZA(),m.TgZ(7,"nz-tab-nav-operation",6),m.NdJ("addClicked",function(){return ae.addClicked.emit()})("selected",function(De){return ae.onSelectedFromMenu(De)}),m.qZA(),m.YNc(8,qi,2,1,"div",7)),2&_e&&(m.ekj("ant-tabs-nav-wrap-ping-left",ae.pingLeft)("ant-tabs-nav-wrap-ping-right",ae.pingRight)("ant-tabs-nav-wrap-ping-top",ae.pingTop)("ant-tabs-nav-wrap-ping-bottom",ae.pingBottom),m.xp6(5),m.Q6J("ngIf",ae.showAddButton),m.xp6(1),m.Q6J("hidden",ae.hideBar)("position",ae.position)("animated",ae.inkBarAnimated),m.xp6(1),m.Q6J("addIcon",ae.addIcon)("addable",ae.addable)("items",ae.hiddenItems),m.xp6(1),m.Q6J("ngIf",ae.extraTemplate))},directives:function(){return[zr,q.O5,Aa,Ua,ei,q.tP]},encapsulation:2,changeDetection:0}),Ce})(),Tr=(()=>{class Ce{constructor(){this.content=null,this.active=!1,this.tabPaneAnimated=!0,this.forceRender=!1}}return Ce.\u0275fac=function(_e){return new(_e||Ce)},Ce.\u0275cmp=m.Xpm({type:Ce,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:12,hostBindings:function(_e,ae){2&_e&&(m.uIk("tabindex",ae.active?0:-1)("aria-hidden",!ae.active),m.Udp("visibility",ae.tabPaneAnimated?ae.active?null:"hidden":null)("height",ae.tabPaneAnimated?ae.active?null:0:null)("overflow-y",ae.tabPaneAnimated?ae.active?null:"none":null)("display",ae.tabPaneAnimated||ae.active?null:"none"),m.ekj("ant-tabs-tabpane-active",ae.active))},inputs:{content:"content",active:"active",tabPaneAnimated:"tabPaneAnimated",forceRender:"forceRender"},exportAs:["nzTabBody"],attrs:ii,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(_e,ae){1&_e&&m.YNc(0,Sa,2,1,"ng-container",0),2&_e&&m.Q6J("ngIf",ae.active||ae.forceRender)},directives:[q.O5,q.tP],encapsulation:2,changeDetection:0}),Ce})();const li=Math.pow(.995,20);let zr=(()=>{class Ce{constructor(_e,ae){this.ngZone=_e,this.elementRef=ae,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new m.vpe,this.tabScroll=new m.vpe,this.onTouchEnd=ge=>{if(!this.touchPosition)return;const De=this.lastOffset,gt=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,De){const En=De.x/gt,or=De.y/gt,Wr=Math.abs(En),_i=Math.abs(or);if(Math.max(Wr,_i)<.1)return;let Di=En,Vi=or;this.motion=window.setInterval(()=>{Math.abs(Di)<.01&&Math.abs(Vi)<.01?window.clearInterval(this.motion):(Di*=li,Vi*=li,this.onOffset(20*Di,20*Vi,ge))},20)}},this.onTouchMove=ge=>{if(!this.touchPosition)return;ge.preventDefault();const{screenX:De,screenY:gt}=ge.touches[0],En=De-this.touchPosition.x,or=gt-this.touchPosition.y;this.onOffset(En,or,ge);const Wr=Date.now();this.lastTimeDiff=Wr-this.lastTimestamp,this.lastTimestamp=Wr,this.lastOffset={x:En,y:or},this.touchPosition={x:De,y:gt}},this.onTouchStart=ge=>{const{screenX:De,screenY:gt}=ge.touches[0];this.touchPosition={x:De,y:gt},window.clearInterval(this.motion)},this.onWheel=ge=>{const{deltaX:De,deltaY:gt}=ge;let En;const or=Math.abs(De),Wr=Math.abs(gt);or===Wr?En="x"===this.lastWheelDirection?De:gt:or>Wr?(En=De,this.lastWheelDirection="x"):(En=gt,this.lastWheelDirection="y");const _i=Date.now(),Di=Math.abs(En);(_i-this.lastWheelTimestamp>100||Di-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-En,-En,ge),(ge.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=_i,this.lastMixedWheel=Di}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{const _e=this.elementRef.nativeElement,ae=(0,xn.R)(_e,"wheel"),ge=(0,xn.R)(_e,"touchstart"),De=(0,xn.R)(_e,"touchmove"),gt=(0,xn.R)(_e,"touchend"),En=new H.w;return En.add(this.subscribeWrap("wheel",ae,this.onWheel)),En.add(this.subscribeWrap("touchstart",ge,this.onTouchStart)),En.add(this.subscribeWrap("touchmove",De,this.onTouchMove)),En.add(this.subscribeWrap("touchend",gt,this.onTouchEnd)),()=>{En.unsubscribe()}})}subscribeWrap(_e,ae,ge){return ae.subscribe(De=>{this.tabScroll.emit({type:_e,event:De}),De.defaultPrevented||ge(De)})}onOffset(_e,ae,ge){this.ngZone.run(()=>{this.offsetChange.emit({x:_e,y:ae,event:ge})})}ngOnDestroy(){this.unsubscribe()}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(m.R0b),m.Y36(m.SBq))},Ce.\u0275dir=m.lG2({type:Ce,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}}),Ce})(),ta=(()=>{class Ce{constructor(){this.closeIcon="close"}}return Ce.\u0275fac=function(_e){return new(_e||Ce)},Ce.\u0275cmp=m.Xpm({type:Ce,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(_e,ae){1&_e&&m.YNc(0,Ja,2,1,"ng-container",0),2&_e&&m.Q6J("nzStringTemplateOutlet",ae.closeIcon)},directives:[tn.f,An.Ls],encapsulation:2}),Ce})(),Li=(()=>{class Ce{constructor(_e){this.templateRef=_e}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(m.Rgc,1))},Ce.\u0275dir=m.lG2({type:Ce,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]}),Ce})(),zi=(()=>{class Ce{constructor(_e,ae,ge){this.elementRef=_e,this.routerLink=ae,this.routerLinkWithHref=ge}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(m.SBq),m.Y36(gi.rH,10),m.Y36(gi.yS,10))},Ce.\u0275dir=m.lG2({type:Ce,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]}),Ce})(),ti=(()=>{class Ce{}return Ce.\u0275fac=function(_e){return new(_e||Ce)},Ce.\u0275dir=m.lG2({type:Ce,selectors:[["","nz-tab",""]],exportAs:["nzTab"]}),Ce})();const Ri=new m.OlP("NZ_TAB_SET");let qa=(()=>{class Ce{constructor(_e){this.closestTabSet=_e,this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new m.vpe,this.nzDeselect=new m.vpe,this.nzClick=new m.vpe,this.nzContextmenu=new m.vpe,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.stateChanges=new K.xQ}get content(){return this.template||this.contentTemplate}get label(){var _e;return this.nzTitle||(null===(_e=this.nzTabLinkTemplateDirective)||void 0===_e?void 0:_e.templateRef)}ngOnChanges(_e){const{nzTitle:ae,nzDisabled:ge,nzForceRender:De}=_e;(ae||ge||De)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(Ri))},Ce.\u0275cmp=m.Xpm({type:Ce,selectors:[["nz-tab"]],contentQueries:function(_e,ae,ge){if(1&_e&&(m.Suo(ge,ti,5,m.Rgc),m.Suo(ge,Li,5),m.Suo(ge,zi,5)),2&_e){let De;m.iGM(De=m.CRH())&&(ae.template=De.first),m.iGM(De=m.CRH())&&(ae.nzTabLinkTemplateDirective=De.first),m.iGM(De=m.CRH())&&(ae.linkDirective=De.first)}},viewQuery:function(_e,ae){if(1&_e&&m.Gf(bo,7),2&_e){let ge;m.iGM(ge=m.CRH())&&(ae.contentTemplate=ge.first)}},inputs:{nzTitle:"nzTitle",nzClosable:"nzClosable",nzCloseIcon:"nzCloseIcon",nzDisabled:"nzDisabled",nzForceRender:"nzForceRender"},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[m.TTD],ngContentSelectors:ds,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(_e,ae){1&_e&&(m.F$t(hs),m.YNc(0,Ls,1,0,"ng-template",null,0,m.W1O),m.YNc(2,Cs,1,0,"ng-template",null,1,m.W1O))},encapsulation:2,changeDetection:0}),(0,fr.gn)([(0,sa.yF)()],Ce.prototype,"nzClosable",void 0),(0,fr.gn)([(0,sa.yF)()],Ce.prototype,"nzDisabled",void 0),(0,fr.gn)([(0,sa.yF)()],Ce.prototype,"nzForceRender",void 0),Ce})();class wo{}let Bi=0,ho=(()=>{class Ce{constructor(_e,ae,ge,De){this.nzConfigService=_e,this.cdr=ae,this.directionality=ge,this.router=De,this._nzModuleName="tabs",this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new m.vpe(!0),this.nzSelectedIndexChange=new m.vpe,this.nzTabListScroll=new m.vpe,this.nzClose=new m.vpe,this.nzAdd=new m.vpe,this.allTabs=new m.n_E,this.tabs=new m.n_E,this.dir="ltr",this.destroy$=new K.xQ,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=H.w.EMPTY,this.tabsSubscription=H.w.EMPTY,this.canDeactivateSubscription=H.w.EMPTY,this.tabSetId=Bi++}get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(_e){this.indexToSelect=(0,M.su)(_e,null)}get position(){return-1===["top","bottom"].indexOf(this.nzTabPosition)?"vertical":"horizontal"}get addable(){return"editable-card"===this.nzType&&!this.nzHideAdd}get closable(){return"editable-card"===this.nzType}get line(){return"line"===this.nzType}get inkBarAnimated(){return this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return"horizontal"===this.position&&this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.tabPane)}ngOnInit(){var _e;this.dir=this.directionality.value,null===(_e=this.directionality.change)||void 0===_e||_e.pipe((0,A.R)(this.destroy$)).subscribe(ae=>{this.dir=ae,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){Promise.resolve().then(()=>{this.setUpRouter()}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){const ae=this.tabs.toArray();for(let ge=0;ge<ae.length;ge++)if(ae[ge].isActive){this.indexToSelect=this.selectedIndex=ge;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){const _e=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==_e){const ae=null==this.selectedIndex;ae||this.nzSelectChange.emit(this.createChangeEvent(_e)),Promise.resolve().then(()=>{this.tabs.forEach((ge,De)=>ge.isActive=De===_e),ae||this.nzSelectedIndexChange.emit(_e)})}this.tabs.forEach((ae,ge)=>{ae.position=ge-_e,null!=this.selectedIndex&&0===ae.position&&!ae.origin&&(ae.origin=_e-this.selectedIndex)}),this.selectedIndex!==_e&&(this.selectedIndex=_e,this.cdr.markForCheck())}onClose(_e,ae){ae.preventDefault(),ae.stopPropagation(),this.nzClose.emit({index:_e})}onAdd(){this.nzAdd.emit()}clampTabIndex(_e){return Math.min(this.tabs.length-1,Math.max(_e||0,0))}createChangeEvent(_e){const ae=new wo;return ae.index=_e,this.tabs&&this.tabs.length&&(ae.tab=this.tabs.toArray()[_e],this.tabs.forEach((ge,De)=>{De!==_e&&ge.nzDeselect.emit()}),ae.tab.nzSelect.emit()),ae}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=(0,zn.T)(...this.tabs.map(_e=>_e.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe((0,Hi.O)(this.allTabs)).subscribe(_e=>{this.tabs.reset(_e.filter(ae=>ae.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(_e,ae){return"function"==typeof this.nzCanDeactivate?(0,sa.lN)(this.nzCanDeactivate(_e,ae)).pipe((0,di.P)(),(0,A.R)(this.destroy$)):(0,V.of)(!0)}clickNavItem(_e,ae,ge){_e.nzDisabled||(_e.nzClick.emit(),this.isRouterLinkClickEvent(ae,ge)||this.setSelectedIndex(ae))}isRouterLinkClickEvent(_e,ae){var ge,De;const gt=ae.target;return!!this.nzLinkRouter&&!!(null===(De=null===(ge=this.tabs.toArray()[_e])||void 0===ge?void 0:ge.linkDirective)||void 0===De?void 0:De.elementRef.nativeElement.contains(gt))}contextmenuNavItem(_e,ae){_e.nzDisabled||_e.nzContextmenu.emit(ae)}setSelectedIndex(_e){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,_e).subscribe(ae=>{ae&&(this.nzSelectedIndex=_e,this.tabNavBarRef.focusIndex=_e,this.cdr.markForCheck())})}getTabIndex(_e,ae){return _e.nzDisabled?null:this.selectedIndex===ae?0:-1}getTabContentId(_e){return`nz-tabs-${this.tabSetId}-tab-${_e}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${sr.Bq} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe((0,A.R)(this.destroy$),(0,de.h)(_e=>_e instanceof gi.m2),(0,Hi.O)(!0),function(Ce,He=Q.P){const ae=function(Ce){return Ce instanceof Date&&!isNaN(+Ce)}(Ce)?+Ce-He.now():Math.abs(Ce);return ge=>ge.lift(new Jr(ae,He))}(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router.navigated){const _e=this.findShouldActiveTabIndex();_e!==this.selectedIndex&&this.setSelectedIndex(_e),this.nzHideAll=-1===_e}}findShouldActiveTabIndex(){const _e=this.tabs.toArray(),ae=this.isLinkActive(this.router);return _e.findIndex(ge=>{const De=ge.linkDirective;return!!De&&(ae(De.routerLink)||ae(De.routerLinkWithHref))})}isLinkActive(_e){return ae=>!!ae&&_e.isActive(ae.urlTree,this.nzLinkExact)}getTabContentMarginValue(){return 100*-(this.nzSelectedIndex||0)}getTabContentMarginLeft(){return this.tabPaneAnimated&&"rtl"!==this.dir?`${this.getTabContentMarginValue()}%`:""}getTabContentMarginRight(){return this.tabPaneAnimated&&"rtl"===this.dir?`${this.getTabContentMarginValue()}%`:""}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(m.Y36(Kn.jY),m.Y36(m.sBO),m.Y36(va.Is,8),m.Y36(gi.F0,8))},Ce.\u0275cmp=m.Xpm({type:Ce,selectors:[["nz-tabset"]],contentQueries:function(_e,ae,ge){if(1&_e&&m.Suo(ge,qa,5),2&_e){let De;m.iGM(De=m.CRH())&&(ae.allTabs=De)}},viewQuery:function(_e,ae){if(1&_e&&m.Gf($a,5),2&_e){let ge;m.iGM(ge=m.CRH())&&(ae.tabNavBarRef=ge.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(_e,ae){2&_e&&m.ekj("ant-tabs-card","card"===ae.nzType||"editable-card"===ae.nzType)("ant-tabs-editable","editable-card"===ae.nzType)("ant-tabs-editable-card","editable-card"===ae.nzType)("ant-tabs-centered",ae.nzCentered)("ant-tabs-rtl","rtl"===ae.dir)("ant-tabs-top","top"===ae.nzTabPosition)("ant-tabs-bottom","bottom"===ae.nzTabPosition)("ant-tabs-left","left"===ae.nzTabPosition)("ant-tabs-right","right"===ae.nzTabPosition)("ant-tabs-default","default"===ae.nzSize)("ant-tabs-small","small"===ae.nzSize)("ant-tabs-large","large"===ae.nzSize)},inputs:{nzTabPosition:"nzTabPosition",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:"nzHideAdd",nzCentered:"nzCentered",nzHideAll:"nzHideAll",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact",nzSelectedIndex:"nzSelectedIndex",nzTabBarExtraContent:"nzTabBarExtraContent"},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],features:[m._Bn([{provide:Ri,useExisting:Ce}])],decls:4,vars:16,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated",4,"ngFor","ngForOf"],[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["nz-tab-close-button","",3,"closeIcon","click"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated"]],template:function(_e,ae){1&_e&&(m.YNc(0,Yi,2,9,"nz-tabs-nav",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.YNc(3,no,1,4,"div",3),m.qZA(),m.qZA()),2&_e&&(m.Q6J("ngIf",ae.tabs.length),m.xp6(2),m.Udp("margin-left",ae.getTabContentMarginLeft())("margin-right",ae.getTabContentMarginRight()),m.ekj("ant-tabs-content-top","top"===ae.nzTabPosition)("ant-tabs-content-bottom","bottom"===ae.nzTabPosition)("ant-tabs-content-left","left"===ae.nzTabPosition)("ant-tabs-content-right","right"===ae.nzTabPosition)("ant-tabs-content-animated",ae.tabPaneAnimated),m.xp6(1),m.Q6J("ngForOf",ae.tabs))},directives:[q.O5,q.sg,$a,q.PC,ro,$n,tn.f,ta,Tr],encapsulation:2}),(0,fr.gn)([(0,Kn.oS)()],Ce.prototype,"nzType",void 0),(0,fr.gn)([(0,Kn.oS)()],Ce.prototype,"nzSize",void 0),(0,fr.gn)([(0,Kn.oS)()],Ce.prototype,"nzAnimated",void 0),(0,fr.gn)([(0,Kn.oS)()],Ce.prototype,"nzTabBarGutter",void 0),(0,fr.gn)([(0,sa.yF)()],Ce.prototype,"nzHideAdd",void 0),(0,fr.gn)([(0,sa.yF)()],Ce.prototype,"nzCentered",void 0),(0,fr.gn)([(0,sa.yF)()],Ce.prototype,"nzHideAll",void 0),(0,fr.gn)([(0,sa.yF)()],Ce.prototype,"nzLinkRouter",void 0),(0,fr.gn)([(0,sa.yF)()],Ce.prototype,"nzLinkExact",void 0),Ce})(),Ot=(()=>{class Ce{}return Ce.\u0275fac=function(_e){return new(_e||Ce)},Ce.\u0275mod=m.oAB({type:Ce}),Ce.\u0275inj=m.cJS({imports:[[va.vT,q.ez,Te,An.PV,tn.T,C.ud,Ei,kt.ZD,St.b1]]}),Ce})()},3268:(un,ot,E)=>{"use strict";E.d(ot,{Ay:()=>Y,lF:()=>ie,JP:()=>oe});var m=E(3668),R=E(6019),k=E(5523),le=E(4522),y=E(5427),ce=E(8053);E(739);const K=["*"];let Y=(()=>{class Z{transform(W,L){return"string"!=typeof W?(console.error(`LanguagePipe has been invoked with an invalid value type [${W}]`),W):"string"!=typeof L?(console.error(`LanguagePipe has been invoked with an invalid parameter [${L}]`),W):"```"+L+"\n"+W+"\n```"}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275pipe=m.Yjl({name:"language",type:Z,pure:!0}),Z})();class V{}const Q=new m.OlP("SECURITY_CONTEXT");let fe=(()=>{class Z{constructor(W,L,D,A,M){this.platform=W,this.securityContext=L,this.http=D,this.sanitizer=M,this.initialMarkedOptions={renderer:new k.Renderer},this.options=A}get options(){return this._options}set options(W){this._options=Object.assign(Object.assign({},this.initialMarkedOptions),W)}get renderer(){return this.options.renderer}set renderer(W){this.options.renderer=W}compile(W,L=!1,D=!1,A=this.options){const M=this.trimIndentation(W),C=L?this.decodeHtml(M):M,P=D?this.renderEmoji(C):C,N=(0,k.parse)(P,A);return this.sanitizer.sanitize(this.securityContext,N)||""}getSource(W){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(W,{responseType:"text"}).pipe((0,ce.U)(L=>this.handleExtension(W,L)))}highlight(W){if((0,R.NF)(this.platform)&&"undefined"!=typeof Prism){W||(W=document);const L=W.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(L,D=>D.classList.add("language-none")),Prism.highlightAllUnder(W)}}renderKatex(W,L){if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return W.replace(/\$([^\s][^$]*?[^\s])\$/gm,(D,A)=>katex.renderToString(A,L))}decodeHtml(W){if((0,R.NF)(this.platform)){const L=document.createElement("textarea");return L.innerHTML=W,L.value}return W}handleExtension(W,L){const D=W?W.split("?")[0].split(".").splice(-1).join():null;return"md"!==D?"```"+D+"\n"+L+"\n```":L}renderEmoji(W){if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(W)}trimIndentation(W){if(!W)return"";let L;return W.split("\n").map(D=>{let A=L;return D.length>0&&(A=isNaN(A)?D.search(/\S|$/):Math.min(D.search(/\S|$/),A)),isNaN(L)&&(L=A),A?D.substring(A):D}).join("\n")}}return Z.\u0275fac=function(W){return new(W||Z)(m.LFG(m.Lbi),m.LFG(Q),m.LFG(le.eN,8),m.LFG(V,8),m.LFG(y.H7))},Z.\u0275prov=m.Yz7({token:Z,factory:Z.\u0275fac}),Z})();var re=(()=>{return(Z=re||(re={})).LineHighlight="line-highlight",Z.LineNumbers="line-numbers",re;var Z})();let ie=(()=>{class Z{constructor(W,L){this.element=W,this.markdownService=L,this.error=new m.vpe,this.load=new m.vpe,this.ready=new m.vpe,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(W){this._emoji=this.coerceBooleanProperty(W)}get katex(){return this._katex}set katex(W){this._katex=this.coerceBooleanProperty(W)}get lineHighlight(){return this._lineHighlight}set lineHighlight(W){this._lineHighlight=this.coerceBooleanProperty(W)}get lineNumbers(){return this._lineNumbers}set lineNumbers(W){this._lineNumbers=this.coerceBooleanProperty(W)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion()}render(W,L=!1){let D=this.markdownService.compile(W,L,this.emoji);D=this.katex?this.markdownService.renderKatex(D,this.katexOptions):D,this.element.nativeElement.innerHTML=D,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(W){return null!=W&&"false"!=`${W}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(W=>{this.render(W),this.load.emit(W)},W=>this.error.emit(W))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.lineHighlight&&(this.setPluginClass(this.element.nativeElement,re.LineHighlight),this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset})),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,re.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(W,L){const D=W.querySelectorAll("pre");for(let A=0;A<D.length;A++){const M=L instanceof Array?L:[L];D.item(A).classList.add(...M)}}setPluginOptions(W,L){const D=W.querySelectorAll("pre");for(let A=0;A<D.length;A++)Object.keys(L).forEach(M=>{const C=L[M];if(C){const P=this.toLispCase(M);D.item(A).setAttribute(P,C.toString())}})}toLispCase(W){const L=W.match(/([A-Z])/g);if(!L)return W;let D=W.toString();for(let A=0,M=L.length;A<M;A++)D=D.replace(new RegExp(L[A]),"-"+L[A].toLowerCase());return"-"===D.slice(0,1)&&(D=D.slice(1)),D}}return Z.\u0275fac=function(W){return new(W||Z)(m.Y36(m.SBq),m.Y36(fe))},Z.\u0275cmp=m.Xpm({type:Z,selectors:[["markdown"],["","markdown",""]],inputs:{emoji:"emoji",katex:"katex",lineHighlight:"lineHighlight",lineNumbers:"lineNumbers",data:"data",src:"src",katexOptions:"katexOptions",line:"line",lineOffset:"lineOffset",start:"start"},outputs:{error:"error",load:"load",ready:"ready"},features:[m.TTD],ngContentSelectors:K,decls:1,vars:0,template:function(W,L){1&W&&(m.F$t(),m.Hsn(0))},encapsulation:2}),Z})(),oe=(()=>{class Z{static forRoot(W){return{ngModule:Z,providers:[fe,W&&W.loader||[],W&&W.markedOptions||[],{provide:Q,useValue:W&&null!=W.sanitize?W.sanitize:m.q3G.HTML}]}}static forChild(){return{ngModule:Z}}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275mod=m.oAB({type:Z}),Z.\u0275inj=m.cJS({}),Z})()},5523:function(un){un.exports=function(){"use strict";function ot(Ye,Ke){for(var we=0;we<Ke.length;we++){var Me=Ke[we];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(Ye,Me.key,Me)}}function R(Ye,Ke){(null==Ke||Ke>Ye.length)&&(Ke=Ye.length);for(var we=0,Me=new Array(Ke);we<Ke;we++)Me[we]=Ye[we];return Me}function k(Ye,Ke){var we;if("undefined"==typeof Symbol||null==Ye[Symbol.iterator]){if(Array.isArray(Ye)||(we=function(Ye,Ke){if(Ye){if("string"==typeof Ye)return R(Ye,Ke);var we=Object.prototype.toString.call(Ye).slice(8,-1);if("Object"===we&&Ye.constructor&&(we=Ye.constructor.name),"Map"===we||"Set"===we)return Array.from(Ye);if("Arguments"===we||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we))return R(Ye,Ke)}}(Ye))||Ke&&Ye&&"number"==typeof Ye.length){we&&(Ye=we);var Me=0;return function(){return Me>=Ye.length?{done:!0}:{done:!1,value:Ye[Me++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(we=Ye[Symbol.iterator]()).next.bind(we)}var Ye,Ke,le=(Ye=function(Ye){function Ke(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Ye.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:Ke,changeDefaults:function(Me){Ye.exports.defaults=Me}}},Ye(Ke={exports:{}},Ke.exports),Ke.exports),y=/[&<>"']/,ce=/[&<>"']/g,q=/[<>"']|&(?!#?\w+;)/,K=/[<>"']|&(?!#?\w+;)/g,H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Y=function(Ke){return H[Ke]};var j=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function X(Ye){return Ye.replace(j,function(Ke,we){return"colon"===(we=we.toLowerCase())?":":"#"===we.charAt(0)?"x"===we.charAt(1)?String.fromCharCode(parseInt(we.substring(2),16)):String.fromCharCode(+we.substring(1)):""})}var xe=/(^|[^\[])\^/g;var fe=/[^\w:]/g,re=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var ne={},de=/^[^:]+:\/*[^/]*$/,oe=/^([^:]+:)[\s\S]*$/,Z=/^([^:]+:\/*[^/]*)[\s\S]*$/;function U(Ye,Ke){ne[" "+Ye]||(ne[" "+Ye]=de.test(Ye)?Ye+"/":A(Ye,"/",!0));var we=-1===(Ye=ne[" "+Ye]).indexOf(":");return"//"===Ke.substring(0,2)?we?Ke:Ye.replace(oe,"$1")+Ke:"/"===Ke.charAt(0)?we?Ke:Ye.replace(Z,"$1")+Ke:Ye+Ke}function A(Ye,Ke,we){var Me=Ye.length;if(0===Me)return"";for(var qe=0;qe<Me;){var lt=Ye.charAt(Me-qe-1);if(lt!==Ke||we){if(lt===Ke||!we)break;qe++}else qe++}return Ye.substr(0,Me-qe)}var N_escape=function(Ye,Ke){if(Ke){if(y.test(Ye))return Ye.replace(ce,Y)}else if(q.test(Ye))return Ye.replace(K,Y);return Ye},N_unescape=X,N_edit=function(Ye,Ke){Ye=Ye.source||Ye,Ke=Ke||"";var we={replace:function(qe,lt){return lt=(lt=lt.source||lt).replace(xe,"$1"),Ye=Ye.replace(qe,lt),we},getRegex:function(){return new RegExp(Ye,Ke)}};return we},N_cleanUrl=function(Ye,Ke,we){if(Ye){var Me;try{Me=decodeURIComponent(X(we)).replace(fe,"").toLowerCase()}catch(qe){return null}if(0===Me.indexOf("javascript:")||0===Me.indexOf("vbscript:")||0===Me.indexOf("data:"))return null}Ke&&!re.test(we)&&(we=U(Ke,we));try{we=encodeURI(we).replace(/%25/g,"%")}catch(qe){return null}return we},N_noopTest={exec:function(){}},N_merge=function(Ye){for(var we,Me,Ke=1;Ke<arguments.length;Ke++)for(Me in we=arguments[Ke])Object.prototype.hasOwnProperty.call(we,Me)&&(Ye[Me]=we[Me]);return Ye},N_splitCells=function(Ye,Ke){var Me=Ye.replace(/\|/g,function(lt,Lt,Kt){for(var Mn=!1,Zt=Lt;--Zt>=0&&"\\"===Kt[Zt];)Mn=!Mn;return Mn?"|":" |"}).split(/ \|/),qe=0;if(Me.length>Ke)Me.splice(Ke);else for(;Me.length<Ke;)Me.push("");for(;qe<Me.length;qe++)Me[qe]=Me[qe].trim().replace(/\\\|/g,"|");return Me},N_findClosingBracket=function(Ye,Ke){if(-1===Ye.indexOf(Ke[1]))return-1;for(var we=Ye.length,Me=0,qe=0;qe<we;qe++)if("\\"===Ye[qe])qe++;else if(Ye[qe]===Ke[0])Me++;else if(Ye[qe]===Ke[1]&&--Me<0)return qe;return-1},N_checkSanitizeDeprecation=function(Ye){Ye&&Ye.sanitize&&!Ye.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},N_repeatString=function(Ye,Ke){if(Ke<1)return"";for(var we="";Ke>1;)1&Ke&&(we+=Ye),Ke>>=1,Ye+=Ye;return we+Ye},ee=le.defaults,ye=A,Te=N_splitCells,he=N_escape,me=N_findClosingBracket;function Re(Ye,Ke,we){var Me=Ke.href,qe=Ke.title?he(Ke.title):null,lt=Ye[1].replace(/\\([\[\]])/g,"$1");return"!"!==Ye[0].charAt(0)?{type:"link",raw:we,href:Me,title:qe,text:lt}:{type:"image",raw:we,href:Me,title:qe,text:he(lt)}}var Je=function(){function Ye(we){this.options=we||ee}var Ke=Ye.prototype;return Ke.space=function(Me){var qe=this.rules.block.newline.exec(Me);if(qe)return qe[0].length>1?{type:"space",raw:qe[0]}:{raw:"\n"}},Ke.code=function(Me,qe){var lt=this.rules.block.code.exec(Me);if(lt){var Lt=qe[qe.length-1];if(Lt&&"paragraph"===Lt.type)return{raw:lt[0],text:lt[0].trimRight()};var Kt=lt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:lt[0],codeBlockStyle:"indented",text:this.options.pedantic?Kt:ye(Kt,"\n")}}},Ke.fences=function(Me){var qe=this.rules.block.fences.exec(Me);if(qe){var lt=qe[0],Lt=function(Ye,Ke){var we=Ye.match(/^(\s+)(?:```)/);if(null===we)return Ke;var Me=we[1];return Ke.split("\n").map(function(qe){var lt=qe.match(/^\s+/);return null===lt?qe:lt[0].length>=Me.length?qe.slice(Me.length):qe}).join("\n")}(lt,qe[3]||"");return{type:"code",raw:lt,lang:qe[2]?qe[2].trim():qe[2],text:Lt}}},Ke.heading=function(Me){var qe=this.rules.block.heading.exec(Me);if(qe){var lt=qe[2].trim();if(/#$/.test(lt)){var Lt=ye(lt,"#");(this.options.pedantic||!Lt||/ $/.test(Lt))&&(lt=Lt.trim())}return{type:"heading",raw:qe[0],depth:qe[1].length,text:lt}}},Ke.nptable=function(Me){var qe=this.rules.block.nptable.exec(Me);if(qe){var lt={type:"table",header:Te(qe[1].replace(/^ *| *\| *$/g,"")),align:qe[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:qe[3]?qe[3].replace(/\n$/,"").split("\n"):[],raw:qe[0]};if(lt.header.length===lt.align.length){var Kt,Lt=lt.align.length;for(Kt=0;Kt<Lt;Kt++)lt.align[Kt]=/^ *-+: *$/.test(lt.align[Kt])?"right":/^ *:-+: *$/.test(lt.align[Kt])?"center":/^ *:-+ *$/.test(lt.align[Kt])?"left":null;for(Lt=lt.cells.length,Kt=0;Kt<Lt;Kt++)lt.cells[Kt]=Te(lt.cells[Kt],lt.header.length);return lt}}},Ke.hr=function(Me){var qe=this.rules.block.hr.exec(Me);if(qe)return{type:"hr",raw:qe[0]}},Ke.blockquote=function(Me){var qe=this.rules.block.blockquote.exec(Me);if(qe){var lt=qe[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:qe[0],text:lt}}},Ke.list=function(Me){var qe=this.rules.block.list.exec(Me);if(qe){var Un,dr,pr,si,ni,lr,Hr,Xn,lt=qe[0],Lt=qe[2],Kt=Lt.length>1,Mn={type:"list",raw:lt,ordered:Kt,start:Kt?+Lt.slice(0,-1):"",loose:!1,items:[]},Zt=qe[0].match(this.rules.block.item),er=!1,wi=Zt.length;pr=this.rules.block.listItemStart.exec(Zt[0]);for(var yr=0;yr<wi;yr++){if(lt=Un=Zt[yr],yr!==wi-1){if(si=this.rules.block.listItemStart.exec(Zt[yr+1]),this.options.pedantic?si[1].length>pr[1].length:si[1].length>pr[0].length||si[1].length>3){Zt.splice(yr,2,Zt[yr]+"\n"+Zt[yr+1]),yr--,wi--;continue}(!this.options.pedantic||this.options.smartLists?si[2][si[2].length-1]!==Lt[Lt.length-1]:Kt===(1===si[2].length))&&(ni=Zt.slice(yr+1).join("\n"),Mn.raw=Mn.raw.substring(0,Mn.raw.length-ni.length),yr=wi-1),pr=si}dr=Un.length,~(Un=Un.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(dr-=Un.length,Un=Un.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+dr+"}","gm"),"")),lr=er||/\n\n(?!\s*$)/.test(Un),yr!==wi-1&&(er="\n"===Un.charAt(Un.length-1),lr||(lr=er)),lr&&(Mn.loose=!0),this.options.gfm&&(Xn=void 0,(Hr=/^\[[ xX]\] /.test(Un))&&(Xn=" "!==Un[1],Un=Un.replace(/^\[[ xX]\] +/,""))),Mn.items.push({type:"list_item",raw:lt,task:Hr,checked:Xn,loose:lr,text:Un})}return Mn}},Ke.html=function(Me){var qe=this.rules.block.html.exec(Me);if(qe)return{type:this.options.sanitize?"paragraph":"html",raw:qe[0],pre:!this.options.sanitizer&&("pre"===qe[1]||"script"===qe[1]||"style"===qe[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(qe[0]):he(qe[0]):qe[0]}},Ke.def=function(Me){var qe=this.rules.block.def.exec(Me);if(qe)return qe[3]&&(qe[3]=qe[3].substring(1,qe[3].length-1)),{tag:qe[1].toLowerCase().replace(/\s+/g," "),raw:qe[0],href:qe[2],title:qe[3]}},Ke.table=function(Me){var qe=this.rules.block.table.exec(Me);if(qe){var lt={type:"table",header:Te(qe[1].replace(/^ *| *\| *$/g,"")),align:qe[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:qe[3]?qe[3].replace(/\n$/,"").split("\n"):[]};if(lt.header.length===lt.align.length){lt.raw=qe[0];var Kt,Lt=lt.align.length;for(Kt=0;Kt<Lt;Kt++)lt.align[Kt]=/^ *-+: *$/.test(lt.align[Kt])?"right":/^ *:-+: *$/.test(lt.align[Kt])?"center":/^ *:-+ *$/.test(lt.align[Kt])?"left":null;for(Lt=lt.cells.length,Kt=0;Kt<Lt;Kt++)lt.cells[Kt]=Te(lt.cells[Kt].replace(/^ *\| *| *\| *$/g,""),lt.header.length);return lt}}},Ke.lheading=function(Me){var qe=this.rules.block.lheading.exec(Me);if(qe)return{type:"heading",raw:qe[0],depth:"="===qe[2].charAt(0)?1:2,text:qe[1]}},Ke.paragraph=function(Me){var qe=this.rules.block.paragraph.exec(Me);if(qe)return{type:"paragraph",raw:qe[0],text:"\n"===qe[1].charAt(qe[1].length-1)?qe[1].slice(0,-1):qe[1]}},Ke.text=function(Me,qe){var lt=this.rules.block.text.exec(Me);if(lt){var Lt=qe[qe.length-1];return Lt&&"text"===Lt.type?{raw:lt[0],text:lt[0]}:{type:"text",raw:lt[0],text:lt[0]}}},Ke.escape=function(Me){var qe=this.rules.inline.escape.exec(Me);if(qe)return{type:"escape",raw:qe[0],text:he(qe[1])}},Ke.tag=function(Me,qe,lt){var Lt=this.rules.inline.tag.exec(Me);if(Lt)return!qe&&/^<a /i.test(Lt[0])?qe=!0:qe&&/^<\/a>/i.test(Lt[0])&&(qe=!1),!lt&&/^<(pre|code|kbd|script)(\s|>)/i.test(Lt[0])?lt=!0:lt&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Lt[0])&&(lt=!1),{type:this.options.sanitize?"text":"html",raw:Lt[0],inLink:qe,inRawBlock:lt,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Lt[0]):he(Lt[0]):Lt[0]}},Ke.link=function(Me){var qe=this.rules.inline.link.exec(Me);if(qe){var lt=qe[2].trim();if(!this.options.pedantic&&/^</.test(lt)){if(!/>$/.test(lt))return;var Lt=ye(lt.slice(0,-1),"\\");if((lt.length-Lt.length)%2==0)return}else{var Kt=me(qe[2],"()");if(Kt>-1){var Zt=(0===qe[0].indexOf("!")?5:4)+qe[1].length+Kt;qe[2]=qe[2].substring(0,Kt),qe[0]=qe[0].substring(0,Zt).trim(),qe[3]=""}}var er=qe[2],Un="";if(this.options.pedantic){var dr=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(er);dr&&(er=dr[1],Un=dr[3])}else Un=qe[3]?qe[3].slice(1,-1):"";return er=er.trim(),/^</.test(er)&&(er=this.options.pedantic&&!/>$/.test(lt)?er.slice(1):er.slice(1,-1)),Re(qe,{href:er&&er.replace(this.rules.inline._escapes,"$1"),title:Un&&Un.replace(this.rules.inline._escapes,"$1")},qe[0])}},Ke.reflink=function(Me,qe){var lt;if((lt=this.rules.inline.reflink.exec(Me))||(lt=this.rules.inline.nolink.exec(Me))){var Lt=(lt[2]||lt[1]).replace(/\s+/g," ");if(!(Lt=qe[Lt.toLowerCase()])||!Lt.href){var Kt=lt[0].charAt(0);return{type:"text",raw:Kt,text:Kt}}return Re(lt,Lt,lt[0])}},Ke.strong=function(Me,qe,lt){void 0===lt&&(lt="");var Lt=this.rules.inline.strong.start.exec(Me);if(Lt&&(!Lt[1]||Lt[1]&&(""===lt||this.rules.inline.punctuation.exec(lt)))){qe=qe.slice(-1*Me.length);var Mn,Kt="**"===Lt[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(Kt.lastIndex=0;null!=(Lt=Kt.exec(qe));)if(Mn=this.rules.inline.strong.middle.exec(qe.slice(0,Lt.index+3)))return{type:"strong",raw:Me.slice(0,Mn[0].length),text:Me.slice(2,Mn[0].length-2)}}},Ke.em=function(Me,qe,lt){void 0===lt&&(lt="");var Lt=this.rules.inline.em.start.exec(Me);if(Lt&&(!Lt[1]||Lt[1]&&(""===lt||this.rules.inline.punctuation.exec(lt)))){qe=qe.slice(-1*Me.length);var Mn,Kt="*"===Lt[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(Kt.lastIndex=0;null!=(Lt=Kt.exec(qe));)if(Mn=this.rules.inline.em.middle.exec(qe.slice(0,Lt.index+2)))return{type:"em",raw:Me.slice(0,Mn[0].length),text:Me.slice(1,Mn[0].length-1)}}},Ke.codespan=function(Me){var qe=this.rules.inline.code.exec(Me);if(qe){var lt=qe[2].replace(/\n/g," "),Lt=/[^ ]/.test(lt),Kt=/^ /.test(lt)&&/ $/.test(lt);return Lt&&Kt&&(lt=lt.substring(1,lt.length-1)),lt=he(lt,!0),{type:"codespan",raw:qe[0],text:lt}}},Ke.br=function(Me){var qe=this.rules.inline.br.exec(Me);if(qe)return{type:"br",raw:qe[0]}},Ke.del=function(Me){var qe=this.rules.inline.del.exec(Me);if(qe)return{type:"del",raw:qe[0],text:qe[2]}},Ke.autolink=function(Me,qe){var Lt,Kt,lt=this.rules.inline.autolink.exec(Me);if(lt)return Kt="@"===lt[2]?"mailto:"+(Lt=he(this.options.mangle?qe(lt[1]):lt[1])):Lt=he(lt[1]),{type:"link",raw:lt[0],text:Lt,href:Kt,tokens:[{type:"text",raw:Lt,text:Lt}]}},Ke.url=function(Me,qe){var lt;if(lt=this.rules.inline.url.exec(Me)){var Lt,Kt;if("@"===lt[2])Kt="mailto:"+(Lt=he(this.options.mangle?qe(lt[0]):lt[0]));else{var Mn;do{Mn=lt[0],lt[0]=this.rules.inline._backpedal.exec(lt[0])[0]}while(Mn!==lt[0]);Lt=he(lt[0]),Kt="www."===lt[1]?"http://"+Lt:Lt}return{type:"link",raw:lt[0],text:Lt,href:Kt,tokens:[{type:"text",raw:Lt,text:Lt}]}}},Ke.inlineText=function(Me,qe,lt){var Kt,Lt=this.rules.inline.text.exec(Me);if(Lt)return Kt=qe?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Lt[0]):he(Lt[0]):Lt[0]:he(this.options.smartypants?lt(Lt[0]):Lt[0]),{type:"text",raw:Lt[0],text:Kt}},Ye}(),Oe=N_noopTest,Ve=N_edit,Fe=N_merge,et={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Oe,table:Oe,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};et.def=Ve(et.def).replace("label",et._label).replace("title",et._title).getRegex(),et.bullet=/(?:[*+-]|\d{1,9}[.)])/,et.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,et.item=Ve(et.item,"gm").replace(/bull/g,et.bullet).getRegex(),et.listItemStart=Ve(/^( *)(bull)/).replace("bull",et.bullet).getRegex(),et.list=Ve(et.list).replace(/bull/g,et.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+et.def.source+")").getRegex(),et._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",et._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,et.html=Ve(et.html,"i").replace("comment",et._comment).replace("tag",et._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),et.paragraph=Ve(et._paragraph).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",et._tag).getRegex(),et.blockquote=Ve(et.blockquote).replace("paragraph",et.paragraph).getRegex(),et.normal=Fe({},et),et.gfm=Fe({},et.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),et.gfm.nptable=Ve(et.gfm.nptable).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",et._tag).getRegex(),et.gfm.table=Ve(et.gfm.table).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",et._tag).getRegex(),et.pedantic=Fe({},et.normal,{html:Ve("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",et._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Oe,paragraph:Ve(et.normal._paragraph).replace("hr",et.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",et.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Ue={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Oe,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Oe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};Ue.punctuation=Ve(Ue.punctuation).replace(/punctuation/g,Ue._punctuation).getRegex(),Ue._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",Ue._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",Ue._comment=Ve(et._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ue.em.start=Ve(Ue.em.start).replace(/punctuation/g,Ue._punctuation).getRegex(),Ue.em.middle=Ve(Ue.em.middle).replace(/punctuation/g,Ue._punctuation).replace(/overlapSkip/g,Ue._overlapSkip).getRegex(),Ue.em.endAst=Ve(Ue.em.endAst,"g").replace(/punctuation/g,Ue._punctuation).getRegex(),Ue.em.endUnd=Ve(Ue.em.endUnd,"g").replace(/punctuation/g,Ue._punctuation).getRegex(),Ue.strong.start=Ve(Ue.strong.start).replace(/punctuation/g,Ue._punctuation).getRegex(),Ue.strong.middle=Ve(Ue.strong.middle).replace(/punctuation/g,Ue._punctuation).replace(/overlapSkip/g,Ue._overlapSkip).getRegex(),Ue.strong.endAst=Ve(Ue.strong.endAst,"g").replace(/punctuation/g,Ue._punctuation).getRegex(),Ue.strong.endUnd=Ve(Ue.strong.endUnd,"g").replace(/punctuation/g,Ue._punctuation).getRegex(),Ue.blockSkip=Ve(Ue._blockSkip,"g").getRegex(),Ue.overlapSkip=Ve(Ue._overlapSkip,"g").getRegex(),Ue._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ue._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ue._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ue.autolink=Ve(Ue.autolink).replace("scheme",Ue._scheme).replace("email",Ue._email).getRegex(),Ue._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ue.tag=Ve(Ue.tag).replace("comment",Ue._comment).replace("attribute",Ue._attribute).getRegex(),Ue._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ue._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ue._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ue.link=Ve(Ue.link).replace("label",Ue._label).replace("href",Ue._href).replace("title",Ue._title).getRegex(),Ue.reflink=Ve(Ue.reflink).replace("label",Ue._label).getRegex(),Ue.reflinkSearch=Ve(Ue.reflinkSearch,"g").replace("reflink",Ue.reflink).replace("nolink",Ue.nolink).getRegex(),Ue.normal=Fe({},Ue),Ue.pedantic=Fe({},Ue.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ve(/^!?\[(label)\]\((.*?)\)/).replace("label",Ue._label).getRegex(),reflink:Ve(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ue._label).getRegex()}),Ue.gfm=Fe({},Ue.normal,{escape:Ve(Ue.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),Ue.gfm.url=Ve(Ue.gfm.url,"i").replace("email",Ue.gfm._extended_email).getRegex(),Ue.breaks=Fe({},Ue.gfm,{br:Ve(Ue.br).replace("{2,}","*").getRegex(),text:Ve(Ue.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var xt={block:et,inline:Ue},It=le.defaults,Pt=xt.block,Wt=xt.inline,Qt=N_repeatString;function gn(Ye){return Ye.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function In(Ye){var we,Me,Ke="",qe=Ye.length;for(we=0;we<qe;we++)Me=Ye.charCodeAt(we),Math.random()>.5&&(Me="x"+Me.toString(16)),Ke+="&#"+Me+";";return Ke}var Dn=function(){function Ye(we){this.tokens=[],this.tokens.links=Object.create(null),this.options=we||It,this.options.tokenizer=this.options.tokenizer||new Je,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var Me={block:Pt.normal,inline:Wt.normal};this.options.pedantic?(Me.block=Pt.pedantic,Me.inline=Wt.pedantic):this.options.gfm&&(Me.block=Pt.gfm,Me.inline=this.options.breaks?Wt.breaks:Wt.gfm),this.tokenizer.rules=Me}Ye.lex=function(Me,qe){return new Ye(qe).lex(Me)},Ye.lexInline=function(Me,qe){return new Ye(qe).inlineTokens(Me)};var Ke=Ye.prototype;return Ke.lex=function(Me){return Me=Me.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(Me,this.tokens,!0),this.inline(this.tokens),this.tokens},Ke.blockTokens=function(Me,qe,lt){void 0===qe&&(qe=[]),void 0===lt&&(lt=!0),this.options.pedantic&&(Me=Me.replace(/^ +$/gm,""));for(var Lt,Kt,Mn,Zt;Me;)if(Lt=this.tokenizer.space(Me))Me=Me.substring(Lt.raw.length),Lt.type&&qe.push(Lt);else if(Lt=this.tokenizer.code(Me,qe))Me=Me.substring(Lt.raw.length),Lt.type?qe.push(Lt):((Zt=qe[qe.length-1]).raw+="\n"+Lt.raw,Zt.text+="\n"+Lt.text);else if(Lt=this.tokenizer.fences(Me))Me=Me.substring(Lt.raw.length),qe.push(Lt);else if(Lt=this.tokenizer.heading(Me))Me=Me.substring(Lt.raw.length),qe.push(Lt);else if(Lt=this.tokenizer.nptable(Me))Me=Me.substring(Lt.raw.length),qe.push(Lt);else if(Lt=this.tokenizer.hr(Me))Me=Me.substring(Lt.raw.length),qe.push(Lt);else if(Lt=this.tokenizer.blockquote(Me))Me=Me.substring(Lt.raw.length),Lt.tokens=this.blockTokens(Lt.text,[],lt),qe.push(Lt);else if(Lt=this.tokenizer.list(Me)){for(Me=Me.substring(Lt.raw.length),Mn=Lt.items.length,Kt=0;Kt<Mn;Kt++)Lt.items[Kt].tokens=this.blockTokens(Lt.items[Kt].text,[],!1);qe.push(Lt)}else if(Lt=this.tokenizer.html(Me))Me=Me.substring(Lt.raw.length),qe.push(Lt);else if(lt&&(Lt=this.tokenizer.def(Me)))Me=Me.substring(Lt.raw.length),this.tokens.links[Lt.tag]||(this.tokens.links[Lt.tag]={href:Lt.href,title:Lt.title});else if(Lt=this.tokenizer.table(Me))Me=Me.substring(Lt.raw.length),qe.push(Lt);else if(Lt=this.tokenizer.lheading(Me))Me=Me.substring(Lt.raw.length),qe.push(Lt);else if(lt&&(Lt=this.tokenizer.paragraph(Me)))Me=Me.substring(Lt.raw.length),qe.push(Lt);else if(Lt=this.tokenizer.text(Me,qe))Me=Me.substring(Lt.raw.length),Lt.type?qe.push(Lt):((Zt=qe[qe.length-1]).raw+="\n"+Lt.raw,Zt.text+="\n"+Lt.text);else if(Me){var er="Infinite loop on byte: "+Me.charCodeAt(0);if(this.options.silent){console.error(er);break}throw new Error(er)}return qe},Ke.inline=function(Me){var qe,lt,Lt,Kt,Mn,Zt,er=Me.length;for(qe=0;qe<er;qe++)switch(Zt=Me[qe],Zt.type){case"paragraph":case"text":case"heading":Zt.tokens=[],this.inlineTokens(Zt.text,Zt.tokens);break;case"table":for(Zt.tokens={header:[],cells:[]},Kt=Zt.header.length,lt=0;lt<Kt;lt++)Zt.tokens.header[lt]=[],this.inlineTokens(Zt.header[lt],Zt.tokens.header[lt]);for(Kt=Zt.cells.length,lt=0;lt<Kt;lt++)for(Mn=Zt.cells[lt],Zt.tokens.cells[lt]=[],Lt=0;Lt<Mn.length;Lt++)Zt.tokens.cells[lt][Lt]=[],this.inlineTokens(Mn[Lt],Zt.tokens.cells[lt][Lt]);break;case"blockquote":this.inline(Zt.tokens);break;case"list":for(Kt=Zt.items.length,lt=0;lt<Kt;lt++)this.inline(Zt.items[lt].tokens)}return Me},Ke.inlineTokens=function(Me,qe,lt,Lt){void 0===qe&&(qe=[]),void 0===lt&&(lt=!1),void 0===Lt&&(Lt=!1);var Kt,Zt,er,Un,Mn=Me;if(this.tokens.links){var dr=Object.keys(this.tokens.links);if(dr.length>0)for(;null!=(Zt=this.tokenizer.rules.inline.reflinkSearch.exec(Mn));)dr.includes(Zt[0].slice(Zt[0].lastIndexOf("[")+1,-1))&&(Mn=Mn.slice(0,Zt.index)+"["+Qt("a",Zt[0].length-2)+"]"+Mn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Zt=this.tokenizer.rules.inline.blockSkip.exec(Mn));)Mn=Mn.slice(0,Zt.index)+"["+Qt("a",Zt[0].length-2)+"]"+Mn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;Me;)if(er||(Un=""),er=!1,Kt=this.tokenizer.escape(Me))Me=Me.substring(Kt.raw.length),qe.push(Kt);else if(Kt=this.tokenizer.tag(Me,lt,Lt))Me=Me.substring(Kt.raw.length),lt=Kt.inLink,Lt=Kt.inRawBlock,qe.push(Kt);else if(Kt=this.tokenizer.link(Me))Me=Me.substring(Kt.raw.length),"link"===Kt.type&&(Kt.tokens=this.inlineTokens(Kt.text,[],!0,Lt)),qe.push(Kt);else if(Kt=this.tokenizer.reflink(Me,this.tokens.links))Me=Me.substring(Kt.raw.length),"link"===Kt.type&&(Kt.tokens=this.inlineTokens(Kt.text,[],!0,Lt)),qe.push(Kt);else if(Kt=this.tokenizer.strong(Me,Mn,Un))Me=Me.substring(Kt.raw.length),Kt.tokens=this.inlineTokens(Kt.text,[],lt,Lt),qe.push(Kt);else if(Kt=this.tokenizer.em(Me,Mn,Un))Me=Me.substring(Kt.raw.length),Kt.tokens=this.inlineTokens(Kt.text,[],lt,Lt),qe.push(Kt);else if(Kt=this.tokenizer.codespan(Me))Me=Me.substring(Kt.raw.length),qe.push(Kt);else if(Kt=this.tokenizer.br(Me))Me=Me.substring(Kt.raw.length),qe.push(Kt);else if(Kt=this.tokenizer.del(Me))Me=Me.substring(Kt.raw.length),Kt.tokens=this.inlineTokens(Kt.text,[],lt,Lt),qe.push(Kt);else if(Kt=this.tokenizer.autolink(Me,In))Me=Me.substring(Kt.raw.length),qe.push(Kt);else if(lt||!(Kt=this.tokenizer.url(Me,In))){if(Kt=this.tokenizer.inlineText(Me,Lt,gn))Me=Me.substring(Kt.raw.length),Un=Kt.raw.slice(-1),er=!0,qe.push(Kt);else if(Me){var pr="Infinite loop on byte: "+Me.charCodeAt(0);if(this.options.silent){console.error(pr);break}throw new Error(pr)}}else Me=Me.substring(Kt.raw.length),qe.push(Kt);return qe},function(Ye,Ke,we){Ke&&ot(Ye.prototype,Ke),we&&ot(Ye,we)}(Ye,null,[{key:"rules",get:function(){return{block:Pt,inline:Wt}}}]),Ye}(),Yt=le.defaults,sn=N_cleanUrl,it=N_escape,vn=function(){function Ye(we){this.options=we||Yt}var Ke=Ye.prototype;return Ke.code=function(Me,qe,lt){var Lt=(qe||"").match(/\S*/)[0];if(this.options.highlight){var Kt=this.options.highlight(Me,Lt);null!=Kt&&Kt!==Me&&(lt=!0,Me=Kt)}return Me=Me.replace(/\n$/,"")+"\n",Lt?'<pre><code class="'+this.options.langPrefix+it(Lt,!0)+'">'+(lt?Me:it(Me,!0))+"</code></pre>\n":"<pre><code>"+(lt?Me:it(Me,!0))+"</code></pre>\n"},Ke.blockquote=function(Me){return"<blockquote>\n"+Me+"</blockquote>\n"},Ke.html=function(Me){return Me},Ke.heading=function(Me,qe,lt,Lt){return this.options.headerIds?"<h"+qe+' id="'+this.options.headerPrefix+Lt.slug(lt)+'">'+Me+"</h"+qe+">\n":"<h"+qe+">"+Me+"</h"+qe+">\n"},Ke.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Ke.list=function(Me,qe,lt){var Lt=qe?"ol":"ul";return"<"+Lt+(qe&&1!==lt?' start="'+lt+'"':"")+">\n"+Me+"</"+Lt+">\n"},Ke.listitem=function(Me){return"<li>"+Me+"</li>\n"},Ke.checkbox=function(Me){return"<input "+(Me?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ke.paragraph=function(Me){return"<p>"+Me+"</p>\n"},Ke.table=function(Me,qe){return qe&&(qe="<tbody>"+qe+"</tbody>"),"<table>\n<thead>\n"+Me+"</thead>\n"+qe+"</table>\n"},Ke.tablerow=function(Me){return"<tr>\n"+Me+"</tr>\n"},Ke.tablecell=function(Me,qe){var lt=qe.header?"th":"td";return(qe.align?"<"+lt+' align="'+qe.align+'">':"<"+lt+">")+Me+"</"+lt+">\n"},Ke.strong=function(Me){return"<strong>"+Me+"</strong>"},Ke.em=function(Me){return"<em>"+Me+"</em>"},Ke.codespan=function(Me){return"<code>"+Me+"</code>"},Ke.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ke.del=function(Me){return"<del>"+Me+"</del>"},Ke.link=function(Me,qe,lt){if(null===(Me=sn(this.options.sanitize,this.options.baseUrl,Me)))return lt;var Lt='<a href="'+it(Me)+'"';return qe&&(Lt+=' title="'+qe+'"'),Lt+">"+lt+"</a>"},Ke.image=function(Me,qe,lt){if(null===(Me=sn(this.options.sanitize,this.options.baseUrl,Me)))return lt;var Lt='<img src="'+Me+'" alt="'+lt+'"';return qe&&(Lt+=' title="'+qe+'"'),Lt+(this.options.xhtml?"/>":">")},Ke.text=function(Me){return Me},Ye}(),wt=function(){function Ye(){}var Ke=Ye.prototype;return Ke.strong=function(Me){return Me},Ke.em=function(Me){return Me},Ke.codespan=function(Me){return Me},Ke.del=function(Me){return Me},Ke.html=function(Me){return Me},Ke.text=function(Me){return Me},Ke.link=function(Me,qe,lt){return""+lt},Ke.image=function(Me,qe,lt){return""+lt},Ke.br=function(){return""},Ye}(),ke=function(){function Ye(){this.seen={}}var Ke=Ye.prototype;return Ke.serialize=function(Me){return Me.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ke.getNextSafeSlug=function(Me,qe){var lt=Me,Lt=0;if(this.seen.hasOwnProperty(lt)){Lt=this.seen[Me];do{lt=Me+"-"+ ++Lt}while(this.seen.hasOwnProperty(lt))}return qe||(this.seen[Me]=Lt,this.seen[lt]=0),lt},Ke.slug=function(Me,qe){void 0===qe&&(qe={});var lt=this.serialize(Me);return this.getNextSafeSlug(lt,qe.dryrun)},Ye}(),je=le.defaults,yt=N_unescape,Et=function(){function Ye(we){this.options=we||je,this.options.renderer=this.options.renderer||new vn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new wt,this.slugger=new ke}Ye.parse=function(Me,qe){return new Ye(qe).parse(Me)},Ye.parseInline=function(Me,qe){return new Ye(qe).parseInline(Me)};var Ke=Ye.prototype;return Ke.parse=function(Me,qe){void 0===qe&&(qe=!0);var Lt,Kt,Mn,Zt,er,Un,dr,pr,si,ni,lr,Hr,Xn,wi,yr,Ti,$n,gr,lt="",Ur=Me.length;for(Lt=0;Lt<Ur;Lt++)switch(ni=Me[Lt],ni.type){case"space":continue;case"hr":lt+=this.renderer.hr();continue;case"heading":lt+=this.renderer.heading(this.parseInline(ni.tokens),ni.depth,yt(this.parseInline(ni.tokens,this.textRenderer)),this.slugger);continue;case"code":lt+=this.renderer.code(ni.text,ni.lang,ni.escaped);continue;case"table":for(pr="",dr="",Zt=ni.header.length,Kt=0;Kt<Zt;Kt++)dr+=this.renderer.tablecell(this.parseInline(ni.tokens.header[Kt]),{header:!0,align:ni.align[Kt]});for(pr+=this.renderer.tablerow(dr),si="",Zt=ni.cells.length,Kt=0;Kt<Zt;Kt++){for(dr="",er=(Un=ni.tokens.cells[Kt]).length,Mn=0;Mn<er;Mn++)dr+=this.renderer.tablecell(this.parseInline(Un[Mn]),{header:!1,align:ni.align[Mn]});si+=this.renderer.tablerow(dr)}lt+=this.renderer.table(pr,si);continue;case"blockquote":si=this.parse(ni.tokens),lt+=this.renderer.blockquote(si);continue;case"list":for(lr=ni.ordered,Hr=ni.start,Xn=ni.loose,Zt=ni.items.length,si="",Kt=0;Kt<Zt;Kt++)Ti=(yr=ni.items[Kt]).checked,$n=yr.task,wi="",yr.task&&(gr=this.renderer.checkbox(Ti),Xn?yr.tokens.length>0&&"text"===yr.tokens[0].type?(yr.tokens[0].text=gr+" "+yr.tokens[0].text,yr.tokens[0].tokens&&yr.tokens[0].tokens.length>0&&"text"===yr.tokens[0].tokens[0].type&&(yr.tokens[0].tokens[0].text=gr+" "+yr.tokens[0].tokens[0].text)):yr.tokens.unshift({type:"text",text:gr}):wi+=gr),wi+=this.parse(yr.tokens,Xn),si+=this.renderer.listitem(wi,$n,Ti);lt+=this.renderer.list(si,lr,Hr);continue;case"html":lt+=this.renderer.html(ni.text);continue;case"paragraph":lt+=this.renderer.paragraph(this.parseInline(ni.tokens));continue;case"text":for(si=ni.tokens?this.parseInline(ni.tokens):ni.text;Lt+1<Ur&&"text"===Me[Lt+1].type;)si+="\n"+((ni=Me[++Lt]).tokens?this.parseInline(ni.tokens):ni.text);lt+=qe?this.renderer.paragraph(si):si;continue;default:var _r='Token with "'+ni.type+'" type was not found.';if(this.options.silent)return void console.error(_r);throw new Error(_r)}return lt},Ke.parseInline=function(Me,qe){qe=qe||this.renderer;var Lt,Kt,lt="",Mn=Me.length;for(Lt=0;Lt<Mn;Lt++)switch(Kt=Me[Lt],Kt.type){case"escape":case"text":lt+=qe.text(Kt.text);break;case"html":lt+=qe.html(Kt.text);break;case"link":lt+=qe.link(Kt.href,Kt.title,this.parseInline(Kt.tokens,qe));break;case"image":lt+=qe.image(Kt.href,Kt.title,Kt.text);break;case"strong":lt+=qe.strong(this.parseInline(Kt.tokens,qe));break;case"em":lt+=qe.em(this.parseInline(Kt.tokens,qe));break;case"codespan":lt+=qe.codespan(Kt.text);break;case"br":lt+=qe.br();break;case"del":lt+=qe.del(this.parseInline(Kt.tokens,qe));break;default:var Zt='Token with "'+Kt.type+'" type was not found.';if(this.options.silent)return void console.error(Zt);throw new Error(Zt)}return lt},Ye}(),$t=N_merge,cn=N_checkSanitizeDeprecation,ct=N_escape,tt=le.getDefaults,_t=le.changeDefaults,zt=le.defaults;function Ft(Ye,Ke,we){if(null==Ye)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Ye)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ye)+", string expected");if("function"==typeof Ke&&(we=Ke,Ke=null),Ke=$t({},Ft.defaults,Ke||{}),cn(Ke),we){var qe,Me=Ke.highlight;try{qe=Dn.lex(Ye,Ke)}catch(Mn){return we(Mn)}var lt=function(Zt){var er;if(!Zt)try{er=Et.parse(qe,Ke)}catch(Un){Zt=Un}return Ke.highlight=Me,Zt?we(Zt):we(null,er)};if(!Me||Me.length<3||(delete Ke.highlight,!qe.length))return lt();var Lt=0;return Ft.walkTokens(qe,function(Mn){"code"===Mn.type&&(Lt++,setTimeout(function(){Me(Mn.text,Mn.lang,function(Zt,er){if(Zt)return lt(Zt);null!=er&&er!==Mn.text&&(Mn.text=er,Mn.escaped=!0),0==--Lt&&lt()})},0))}),void(0===Lt&&lt())}try{var Kt=Dn.lex(Ye,Ke);return Ke.walkTokens&&Ft.walkTokens(Kt,Ke.walkTokens),Et.parse(Kt,Ke)}catch(Mn){if(Mn.message+="\nPlease report this to https://github.com/markedjs/marked.",Ke.silent)return"<p>An error occurred:</p><pre>"+ct(Mn.message+"",!0)+"</pre>";throw Mn}}return Ft.options=Ft.setOptions=function(Ye){return $t(Ft.defaults,Ye),_t(Ft.defaults),Ft},Ft.getDefaults=tt,Ft.defaults=zt,Ft.use=function(Ye){var Ke=$t({},Ye);if(Ye.renderer&&function(){var Me=Ft.defaults.renderer||new vn,qe=function(Kt){var Mn=Me[Kt];Me[Kt]=function(){for(var Zt=arguments.length,er=new Array(Zt),Un=0;Un<Zt;Un++)er[Un]=arguments[Un];var dr=Ye.renderer[Kt].apply(Me,er);return!1===dr&&(dr=Mn.apply(Me,er)),dr}};for(var lt in Ye.renderer)qe(lt);Ke.renderer=Me}(),Ye.tokenizer&&function(){var Me=Ft.defaults.tokenizer||new Je,qe=function(Kt){var Mn=Me[Kt];Me[Kt]=function(){for(var Zt=arguments.length,er=new Array(Zt),Un=0;Un<Zt;Un++)er[Un]=arguments[Un];var dr=Ye.tokenizer[Kt].apply(Me,er);return!1===dr&&(dr=Mn.apply(Me,er)),dr}};for(var lt in Ye.tokenizer)qe(lt);Ke.tokenizer=Me}(),Ye.walkTokens){var we=Ft.defaults.walkTokens;Ke.walkTokens=function(Me){Ye.walkTokens(Me),we&&we(Me)}}Ft.setOptions(Ke)},Ft.walkTokens=function(Ye,Ke){for(var Me,we=k(Ye);!(Me=we()).done;){var qe=Me.value;switch(Ke(qe),qe.type){case"table":for(var Lt,lt=k(qe.tokens.header);!(Lt=lt()).done;)Ft.walkTokens(Lt.value,Ke);for(var Zt,Mn=k(qe.tokens.cells);!(Zt=Mn()).done;)for(var dr,Un=k(Zt.value);!(dr=Un()).done;)Ft.walkTokens(dr.value,Ke);break;case"list":Ft.walkTokens(qe.items,Ke);break;default:qe.tokens&&Ft.walkTokens(qe.tokens,Ke)}}},Ft.parseInline=function(Ye,Ke){if(null==Ye)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Ye)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ye)+", string expected");Ke=$t({},Ft.defaults,Ke||{}),cn(Ke);try{var we=Dn.lexInline(Ye,Ke);return Ke.walkTokens&&Ft.walkTokens(we,Ke.walkTokens),Et.parseInline(we,Ke)}catch(Me){if(Me.message+="\nPlease report this to https://github.com/markedjs/marked.",Ke.silent)return"<p>An error occurred:</p><pre>"+ct(Me.message+"",!0)+"</pre>";throw Me}},Ft.Parser=Et,Ft.parser=Et.parse,Ft.Renderer=vn,Ft.TextRenderer=wt,Ft.Lexer=Dn,Ft.lexer=Dn.lex,Ft.Tokenizer=Je,Ft.Slugger=ke,Ft.parse=Ft,Ft}()},4099:(un,ot,E)=>{"use strict";E.d(ot,{X:()=>k});var m=E(3405),R=E(2108);class k extends m.xQ{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const y=super._subscribe(le);return y&&!y.closed&&le.next(this._value),y}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new R.N;return this._value}next(le){super.next(this._value=le)}}},785:(un,ot,E)=>{"use strict";E.d(ot,{d:()=>R});var m=E(4168);class R extends m.L{constructor(Se,le,y){super(),this.parent=Se,this.outerValue=le,this.outerIndex=y,this.index=0}_next(Se){this.parent.notifyNext(this.outerValue,Se,this.outerIndex,this.index++,this)}_error(Se){this.parent.notifyError(Se,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},9307:(un,ot,E)=>{"use strict";E.d(ot,{P:()=>ce});var m=E(172),R=E(2411),k=E(5548);class ce{constructor(K,H,Y){this.kind=K,this.value=H,this.error=Y,this.hasValue="N"===K}observe(K){switch(this.kind){case"N":return K.next&&K.next(this.value);case"E":return K.error&&K.error(this.error);case"C":return K.complete&&K.complete()}}do(K,H,Y){switch(this.kind){case"N":return K&&K(this.value);case"E":return H&&H(this.error);case"C":return Y&&Y()}}accept(K,H,Y){return K&&"function"==typeof K.next?this.observe(K):this.do(K,H,Y)}toObservable(){switch(this.kind){case"N":return(0,R.of)(this.value);case"E":return q=this.error,new k.y(H=>H.error(q));case"C":return(0,m.c)()}var q;throw new Error("unexpected notification kind value")}static createNext(K){return void 0!==K?new ce("N",K):ce.undefinedValueNotification}static createError(K){return new ce("E",void 0,K)}static createComplete(){return ce.completeNotification}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0)},5548:(un,ot,E)=>{"use strict";E.d(ot,{y:()=>Y});var m=E(4168),k=E(2926),Se=E(6617),y=E(1359),ce=E(7255);var H=E(5426);let Y=(()=>{class j{constructor(xe){this._isScalar=!1,xe&&(this._subscribe=xe)}lift(xe){const Q=new j;return Q.source=this,Q.operator=xe,Q}subscribe(xe,Q,fe){const{operator:re}=this,ie=function(j,X,xe){if(j){if(j instanceof m.L)return j;if(j[k.b])return j[k.b]()}return j||X||xe?new m.L(j,X,xe):new m.L(Se.c)}(xe,Q,fe);if(ie.add(re?re.call(ie,this.source):this.source||H.v.useDeprecatedSynchronousErrorHandling&&!ie.syncErrorThrowable?this._subscribe(ie):this._trySubscribe(ie)),H.v.useDeprecatedSynchronousErrorHandling&&ie.syncErrorThrowable&&(ie.syncErrorThrowable=!1,ie.syncErrorThrown))throw ie.syncErrorValue;return ie}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Q){H.v.useDeprecatedSynchronousErrorHandling&&(xe.syncErrorThrown=!0,xe.syncErrorValue=Q),function(j){for(;j;){const{closed:X,destination:xe,isStopped:Q}=j;if(X||Q)return!1;j=xe&&xe instanceof m.L?xe:null}return!0}(xe)?xe.error(Q):console.warn(Q)}}forEach(xe,Q){return new(Q=V(Q))((fe,re)=>{let ie;ie=this.subscribe(ne=>{try{xe(ne)}catch(de){re(de),ie&&ie.unsubscribe()}},re,fe)})}_subscribe(xe){const{source:Q}=this;return Q&&Q.subscribe(xe)}[y.L](){return this}pipe(...xe){return 0===xe.length?this:function(j){return 0===j.length?ce.y:1===j.length?j[0]:function(xe){return j.reduce((Q,fe)=>fe(Q),xe)}}(xe)(this)}toPromise(xe){return new(xe=V(xe))((Q,fe)=>{let re;this.subscribe(ie=>re=ie,ie=>fe(ie),()=>Q(re))})}}return j.create=X=>new j(X),j})();function V(j){if(j||(j=H.v.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},6617:(un,ot,E)=>{"use strict";E.d(ot,{c:()=>k});var m=E(5426),R=E(9887);const k={closed:!0,next(Se){},error(Se){if(m.v.useDeprecatedSynchronousErrorHandling)throw Se;(0,R.z)(Se)},complete(){}}},5330:(un,ot,E)=>{"use strict";E.d(ot,{L:()=>R});var m=E(4168);class R extends m.L{notifyNext(Se,le,y,ce,q){this.destination.next(le)}notifyError(Se,le){this.destination.error(Se)}notifyComplete(Se){this.destination.complete()}}},2919:(un,ot,E)=>{"use strict";E.d(ot,{t:()=>Q});var m=E(3405),R=E(6339),Se=E(5192);const y=new class extends Se.v{}(class extends R.o{constructor(ie,ne){super(ie,ne),this.scheduler=ie,this.work=ne}schedule(ie,ne=0){return ne>0?super.schedule(ie,ne):(this.delay=ne,this.state=ie,this.scheduler.flush(this),this)}execute(ie,ne){return ne>0||this.closed?super.execute(ie,ne):this._execute(ie,ne)}requestAsyncId(ie,ne,de=0){return null!==de&&de>0||null===de&&this.delay>0?super.requestAsyncId(ie,ne,de):ie.flush(this)}});var ce=E(1346),q=E(4168),K=E(9307);class V extends q.L{constructor(ie,ne,de=0){super(ie),this.scheduler=ne,this.delay=de}static dispatch(ie){const{notification:ne,destination:de}=ie;ne.observe(de),this.unsubscribe()}scheduleMessage(ie){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new j(ie,this.destination)))}_next(ie){this.scheduleMessage(K.P.createNext(ie))}_error(ie){this.scheduleMessage(K.P.createError(ie)),this.unsubscribe()}_complete(){this.scheduleMessage(K.P.createComplete()),this.unsubscribe()}}class j{constructor(ie,ne){this.notification=ie,this.destination=ne}}var X=E(2108),xe=E(5973);class Q extends m.xQ{constructor(ie=Number.POSITIVE_INFINITY,ne=Number.POSITIVE_INFINITY,de){super(),this.scheduler=de,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ie<1?1:ie,this._windowTime=ne<1?1:ne,ne===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ie){const ne=this._events;ne.push(ie),ne.length>this._bufferSize&&ne.shift(),super.next(ie)}nextTimeWindow(ie){this._events.push(new fe(this._getNow(),ie)),this._trimBufferThenGetEvents(),super.next(ie)}_subscribe(ie){const ne=this._infiniteTimeWindow,de=ne?this._events:this._trimBufferThenGetEvents(),oe=this.scheduler,Z=de.length;let U;if(this.closed)throw new X.N;if(this.isStopped||this.hasError?U=ce.w.EMPTY:(this.observers.push(ie),U=new xe.W(this,ie)),oe&&ie.add(ie=new V(ie,oe)),ne)for(let W=0;W<Z&&!ie.closed;W++)ie.next(de[W]);else for(let W=0;W<Z&&!ie.closed;W++)ie.next(de[W].value);return this.hasError?ie.error(this.thrownError):this.isStopped&&ie.complete(),U}_getNow(){return(this.scheduler||y).now()}_trimBufferThenGetEvents(){const ie=this._getNow(),ne=this._bufferSize,de=this._windowTime,oe=this._events,Z=oe.length;let U=0;for(;U<Z&&!(ie-oe[U].time<de);)U++;return Z>ne&&(U=Math.max(U,Z-ne)),U>0&&oe.splice(0,U),oe}}class fe{constructor(ie,ne){this.time=ie,this.value=ne}}},3405:(un,ot,E)=>{"use strict";E.d(ot,{Yc:()=>ce,xQ:()=>q});var m=E(5548),R=E(4168),k=E(1346),Se=E(2108),le=E(5973),y=E(2926);class ce extends R.L{constructor(Y){super(Y),this.destination=Y}}let q=(()=>{class H extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[y.b](){return new ce(this)}lift(V){const j=new K(this,this);return j.operator=V,j}next(V){if(this.closed)throw new Se.N;if(!this.isStopped){const{observers:j}=this,X=j.length,xe=j.slice();for(let Q=0;Q<X;Q++)xe[Q].next(V)}}error(V){if(this.closed)throw new Se.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:j}=this,X=j.length,xe=j.slice();for(let Q=0;Q<X;Q++)xe[Q].error(V);this.observers.length=0}complete(){if(this.closed)throw new Se.N;this.isStopped=!0;const{observers:V}=this,j=V.length,X=V.slice();for(let xe=0;xe<j;xe++)X[xe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new Se.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new Se.N;return this.hasError?(V.error(this.thrownError),k.w.EMPTY):this.isStopped?(V.complete(),k.w.EMPTY):(this.observers.push(V),new le.W(this,V))}asObservable(){const V=new m.y;return V.source=this,V}}return H.create=(Y,V)=>new K(Y,V),H})();class K extends q{constructor(Y,V){super(),this.destination=Y,this.source=V}next(Y){const{destination:V}=this;V&&V.next&&V.next(Y)}error(Y){const{destination:V}=this;V&&V.error&&this.destination.error(Y)}complete(){const{destination:Y}=this;Y&&Y.complete&&this.destination.complete()}_subscribe(Y){const{source:V}=this;return V?this.source.subscribe(Y):k.w.EMPTY}}},5973:(un,ot,E)=>{"use strict";E.d(ot,{W:()=>R});var m=E(1346);class R extends m.w{constructor(Se,le){super(),this.subject=Se,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Se=this.subject,le=Se.observers;if(this.subject=null,!le||0===le.length||Se.isStopped||Se.closed)return;const y=le.indexOf(this.subscriber);-1!==y&&le.splice(y,1)}}},4168:(un,ot,E)=>{"use strict";E.d(ot,{L:()=>ce});var m=E(6783),R=E(6617),k=E(1346),Se=E(2926),le=E(5426),y=E(9887);class ce extends k.w{constructor(H,Y,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=R.c;break;case 1:if(!H){this.destination=R.c;break}if("object"==typeof H){H instanceof ce?(this.syncErrorThrowable=H.syncErrorThrowable,this.destination=H,H.add(this)):(this.syncErrorThrowable=!0,this.destination=new q(this,H));break}default:this.syncErrorThrowable=!0,this.destination=new q(this,H,Y,V)}}[Se.b](){return this}static create(H,Y,V){const j=new ce(H,Y,V);return j.syncErrorThrowable=!1,j}next(H){this.isStopped||this._next(H)}error(H){this.isStopped||(this.isStopped=!0,this._error(H))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(H){this.destination.next(H)}_error(H){this.destination.error(H),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:H}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=H,this}}class q extends ce{constructor(H,Y,V,j){super(),this._parentSubscriber=H;let X,xe=this;(0,m.m)(Y)?X=Y:Y&&(X=Y.next,V=Y.error,j=Y.complete,Y!==R.c&&(xe=Object.create(Y),(0,m.m)(xe.unsubscribe)&&this.add(xe.unsubscribe.bind(xe)),xe.unsubscribe=this.unsubscribe.bind(this))),this._context=xe,this._next=X,this._error=V,this._complete=j}next(H){if(!this.isStopped&&this._next){const{_parentSubscriber:Y}=this;le.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?this.__tryOrSetError(Y,this._next,H)&&this.unsubscribe():this.__tryOrUnsub(this._next,H)}}error(H){if(!this.isStopped){const{_parentSubscriber:Y}=this,{useDeprecatedSynchronousErrorHandling:V}=le.v;if(this._error)V&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,this._error,H),this.unsubscribe()):(this.__tryOrUnsub(this._error,H),this.unsubscribe());else if(Y.syncErrorThrowable)V?(Y.syncErrorValue=H,Y.syncErrorThrown=!0):(0,y.z)(H),this.unsubscribe();else{if(this.unsubscribe(),V)throw H;(0,y.z)(H)}}}complete(){if(!this.isStopped){const{_parentSubscriber:H}=this;if(this._complete){const Y=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?(this.__tryOrSetError(H,Y),this.unsubscribe()):(this.__tryOrUnsub(Y),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(H,Y){try{H.call(this._context,Y)}catch(V){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw V;(0,y.z)(V)}}__tryOrSetError(H,Y,V){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Y.call(this._context,V)}catch(j){return le.v.useDeprecatedSynchronousErrorHandling?(H.syncErrorValue=j,H.syncErrorThrown=!0,!0):((0,y.z)(j),!0)}return!1}_unsubscribe(){const{_parentSubscriber:H}=this;this._context=null,this._parentSubscriber=null,H.unsubscribe()}}},1346:(un,ot,E)=>{"use strict";E.d(ot,{w:()=>y});var m=E(5894),R=E(7879),k=E(6783);const le=(()=>{function q(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((H,Y)=>`${Y+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return q.prototype=Object.create(Error.prototype),q})();class y{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:H,_unsubscribe:Y,_subscriptions:V}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,H instanceof y)H.remove(this);else if(null!==H)for(let j=0;j<H.length;++j)H[j].remove(this);if((0,k.m)(Y))try{Y.call(this)}catch(j){K=j instanceof le?ce(j.errors):[j]}if((0,m.k)(V)){let j=-1,X=V.length;for(;++j<X;){const xe=V[j];if((0,R.K)(xe))try{xe.unsubscribe()}catch(Q){K=K||[],Q instanceof le?K=K.concat(ce(Q.errors)):K.push(Q)}}}if(K)throw new le(K)}add(K){let H=K;if(!K)return y.EMPTY;switch(typeof K){case"function":H=new y(K);case"object":if(H===this||H.closed||"function"!=typeof H.unsubscribe)return H;if(this.closed)return H.unsubscribe(),H;if(!(H instanceof y)){const j=H;H=new y,H._subscriptions=[j]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:Y}=H;if(null===Y)H._parentOrParents=this;else if(Y instanceof y){if(Y===this)return H;H._parentOrParents=[Y,this]}else{if(-1!==Y.indexOf(this))return H;Y.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[H]:V.push(H),H}remove(K){const H=this._subscriptions;if(H){const Y=H.indexOf(K);-1!==Y&&H.splice(Y,1)}}}var q;function ce(q){return q.reduce((K,H)=>K.concat(H instanceof le?H.errors:H),[])}y.EMPTY=((q=new y).closed=!0,q)},5426:(un,ot,E)=>{"use strict";E.d(ot,{v:()=>R});let m=!1;const R={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const Se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Se.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=k},get useDeprecatedSynchronousErrorHandling(){return m}}},5783:(un,ot,E)=>{"use strict";E.d(ot,{c:()=>le,N:()=>y});var m=E(3405),R=E(5548),k=E(1346),Se=E(5234);class le extends R.y{constructor(Y,V){super(),this.source=Y,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Y=this._connection;return Y||(this._isComplete=!1,Y=this._connection=new k.w,Y.add(this.source.subscribe(new ce(this.getSubject(),this))),Y.closed&&(this._connection=null,Y=k.w.EMPTY)),Y}refCount(){return(0,Se.x)()(this)}}const y=(()=>{const H=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:H._subscribe},_isComplete:{value:H._isComplete,writable:!0},getSubject:{value:H.getSubject},connect:{value:H.connect},refCount:{value:H.refCount}}})();class ce extends m.Yc{constructor(Y,V){super(Y),this.connectable=V}_error(Y){this._unsubscribe(),super._error(Y)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Y=this.connectable;if(Y){this.connectable=null;const V=Y._connection;Y._refCount=0,Y._subject=null,Y._connection=null,V&&V.unsubscribe()}}}},2668:(un,ot,E)=>{"use strict";E.d(ot,{aj:()=>ce});var m=E(8151),R=E(5894),k=E(5330),Se=E(8985),le=E(5433);const y={};function ce(...H){let Y=null,V=null;return(0,m.K)(H[H.length-1])&&(V=H.pop()),"function"==typeof H[H.length-1]&&(Y=H.pop()),1===H.length&&(0,R.k)(H[0])&&(H=H[0]),(0,le.n)(H,V).lift(new q(Y))}class q{constructor(Y){this.resultSelector=Y}call(Y,V){return V.subscribe(new K(Y,this.resultSelector))}}class K extends k.L{constructor(Y,V){super(Y),this.resultSelector=V,this.active=0,this.values=[],this.observables=[]}_next(Y){this.values.push(y),this.observables.push(Y)}_complete(){const Y=this.observables,V=Y.length;if(0===V)this.destination.complete();else{this.active=V,this.toRespond=V;for(let j=0;j<V;j++){const X=Y[j];this.add((0,Se.D)(this,X,X,j))}}}notifyComplete(Y){0==(this.active-=1)&&this.destination.complete()}notifyNext(Y,V,j,X,xe){const Q=this.values,re=this.toRespond?Q[j]===y?--this.toRespond:this.toRespond:0;Q[j]=V,0===re&&(this.resultSelector?this._tryResultSelector(Q):this.destination.next(Q.slice()))}_tryResultSelector(Y){let V;try{V=this.resultSelector.apply(this,Y)}catch(j){return void this.destination.error(j)}this.destination.next(V)}}},3596:(un,ot,E)=>{"use strict";E.d(ot,{z:()=>Se});var m=E(2411),R=E(2225);function Se(...le){return(0,R.J)(1)((0,m.of)(...le))}},172:(un,ot,E)=>{"use strict";E.d(ot,{E:()=>R,c:()=>k});var m=E(5548);const R=new m.y(le=>le.complete());function k(le){return le?function(le){return new m.y(y=>le.schedule(()=>y.complete()))}(le):R}},1915:(un,ot,E)=>{"use strict";E.d(ot,{D:()=>xe});var m=E(5548),R=E(4651),k=E(1346),Se=E(1359),ce=E(3428),q=E(4352),Y=E(847),V=E(1265);function xe(Q,fe){return fe?function(Q,fe){if(null!=Q){if(function(Q){return Q&&"function"==typeof Q[Se.L]}(Q))return function(Q,fe){return new m.y(re=>{const ie=new k.w;return ie.add(fe.schedule(()=>{const ne=Q[Se.L]();ie.add(ne.subscribe({next(de){ie.add(fe.schedule(()=>re.next(de)))},error(de){ie.add(fe.schedule(()=>re.error(de)))},complete(){ie.add(fe.schedule(()=>re.complete()))}}))})),ie})}(Q,fe);if((0,Y.t)(Q))return function(Q,fe){return new m.y(re=>{const ie=new k.w;return ie.add(fe.schedule(()=>Q.then(ne=>{ie.add(fe.schedule(()=>{re.next(ne),ie.add(fe.schedule(()=>re.complete()))}))},ne=>{ie.add(fe.schedule(()=>re.error(ne)))}))),ie})}(Q,fe);if((0,V.z)(Q))return(0,ce.r)(Q,fe);if(function(Q){return Q&&"function"==typeof Q[q.hZ]}(Q)||"string"==typeof Q)return function(Q,fe){if(!Q)throw new Error("Iterable cannot be null");return new m.y(re=>{const ie=new k.w;let ne;return ie.add(()=>{ne&&"function"==typeof ne.return&&ne.return()}),ie.add(fe.schedule(()=>{ne=Q[q.hZ](),ie.add(fe.schedule(function(){if(re.closed)return;let de,oe;try{const Z=ne.next();de=Z.value,oe=Z.done}catch(Z){return void re.error(Z)}oe?re.complete():(re.next(de),this.schedule())}))})),ie})}(Q,fe)}throw new TypeError((null!==Q&&typeof Q||Q)+" is not observable")}(Q,fe):Q instanceof m.y?Q:new m.y((0,R.s)(Q))}},5433:(un,ot,E)=>{"use strict";E.d(ot,{n:()=>Se});var m=E(5548),R=E(8769),k=E(3428);function Se(le,y){return y?(0,k.r)(le,y):new m.y((0,R.V)(le))}},6087:(un,ot,E)=>{"use strict";E.d(ot,{R:()=>y});var m=E(5548),R=E(5894),k=E(6783),Se=E(8053);function y(Y,V,j,X){return(0,k.m)(j)&&(X=j,j=void 0),X?y(Y,V,j).pipe((0,Se.U)(xe=>(0,R.k)(xe)?X(...xe):X(xe))):new m.y(xe=>{ce(Y,V,function(fe){xe.next(arguments.length>1?Array.prototype.slice.call(arguments):fe)},xe,j)})}function ce(Y,V,j,X,xe){let Q;if(function(Y){return Y&&"function"==typeof Y.addEventListener&&"function"==typeof Y.removeEventListener}(Y)){const fe=Y;Y.addEventListener(V,j,xe),Q=()=>fe.removeEventListener(V,j,xe)}else if(function(Y){return Y&&"function"==typeof Y.on&&"function"==typeof Y.off}(Y)){const fe=Y;Y.on(V,j),Q=()=>fe.off(V,j)}else if(function(Y){return Y&&"function"==typeof Y.addListener&&"function"==typeof Y.removeListener}(Y)){const fe=Y;Y.addListener(V,j),Q=()=>fe.removeListener(V,j)}else{if(!Y||!Y.length)throw new TypeError("Invalid event target");for(let fe=0,re=Y.length;fe<re;fe++)ce(Y[fe],V,j,X,xe)}X.add(Q)}},8526:(un,ot,E)=>{"use strict";E.d(ot,{T:()=>le});var m=E(5548),R=E(8151),k=E(2225),Se=E(5433);function le(...y){let ce=Number.POSITIVE_INFINITY,q=null,K=y[y.length-1];return(0,R.K)(K)?(q=y.pop(),y.length>1&&"number"==typeof y[y.length-1]&&(ce=y.pop())):"number"==typeof K&&(ce=y.pop()),null===q&&1===y.length&&y[0]instanceof m.y?y[0]:(0,k.J)(ce)((0,Se.n)(y,q))}},2411:(un,ot,E)=>{"use strict";E.d(ot,{of:()=>Se});var m=E(8151),R=E(5433),k=E(3428);function Se(...le){let y=le[le.length-1];return(0,m.K)(y)?(le.pop(),(0,k.r)(le,y)):(0,R.n)(le)}},1506:(un,ot,E)=>{"use strict";E.d(ot,{e:()=>j});var m=E(8178),R=E(5330),k=E(8985);class le{constructor(xe){this.durationSelector=xe}call(xe,Q){return Q.subscribe(new y(xe,this.durationSelector))}}class y extends R.L{constructor(xe,Q){super(xe),this.durationSelector=Q,this.hasValue=!1}_next(xe){if(this.value=xe,this.hasValue=!0,!this.throttled){let Q;try{const{durationSelector:re}=this;Q=re(xe)}catch(re){return this.destination.error(re)}const fe=(0,k.D)(this,Q);!fe||fe.closed?this.clearThrottle():this.add(this.throttled=fe)}}clearThrottle(){const{value:xe,hasValue:Q,throttled:fe}=this;fe&&(this.remove(fe),this.throttled=null,fe.unsubscribe()),Q&&(this.value=null,this.hasValue=!1,this.destination.next(xe))}notifyNext(xe,Q,fe,re){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var ce=E(5548),q=E(5894);function K(X){return!(0,q.k)(X)&&X-parseFloat(X)+1>=0}var H=E(8151);function V(X){const{index:xe,period:Q,subscriber:fe}=X;if(fe.next(xe),!fe.closed){if(-1===Q)return fe.complete();X.index=xe+1,this.schedule(X,Q)}}function j(X,xe=m.P){return function(X){return function(Q){return Q.lift(new le(X))}}(()=>function(X=0,xe,Q){let fe=-1;return K(xe)?fe=Number(xe)<1?1:Number(xe):(0,H.K)(xe)&&(Q=xe),(0,H.K)(Q)||(Q=m.P),new ce.y(re=>{const ie=K(X)?X:+X-Q.now();return Q.schedule(V,ie,{index:0,period:fe,subscriber:re})})}(X,xe))}},2047:(un,ot,E)=>{"use strict";E.d(ot,{K:()=>Se});var m=E(5330),R=E(785),k=E(8985);function Se(ce){return function(K){const H=new le(ce),Y=K.lift(H);return H.caught=Y}}class le{constructor(q){this.selector=q}call(q,K){return K.subscribe(new y(q,this.selector,this.caught))}}class y extends m.L{constructor(q,K,H){super(q),this.selector=K,this.caught=H}error(q){if(!this.isStopped){let K;try{K=this.selector(q,this.caught)}catch(V){return void super.error(V)}this._unsubscribeAndRecycle();const H=new R.d(this,void 0,void 0);this.add(H);const Y=(0,k.D)(this,K,void 0,void 0,H);Y!==H&&this.add(Y)}}}},6700:(un,ot,E)=>{"use strict";E.d(ot,{b:()=>R});var m=E(4421);function R(k,Se){return(0,m.zg)(k,Se,1)}},3507:(un,ot,E)=>{"use strict";E.d(ot,{d:()=>R});var m=E(4168);function R(le=null){return y=>y.lift(new k(le))}class k{constructor(y){this.defaultValue=y}call(y,ce){return ce.subscribe(new Se(y,this.defaultValue))}}class Se extends m.L{constructor(y,ce){super(y),this.defaultValue=ce,this.isEmpty=!0}_next(y){this.isEmpty=!1,this.destination.next(y)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5389:(un,ot,E)=>{"use strict";E.d(ot,{x:()=>R});var m=E(4168);function R(le,y){return ce=>ce.lift(new k(le,y))}class k{constructor(y,ce){this.compare=y,this.keySelector=ce}call(y,ce){return ce.subscribe(new Se(y,this.compare,this.keySelector))}}class Se extends m.L{constructor(y,ce,q){super(y),this.keySelector=q,this.hasKey=!1,"function"==typeof ce&&(this.compare=ce)}compare(y,ce){return y===ce}_next(y){let ce;try{const{keySelector:K}=this;ce=K?K(y):y}catch(K){return this.destination.error(K)}let q=!1;if(this.hasKey)try{const{compare:K}=this;q=K(this.key,ce)}catch(K){return this.destination.error(K)}else this.hasKey=!0;q||(this.key=ce,this.destination.next(y))}}},8735:(un,ot,E)=>{"use strict";E.d(ot,{h:()=>R});var m=E(4168);function R(le,y){return function(q){return q.lift(new k(le,y))}}class k{constructor(y,ce){this.predicate=y,this.thisArg=ce}call(y,ce){return ce.subscribe(new Se(y,this.predicate,this.thisArg))}}class Se extends m.L{constructor(y,ce,q){super(y),this.predicate=ce,this.thisArg=q,this.count=0}_next(y){let ce;try{ce=this.predicate.call(this.thisArg,y,this.count++)}catch(q){return void this.destination.error(q)}ce&&this.destination.next(y)}}},6658:(un,ot,E)=>{"use strict";E.d(ot,{x:()=>k});var m=E(4168),R=E(1346);function k(y){return ce=>ce.lift(new Se(y))}class Se{constructor(ce){this.callback=ce}call(ce,q){return q.subscribe(new le(ce,this.callback))}}class le extends m.L{constructor(ce,q){super(ce),this.add(new R.w(q))}}},739:(un,ot,E)=>{"use strict";E.d(ot,{P:()=>ce});var m=E(9443),R=E(8735),k=E(6636),Se=E(3507),le=E(6225),y=E(7255);function ce(q,K){const H=arguments.length>=2;return Y=>Y.pipe(q?(0,R.h)((V,j)=>q(V,j,Y)):y.y,(0,k.q)(1),H?(0,Se.d)(K):(0,le.T)(()=>new m.K))}},8053:(un,ot,E)=>{"use strict";E.d(ot,{U:()=>R});var m=E(4168);function R(le,y){return function(q){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return q.lift(new k(le,y))}}class k{constructor(y,ce){this.project=y,this.thisArg=ce}call(y,ce){return ce.subscribe(new Se(y,this.project,this.thisArg))}}class Se extends m.L{constructor(y,ce,q){super(y),this.project=ce,this.count=0,this.thisArg=q||this}_next(y){let ce;try{ce=this.project.call(this.thisArg,y,this.count++)}catch(q){return void this.destination.error(q)}this.destination.next(ce)}}},4120:(un,ot,E)=>{"use strict";E.d(ot,{h:()=>R});var m=E(4168);function R(le){return y=>y.lift(new k(le))}class k{constructor(y){this.value=y}call(y,ce){return ce.subscribe(new Se(y,this.value))}}class Se extends m.L{constructor(y,ce){super(y),this.value=ce}_next(y){this.destination.next(this.value)}}},2225:(un,ot,E)=>{"use strict";E.d(ot,{J:()=>k});var m=E(4421),R=E(7255);function k(Se=Number.POSITIVE_INFINITY){return(0,m.zg)(R.y,Se)}},4421:(un,ot,E)=>{"use strict";E.d(ot,{zg:()=>y});var m=E(8985),R=E(5330),k=E(785),Se=E(8053),le=E(1915);function y(K,H,Y=Number.POSITIVE_INFINITY){return"function"==typeof H?V=>V.pipe(y((j,X)=>(0,le.D)(K(j,X)).pipe((0,Se.U)((xe,Q)=>H(j,xe,X,Q))),Y)):("number"==typeof H&&(Y=H),V=>V.lift(new ce(K,Y)))}class ce{constructor(H,Y=Number.POSITIVE_INFINITY){this.project=H,this.concurrent=Y}call(H,Y){return Y.subscribe(new q(H,this.project,this.concurrent))}}class q extends R.L{constructor(H,Y,V=Number.POSITIVE_INFINITY){super(H),this.project=Y,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(H){this.active<this.concurrent?this._tryNext(H):this.buffer.push(H)}_tryNext(H){let Y;const V=this.index++;try{Y=this.project(H,V)}catch(j){return void this.destination.error(j)}this.active++,this._innerSub(Y,H,V)}_innerSub(H,Y,V){const j=new k.d(this,Y,V),X=this.destination;X.add(j);const xe=(0,m.D)(this,H,void 0,void 0,j);xe!==j&&X.add(xe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(H,Y,V,j,X){this.destination.next(Y)}notifyComplete(H){const Y=this.buffer;this.remove(H),this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},5234:(un,ot,E)=>{"use strict";E.d(ot,{x:()=>R});var m=E(4168);function R(){return function(y){return y.lift(new k(y))}}class k{constructor(y){this.connectable=y}call(y,ce){const{connectable:q}=this;q._refCount++;const K=new Se(y,q),H=ce.subscribe(K);return K.closed||(K.connection=q.connect()),H}}class Se extends m.L{constructor(y,ce){super(y),this.connectable=ce}_unsubscribe(){const{connectable:y}=this;if(!y)return void(this.connection=null);this.connectable=null;const ce=y._refCount;if(ce<=0)return void(this.connection=null);if(y._refCount=ce-1,ce>1)return void(this.connection=null);const{connection:q}=this,K=y._connection;this.connection=null,K&&(!q||K===q)&&K.unsubscribe()}}},6669:(un,ot,E)=>{"use strict";E.d(ot,{B:()=>ce});var m=E(5783);var Se=E(5234),le=E(3405);function y(){return new le.xQ}function ce(){return q=>(0,Se.x)()(function(q,K){return function(Y){let V;V="function"==typeof q?q:function(){return q};const j=Object.create(Y,m.N);return j.source=Y,j.subjectFactory=V,j}}(y)(q))}},1125:(un,ot,E)=>{"use strict";E.d(ot,{O:()=>k});var m=E(3596),R=E(8151);function k(...Se){const le=Se[Se.length-1];return(0,R.K)(le)?(Se.pop(),y=>(0,m.z)(Se,y,le)):y=>(0,m.z)(Se,y)}},9204:(un,ot,E)=>{"use strict";E.d(ot,{w:()=>y});var m=E(5330),R=E(785),k=E(8985),Se=E(8053),le=E(1915);function y(K,H){return"function"==typeof H?Y=>Y.pipe(y((V,j)=>(0,le.D)(K(V,j)).pipe((0,Se.U)((X,xe)=>H(V,X,j,xe))))):Y=>Y.lift(new ce(K))}class ce{constructor(H){this.project=H}call(H,Y){return Y.subscribe(new q(H,this.project))}}class q extends m.L{constructor(H,Y){super(H),this.project=Y,this.index=0}_next(H){let Y;const V=this.index++;try{Y=this.project(H,V)}catch(j){return void this.destination.error(j)}this._innerSub(Y,H,V)}_innerSub(H,Y,V){const j=this.innerSubscription;j&&j.unsubscribe();const X=new R.d(this,Y,V),xe=this.destination;xe.add(X),this.innerSubscription=(0,k.D)(this,H,void 0,void 0,X),this.innerSubscription!==X&&xe.add(this.innerSubscription)}_complete(){const{innerSubscription:H}=this;(!H||H.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(H){this.destination.remove(H),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(H,Y,V,j,X){this.destination.next(Y)}}},6636:(un,ot,E)=>{"use strict";E.d(ot,{q:()=>Se});var m=E(4168),R=E(523),k=E(172);function Se(ce){return q=>0===ce?(0,k.c)():q.lift(new le(ce))}class le{constructor(q){if(this.total=q,this.total<0)throw new R.W}call(q,K){return K.subscribe(new y(q,this.total))}}class y extends m.L{constructor(q,K){super(q),this.total=K,this.count=0}_next(q){const K=this.total,H=++this.count;H<=K&&(this.destination.next(q),H===K&&(this.destination.complete(),this.unsubscribe()))}}},8805:(un,ot,E)=>{"use strict";E.d(ot,{R:()=>k});var m=E(5330),R=E(8985);function k(y){return ce=>ce.lift(new Se(y))}class Se{constructor(ce){this.notifier=ce}call(ce,q){const K=new le(ce),H=(0,R.D)(K,this.notifier);return H&&!K.seenValue?(K.add(H),q.subscribe(K)):K}}class le extends m.L{constructor(ce){super(ce),this.seenValue=!1}notifyNext(ce,q,K,H,Y){this.seenValue=!0,this.complete()}notifyComplete(){}}},5722:(un,ot,E)=>{"use strict";E.d(ot,{b:()=>Se});var m=E(4168);function R(){}var k=E(6783);function Se(ce,q,K){return function(Y){return Y.lift(new le(ce,q,K))}}class le{constructor(q,K,H){this.nextOrObserver=q,this.error=K,this.complete=H}call(q,K){return K.subscribe(new y(q,this.nextOrObserver,this.error,this.complete))}}class y extends m.L{constructor(q,K,H,Y){super(q),this._tapNext=R,this._tapError=R,this._tapComplete=R,this._tapError=H||R,this._tapComplete=Y||R,(0,k.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||R,this._tapError=K.error||R,this._tapComplete=K.complete||R)}_next(q){try{this._tapNext.call(this._context,q)}catch(K){return void this.destination.error(K)}this.destination.next(q)}_error(q){try{this._tapError.call(this._context,q)}catch(K){return void this.destination.error(K)}this.destination.error(q)}_complete(){try{this._tapComplete.call(this._context)}catch(q){return void this.destination.error(q)}return this.destination.complete()}}},6225:(un,ot,E)=>{"use strict";E.d(ot,{T:()=>k});var m=E(9443),R=E(4168);function k(ce=y){return q=>q.lift(new Se(ce))}class Se{constructor(q){this.errorFactory=q}call(q,K){return K.subscribe(new le(q,this.errorFactory))}}class le extends R.L{constructor(q,K){super(q),this.errorFactory=K,this.hasValue=!1}_next(q){this.hasValue=!0,this.destination.next(q)}_complete(){if(this.hasValue)return this.destination.complete();{let q;try{q=this.errorFactory()}catch(K){q=K}this.destination.error(q)}}}function y(){return new m.K}},3428:(un,ot,E)=>{"use strict";E.d(ot,{r:()=>k});var m=E(5548),R=E(1346);function k(Se,le){return new m.y(y=>{const ce=new R.w;let q=0;return ce.add(le.schedule(function(){q!==Se.length?(y.next(Se[q++]),y.closed||ce.add(this.schedule())):y.complete()})),ce})}},6339:(un,ot,E)=>{"use strict";E.d(ot,{o:()=>k});var m=E(1346);class R extends m.w{constructor(le,y){super()}schedule(le,y=0){return this}}class k extends R{constructor(le,y){super(le,y),this.scheduler=le,this.work=y,this.pending=!1}schedule(le,y=0){if(this.closed)return this;this.state=le;const ce=this.id,q=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(q,ce,y)),this.pending=!0,this.delay=y,this.id=this.id||this.requestAsyncId(q,this.id,y),this}requestAsyncId(le,y,ce=0){return setInterval(le.flush.bind(le,this),ce)}recycleAsyncId(le,y,ce=0){if(null!==ce&&this.delay===ce&&!1===this.pending)return y;clearInterval(y)}execute(le,y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(le,y);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,y){let q,ce=!1;try{this.work(le)}catch(K){ce=!0,q=!!K&&K||new Error(K)}if(ce)return this.unsubscribe(),q}_unsubscribe(){const le=this.id,y=this.scheduler,ce=y.actions,q=ce.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==q&&ce.splice(q,1),null!=le&&(this.id=this.recycleAsyncId(y,le,null)),this.delay=null}}},5192:(un,ot,E)=>{"use strict";E.d(ot,{v:()=>R});let m=(()=>{class k{constructor(le,y=k.now){this.SchedulerAction=le,this.now=y}schedule(le,y=0,ce){return new this.SchedulerAction(this,le).schedule(ce,y)}}return k.now=()=>Date.now(),k})();class R extends m{constructor(Se,le=m.now){super(Se,()=>R.delegate&&R.delegate!==this?R.delegate.now():le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Se,le=0,y){return R.delegate&&R.delegate!==this?R.delegate.schedule(Se,le,y):super.schedule(Se,le,y)}flush(Se){const{actions:le}=this;if(this.active)return void le.push(Se);let y;this.active=!0;do{if(y=Se.execute(Se.state,Se.delay))break}while(Se=le.shift());if(this.active=!1,y){for(;Se=le.shift();)Se.unsubscribe();throw y}}}},8548:(un,ot,E)=>{"use strict";E.d(ot,{r:()=>le});var m=E(6339),k=E(5192);const le=new class extends k.v{flush(ce){this.active=!0,this.scheduled=void 0;const{actions:q}=this;let K,H=-1,Y=q.length;ce=ce||q.shift();do{if(K=ce.execute(ce.state,ce.delay))break}while(++H<Y&&(ce=q.shift()));if(this.active=!1,K){for(;++H<Y&&(ce=q.shift());)ce.unsubscribe();throw K}}}(class extends m.o{constructor(ce,q){super(ce,q),this.scheduler=ce,this.work=q}requestAsyncId(ce,q,K=0){return null!==K&&K>0?super.requestAsyncId(ce,q,K):(ce.actions.push(this),ce.scheduled||(ce.scheduled=requestAnimationFrame(()=>ce.flush(null))))}recycleAsyncId(ce,q,K=0){if(null!==K&&K>0||null===K&&this.delay>0)return super.recycleAsyncId(ce,q,K);0===ce.actions.length&&(cancelAnimationFrame(q),ce.scheduled=void 0)}})},2907:(un,ot,E)=>{"use strict";E.d(ot,{e:()=>Y});let m=1;const R=Promise.resolve(),k={};function Se(V){return V in k&&(delete k[V],!0)}const le={setImmediate(V){const j=m++;return k[j]=!0,R.then(()=>Se(j)&&V()),j},clearImmediate(V){Se(V)}};var ce=E(6339),K=E(5192);const Y=new class extends K.v{flush(j){this.active=!0,this.scheduled=void 0;const{actions:X}=this;let xe,Q=-1,fe=X.length;j=j||X.shift();do{if(xe=j.execute(j.state,j.delay))break}while(++Q<fe&&(j=X.shift()));if(this.active=!1,xe){for(;++Q<fe&&(j=X.shift());)j.unsubscribe();throw xe}}}(class extends ce.o{constructor(j,X){super(j,X),this.scheduler=j,this.work=X}requestAsyncId(j,X,xe=0){return null!==xe&&xe>0?super.requestAsyncId(j,X,xe):(j.actions.push(this),j.scheduled||(j.scheduled=le.setImmediate(j.flush.bind(j,null))))}recycleAsyncId(j,X,xe=0){if(null!==xe&&xe>0||null===xe&&this.delay>0)return super.recycleAsyncId(j,X,xe);0===j.actions.length&&(le.clearImmediate(X),j.scheduled=void 0)}})},8178:(un,ot,E)=>{"use strict";E.d(ot,{P:()=>k});var m=E(6339);const k=new(E(5192).v)(m.o)},4352:(un,ot,E)=>{"use strict";E.d(ot,{hZ:()=>R});const R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(un,ot,E)=>{"use strict";E.d(ot,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(un,ot,E)=>{"use strict";E.d(ot,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},523:(un,ot,E)=>{"use strict";E.d(ot,{W:()=>R});const R=(()=>{function k(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return k.prototype=Object.create(Error.prototype),k})()},9443:(un,ot,E)=>{"use strict";E.d(ot,{K:()=>R});const R=(()=>{function k(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return k.prototype=Object.create(Error.prototype),k})()},2108:(un,ot,E)=>{"use strict";E.d(ot,{N:()=>R});const R=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},9887:(un,ot,E)=>{"use strict";function m(R){setTimeout(()=>{throw R},0)}E.d(ot,{z:()=>m})},7255:(un,ot,E)=>{"use strict";function m(R){return R}E.d(ot,{y:()=>m})},5894:(un,ot,E)=>{"use strict";E.d(ot,{k:()=>m});const m=Array.isArray||(R=>R&&"number"==typeof R.length)},1265:(un,ot,E)=>{"use strict";E.d(ot,{z:()=>m});const m=R=>R&&"number"==typeof R.length&&"function"!=typeof R},6783:(un,ot,E)=>{"use strict";function m(R){return"function"==typeof R}E.d(ot,{m:()=>m})},7879:(un,ot,E)=>{"use strict";function m(R){return null!==R&&"object"==typeof R}E.d(ot,{K:()=>m})},7214:(un,ot,E)=>{"use strict";E.d(ot,{b:()=>R});var m=E(5548);function R(k){return!!k&&(k instanceof m.y||"function"==typeof k.lift&&"function"==typeof k.subscribe)}},847:(un,ot,E)=>{"use strict";function m(R){return!!R&&"function"!=typeof R.subscribe&&"function"==typeof R.then}E.d(ot,{t:()=>m})},8151:(un,ot,E)=>{"use strict";function m(R){return R&&"function"==typeof R.schedule}E.d(ot,{K:()=>m})},4651:(un,ot,E)=>{"use strict";E.d(ot,{s:()=>Y});var m=E(8769),R=E(9887),Se=E(4352),y=E(1359),q=E(1265),K=E(847),H=E(7879);const Y=V=>{if(V&&"function"==typeof V[y.L])return(V=>j=>{const X=V[y.L]();if("function"!=typeof X.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return X.subscribe(j)})(V);if((0,q.z)(V))return(0,m.V)(V);if((0,K.t)(V))return(V=>j=>(V.then(X=>{j.closed||(j.next(X),j.complete())},X=>j.error(X)).then(null,R.z),j))(V);if(V&&"function"==typeof V[Se.hZ])return(V=>j=>{const X=V[Se.hZ]();for(;;){const xe=X.next();if(xe.done){j.complete();break}if(j.next(xe.value),j.closed)break}return"function"==typeof X.return&&j.add(()=>{X.return&&X.return()}),j})(V);{const X=`You provided ${(0,H.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(X)}}},8769:(un,ot,E)=>{"use strict";E.d(ot,{V:()=>m});const m=R=>k=>{for(let Se=0,le=R.length;Se<le&&!k.closed;Se++)k.next(R[Se]);k.complete()}},8985:(un,ot,E)=>{"use strict";E.d(ot,{D:()=>Se});var m=E(785),R=E(4651),k=E(5548);function Se(le,y,ce,q,K=new m.d(le,ce,q)){if(!K.closed)return y instanceof k.y?y.subscribe(K):(0,R.s)(y)(K)}},2619:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>oe});var m=E(9736),R=E(547),k=E(1436),Se=E(4955),le=E(7084),y=E(284),ce=E(4297),q=E(589),K=E(5065),H=E(558),Y="__zr_normal__",V=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],j={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},X={},xe=new k.Z(0,0,0,0),Q=function(){function Z(U){this.id=(0,y.guid)(),this.animators=[],this.currentStates=[],this.states={},this._init(U)}return Z.prototype._init=function(U){this.attr(U)},Z.prototype.drift=function(U,W,L){switch(this.draggable){case"horizontal":W=0;break;case"vertical":U=0}var D=this.transform;D||(D=this.transform=[1,0,0,1,0,0]),D[4]+=U,D[5]+=W,this.decomposeTransform(),this.markRedraw()},Z.prototype.beforeUpdate=function(){},Z.prototype.afterUpdate=function(){},Z.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},Z.prototype.updateInnerText=function(U){var W=this._textContent;if(W&&(!W.ignore||U)){this.textConfig||(this.textConfig={});var L=this.textConfig,D=L.local,A=W.innerTransformable,M=void 0,C=void 0,P=!1;A.parent=D?this:null;var N=!1;if(A.copyTransform(W),null!=L.position){var ee=xe;ee.copy(L.layoutRect?L.layoutRect:this.getBoundingRect()),D||ee.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(X,L,ee):(0,le.wI)(X,L,ee),A.x=X.x,A.y=X.y,M=X.align,C=X.verticalAlign;var ye=L.origin;if(ye&&null!=L.rotation){var Te=void 0,he=void 0;"center"===ye?(Te=.5*ee.width,he=.5*ee.height):(Te=(0,le.GM)(ye[0],ee.width),he=(0,le.GM)(ye[1],ee.height)),N=!0,A.originX=-A.x+Te+(D?0:ee.x),A.originY=-A.y+he+(D?0:ee.y)}}null!=L.rotation&&(A.rotation=L.rotation);var me=L.offset;me&&(A.x+=me[0],A.y+=me[1],N||(A.originX=-me[0],A.originY=-me[1]));var Re=null==L.inside?"string"==typeof L.position&&L.position.indexOf("inside")>=0:L.inside,Le=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),Je=void 0,Oe=void 0,Ve=void 0;Re&&this.canBeInsideText()?(Oe=L.insideStroke,(null==(Je=L.insideFill)||"auto"===Je)&&(Je=this.getInsideTextFill()),(null==Oe||"auto"===Oe)&&(Oe=this.getInsideTextStroke(Je),Ve=!0)):(Oe=L.outsideStroke,(null==(Je=L.outsideFill)||"auto"===Je)&&(Je=this.getOutsideFill()),(null==Oe||"auto"===Oe)&&(Oe=this.getOutsideStroke(Je),Ve=!0)),((Je=Je||"#000")!==Le.fill||Oe!==Le.stroke||Ve!==Le.autoStroke||M!==Le.align||C!==Le.verticalAlign)&&(P=!0,Le.fill=Je,Le.stroke=Oe,Le.autoStroke=Ve,Le.align=M,Le.verticalAlign=C,W.setDefaultTextStyle(Le)),W.__dirty|=H.YV,P&&W.dirtyStyle(!0)}},Z.prototype.canBeInsideText=function(){return!0},Z.prototype.getInsideTextFill=function(){return"#fff"},Z.prototype.getInsideTextStroke=function(U){return"#000"},Z.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?ce.GD:ce.vU},Z.prototype.getOutsideStroke=function(U){var W=this.__zr&&this.__zr.getBackgroundColor(),L="string"==typeof W&&(0,q.parse)(W);L||(L=[255,255,255,1]);for(var D=L[3],A=this.__zr.isDarkMode(),M=0;M<3;M++)L[M]=L[M]*D+(A?0:255)*(1-D);return L[3]=1,(0,q.stringify)(L,"rgba")},Z.prototype.traverse=function(U,W){},Z.prototype.attrKV=function(U,W){"textConfig"===U?this.setTextConfig(W):"textContent"===U?this.setTextContent(W):"clipPath"===U?this.setClipPath(W):"extra"===U?(this.extra=this.extra||{},(0,y.extend)(this.extra,W)):this[U]=W},Z.prototype.hide=function(){this.ignore=!0,this.markRedraw()},Z.prototype.show=function(){this.ignore=!1,this.markRedraw()},Z.prototype.attr=function(U,W){if("string"==typeof U)this.attrKV(U,W);else if((0,y.isObject)(U))for(var D=(0,y.keys)(U),A=0;A<D.length;A++){var M=D[A];this.attrKV(M,U[M])}return this.markRedraw(),this},Z.prototype.saveCurrentToNormalState=function(U){this._innerSaveToNormal(U);for(var W=this._normalState,L=0;L<this.animators.length;L++){var D=this.animators[L],A=D.__fromStateTransition;if(!A||A===Y){var M=D.targetName;D.saveFinalToTarget(M?W[M]:W)}}},Z.prototype._innerSaveToNormal=function(U){var W=this._normalState;W||(W=this._normalState={}),U.textConfig&&!W.textConfig&&(W.textConfig=this.textConfig),this._savePrimaryToNormal(U,W,V)},Z.prototype._savePrimaryToNormal=function(U,W,L){for(var D=0;D<L.length;D++){var A=L[D];null!=U[A]&&!(A in W)&&(W[A]=this[A])}},Z.prototype.hasState=function(){return this.currentStates.length>0},Z.prototype.getState=function(U){return this.states[U]},Z.prototype.ensureState=function(U){var W=this.states;return W[U]||(W[U]={}),W[U]},Z.prototype.clearStates=function(U){this.useState(Y,!1,U)},Z.prototype.useState=function(U,W,L,D){var A=U===Y;if(this.hasState()||!A){var C=this.currentStates,P=this.stateTransition;if(!((0,y.indexOf)(C,U)>=0)||!W&&1!==C.length){var N;if(this.stateProxy&&!A&&(N=this.stateProxy(U)),N||(N=this.states&&this.states[U]),!N&&!A)return void(0,y.logError)("State "+U+" not exists.");A||this.saveCurrentToNormalState(N);var ee=!!(N&&N.hoverLayer||D);ee&&this._toggleHoverLayerFlag(!0),this._applyStateObj(U,N,this._normalState,W,!L&&!this.__inHover&&P&&P.duration>0,P);var ye=this._textContent,Te=this._textGuide;return ye&&ye.useState(U,W,L,ee),Te&&Te.useState(U,W,L,ee),A?(this.currentStates=[],this._normalState={}):W?this.currentStates.push(U):this.currentStates=[U],this._updateAnimationTargets(),this.markRedraw(),!ee&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~H.YV),N}}},Z.prototype.useStates=function(U,W,L){if(U.length){var D=[],A=this.currentStates,M=U.length,C=M===A.length;if(C)for(var P=0;P<M;P++)if(U[P]!==A[P]){C=!1;break}if(C)return;for(P=0;P<M;P++){var N=U[P],ee=void 0;this.stateProxy&&(ee=this.stateProxy(N,U)),ee||(ee=this.states[N]),ee&&D.push(ee)}var ye=D[M-1],Te=!!(ye&&ye.hoverLayer||L);Te&&this._toggleHoverLayerFlag(!0);var he=this._mergeStates(D),me=this.stateTransition;this.saveCurrentToNormalState(he),this._applyStateObj(U.join(","),he,this._normalState,!1,!W&&!this.__inHover&&me&&me.duration>0,me);var Re=this._textContent,Le=this._textGuide;Re&&Re.useStates(U,W,Te),Le&&Le.useStates(U,W,Te),this._updateAnimationTargets(),this.currentStates=U.slice(),this.markRedraw(),!Te&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~H.YV)}else this.clearStates()},Z.prototype._updateAnimationTargets=function(){for(var U=0;U<this.animators.length;U++){var W=this.animators[U];W.targetName&&W.changeTarget(this[W.targetName])}},Z.prototype.removeState=function(U){var W=(0,y.indexOf)(this.currentStates,U);if(W>=0){var L=this.currentStates.slice();L.splice(W,1),this.useStates(L)}},Z.prototype.replaceState=function(U,W,L){var D=this.currentStates.slice(),A=(0,y.indexOf)(D,U),M=(0,y.indexOf)(D,W)>=0;A>=0?M?D.splice(A,1):D[A]=W:L&&!M&&D.push(W),this.useStates(D)},Z.prototype.toggleState=function(U,W){W?this.useState(U,!0):this.removeState(U)},Z.prototype._mergeStates=function(U){for(var L,W={},D=0;D<U.length;D++){var A=U[D];(0,y.extend)(W,A),A.textConfig&&(0,y.extend)(L=L||{},A.textConfig)}return L&&(W.textConfig=L),W},Z.prototype._applyStateObj=function(U,W,L,D,A,M){var C=!(W&&D);W&&W.textConfig?(this.textConfig=(0,y.extend)({},D?this.textConfig:L.textConfig),(0,y.extend)(this.textConfig,W.textConfig)):C&&L.textConfig&&(this.textConfig=L.textConfig);for(var P={},N=!1,ee=0;ee<V.length;ee++){var ye=V[ee],Te=A&&j[ye];W&&null!=W[ye]?Te?(N=!0,P[ye]=W[ye]):this[ye]=W[ye]:C&&null!=L[ye]&&(Te?(N=!0,P[ye]=L[ye]):this[ye]=L[ye])}if(!A)for(ee=0;ee<this.animators.length;ee++){var he=this.animators[ee],me=he.targetName;he.__changeFinalValue(me?(W||L)[me]:W||L)}N&&this._transitionState(U,P,M)},Z.prototype._attachComponent=function(U){if(U.__zr&&!U.__hostTarget)throw new Error("Text element has been added to zrender.");if(U===this)throw new Error("Recursive component attachment.");var W=this.__zr;W&&U.addSelfToZr(W),U.__zr=W,U.__hostTarget=this},Z.prototype._detachComponent=function(U){U.__zr&&U.removeSelfFromZr(U.__zr),U.__zr=null,U.__hostTarget=null},Z.prototype.getClipPath=function(){return this._clipPath},Z.prototype.setClipPath=function(U){this._clipPath&&this._clipPath!==U&&this.removeClipPath(),this._attachComponent(U),this._clipPath=U,this.markRedraw()},Z.prototype.removeClipPath=function(){var U=this._clipPath;U&&(this._detachComponent(U),this._clipPath=null,this.markRedraw())},Z.prototype.getTextContent=function(){return this._textContent},Z.prototype.setTextContent=function(U){var W=this._textContent;if(W!==U){if(W&&W!==U&&this.removeTextContent(),U.__zr&&!U.__hostTarget)throw new Error("Text element has been added to zrender.");U.innerTransformable=new m.Z,this._attachComponent(U),this._textContent=U,this.markRedraw()}},Z.prototype.setTextConfig=function(U){this.textConfig||(this.textConfig={}),(0,y.extend)(this.textConfig,U),this.markRedraw()},Z.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},Z.prototype.removeTextContent=function(){var U=this._textContent;U&&(U.innerTransformable=null,this._detachComponent(U),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},Z.prototype.getTextGuideLine=function(){return this._textGuide},Z.prototype.setTextGuideLine=function(U){this._textGuide&&this._textGuide!==U&&this.removeTextGuideLine(),this._attachComponent(U),this._textGuide=U,this.markRedraw()},Z.prototype.removeTextGuideLine=function(){var U=this._textGuide;U&&(this._detachComponent(U),this._textGuide=null,this.markRedraw())},Z.prototype.markRedraw=function(){this.__dirty|=H.YV;var U=this.__zr;U&&(this.__inHover?U.refreshHover():U.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},Z.prototype.dirty=function(){this.markRedraw()},Z.prototype._toggleHoverLayerFlag=function(U){this.__inHover=U;var W=this._textContent,L=this._textGuide;W&&(W.__inHover=U),L&&(L.__inHover=U)},Z.prototype.addSelfToZr=function(U){if(this.__zr!==U){this.__zr=U;var W=this.animators;if(W)for(var L=0;L<W.length;L++)U.animation.addAnimator(W[L]);this._clipPath&&this._clipPath.addSelfToZr(U),this._textContent&&this._textContent.addSelfToZr(U),this._textGuide&&this._textGuide.addSelfToZr(U)}},Z.prototype.removeSelfFromZr=function(U){if(this.__zr){this.__zr=null;var W=this.animators;if(W)for(var L=0;L<W.length;L++)U.animation.removeAnimator(W[L]);this._clipPath&&this._clipPath.removeSelfFromZr(U),this._textContent&&this._textContent.removeSelfFromZr(U),this._textGuide&&this._textGuide.removeSelfFromZr(U)}},Z.prototype.animate=function(U,W){var L=U?this[U]:this;if(L){var D=new R.ZP(L,W);return this.addAnimator(D,U),D}(0,y.logError)('Property "'+U+'" is not existed in element '+this.id)},Z.prototype.addAnimator=function(U,W){var L=this.__zr,D=this;U.during(function(){D.updateDuringAnimation(W)}).done(function(){var A=D.animators,M=(0,y.indexOf)(A,U);M>=0&&A.splice(M,1)}),this.animators.push(U),L&&L.animation.addAnimator(U),L&&L.wakeUp()},Z.prototype.updateDuringAnimation=function(U){this.markRedraw()},Z.prototype.stopAnimation=function(U,W){for(var L=this.animators,D=L.length,A=[],M=0;M<D;M++){var C=L[M];U&&U!==C.scope?A.push(C):C.stop(W)}return this.animators=A,this},Z.prototype.animateTo=function(U,W,L){fe(this,U,W,L)},Z.prototype.animateFrom=function(U,W,L){fe(this,U,W,L,!0)},Z.prototype._transitionState=function(U,W,L,D){for(var A=fe(this,W,L,D),M=0;M<A.length;M++)A[M].__fromStateTransition=U},Z.prototype.getBoundingRect=function(){return null},Z.prototype.getPaintRect=function(){return null},Z.initDefaultProps=function(){var U=Z.prototype;U.type="element",U.name="",U.ignore=!1,U.silent=!1,U.isGroup=!1,U.draggable=!1,U.dragging=!1,U.ignoreClip=!1,U.__inHover=!1,U.__dirty=H.YV;var W={};function L(A,M,C){W[A+M+C]||(console.warn("DEPRECATED: '"+A+"' has been deprecated. use '"+M+"', '"+C+"' instead"),W[A+M+C]=!0)}function D(A,M,C,P){function N(ee,ye){Object.defineProperty(ye,0,{get:function(){return ee[C]},set:function(Te){ee[C]=Te}}),Object.defineProperty(ye,1,{get:function(){return ee[P]},set:function(Te){ee[P]=Te}})}Object.defineProperty(U,A,{get:function(){return L(A,C,P),this[M]||N(this,this[M]=[]),this[M]},set:function(ee){L(A,C,P),this[C]=ee[0],this[P]=ee[1],this[M]=ee,N(this,ee)}})}Object.defineProperty&&(!K.Z.browser.ie||K.Z.browser.version>8)&&(D("position","_legacyPos","x","y"),D("scale","_legacyScale","scaleX","scaleY"),D("origin","_legacyOrigin","originX","originY"))}(),Z}();function fe(Z,U,W,L,D){var A=[];de(Z,"",Z,U,W=W||{},L,A,D);var M=A.length,C=!1,P=W.done,N=W.aborted,ee=function(){C=!0,--M<=0&&(C?P&&P():N&&N())},ye=function(){--M<=0&&(C?P&&P():N&&N())};M||P&&P(),A.length>0&&W.during&&A[0].during(function(me,Re){W.during(Re)});for(var Te=0;Te<A.length;Te++){var he=A[Te];ee&&he.done(ee),ye&&he.aborted(ye),he.start(W.easing,W.force)}return A}function re(Z,U,W){for(var L=0;L<W;L++)Z[L]=U[L]}function ne(Z,U,W){if((0,y.isArrayLike)(U[W]))if((0,y.isArrayLike)(Z[W])||(Z[W]=[]),(0,y.isTypedArray)(U[W])){var L=U[W].length;Z[W].length!==L&&(Z[W]=new U[W].constructor(L),re(Z[W],U[W],L))}else{var D=U[W],A=Z[W],M=D.length;if(function(Z){return(0,y.isArrayLike)(Z[0])}(D))for(var C=D[0].length,P=0;P<M;P++)A[P]?re(A[P],D[P],C):A[P]=Array.prototype.slice.call(D[P]);else re(A,D,M);A.length=D.length}else Z[W]=U[W]}function de(Z,U,W,L,D,A,M,C){for(var P=[],N=[],ee=(0,y.keys)(L),ye=D.duration,Te=D.delay,he=D.additive,me=D.setToFinal,Re=!(0,y.isObject)(A),Le=0;Le<ee.length;Le++)if(null!=W[Je=ee[Le]]&&null!=L[Je]&&(Re||A[Je]))if((0,y.isObject)(L[Je])&&!(0,y.isArrayLike)(L[Je])){if(U){C||(W[Je]=L[Je],Z.updateDuringAnimation(U));continue}de(Z,Je,W[Je],L[Je],D,A&&A[Je],M,C)}else P.push(Je),N.push(Je);else C||(W[Je]=L[Je],Z.updateDuringAnimation(U),N.push(Je));var Oe=P.length;if(Oe>0||D.force&&!M.length){for(var Ve=Z.animators,Fe=[],et=0;et<Ve.length;et++)Ve[et].targetName===U&&Fe.push(Ve[et]);if(!he&&Fe.length)for(et=0;et<Fe.length;et++)if(Fe[et].stopTracks(N)){var xt=(0,y.indexOf)(Ve,Fe[et]);Ve.splice(xt,1)}var It=void 0,Pt=void 0,Wt=void 0;if(C)for(Pt={},me&&(It={}),et=0;et<Oe;et++)Pt[Je=P[et]]=W[Je],me?It[Je]=L[Je]:W[Je]=L[Je];else if(me)for(Wt={},et=0;et<Oe;et++){var Je;Wt[Je=P[et]]=(0,R.Ve)(W[Je]),ne(W,L,Je)}var Qt=new R.ZP(W,!1,he?Fe:null);Qt.targetName=U,D.scope&&(Qt.scope=D.scope),me&&It&&Qt.whenWithKeys(0,It,P),Wt&&Qt.whenWithKeys(0,Wt,P),Qt.whenWithKeys(null==ye?500:ye,C?Pt:L,P).delay(Te||0),Z.addAnimator(Qt,U),M.push(Qt)}}(0,y.mixin)(Q,Se.Z),(0,y.mixin)(Q,m.Z);const oe=Q},547:(un,ot,E)=>{"use strict";E.d(ot,{Ve:()=>ie,ZP:()=>W,k4:()=>q});var m={linear:function(L){return L},quadraticIn:function(L){return L*L},quadraticOut:function(L){return L*(2-L)},quadraticInOut:function(L){return(L*=2)<1?.5*L*L:-.5*(--L*(L-2)-1)},cubicIn:function(L){return L*L*L},cubicOut:function(L){return--L*L*L+1},cubicInOut:function(L){return(L*=2)<1?.5*L*L*L:.5*((L-=2)*L*L+2)},quarticIn:function(L){return L*L*L*L},quarticOut:function(L){return 1- --L*L*L*L},quarticInOut:function(L){return(L*=2)<1?.5*L*L*L*L:-.5*((L-=2)*L*L*L-2)},quinticIn:function(L){return L*L*L*L*L},quinticOut:function(L){return--L*L*L*L*L+1},quinticInOut:function(L){return(L*=2)<1?.5*L*L*L*L*L:.5*((L-=2)*L*L*L*L+2)},sinusoidalIn:function(L){return 1-Math.cos(L*Math.PI/2)},sinusoidalOut:function(L){return Math.sin(L*Math.PI/2)},sinusoidalInOut:function(L){return.5*(1-Math.cos(Math.PI*L))},exponentialIn:function(L){return 0===L?0:Math.pow(1024,L-1)},exponentialOut:function(L){return 1===L?1:1-Math.pow(2,-10*L)},exponentialInOut:function(L){return 0===L?0:1===L?1:(L*=2)<1?.5*Math.pow(1024,L-1):.5*(2-Math.pow(2,-10*(L-1)))},circularIn:function(L){return 1-Math.sqrt(1-L*L)},circularOut:function(L){return Math.sqrt(1- --L*L)},circularInOut:function(L){return(L*=2)<1?-.5*(Math.sqrt(1-L*L)-1):.5*(Math.sqrt(1-(L-=2)*L)+1)},elasticIn:function(L){var D,A=.1;return 0===L?0:1===L?1:(!A||A<1?(A=1,D=.1):D=.4*Math.asin(1/A)/(2*Math.PI),-A*Math.pow(2,10*(L-=1))*Math.sin((L-D)*(2*Math.PI)/.4))},elasticOut:function(L){var D,A=.1;return 0===L?0:1===L?1:(!A||A<1?(A=1,D=.1):D=.4*Math.asin(1/A)/(2*Math.PI),A*Math.pow(2,-10*L)*Math.sin((L-D)*(2*Math.PI)/.4)+1)},elasticInOut:function(L){var D,A=.1;return 0===L?0:1===L?1:(!A||A<1?(A=1,D=.1):D=.4*Math.asin(1/A)/(2*Math.PI),(L*=2)<1?A*Math.pow(2,10*(L-=1))*Math.sin((L-D)*(2*Math.PI)/.4)*-.5:A*Math.pow(2,-10*(L-=1))*Math.sin((L-D)*(2*Math.PI)/.4)*.5+1)},backIn:function(L){var D=1.70158;return L*L*((D+1)*L-D)},backOut:function(L){var D=1.70158;return--L*L*((D+1)*L+D)+1},backInOut:function(L){var D=2.5949095;return(L*=2)<1?L*L*((D+1)*L-D)*.5:.5*((L-=2)*L*((D+1)*L+D)+2)},bounceIn:function(L){return 1-m.bounceOut(1-L)},bounceOut:function(L){return L<1/2.75?7.5625*L*L:L<2/2.75?7.5625*(L-=1.5/2.75)*L+.75:L<2.5/2.75?7.5625*(L-=2.25/2.75)*L+.9375:7.5625*(L-=2.625/2.75)*L+.984375},bounceInOut:function(L){return L<.5?.5*m.bounceIn(2*L):.5*m.bounceOut(2*L-1)+.5}};const R=m,Se=function(){function L(D){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=D.life||1e3,this._delay=D.delay||0,this.loop=null!=D.loop&&D.loop,this.gap=D.gap||0,this.easing=D.easing||"linear",this.onframe=D.onframe,this.ondestroy=D.ondestroy,this.onrestart=D.onrestart}return L.prototype.step=function(D,A){if(this._initialized||(this._startTime=D+this._delay,this._initialized=!0),!this._paused){var M=(D-this._startTime-this._pausedTime)/this._life;M<0&&(M=0),M=Math.min(M,1);var C=this.easing,P="string"==typeof C?R[C]:C,N="function"==typeof P?P(M):M;if(this.onframe&&this.onframe(N),1===M){if(!this.loop)return!0;this._restart(D),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=A},L.prototype._restart=function(D){this._startTime=D-(D-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0},L.prototype.pause=function(){this._paused=!0},L.prototype.resume=function(){this._paused=!1},L}();var le=E(589),y=E(284),ce=Array.prototype.slice;function q(L,D,A){return(D-L)*A+L}function H(L,D,A,M){for(var C=D.length,P=0;P<C;P++)L[P]=q(D[P],A[P],M)}function V(L,D,A,M){for(var C=D.length,P=0;P<C;P++)L[P]=D[P]+A[P]*M;return L}function j(L,D,A,M){for(var C=D.length,P=C&&D[0].length,N=0;N<C;N++){L[N]||(L[N]=[]);for(var ee=0;ee<P;ee++)L[N][ee]=D[N][ee]+A[N][ee]*M}return L}function X(L,D,A){var M=L,C=D;if(M.push&&C.push){var P=M.length,N=C.length;if(P!==N)if(P>N)M.length=N;else for(var ye=P;ye<N;ye++)M.push(1===A?C[ye]:ce.call(C[ye]));var Te=M[0]&&M[0].length;for(ye=0;ye<M.length;ye++)if(1===A)isNaN(M[ye])&&(M[ye]=C[ye]);else for(var he=0;he<Te;he++)isNaN(M[ye][he])&&(M[ye][he]=C[ye][he])}}function xe(L,D){var A=L.length;if(A!==D.length)return!1;for(var M=0;M<A;M++)if(L[M]!==D[M])return!1;return!0}function Q(L,D,A,M,C,P,N){var ee=.5*(A-L),ye=.5*(M-D);return(2*(D-A)+ee+ye)*N+(-3*(D-A)-2*ee-ye)*P+ee*C+D}function fe(L,D,A,M,C,P,N,ee){for(var ye=D.length,Te=0;Te<ye;Te++)L[Te]=Q(D[Te],A[Te],M[Te],C[Te],P,N,ee)}function ie(L){if((0,y.isArrayLike)(L)){var D=L.length;if((0,y.isArrayLike)(L[0])){for(var A=[],M=0;M<D;M++)A.push(ce.call(L[M]));return A}return ce.call(L)}return L}function ne(L){return L[0]=Math.floor(L[0]),L[1]=Math.floor(L[1]),L[2]=Math.floor(L[2]),"rgba("+L.join(",")+")"}var oe=[0,0,0,0],Z=function(){function L(D){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=D}return L.prototype.isFinished=function(){return this._finished},L.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},L.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},L.prototype.getAdditiveTrack=function(){return this._additiveTrack},L.prototype.addKeyframe=function(D,A){D>=this.maxTime?this.maxTime=D:this._needsSort=!0;var M=this.keyframes,C=M.length;if(this.interpolable)if((0,y.isArrayLike)(A)){var P=function(L){return(0,y.isArrayLike)(L&&L[0])?2:1}(A);if(C>0&&this.arrDim!==P)return void(this.interpolable=!1);if(1===P&&"number"!=typeof A[0]||2===P&&"number"!=typeof A[0][0])return void(this.interpolable=!1);if(C>0){var N=M[C-1];this._isAllValueEqual&&(1===P&&xe(A,N.value)||(this._isAllValueEqual=!1))}this.arrDim=P}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof A){var ee=le.parse(A);ee?(A=ee,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof A||isNaN(A))return void(this.interpolable=!1);this._isAllValueEqual&&C>0&&(N=M[C-1],(this.isValueColor&&!xe(N.value,A)||N.value!==A)&&(this._isAllValueEqual=!1))}var ye={time:D,value:A,percent:0};return this.keyframes.push(ye),ye},L.prototype.prepare=function(D){var A=this.keyframes;this._needsSort&&A.sort(function(ye,Te){return ye.time-Te.time});for(var M=this.arrDim,C=A.length,P=A[C-1],N=0;N<C;N++)A[N].percent=A[N].time/this.maxTime,M>0&&N!==C-1&&X(A[N].value,P.value,M);if(D&&this.needsAnimate()&&D.needsAnimate()&&M===D.arrDim&&this.isValueColor===D.isValueColor&&!D._finished){this._additiveTrack=D;var ee=A[0].value;for(N=0;N<C;N++)0===M?A[N].additiveValue=this.isValueColor?V([],A[N].value,ee,-1):A[N].value-ee:1===M?A[N].additiveValue=V([],A[N].value,ee,-1):2===M&&(A[N].additiveValue=j([],A[N].value,ee,-1))}},L.prototype.step=function(D,A){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var he,M=null!=this._additiveTrack,C=M?"additiveValue":"value",P=this.keyframes,N=this.keyframes.length,ee=this.propName,ye=this.arrDim,Te=this.isValueColor;if(A<0)he=0;else if(A<this._lastFramePercent){for(he=Math.min(this._lastFrame+1,N-1);he>=0&&!(P[he].percent<=A);he--);he=Math.min(he,N-2)}else{for(he=this._lastFrame;he<N&&!(P[he].percent>A);he++);he=Math.min(he-1,N-2)}var Re=P[he+1],Le=P[he];if(Le&&Re){this._lastFrame=he,this._lastFramePercent=A;var Je=Re.percent-Le.percent;if(0!==Je){var Oe=(A-Le.percent)/Je,Ve=M?this._additiveValue:Te?oe:D[ee];if((ye>0||Te)&&!Ve&&(Ve=this._additiveValue=[]),this.useSpline){var Fe=P[he][C],et=P[0===he?he:he-1][C],Ue=P[he>N-2?N-1:he+1][C],xt=P[he>N-3?N-1:he+2][C];if(ye>0)1===ye?fe(Ve,et,Fe,Ue,xt,Oe,Oe*Oe,Oe*Oe*Oe):function(L,D,A,M,C,P,N,ee){for(var ye=D.length,Te=D[0].length,he=0;he<ye;he++){L[he]||(L[1]=[]);for(var me=0;me<Te;me++)L[he][me]=Q(D[he][me],A[he][me],M[he][me],C[he][me],P,N,ee)}}(Ve,et,Fe,Ue,xt,Oe,Oe*Oe,Oe*Oe*Oe);else if(Te)fe(Ve,et,Fe,Ue,xt,Oe,Oe*Oe,Oe*Oe*Oe),M||(D[ee]=ne(Ve));else{var It=void 0;It=this.interpolable?Q(et,Fe,Ue,xt,Oe,Oe*Oe,Oe*Oe*Oe):Ue,M?this._additiveValue=It:D[ee]=It}}else ye>0?1===ye?H(Ve,Le[C],Re[C],Oe):function(L,D,A,M){for(var C=D.length,P=C&&D[0].length,N=0;N<C;N++){L[N]||(L[N]=[]);for(var ee=0;ee<P;ee++)L[N][ee]=q(D[N][ee],A[N][ee],M)}}(Ve,Le[C],Re[C],Oe):Te?(H(Ve,Le[C],Re[C],Oe),M||(D[ee]=ne(Ve))):(It=void 0,It=this.interpolable?q(Le[C],Re[C],Oe):function(L,D,A){return A>.5?D:L}(Le[C],Re[C],Oe),M?this._additiveValue=It:D[ee]=It);M&&this._addToTarget(D)}}}},L.prototype._addToTarget=function(D){var A=this.arrDim,M=this.propName,C=this._additiveValue;0===A?this.isValueColor?(le.parse(D[M],oe),V(oe,oe,C,1),D[M]=ne(oe)):D[M]=D[M]+C:1===A?V(D[M],D[M],C,1):2===A&&j(D[M],D[M],C,1)},L}();const W=function(){function L(D,A,M){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=D,this._loop=A,A&&M?(0,y.logError)("Can' use additive animation on looped animation."):this._additiveAnimators=M}return L.prototype.getTarget=function(){return this._target},L.prototype.changeTarget=function(D){this._target=D},L.prototype.when=function(D,A){return this.whenWithKeys(D,A,(0,y.keys)(A))},L.prototype.whenWithKeys=function(D,A,M){for(var C=this._tracks,P=0;P<M.length;P++){var N=M[P],ee=C[N];if(!ee){ee=C[N]=new Z(N);var ye=void 0,Te=this._getAdditiveTrack(N);if(Te){var he=Te.keyframes[Te.keyframes.length-1];ye=he&&he.value,Te.isValueColor&&ye&&(ye=ne(ye))}else ye=this._target[N];if(null==ye)continue;0!==D&&ee.addKeyframe(0,ie(ye)),this._trackKeys.push(N)}ee.addKeyframe(D,ie(A[N]))}return this._maxTime=Math.max(this._maxTime,D),this},L.prototype.pause=function(){this._clip.pause(),this._paused=!0},L.prototype.resume=function(){this._clip.resume(),this._paused=!1},L.prototype.isPaused=function(){return!!this._paused},L.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var D=this._doneCbs;if(D)for(var A=D.length,M=0;M<A;M++)D[M].call(this)},L.prototype._abortedCallback=function(){this._setTracksFinished();var D=this.animation,A=this._abortedCbs;if(D&&D.removeClip(this._clip),this._clip=null,A)for(var M=0;M<A.length;M++)A[M].call(this)},L.prototype._setTracksFinished=function(){for(var D=this._tracks,A=this._trackKeys,M=0;M<A.length;M++)D[A[M]].setFinished()},L.prototype._getAdditiveTrack=function(D){var A,M=this._additiveAnimators;if(M)for(var C=0;C<M.length;C++){var P=M[C].getTrack(D);P&&(A=P)}return A},L.prototype.start=function(D,A){if(!(this._started>0)){this._started=1;for(var M=this,C=[],P=0;P<this._trackKeys.length;P++){var N=this._trackKeys[P],ee=this._tracks[N],ye=this._getAdditiveTrack(N),Te=ee.keyframes;if(ee.prepare(ye),ee.needsAnimate())C.push(ee);else if(!ee.interpolable){var he=Te[Te.length-1];he&&(M._target[ee.propName]=he.value)}}if(C.length||A){var me=new Se({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(Re){M._started=2;var Le=M._additiveAnimators;if(Le){for(var Je=!1,Oe=0;Oe<Le.length;Oe++)if(Le[Oe]._clip){Je=!0;break}Je||(M._additiveAnimators=null)}for(Oe=0;Oe<C.length;Oe++)C[Oe].step(M._target,Re);var Ve=M._onframeCbs;if(Ve)for(Oe=0;Oe<Ve.length;Oe++)Ve[Oe](M._target,Re)},ondestroy:function(){M._doneCallback()}});this._clip=me,this.animation&&this.animation.addClip(me),D&&"spline"!==D&&(me.easing=D)}else this._doneCallback();return this}},L.prototype.stop=function(D){this._clip&&(D&&this._clip.onframe(1),this._abortedCallback())},L.prototype.delay=function(D){return this._delay=D,this},L.prototype.during=function(D){return D&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(D)),this},L.prototype.done=function(D){return D&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(D)),this},L.prototype.aborted=function(D){return D&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(D)),this},L.prototype.getClip=function(){return this._clip},L.prototype.getTrack=function(D){return this._tracks[D]},L.prototype.stopTracks=function(D,A){if(!D.length||!this._clip)return!0;for(var M=this._tracks,C=this._trackKeys,P=0;P<D.length;P++){var N=M[D[P]];N&&(A?N.step(this._target,1):1===this._started&&N.step(this._target,0),N.setFinished())}var ee=!0;for(P=0;P<C.length;P++)if(!M[C[P]].isFinished()){ee=!1;break}return ee&&this._abortedCallback(),ee},L.prototype.saveFinalToTarget=function(D,A){if(D){A=A||this._trackKeys;for(var M=0;M<A.length;M++){var C=A[M],P=this._tracks[C];if(P&&!P.isFinished()){var N=P.keyframes,ee=N[N.length-1];if(ee){var ye=ie(ee.value);P.isValueColor&&(ye=ne(ye)),D[C]=ye}}}}},L.prototype.__changeFinalValue=function(D,A){A=A||(0,y.keys)(D);for(var M=0;M<A.length;M++){var C=A[M],P=this._tracks[C];if(P){var N=P.keyframes;if(N.length>1){var ee=N.pop();P.addKeyframe(ee.time,D[C]),P.prepare(P.getAdditiveTrack())}}}},L}()},8996:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>R});const R="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(k){return setTimeout(k,16)}},6314:(un,ot,E)=>{"use strict";E.d(ot,{RZ:()=>ie,RV:()=>Re,Dm:()=>Le});var m=E(4031),R=E(89),k=E(4659),Se=E(8424),le=E(5581),y=E(5252),ce=E(9221),q=E(7084),K=E(284),H=E(3732),Y=E(6324),V=E(558),j=new R.Z(!0);function X(Oe){var Ve=Oe.stroke;return!(null==Ve||"none"===Ve||!(Oe.lineWidth>0))}function xe(Oe){return"string"==typeof Oe&&"none"!==Oe}function Q(Oe){var Ve=Oe.fill;return null!=Ve&&"none"!==Ve}function fe(Oe,Ve){if(null!=Ve.fillOpacity&&1!==Ve.fillOpacity){var Fe=Oe.globalAlpha;Oe.globalAlpha=Ve.fillOpacity*Ve.opacity,Oe.fill(),Oe.globalAlpha=Fe}else Oe.fill()}function re(Oe,Ve){if(null!=Ve.strokeOpacity&&1!==Ve.strokeOpacity){var Fe=Oe.globalAlpha;Oe.globalAlpha=Ve.strokeOpacity*Ve.opacity,Oe.stroke(),Oe.globalAlpha=Fe}else Oe.stroke()}function ie(Oe,Ve,Fe){var et=(0,k.Gq)(Ve.image,Ve.__image,Fe);if((0,k.v5)(et)){var Ue=Oe.createPattern(et,Ve.repeat||"repeat");if("function"==typeof DOMMatrix&&Ue.setTransform){var xt=new DOMMatrix;xt.rotateSelf(0,0,(Ve.rotation||0)/Math.PI*180),xt.scaleSelf(Ve.scaleX||1,Ve.scaleY||1),xt.translateSelf(Ve.x||0,Ve.y||0),Ue.setTransform(xt)}return Ue}}var Z=["shadowBlur","shadowOffsetX","shadowOffsetY"],U=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function W(Oe,Ve,Fe,et,Ue){var xt=!1;if(!et&&Ve===(Fe=Fe||{}))return!1;if(et||Ve.opacity!==Fe.opacity){xt||(he(Oe,Ue),xt=!0);var It=Math.max(Math.min(Ve.opacity,1),0);Oe.globalAlpha=isNaN(It)?m.tj.opacity:It}(et||Ve.blend!==Fe.blend)&&(xt||(he(Oe,Ue),xt=!0),Oe.globalCompositeOperation=Ve.blend||m.tj.blend);for(var Pt=0;Pt<Z.length;Pt++){var Wt=Z[Pt];(et||Ve[Wt]!==Fe[Wt])&&(xt||(he(Oe,Ue),xt=!0),Oe[Wt]=Oe.dpr*(Ve[Wt]||0))}return(et||Ve.shadowColor!==Fe.shadowColor)&&(xt||(he(Oe,Ue),xt=!0),Oe.shadowColor=Ve.shadowColor||m.tj.shadowColor),xt}function L(Oe,Ve,Fe,et,Ue){var xt=me(Ve,Ue.inHover),It=et?null:Fe&&me(Fe,Ue.inHover)||{};if(xt===It)return!1;var Pt=W(Oe,xt,It,et,Ue);if((et||xt.fill!==It.fill)&&(Pt||(he(Oe,Ue),Pt=!0),xe(xt.fill)&&(Oe.fillStyle=xt.fill)),(et||xt.stroke!==It.stroke)&&(Pt||(he(Oe,Ue),Pt=!0),xe(xt.stroke)&&(Oe.strokeStyle=xt.stroke)),(et||xt.opacity!==It.opacity)&&(Pt||(he(Oe,Ue),Pt=!0),Oe.globalAlpha=null==xt.opacity?1:xt.opacity),Ve.hasStroke()){var Qt=xt.lineWidth/(xt.strokeNoScale&&Ve&&Ve.getLineScale?Ve.getLineScale():1);Oe.lineWidth!==Qt&&(Pt||(he(Oe,Ue),Pt=!0),Oe.lineWidth=Qt)}for(var gn=0;gn<U.length;gn++){var In=U[gn],Dn=In[0];(et||xt[Dn]!==It[Dn])&&(Pt||(he(Oe,Ue),Pt=!0),Oe[Dn]=xt[Dn]||In[1])}return Pt}function A(Oe,Ve){var Fe=Ve.transform,et=Oe.dpr||1;Fe?Oe.setTransform(et*Fe[0],et*Fe[1],et*Fe[2],et*Fe[3],et*Fe[4],et*Fe[5]):Oe.setTransform(et,0,0,et,0,0)}function he(Oe,Ve){Ve.batchFill&&Oe.fill(),Ve.batchStroke&&Oe.stroke(),Ve.batchFill="",Ve.batchStroke=""}function me(Oe,Ve){return Ve&&Oe.__hoverStyle||Oe.style}function Re(Oe,Ve){Le(Oe,Ve,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Le(Oe,Ve,Fe,et){var Ue=Ve.transform;if(!Ve.shouldBePainted(Fe.viewWidth,Fe.viewHeight,!1,!1))return Ve.__dirty&=~V.YV,void(Ve.__isRendered=!1);var xt=Ve.__clipPaths,It=Fe.prevElClipPaths,Pt=!1,Wt=!1;if((!It||(0,Se.cF)(xt,It))&&(It&&It.length&&(he(Oe,Fe),Oe.restore(),Wt=Pt=!0,Fe.prevElClipPaths=null,Fe.allClipped=!1,Fe.prevEl=null),xt&&xt.length&&(he(Oe,Fe),Oe.save(),function(Oe,Ve,Fe){for(var et=!1,Ue=0;Ue<Oe.length;Ue++){var xt=Oe[Ue];et=et||xt.isZeroArea(),A(Ve,xt),Ve.beginPath(),xt.buildPath(Ve,xt.shape),Ve.clip()}Fe.allClipped=et}(xt,Oe,Fe),Pt=!0),Fe.prevElClipPaths=xt),Fe.allClipped)Ve.__isRendered=!1;else{Ve.beforeBrush&&Ve.beforeBrush(),Ve.innerBeforeBrush();var Qt=Fe.prevEl;Qt||(Wt=Pt=!0);var gn=Ve instanceof le.ZP&&Ve.autoBatch&&function(Oe){var Ve=Q(Oe),Fe=X(Oe);return!(Oe.lineDash||!(+Ve^+Fe)||Ve&&"string"!=typeof Oe.fill||Fe&&"string"!=typeof Oe.stroke||Oe.strokePercent<1||Oe.strokeOpacity<1||Oe.fillOpacity<1)}(Ve.style);Pt||function(Oe,Ve){return Oe&&Ve?Oe[0]!==Ve[0]||Oe[1]!==Ve[1]||Oe[2]!==Ve[2]||Oe[3]!==Ve[3]||Oe[4]!==Ve[4]||Oe[5]!==Ve[5]:!(!Oe&&!Ve)}(Ue,Qt.transform)?(he(Oe,Fe),A(Oe,Ve)):gn||he(Oe,Fe);var In=me(Ve,Fe.inHover);Ve instanceof le.ZP?(1!==Fe.lastDrawType&&(Wt=!0,Fe.lastDrawType=1),L(Oe,Ve,Qt,Wt,Fe),(!gn||!Fe.batchFill&&!Fe.batchStroke)&&Oe.beginPath(),function(Oe,Ve,Fe,et){var Ue=X(Fe),xt=Q(Fe),It=Fe.strokePercent,Pt=It<1,Wt=!Ve.path;(!Ve.silent||Pt)&&Wt&&Ve.createPathProxy();var Qt=Ve.path||j;if(!et){var gn=Fe.fill,In=Fe.stroke,Dn=xt&&!!gn.colorStops,Yt=Ue&&!!In.colorStops,sn=xt&&!!gn.image,it=Ue&&!!In.image,vn=void 0,wt=void 0,ke=void 0,je=void 0,yt=void 0;(Dn||Yt)&&(yt=Ve.getBoundingRect()),Dn&&(vn=Ve.__dirty?(0,Se.ZF)(Oe,gn,yt):Ve.__canvasFillGradient,Ve.__canvasFillGradient=vn),Yt&&(wt=Ve.__dirty?(0,Se.ZF)(Oe,In,yt):Ve.__canvasStrokeGradient,Ve.__canvasStrokeGradient=wt),sn&&(ke=Ve.__dirty||!Ve.__canvasFillPattern?ie(Oe,gn,Ve):Ve.__canvasFillPattern,Ve.__canvasFillPattern=ke),it&&(je=Ve.__dirty||!Ve.__canvasStrokePattern?ie(Oe,In,Ve):Ve.__canvasStrokePattern,Ve.__canvasStrokePattern=ke),Dn?Oe.fillStyle=vn:sn&&(ke?Oe.fillStyle=ke:xt=!1),Yt?Oe.strokeStyle=wt:it&&(je?Oe.strokeStyle=je:Ue=!1)}var Et=Fe.lineDash&&Fe.lineWidth>0&&(0,H.T)(Fe.lineDash,Fe.lineWidth),$t=Fe.lineDashOffset,cn=!!Oe.setLineDash,ct=Ve.getGlobalScale();if(Qt.setScale(ct[0],ct[1],Ve.segmentIgnoreThreshold),Et){var tt=Fe.strokeNoScale&&Ve.getLineScale?Ve.getLineScale():1;tt&&1!==tt&&(Et=(0,K.map)(Et,function(zt){return zt/tt}),$t/=tt)}var _t=!0;(Wt||Ve.__dirty&V.RH||Et&&!cn&&Ue)&&(Qt.setDPR(Oe.dpr),Pt?Qt.setContext(null):(Qt.setContext(Oe),_t=!1),Qt.reset(),Et&&!cn&&(Qt.setLineDash(Et),Qt.setLineDashOffset($t)),Ve.buildPath(Qt,Ve.shape,et),Qt.toStatic(),Ve.pathUpdated()),_t&&Qt.rebuildPath(Oe,Pt?It:1),Et&&cn&&(Oe.setLineDash(Et),Oe.lineDashOffset=$t),et||(Fe.strokeFirst?(Ue&&re(Oe,Fe),xt&&fe(Oe,Fe)):(xt&&fe(Oe,Fe),Ue&&re(Oe,Fe))),Et&&cn&&Oe.setLineDash([])}(Oe,Ve,In,gn),gn&&(Fe.batchFill=In.fill||"",Fe.batchStroke=In.stroke||"")):Ve instanceof ce.Z?(3!==Fe.lastDrawType&&(Wt=!0,Fe.lastDrawType=3),L(Oe,Ve,Qt,Wt,Fe),function(Oe,Ve,Fe){var et=Fe.text;if(null!=et&&(et+=""),et){Oe.font=Fe.font||q.Uo,Oe.textAlign=Fe.textAlign,Oe.textBaseline=Fe.textBaseline;var Ue=void 0;if(Oe.setLineDash){var xt=Fe.lineDash&&Fe.lineWidth>0&&(0,H.T)(Fe.lineDash,Fe.lineWidth),It=Fe.lineDashOffset;if(xt){var Pt=Fe.strokeNoScale&&Ve.getLineScale?Ve.getLineScale():1;Pt&&1!==Pt&&(xt=(0,K.map)(xt,function(Wt){return Wt/Pt}),It/=Pt),Oe.setLineDash(xt),Oe.lineDashOffset=It,Ue=!0}}Fe.strokeFirst?(X(Fe)&&Oe.strokeText(et,Fe.x,Fe.y),Q(Fe)&&Oe.fillText(et,Fe.x,Fe.y)):(Q(Fe)&&Oe.fillText(et,Fe.x,Fe.y),X(Fe)&&Oe.strokeText(et,Fe.x,Fe.y)),Ue&&Oe.setLineDash([])}}(Oe,Ve,In)):Ve instanceof y.ZP?(2!==Fe.lastDrawType&&(Wt=!0,Fe.lastDrawType=2),function(Oe,Ve,Fe,et,Ue){W(Oe,me(Ve,Ue.inHover),Fe&&me(Fe,Ue.inHover),et,Ue)}(Oe,Ve,Qt,Wt,Fe),function(Oe,Ve,Fe){var et=Ve.__image=(0,k.Gq)(Fe.image,Ve.__image,Ve,Ve.onload);if(et&&(0,k.v5)(et)){var Ue=Fe.x||0,xt=Fe.y||0,It=Ve.getWidth(),Pt=Ve.getHeight(),Wt=et.width/et.height;if(null==It&&null!=Pt?It=Pt*Wt:null==Pt&&null!=It?Pt=It/Wt:null==It&&null==Pt&&(It=et.width,Pt=et.height),Fe.sWidth&&Fe.sHeight)Oe.drawImage(et,Qt=Fe.sx||0,gn=Fe.sy||0,Fe.sWidth,Fe.sHeight,Ue,xt,It,Pt);else if(Fe.sx&&Fe.sy){var Qt,gn;Oe.drawImage(et,Qt=Fe.sx,gn=Fe.sy,It-Qt,Pt-gn,Ue,xt,It,Pt)}else Oe.drawImage(et,Ue,xt,It,Pt)}}(Oe,Ve,In)):Ve instanceof Y.Z&&(4!==Fe.lastDrawType&&(Wt=!0,Fe.lastDrawType=4),function(Oe,Ve,Fe){var et=Ve.getDisplayables(),Ue=Ve.getTemporalDisplayables();Oe.save();var It,Pt,xt={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:Fe.viewWidth,viewHeight:Fe.viewHeight,inHover:Fe.inHover};for(It=Ve.getCursor(),Pt=et.length;It<Pt;It++)(Wt=et[It]).beforeBrush&&Wt.beforeBrush(),Wt.innerBeforeBrush(),Le(Oe,Wt,xt,It===Pt-1),Wt.innerAfterBrush(),Wt.afterBrush&&Wt.afterBrush(),xt.prevEl=Wt;for(var Qt=0,gn=Ue.length;Qt<gn;Qt++){var Wt;(Wt=Ue[Qt]).beforeBrush&&Wt.beforeBrush(),Wt.innerBeforeBrush(),Le(Oe,Wt,xt,Qt===gn-1),Wt.innerAfterBrush(),Wt.afterBrush&&Wt.afterBrush(),xt.prevEl=Wt}Ve.clearTemporalDisplayables(),Ve.notClear=!0,Oe.restore()}(Oe,Ve,Fe)),gn&&et&&he(Oe,Fe),Ve.innerAfterBrush(),Ve.afterBrush&&Ve.afterBrush(),Fe.prevEl=Ve,Ve.__dirty=0,Ve.__isRendered=!0}}},8424:(un,ot,E)=>{"use strict";function k(le,y,ce){for(var q="radial"===y.type?function(le,y,ce){var q=ce.width,K=ce.height,H=Math.min(q,K),Y=null==y.x?.5:y.x,V=null==y.y?.5:y.y,j=null==y.r?.5:y.r;return y.global||(Y=Y*q+ce.x,V=V*K+ce.y,j*=H),le.createRadialGradient(Y,V,0,Y,V,j)}(le,y,ce):function(le,y,ce){var q=null==y.x?0:y.x,K=null==y.x2?1:y.x2,H=null==y.y?0:y.y,Y=null==y.y2?0:y.y2;return y.global||(q=q*ce.width+ce.x,K=K*ce.width+ce.x,H=H*ce.height+ce.y,Y=Y*ce.height+ce.y),q=isNaN(q)?0:q,K=isNaN(K)?1:K,H=isNaN(H)?0:H,Y=isNaN(Y)?0:Y,le.createLinearGradient(q,H,K,Y)}(le,y,ce),K=y.colorStops,H=0;H<K.length;H++)q.addColorStop(K[H].offset,K[H].color);return q}function Se(le,y){if(le===y||!le&&!y)return!1;if(!le||!y||le.length!==y.length)return!0;for(var ce=0;ce<le.length;ce++)if(le[ce]!==y[ce])return!0;return!1}E.d(ot,{ZF:()=>k,cF:()=>Se})},4297:(un,ot,E)=>{"use strict";E.d(ot,{KL:()=>k,Ak:()=>Se,vU:()=>le,GD:()=>y,iv:()=>ce});var m=1;"undefined"!=typeof window&&(m=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var k=m,Se=.4,le="#333",y="#ccc",ce="#eee"},8074:(un,ot,E)=>{"use strict";function m(R,k,Se,le,y,ce,q){if(0===y)return!1;var H,K=y;if(q>k+K&&q>le+K||q<k-K&&q<le-K||ce>R+K&&ce>Se+K||ce<R-K&&ce<Se-K)return!1;if(R===Se)return Math.abs(ce-R)<=K/2;var V=(H=(k-le)/(R-Se))*ce-q+(R*le-Se*k)/(R-Se);return V*V/(H*H+1)<=K/2*K/2}E.d(ot,{m:()=>m})},130:(un,ot,E)=>{"use strict";E.d(ot,{X:()=>Se});var m=E(2663);function k(le,y){return Math.abs(le-y)<1e-8}function Se(le,y,ce){var q=0,K=le[0];if(!K)return!1;for(var H=1;H<le.length;H++){var Y=le[H];q+=(0,m.Z)(K[0],K[1],Y[0],Y[1],y,ce),K=Y}var V=le[0];return(!k(K[0],V[0])||!k(K[1],V[1]))&&(q+=(0,m.Z)(K[0],K[1],V[0],V[1],y,ce)),0!==q}},3075:(un,ot,E)=>{"use strict";E.d(ot,{m:()=>R});var m=E(3775);function R(k,Se,le,y,ce,q,K,H,Y){if(0===K)return!1;var V=K;return!(Y>Se+V&&Y>y+V&&Y>q+V||Y<Se-V&&Y<y-V&&Y<q-V||H>k+V&&H>le+V&&H>ce+V||H<k-V&&H<le-V&&H<ce-V)&&(0,m.Wr)(k,Se,le,y,ce,q,H,Y,null)<=V/2}},7084:(un,ot,E)=>{"use strict";E.d(ot,{Uo:()=>le,dz:()=>Y,lP:()=>j,M3:()=>X,mU:()=>xe,Dp:()=>Q,GM:()=>re,wI:()=>ie});var y,ce,m=E(1436),R=E(284),k=E(4371),Se={},le="12px sans-serif",K_measureText=function(ne,de){return y||(y=(0,R.createCanvas)().getContext("2d")),ce!==de&&(ce=y.font=de||le),y.measureText(ne)};function Y(ne,de){var oe=Se[de=de||le];oe||(oe=Se[de]=new k.ZP(500));var Z=oe.get(ne);return null==Z&&(Z=K_measureText(ne,de).width,oe.put(ne,Z)),Z}function V(ne,de,oe,Z){var U=Y(ne,de),W=Q(de),L=X(0,U,oe),D=xe(0,W,Z);return new m.Z(L,D,U,W)}function j(ne,de,oe,Z){var U=((ne||"")+"").split("\n");if(1===U.length)return V(U[0],de,oe,Z);for(var L=new m.Z(0,0,0,0),D=0;D<U.length;D++){var A=V(U[D],de,oe,Z);0===D?L.copy(A):L.union(A)}return L}function X(ne,de,oe){return"right"===oe?ne-=de:"center"===oe&&(ne-=de/2),ne}function xe(ne,de,oe){return"middle"===oe?ne-=de/2:"bottom"===oe&&(ne-=de),ne}function Q(ne){return Y("\u56fd",ne)}function re(ne,de){return"string"==typeof ne?ne.lastIndexOf("%")>=0?parseFloat(ne)/100*de:parseFloat(ne):ne}function ie(ne,de,oe){var Z=de.position||"inside",U=null!=de.distance?de.distance:5,W=oe.height,L=oe.width,D=W/2,A=oe.x,M=oe.y,C="left",P="top";if(Z instanceof Array)A+=re(Z[0],oe.width),M+=re(Z[1],oe.height),C=null,P=null;else switch(Z){case"left":A-=U,M+=D,C="right",P="middle";break;case"right":A+=U+L,M+=D,P="middle";break;case"top":A+=L/2,M-=U,C="center",P="bottom";break;case"bottom":A+=L/2,M+=W+U,C="center";break;case"inside":A+=L/2,M+=D,C="center",P="middle";break;case"insideLeft":A+=U,M+=D,P="middle";break;case"insideRight":A+=L-U,M+=D,C="right",P="middle";break;case"insideTop":A+=L/2,M+=U,C="center";break;case"insideBottom":A+=L/2,M+=W-U,C="center",P="bottom";break;case"insideTopLeft":A+=U,M+=U;break;case"insideTopRight":A+=L-U,M+=U,C="right";break;case"insideBottomLeft":A+=U,M+=W-U,P="bottom";break;case"insideBottomRight":A+=L-U,M+=W-U,C="right",P="bottom"}return(ne=ne||{}).x=A,ne.y=M,ne.align=C,ne.verticalAlign=P,ne}},1057:(un,ot,E)=>{"use strict";E.d(ot,{m:()=>R});var m=2*Math.PI;function R(k){return(k%=m)<0&&(k+=m),k}},2663:(un,ot,E)=>{"use strict";function m(R,k,Se,le,y,ce){if(ce>k&&ce>le||ce<k&&ce<le||le===k)return 0;var q=(ce-k)/(le-k),K=le<k?1:-1;(1===q||0===q)&&(K=le<k?.5:-.5);var H=q*(Se-R)+R;return H===y?1/0:H>y?K:0}E.d(ot,{Z:()=>m})},1436:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>V});var m=E(926),R=E(5359),k=Math.min,Se=Math.max,le=new R.Z,y=new R.Z,ce=new R.Z,q=new R.Z,K=new R.Z,H=new R.Z;const V=function(){function j(X,xe,Q,fe){Q<0&&(X+=Q,Q=-Q),fe<0&&(xe+=fe,fe=-fe),this.x=X,this.y=xe,this.width=Q,this.height=fe}return j.prototype.union=function(X){var xe=k(X.x,this.x),Q=k(X.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Se(X.x+X.width,this.x+this.width)-xe:X.width,this.height=isFinite(this.y)&&isFinite(this.height)?Se(X.y+X.height,this.y+this.height)-Q:X.height,this.x=xe,this.y=Q},j.prototype.applyTransform=function(X){j.applyTransform(this,this,X)},j.prototype.calculateTransform=function(X){var Q=X.width/this.width,fe=X.height/this.height,re=m.create();return m.translate(re,re,[-this.x,-this.y]),m.scale(re,re,[Q,fe]),m.translate(re,re,[X.x,X.y]),re},j.prototype.intersect=function(X,xe){if(!X)return!1;X instanceof j||(X=j.create(X));var Q=this,fe=Q.x,re=Q.x+Q.width,ie=Q.y,ne=Q.y+Q.height,de=X.x,oe=X.x+X.width,Z=X.y,U=X.y+X.height,W=!(re<de||oe<fe||ne<Z||U<ie);if(xe){var L=1/0,D=0,A=Math.abs(re-de),M=Math.abs(oe-fe),C=Math.abs(ne-Z),P=Math.abs(U-ie),N=Math.min(A,M),ee=Math.min(C,P);re<de||oe<fe?N>D&&(D=N,R.Z.set(H,A<M?-A:M,0)):N<L&&(L=N,R.Z.set(K,A<M?A:-M,0)),ne<Z||U<ie?ee>D&&(D=ee,R.Z.set(H,0,C<P?-C:P)):N<L&&(L=N,R.Z.set(K,0,C<P?C:-P))}return xe&&R.Z.copy(xe,W?K:H),W},j.prototype.contain=function(X,xe){var Q=this;return X>=Q.x&&X<=Q.x+Q.width&&xe>=Q.y&&xe<=Q.y+Q.height},j.prototype.clone=function(){return new j(this.x,this.y,this.width,this.height)},j.prototype.copy=function(X){j.copy(this,X)},j.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},j.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},j.prototype.isZero=function(){return 0===this.width||0===this.height},j.create=function(X){return new j(X.x,X.y,X.width,X.height)},j.copy=function(X,xe){X.x=xe.x,X.y=xe.y,X.width=xe.width,X.height=xe.height},j.applyTransform=function(X,xe,Q){if(Q){if(Q[1]<1e-5&&Q[1]>-1e-5&&Q[2]<1e-5&&Q[2]>-1e-5){var fe=Q[0],re=Q[3],ne=Q[5];return X.x=xe.x*fe+Q[4],X.y=xe.y*re+ne,X.width=xe.width*fe,X.height=xe.height*re,X.width<0&&(X.x+=X.width,X.width=-X.width),void(X.height<0&&(X.y+=X.height,X.height=-X.height))}le.x=ce.x=xe.x,le.y=q.y=xe.y,y.x=q.x=xe.x+xe.width,y.y=ce.y=xe.y+xe.height,le.transform(Q),q.transform(Q),y.transform(Q),ce.transform(Q),X.x=k(le.x,y.x,ce.x,q.x),X.y=k(le.y,y.y,ce.y,q.y);var de=Se(le.x,y.x,ce.x,q.x),oe=Se(le.y,y.y,ce.y,q.y);X.width=de-X.x,X.height=oe-X.y}else X!==xe&&j.copy(X,xe)},j}()},4955:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>R});const R=function(){function k(Se){Se&&(this._$eventProcessor=Se)}return k.prototype.on=function(Se,le,y,ce){this._$handlers||(this._$handlers={});var q=this._$handlers;if("function"==typeof le&&(ce=y,y=le,le=null),!y||!Se)return this;var K=this._$eventProcessor;null!=le&&K&&K.normalizeQuery&&(le=K.normalizeQuery(le)),q[Se]||(q[Se]=[]);for(var H=0;H<q[Se].length;H++)if(q[Se][H].h===y)return this;var Y={h:y,query:le,ctx:ce||this,callAtLast:y.zrEventfulCallAtLast},V=q[Se].length-1,j=q[Se][V];return j&&j.callAtLast?q[Se].splice(V,0,Y):q[Se].push(Y),this},k.prototype.isSilent=function(Se){var le=this._$handlers;return!le||!le[Se]||!le[Se].length},k.prototype.off=function(Se,le){var y=this._$handlers;if(!y)return this;if(!Se)return this._$handlers={},this;if(le){if(y[Se]){for(var ce=[],q=0,K=y[Se].length;q<K;q++)y[Se][q].h!==le&&ce.push(y[Se][q]);y[Se]=ce}y[Se]&&0===y[Se].length&&delete y[Se]}else delete y[Se];return this},k.prototype.trigger=function(Se){for(var le=[],y=1;y<arguments.length;y++)le[y-1]=arguments[y];if(!this._$handlers)return this;var ce=this._$handlers[Se],q=this._$eventProcessor;if(ce)for(var K=le.length,H=ce.length,Y=0;Y<H;Y++){var V=ce[Y];if(!q||!q.filter||null==V.query||q.filter(Se,V.query))switch(K){case 0:V.h.call(V.ctx);break;case 1:V.h.call(V.ctx,le[0]);break;case 2:V.h.call(V.ctx,le[0],le[1]);break;default:V.h.apply(V.ctx,le)}}return q&&q.afterTrigger&&q.afterTrigger(Se),this},k.prototype.triggerWithContext=function(Se){for(var le=[],y=1;y<arguments.length;y++)le[y-1]=arguments[y];if(!this._$handlers)return this;var ce=this._$handlers[Se],q=this._$eventProcessor;if(ce)for(var K=le.length,H=le[K-1],Y=ce.length,V=0;V<Y;V++){var j=ce[V];if(!q||!q.filter||null==j.query||q.filter(Se,j.query))switch(K){case 0:j.h.call(H);break;case 1:j.h.call(H,le[0]);break;case 2:j.h.call(H,le[0],le[1]);break;default:j.h.apply(H,le.slice(1,K-1))}}return q&&q.afterTrigger&&q.afterTrigger(Se),this},k}()},4371:(un,ot,E)=>{"use strict";E.d(ot,{ZP:()=>Se});var m=function(y){this.value=y},R=function(){function le(){this._len=0}return le.prototype.insert=function(y){var ce=new m(y);return this.insertEntry(ce),ce},le.prototype.insertEntry=function(y){this.head?(this.tail.next=y,y.prev=this.tail,y.next=null,this.tail=y):this.head=this.tail=y,this._len++},le.prototype.remove=function(y){var ce=y.prev,q=y.next;ce?ce.next=q:this.head=q,q?q.prev=ce:this.tail=ce,y.next=y.prev=null,this._len--},le.prototype.len=function(){return this._len},le.prototype.clear=function(){this.head=this.tail=null,this._len=0},le}();const Se=function(){function le(y){this._list=new R,this._maxSize=10,this._map={},this._maxSize=y}return le.prototype.put=function(y,ce){var q=this._list,K=this._map,H=null;if(null==K[y]){var Y=q.len(),V=this._lastRemovedEntry;if(Y>=this._maxSize&&Y>0){var j=q.head;q.remove(j),delete K[j.key],H=j.value,this._lastRemovedEntry=j}V?V.value=ce:V=new m(ce),V.key=y,q.insertEntry(V),K[y]=V}return H},le.prototype.get=function(y){var ce=this._map[y],q=this._list;if(null!=ce)return ce!==q.tail&&(q.remove(ce),q.insertEntry(ce)),ce.value},le.prototype.clear=function(){this._list.clear(),this._map={}},le.prototype.len=function(){return this._list.len()},le}()},13:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>ce});var m=E(5359),R=[0,0],k=[0,0],Se=new m.Z,le=new m.Z;const ce=function(){function q(K,H){this._corners=[],this._axes=[],this._origin=[0,0];for(var Y=0;Y<4;Y++)this._corners[Y]=new m.Z;for(Y=0;Y<2;Y++)this._axes[Y]=new m.Z;K&&this.fromBoundingRect(K,H)}return q.prototype.fromBoundingRect=function(K,H){var Y=this._corners,V=this._axes,j=K.x,X=K.y,xe=j+K.width,Q=X+K.height;if(Y[0].set(j,X),Y[1].set(xe,X),Y[2].set(xe,Q),Y[3].set(j,Q),H)for(var fe=0;fe<4;fe++)Y[fe].transform(H);for(m.Z.sub(V[0],Y[1],Y[0]),m.Z.sub(V[1],Y[3],Y[0]),V[0].normalize(),V[1].normalize(),fe=0;fe<2;fe++)this._origin[fe]=V[fe].dot(Y[0])},q.prototype.intersect=function(K,H){var Y=!0,V=!H;return Se.set(1/0,1/0),le.set(0,0),!this._intersectCheckOneSide(this,K,Se,le,V,1)&&(Y=!1,V)||!this._intersectCheckOneSide(K,this,Se,le,V,-1)&&(Y=!1,V)||V||m.Z.copy(H,Y?Se:le),Y},q.prototype._intersectCheckOneSide=function(K,H,Y,V,j,X){for(var xe=!0,Q=0;Q<2;Q++){var fe=this._axes[Q];if(this._getProjMinMaxOnAxis(Q,K._corners,R),this._getProjMinMaxOnAxis(Q,H._corners,k),R[1]<k[0]||R[0]>k[1]){if(xe=!1,j)return xe;var re=Math.abs(k[0]-R[1]),ie=Math.abs(R[0]-k[1]);Math.min(re,ie)>V.len()&&m.Z.scale(V,fe,re<ie?-re*X:ie*X)}else Y&&(re=Math.abs(k[0]-R[1]),ie=Math.abs(R[0]-k[1]),Math.min(re,ie)<Y.len()&&m.Z.scale(Y,fe,re<ie?re*X:-ie*X))}return xe},q.prototype._getProjMinMaxOnAxis=function(K,H,Y){for(var V=this._axes[K],j=this._origin,X=H[0].dot(V)+j[K],xe=X,Q=X,fe=1;fe<H.length;fe++){var re=H[fe].dot(V)+j[K];xe=Math.min(re,xe),Q=Math.max(re,Q)}Y[0]=xe,Y[1]=Q},q}()},89:(un,ot,E)=>{"use strict";E.d(ot,{L:()=>U,Z:()=>L});var m=E(7322),R=E(1436),k=E(4297),Se=E(9393),le=E(3775),y={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ce=[],q=[],K=[],H=[],Y=[],V=[],j=Math.min,X=Math.max,xe=Math.cos,Q=Math.sin,fe=Math.sqrt,re=Math.abs,ie=Math.PI,ne=2*ie,de="undefined"!=typeof Float32Array,oe=[];function Z(D){return Math.round(D/ie*1e8)/1e8%2*ie}function U(D,A){var M=Z(D[0]);M<0&&(M+=ne);var P=D[1];P+=M-D[0],!A&&P-M>=ne?P=M+ne:A&&M-P>=ne?P=M-ne:!A&&M>P?P=M+(ne-Z(M-P)):A&&M<P&&(P=M-(ne-Z(P-M))),D[0]=M,D[1]=P}const L=function(){function D(A){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,A&&(this._saveData=!1),this._saveData&&(this.data=[])}return D.prototype.increaseVersion=function(){this._version++},D.prototype.getVersion=function(){return this._version},D.prototype.setScale=function(A,M,C){(C=C||0)>0&&(this._ux=re(C/k.KL/A)||0,this._uy=re(C/k.KL/M)||0)},D.prototype.setDPR=function(A){this.dpr=A},D.prototype.setContext=function(A){this._ctx=A},D.prototype.getContext=function(){return this._ctx},D.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},D.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},D.prototype.moveTo=function(A,M){return this._drawPendingPt(),this.addData(y.M,A,M),this._ctx&&this._ctx.moveTo(A,M),this._x0=A,this._y0=M,this._xi=A,this._yi=M,this},D.prototype.lineTo=function(A,M){var C=re(A-this._xi),P=re(M-this._yi),N=C>this._ux||P>this._uy;if(this.addData(y.L,A,M),this._ctx&&N&&(this._needsDash?this._dashedLineTo(A,M):this._ctx.lineTo(A,M)),N)this._xi=A,this._yi=M,this._pendingPtDist=0;else{var ee=C*C+P*P;ee>this._pendingPtDist&&(this._pendingPtX=A,this._pendingPtY=M,this._pendingPtDist=ee)}return this},D.prototype.bezierCurveTo=function(A,M,C,P,N,ee){return this._drawPendingPt(),this.addData(y.C,A,M,C,P,N,ee),this._ctx&&(this._needsDash?this._dashedBezierTo(A,M,C,P,N,ee):this._ctx.bezierCurveTo(A,M,C,P,N,ee)),this._xi=N,this._yi=ee,this},D.prototype.quadraticCurveTo=function(A,M,C,P){return this._drawPendingPt(),this.addData(y.Q,A,M,C,P),this._ctx&&(this._needsDash?this._dashedQuadraticTo(A,M,C,P):this._ctx.quadraticCurveTo(A,M,C,P)),this._xi=C,this._yi=P,this},D.prototype.arc=function(A,M,C,P,N,ee){return this._drawPendingPt(),oe[0]=P,oe[1]=N,U(oe,ee),this.addData(y.A,A,M,C,C,P=oe[0],(N=oe[1])-P,0,ee?0:1),this._ctx&&this._ctx.arc(A,M,C,P,N,ee),this._xi=xe(N)*C+A,this._yi=Q(N)*C+M,this},D.prototype.arcTo=function(A,M,C,P,N){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(A,M,C,P,N),this},D.prototype.rect=function(A,M,C,P){return this._drawPendingPt(),this._ctx&&this._ctx.rect(A,M,C,P),this.addData(y.R,A,M,C,P),this},D.prototype.closePath=function(){this._drawPendingPt(),this.addData(y.Z);var A=this._ctx,M=this._x0,C=this._y0;return A&&(this._needsDash&&this._dashedLineTo(M,C),A.closePath()),this._xi=M,this._yi=C,this},D.prototype.fill=function(A){A&&A.fill(),this.toStatic()},D.prototype.stroke=function(A){A&&A.stroke(),this.toStatic()},D.prototype.setLineDash=function(A){if(A instanceof Array){this._lineDash=A,this._dashIdx=0;for(var M=0,C=0;C<A.length;C++)M+=A[C];this._dashSum=M,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},D.prototype.setLineDashOffset=function(A){return this._dashOffset=A,this},D.prototype.len=function(){return this._len},D.prototype.setData=function(A){var M=A.length;(!this.data||this.data.length!==M)&&de&&(this.data=new Float32Array(M));for(var C=0;C<M;C++)this.data[C]=A[C];this._len=M},D.prototype.appendPath=function(A){A instanceof Array||(A=[A]);for(var M=A.length,C=0,P=this._len,N=0;N<M;N++)C+=A[N].len();for(de&&this.data instanceof Float32Array&&(this.data=new Float32Array(P+C)),N=0;N<M;N++)for(var ee=A[N].data,ye=0;ye<ee.length;ye++)this.data[P++]=ee[ye];this._len=P},D.prototype.addData=function(A,M,C,P,N,ee,ye,Te,he){if(this._saveData){var me=this.data;this._len+arguments.length>me.length&&(this._expandData(),me=this.data);for(var Re=0;Re<arguments.length;Re++)me[this._len++]=arguments[Re]}},D.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},D.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var A=[],M=0;M<this._len;M++)A[M]=this.data[M];this.data=A}},D.prototype._dashedLineTo=function(A,M){var Ve,Fe,C=this._dashSum,P=this._lineDash,N=this._ctx,ee=this._dashOffset,ye=this._xi,Te=this._yi,he=A-ye,me=M-Te,Re=fe(he*he+me*me),Le=ye,Je=Te,Oe=P.length;for(ee<0&&(ee=C+ee),Le-=(ee%=C)*(he/=Re),Je-=ee*(me/=Re);he>0&&Le<=A||he<0&&Le>=A||0===he&&(me>0&&Je<=M||me<0&&Je>=M);)Le+=he*(Ve=P[Fe=this._dashIdx]),Je+=me*Ve,this._dashIdx=(Fe+1)%Oe,!(he>0&&Le<ye||he<0&&Le>ye||me>0&&Je<Te||me<0&&Je>Te)&&N[Fe%2?"moveTo":"lineTo"](he>=0?j(Le,A):X(Le,A),me>=0?j(Je,M):X(Je,M));this._dashOffset=-fe((he=Le-A)*he+(me=Je-M)*me)},D.prototype._dashedBezierTo=function(A,M,C,P,N,ee){var Fe,et,Ue,xt,It,ye=this._ctx,Te=this._dashSum,he=this._dashOffset,me=this._lineDash,Re=this._xi,Le=this._yi,Je=0,Oe=this._dashIdx,Ve=me.length,Pt=0;for(he<0&&(he=Te+he),he%=Te,Fe=0;Fe<1;Fe+=.1)et=(0,le.af)(Re,A,C,N,Fe+.1)-(0,le.af)(Re,A,C,N,Fe),Ue=(0,le.af)(Le,M,P,ee,Fe+.1)-(0,le.af)(Le,M,P,ee,Fe),Je+=fe(et*et+Ue*Ue);for(;Oe<Ve&&!((Pt+=me[Oe])>he);Oe++);for(Fe=(Pt-he)/Je;Fe<=1;)xt=(0,le.af)(Re,A,C,N,Fe),It=(0,le.af)(Le,M,P,ee,Fe),Oe%2?ye.moveTo(xt,It):ye.lineTo(xt,It),Fe+=me[Oe]/Je,Oe=(Oe+1)%Ve;Oe%2!=0&&ye.lineTo(N,ee),this._dashOffset=-fe((et=N-xt)*et+(Ue=ee-It)*Ue)},D.prototype._dashedQuadraticTo=function(A,M,C,P){var N=C,ee=P;C=(C+2*A)/3,P=(P+2*M)/3,this._dashedBezierTo(A=(this._xi+2*A)/3,M=(this._yi+2*M)/3,C,P,N,ee)},D.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var A=this.data;A instanceof Array&&(A.length=this._len,de&&this._len>11&&(this.data=new Float32Array(A)))}},D.prototype.getBoundingRect=function(){K[0]=K[1]=Y[0]=Y[1]=Number.MAX_VALUE,H[0]=H[1]=V[0]=V[1]=-Number.MAX_VALUE;var ee,A=this.data,M=0,C=0,P=0,N=0;for(ee=0;ee<this._len;){var ye=A[ee++],Te=1===ee;switch(Te&&(P=M=A[ee],N=C=A[ee+1]),ye){case y.M:M=P=A[ee++],C=N=A[ee++],Y[0]=P,Y[1]=N,V[0]=P,V[1]=N;break;case y.L:(0,Se.u4)(M,C,A[ee],A[ee+1],Y,V),M=A[ee++],C=A[ee++];break;case y.C:(0,Se.H9)(M,C,A[ee++],A[ee++],A[ee++],A[ee++],A[ee],A[ee+1],Y,V),M=A[ee++],C=A[ee++];break;case y.Q:(0,Se.mJ)(M,C,A[ee++],A[ee++],A[ee],A[ee+1],Y,V),M=A[ee++],C=A[ee++];break;case y.A:var he=A[ee++],me=A[ee++],Re=A[ee++],Le=A[ee++],Je=A[ee++],Oe=A[ee++]+Je;ee+=1;var Ve=!A[ee++];Te&&(P=xe(Je)*Re+he,N=Q(Je)*Le+me),(0,Se.qL)(he,me,Re,Le,Je,Oe,Ve,Y,V),M=xe(Oe)*Re+he,C=Q(Oe)*Le+me;break;case y.R:P=M=A[ee++],N=C=A[ee++];var Fe=A[ee++],et=A[ee++];(0,Se.u4)(P,N,P+Fe,N+et,Y,V);break;case y.Z:M=P,C=N}m.min(K,K,Y),m.max(H,H,V)}return 0===ee&&(K[0]=K[1]=H[0]=H[1]=0),new R.Z(K[0],K[1],H[0]-K[0],H[1]-K[1])},D.prototype._calculateLength=function(){var A=this.data,M=this._len,C=this._ux,P=this._uy,N=0,ee=0,ye=0,Te=0;this._pathSegLen||(this._pathSegLen=[]);for(var he=this._pathSegLen,me=0,Re=0,Le=0;Le<M;){var Je=A[Le++],Oe=1===Le;Oe&&(ye=N=A[Le],Te=ee=A[Le+1]);var Ve=-1;switch(Je){case y.M:N=ye=A[Le++],ee=Te=A[Le++];break;case y.L:var Fe=A[Le++],xt=(et=A[Le++])-ee;(re(Ue=Fe-N)>C||re(xt)>P||Le===M-1)&&(Ve=Math.sqrt(Ue*Ue+xt*xt),N=Fe,ee=et);break;case y.C:var It=A[Le++],Pt=A[Le++],et=(Fe=A[Le++],A[Le++]),Wt=A[Le++],Qt=A[Le++];Ve=(0,le.Ci)(N,ee,It,Pt,Fe,et,Wt,Qt,10),N=Wt,ee=Qt;break;case y.Q:It=A[Le++],Pt=A[Le++],Fe=A[Le++],et=A[Le++],Ve=(0,le.wQ)(N,ee,It,Pt,Fe,et,10),N=Fe,ee=et;break;case y.A:var gn=A[Le++],In=A[Le++],Dn=A[Le++],Yt=A[Le++],sn=A[Le++],it=A[Le++],vn=it+sn;Le+=1,Le++,Oe&&(ye=xe(sn)*Dn+gn,Te=Q(sn)*Yt+In),Ve=X(Dn,Yt)*j(ne,Math.abs(it)),N=xe(vn)*Dn+gn,ee=Q(vn)*Yt+In;break;case y.R:ye=N=A[Le++],Te=ee=A[Le++],Ve=2*A[Le++]+2*A[Le++];break;case y.Z:var Ue=ye-N;xt=Te-ee,Ve=Math.sqrt(Ue*Ue+xt*xt),N=ye,ee=Te}Ve>=0&&(he[Re++]=Ve,me+=Ve)}return this._pathLen=me,me},D.prototype.rebuildPath=function(A,M){var ye,Te,he,me,Re,Le,Oe,Ue,It,Pt,C=this.data,P=this._ux,N=this._uy,ee=this._len,Je=M<1,Fe=0,et=0,xt=0;if(!Je||(this._pathSegLen||this._calculateLength(),Oe=this._pathSegLen,Ue=M*this._pathLen))e:for(var Wt=0;Wt<ee;){var Qt=C[Wt++],gn=1===Wt;switch(gn&&(ye=he=C[Wt],Te=me=C[Wt+1]),Qt!==y.L&&xt>0&&(A.lineTo(It,Pt),xt=0),Qt){case y.M:ye=he=C[Wt++],Te=me=C[Wt++],A.moveTo(he,me);break;case y.L:Re=C[Wt++],Le=C[Wt++];var In=re(Re-he),Dn=re(Le-me);if(In>P||Dn>N){if(Je){if(Fe+(Yt=Oe[et++])>Ue){A.lineTo(he*(1-(sn=(Ue-Fe)/Yt))+Re*sn,me*(1-sn)+Le*sn);break e}Fe+=Yt}A.lineTo(Re,Le),he=Re,me=Le,xt=0}else{var it=In*In+Dn*Dn;it>xt&&(It=Re,Pt=Le,xt=it)}break;case y.C:var vn=C[Wt++],wt=C[Wt++],ke=C[Wt++],je=C[Wt++],yt=C[Wt++],Et=C[Wt++];if(Je){if(Fe+(Yt=Oe[et++])>Ue){(0,le.Vz)(he,vn,ke,yt,sn=(Ue-Fe)/Yt,ce),(0,le.Vz)(me,wt,je,Et,sn,q),A.bezierCurveTo(ce[1],q[1],ce[2],q[2],ce[3],q[3]);break e}Fe+=Yt}A.bezierCurveTo(vn,wt,ke,je,yt,Et),he=yt,me=Et;break;case y.Q:if(vn=C[Wt++],wt=C[Wt++],ke=C[Wt++],je=C[Wt++],Je){if(Fe+(Yt=Oe[et++])>Ue){(0,le.Lx)(he,vn,ke,sn=(Ue-Fe)/Yt,ce),(0,le.Lx)(me,wt,je,sn,q),A.quadraticCurveTo(ce[1],q[1],ce[2],q[2]);break e}Fe+=Yt}A.quadraticCurveTo(vn,wt,ke,je),he=ke,me=je;break;case y.A:var $t=C[Wt++],cn=C[Wt++],ct=C[Wt++],tt=C[Wt++],_t=C[Wt++],zt=C[Wt++],Ft=C[Wt++],ft=!C[Wt++],Ye=ct>tt?ct:tt,Ke=re(ct-tt)>.001,we=_t+zt,Me=!1;if(Je&&(Fe+(Yt=Oe[et++])>Ue&&(we=_t+zt*(Ue-Fe)/Yt,Me=!0),Fe+=Yt),Ke&&A.ellipse?A.ellipse($t,cn,ct,tt,Ft,_t,we,ft):A.arc($t,cn,Ye,_t,we,ft),Me)break e;gn&&(ye=xe(_t)*ct+$t,Te=Q(_t)*tt+cn),he=xe(we)*ct+$t,me=Q(we)*tt+cn;break;case y.R:ye=he=C[Wt],Te=me=C[Wt+1],Re=C[Wt++],Le=C[Wt++];var qe=C[Wt++],lt=C[Wt++];if(Je){if(Fe+(Yt=Oe[et++])>Ue){var Lt=Ue-Fe;A.moveTo(Re,Le),A.lineTo(Re+j(Lt,qe),Le),(Lt-=qe)>0&&A.lineTo(Re+qe,Le+j(Lt,lt)),(Lt-=lt)>0&&A.lineTo(Re+X(qe-Lt,0),Le+lt),(Lt-=qe)>0&&A.lineTo(Re,Le+X(lt-Lt,0));break e}Fe+=Yt}A.rect(Re,Le,qe,lt);break;case y.Z:if(Je){var Yt;if(Fe+(Yt=Oe[et++])>Ue){var sn;A.lineTo(he*(1-(sn=(Ue-Fe)/Yt))+ye*sn,me*(1-sn)+Te*sn);break e}Fe+=Yt}A.closePath(),he=ye,me=Te}}},D.prototype.clone=function(){var A=new D,M=this.data;return A.data=M.slice?M.slice():Array.prototype.slice.call(M),A._len=this._len,A},D.CMD=y,D.initDefaultProps=((A=D.prototype)._saveData=!0,A._needsDash=!1,A._dashOffset=0,A._dashIdx=0,A._dashSum=0,A._ux=0,A._uy=0,A._pendingPtDist=0,void(A._version=0)),D;var A}()},5359:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>R});const R=function(){function k(Se,le){this.x=Se||0,this.y=le||0}return k.prototype.copy=function(Se){return this.x=Se.x,this.y=Se.y,this},k.prototype.clone=function(){return new k(this.x,this.y)},k.prototype.set=function(Se,le){return this.x=Se,this.y=le,this},k.prototype.equal=function(Se){return Se.x===this.x&&Se.y===this.y},k.prototype.add=function(Se){return this.x+=Se.x,this.y+=Se.y,this},k.prototype.scale=function(Se){this.x*=Se,this.y*=Se},k.prototype.scaleAndAdd=function(Se,le){this.x+=Se.x*le,this.y+=Se.y*le},k.prototype.sub=function(Se){return this.x-=Se.x,this.y-=Se.y,this},k.prototype.dot=function(Se){return this.x*Se.x+this.y*Se.y},k.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},k.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},k.prototype.normalize=function(){var Se=this.len();return this.x/=Se,this.y/=Se,this},k.prototype.distance=function(Se){var le=this.x-Se.x,y=this.y-Se.y;return Math.sqrt(le*le+y*y)},k.prototype.distanceSquare=function(Se){var le=this.x-Se.x,y=this.y-Se.y;return le*le+y*y},k.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},k.prototype.transform=function(Se){if(Se){var le=this.x,y=this.y;return this.x=Se[0]*le+Se[2]*y+Se[4],this.y=Se[1]*le+Se[3]*y+Se[5],this}},k.prototype.toArray=function(Se){return Se[0]=this.x,Se[1]=this.y,Se},k.prototype.fromArray=function(Se){this.x=Se[0],this.y=Se[1]},k.set=function(Se,le,y){Se.x=le,Se.y=y},k.copy=function(Se,le){Se.x=le.x,Se.y=le.y},k.len=function(Se){return Math.sqrt(Se.x*Se.x+Se.y*Se.y)},k.lenSquare=function(Se){return Se.x*Se.x+Se.y*Se.y},k.dot=function(Se,le){return Se.x*le.x+Se.y*le.y},k.add=function(Se,le,y){Se.x=le.x+y.x,Se.y=le.y+y.y},k.sub=function(Se,le,y){Se.x=le.x-y.x,Se.y=le.y-y.y},k.scale=function(Se,le,y){Se.x=le.x*y,Se.y=le.y*y},k.scaleAndAdd=function(Se,le,y,ce){Se.x=le.x+y.x*ce,Se.y=le.y+y.y*ce},k.lerp=function(Se,le,y,ce){var q=1-ce;Se.x=q*le.x+ce*y.x,Se.y=q*le.y+ce*y.y},k}()},9736:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>V});var m=E(926),R=E(7322),k=m.identity;function le(j){return j>5e-5||j<-5e-5}var y=[],ce=[],q=m.create(),K=Math.abs,H=function(){function j(){}return j.prototype.getLocalTransform=function(X){return j.getLocalTransform(this,X)},j.prototype.setPosition=function(X){this.x=X[0],this.y=X[1]},j.prototype.setScale=function(X){this.scaleX=X[0],this.scaleY=X[1]},j.prototype.setSkew=function(X){this.skewX=X[0],this.skewY=X[1]},j.prototype.setOrigin=function(X){this.originX=X[0],this.originY=X[1]},j.prototype.needLocalTransform=function(){return le(this.rotation)||le(this.x)||le(this.y)||le(this.scaleX-1)||le(this.scaleY-1)},j.prototype.updateTransform=function(){var X=this.parent&&this.parent.transform,xe=this.needLocalTransform(),Q=this.transform;xe||X?(Q=Q||m.create(),xe?this.getLocalTransform(Q):k(Q),X&&(xe?m.mul(Q,X,Q):m.copy(Q,X)),this.transform=Q,this._resolveGlobalScaleRatio(Q)):Q&&k(Q)},j.prototype._resolveGlobalScaleRatio=function(X){var xe=this.globalScaleRatio;if(null!=xe&&1!==xe){this.getGlobalScale(y);var Q=y[0]<0?-1:1,fe=y[1]<0?-1:1,re=((y[0]-Q)*xe+Q)/y[0]||0,ie=((y[1]-fe)*xe+fe)/y[1]||0;X[0]*=re,X[1]*=re,X[2]*=ie,X[3]*=ie}this.invTransform=this.invTransform||m.create(),m.invert(this.invTransform,X)},j.prototype.getComputedTransform=function(){for(var X=this,xe=[];X;)xe.push(X),X=X.parent;for(;X=xe.pop();)X.updateTransform();return this.transform},j.prototype.setLocalTransform=function(X){if(X){var xe=X[0]*X[0]+X[1]*X[1],Q=X[2]*X[2]+X[3]*X[3],fe=Math.atan2(X[1],X[0]),re=Math.PI/2+fe-Math.atan2(X[3],X[2]);Q=Math.sqrt(Q)*Math.cos(re),xe=Math.sqrt(xe),this.skewX=re,this.skewY=0,this.rotation=-fe,this.x=+X[4],this.y=+X[5],this.scaleX=xe,this.scaleY=Q,this.originX=0,this.originY=0}},j.prototype.decomposeTransform=function(){if(this.transform){var X=this.parent,xe=this.transform;X&&X.transform&&(m.mul(ce,X.invTransform,xe),xe=ce);var Q=this.originX,fe=this.originY;(Q||fe)&&(q[4]=Q,q[5]=fe,m.mul(ce,xe,q),ce[4]-=Q,ce[5]-=fe,xe=ce),this.setLocalTransform(xe)}},j.prototype.getGlobalScale=function(X){var xe=this.transform;return X=X||[],xe?(X[0]=Math.sqrt(xe[0]*xe[0]+xe[1]*xe[1]),X[1]=Math.sqrt(xe[2]*xe[2]+xe[3]*xe[3]),xe[0]<0&&(X[0]=-X[0]),xe[3]<0&&(X[1]=-X[1]),X):(X[0]=1,X[1]=1,X)},j.prototype.transformCoordToLocal=function(X,xe){var Q=[X,xe],fe=this.invTransform;return fe&&R.applyTransform(Q,Q,fe),Q},j.prototype.transformCoordToGlobal=function(X,xe){var Q=[X,xe],fe=this.transform;return fe&&R.applyTransform(Q,Q,fe),Q},j.prototype.getLineScale=function(){var X=this.transform;return X&&K(X[0]-1)>1e-10&&K(X[3]-1)>1e-10?Math.sqrt(K(X[0]*X[3]-X[2]*X[1])):1},j.prototype.copyTransform=function(X){for(var Q=0;Q<Y.length;Q++){var fe=Y[Q];this[fe]=X[fe]}},j.getLocalTransform=function(X,xe){xe=xe||[];var Q=X.originX||0,fe=X.originY||0,re=X.scaleX,ie=X.scaleY,ne=X.rotation||0,de=X.x,oe=X.y,Z=X.skewX?Math.tan(X.skewX):0,U=X.skewY?Math.tan(-X.skewY):0;return Q||fe?(xe[4]=-Q*re-Z*fe*ie,xe[5]=-fe*ie-U*Q*re):xe[4]=xe[5]=0,xe[0]=re,xe[3]=ie,xe[1]=U*re,xe[2]=Z*ie,ne&&m.rotate(xe,xe,ne),xe[4]+=Q+de,xe[5]+=fe+oe,xe},j.initDefaultProps=((X=j.prototype).x=0,X.y=0,X.scaleX=1,X.scaleY=1,X.originX=0,X.originY=0,X.skewX=0,X.skewY=0,X.rotation=0,void(X.globalScaleRatio=1)),j;var X}(),Y=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"];const V=H},3302:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>Se});var m=Math.round(9*Math.random()),R="function"==typeof Object.defineProperty;const Se=function(){function le(){this._id="__ec_inner_"+m++}return le.prototype.get=function(y){return this._guard(y)[this._id]},le.prototype.set=function(y,ce){var q=this._guard(y);return R?Object.defineProperty(q,this._id,{value:ce,enumerable:!1,configurable:!0}):q[this._id]=ce,this},le.prototype.delete=function(y){return!!this.has(y)&&(delete this._guard(y)[this._id],!0)},le.prototype.has=function(y){return!!this._guard(y)[this._id]},le.prototype._guard=function(y){if(y!==Object(y))throw TypeError("Value of WeakMap is not a non-null object.");return y},le}()},9393:(un,ot,E)=>{"use strict";E.d(ot,{zk:()=>Y,u4:()=>V,H9:()=>xe,mJ:()=>Q,qL:()=>fe});var m=E(7322),R=E(3775),k=Math.min,Se=Math.max,le=Math.sin,y=Math.cos,ce=2*Math.PI,q=m.create(),K=m.create(),H=m.create();function Y(re,ie,ne){if(0!==re.length){for(var de=re[0],oe=de[0],Z=de[0],U=de[1],W=de[1],L=1;L<re.length;L++)oe=k(oe,(de=re[L])[0]),Z=Se(Z,de[0]),U=k(U,de[1]),W=Se(W,de[1]);ie[0]=oe,ie[1]=U,ne[0]=Z,ne[1]=W}}function V(re,ie,ne,de,oe,Z){oe[0]=k(re,ne),oe[1]=k(ie,de),Z[0]=Se(re,ne),Z[1]=Se(ie,de)}var j=[],X=[];function xe(re,ie,ne,de,oe,Z,U,W,L,D){var A=R.pP,M=R.af,C=A(re,ne,oe,U,j);L[0]=1/0,L[1]=1/0,D[0]=-1/0,D[1]=-1/0;for(var P=0;P<C;P++){var N=M(re,ne,oe,U,j[P]);L[0]=k(N,L[0]),D[0]=Se(N,D[0])}for(C=A(ie,de,Z,W,X),P=0;P<C;P++){var ee=M(ie,de,Z,W,X[P]);L[1]=k(ee,L[1]),D[1]=Se(ee,D[1])}L[0]=k(re,L[0]),D[0]=Se(re,D[0]),L[0]=k(U,L[0]),D[0]=Se(U,D[0]),L[1]=k(ie,L[1]),D[1]=Se(ie,D[1]),L[1]=k(W,L[1]),D[1]=Se(W,D[1])}function Q(re,ie,ne,de,oe,Z,U,W){var L=R.QC,D=R.Zm,A=Se(k(L(re,ne,oe),1),0),M=Se(k(L(ie,de,Z),1),0),C=D(re,ne,oe,A),P=D(ie,de,Z,M);U[0]=k(re,oe,C),U[1]=k(ie,Z,P),W[0]=Se(re,oe,C),W[1]=Se(ie,Z,P)}function fe(re,ie,ne,de,oe,Z,U,W,L){var D=m.min,A=m.max,M=Math.abs(oe-Z);if(M%ce<1e-4&&M>1e-4)return W[0]=re-ne,W[1]=ie-de,L[0]=re+ne,void(L[1]=ie+de);if(q[0]=y(oe)*ne+re,q[1]=le(oe)*de+ie,K[0]=y(Z)*ne+re,K[1]=le(Z)*de+ie,D(W,q,K),A(L,q,K),(oe%=ce)<0&&(oe+=ce),(Z%=ce)<0&&(Z+=ce),oe>Z&&!U?Z+=ce:oe<Z&&U&&(oe+=ce),U){var C=Z;Z=oe,oe=C}for(var P=0;P<Z;P+=Math.PI/2)P>oe&&(H[0]=y(P)*ne+re,H[1]=le(P)*de+ie,D(W,H,W),A(L,H,L))}},3775:(un,ot,E)=>{"use strict";E.d(ot,{af:()=>j,X_:()=>X,kD:()=>xe,pP:()=>Q,Vz:()=>fe,t1:()=>re,Ci:()=>ie,Zm:()=>ne,AZ:()=>de,Jz:()=>oe,QC:()=>Z,Lx:()=>U,Wr:()=>W,wQ:()=>L});var m=E(7322),R=Math.pow,k=Math.sqrt,y=k(3),ce=1/3,q=(0,m.create)(),K=(0,m.create)(),H=(0,m.create)();function Y(D){return D>-1e-8&&D<1e-8}function V(D){return D>1e-8||D<-1e-8}function j(D,A,M,C,P){var N=1-P;return N*N*(N*D+3*P*A)+P*P*(P*C+3*N*M)}function X(D,A,M,C,P){var N=1-P;return 3*(((A-D)*N+2*(M-A)*P)*N+(C-M)*P*P)}function xe(D,A,M,C,P,N){var ee=C+3*(A-M)-D,ye=3*(M-2*A+D),Te=3*(A-D),he=D-P,me=ye*ye-3*ee*Te,Re=ye*Te-9*ee*he,Le=Te*Te-3*ye*he,Je=0;if(Y(me)&&Y(Re))Y(ye)?N[0]=0:(Oe=-Te/ye)>=0&&Oe<=1&&(N[Je++]=Oe);else{var Ve=Re*Re-4*me*Le;if(Y(Ve)){var Fe=Re/me,et=-Fe/2;(Oe=-ye/ee+Fe)>=0&&Oe<=1&&(N[Je++]=Oe),et>=0&&et<=1&&(N[Je++]=et)}else if(Ve>0){var Ue=k(Ve),xt=me*ye+1.5*ee*(-Re+Ue),It=me*ye+1.5*ee*(-Re-Ue);(Oe=(-ye-((xt=xt<0?-R(-xt,ce):R(xt,ce))+(It=It<0?-R(-It,ce):R(It,ce))))/(3*ee))>=0&&Oe<=1&&(N[Je++]=Oe)}else{var Pt=(2*me*ye-3*ee*Re)/(2*k(me*me*me)),Wt=Math.acos(Pt)/3,Qt=k(me),gn=Math.cos(Wt),Oe=(-ye-2*Qt*gn)/(3*ee),In=(et=(-ye+Qt*(gn+y*Math.sin(Wt)))/(3*ee),(-ye+Qt*(gn-y*Math.sin(Wt)))/(3*ee));Oe>=0&&Oe<=1&&(N[Je++]=Oe),et>=0&&et<=1&&(N[Je++]=et),In>=0&&In<=1&&(N[Je++]=In)}}return Je}function Q(D,A,M,C,P){var N=6*M-12*A+6*D,ee=9*A+3*C-3*D-9*M,ye=3*A-3*D,Te=0;if(Y(ee))V(N)&&(he=-ye/N)>=0&&he<=1&&(P[Te++]=he);else{var me=N*N-4*ee*ye;if(Y(me))P[0]=-N/(2*ee);else if(me>0){var he,Re=k(me),Le=(-N-Re)/(2*ee);(he=(-N+Re)/(2*ee))>=0&&he<=1&&(P[Te++]=he),Le>=0&&Le<=1&&(P[Te++]=Le)}}return Te}function fe(D,A,M,C,P,N){var ee=(A-D)*P+D,ye=(M-A)*P+A,Te=(C-M)*P+M,he=(ye-ee)*P+ee,me=(Te-ye)*P+ye,Re=(me-he)*P+he;N[0]=D,N[1]=ee,N[2]=he,N[3]=Re,N[4]=Re,N[5]=me,N[6]=Te,N[7]=C}function re(D,A,M,C,P,N,ee,ye,Te,he,me){var Re,Oe,Ve,Fe,et,Le=.005,Je=1/0;q[0]=Te,q[1]=he;for(var Ue=0;Ue<1;Ue+=.05)K[0]=j(D,M,P,ee,Ue),K[1]=j(A,C,N,ye,Ue),(Fe=(0,m.distSquare)(q,K))<Je&&(Re=Ue,Je=Fe);Je=1/0;for(var xt=0;xt<32&&!(Le<1e-4);xt++)Ve=Re+Le,K[0]=j(D,M,P,ee,Oe=Re-Le),K[1]=j(A,C,N,ye,Oe),Fe=(0,m.distSquare)(K,q),Oe>=0&&Fe<Je?(Re=Oe,Je=Fe):(H[0]=j(D,M,P,ee,Ve),H[1]=j(A,C,N,ye,Ve),et=(0,m.distSquare)(H,q),Ve<=1&&et<Je?(Re=Ve,Je=et):Le*=.5);return me&&(me[0]=j(D,M,P,ee,Re),me[1]=j(A,C,N,ye,Re)),k(Je)}function ie(D,A,M,C,P,N,ee,ye,Te){for(var he=D,me=A,Re=0,Le=1/Te,Je=1;Je<=Te;Je++){var Oe=Je*Le,Ve=j(D,M,P,ee,Oe),Fe=j(A,C,N,ye,Oe),et=Ve-he,Ue=Fe-me;Re+=Math.sqrt(et*et+Ue*Ue),he=Ve,me=Fe}return Re}function ne(D,A,M,C){var P=1-C;return P*(P*D+2*C*A)+C*C*M}function de(D,A,M,C){return 2*((1-C)*(A-D)+C*(M-A))}function oe(D,A,M,C,P){var N=D-2*A+M,ee=2*(A-D),ye=D-C,Te=0;if(Y(N))V(ee)&&(he=-ye/ee)>=0&&he<=1&&(P[Te++]=he);else{var me=ee*ee-4*N*ye;if(Y(me))(he=-ee/(2*N))>=0&&he<=1&&(P[Te++]=he);else if(me>0){var he,Re=k(me),Le=(-ee-Re)/(2*N);(he=(-ee+Re)/(2*N))>=0&&he<=1&&(P[Te++]=he),Le>=0&&Le<=1&&(P[Te++]=Le)}}return Te}function Z(D,A,M){var C=D+M-2*A;return 0===C?.5:(D-A)/C}function U(D,A,M,C,P){var N=(A-D)*C+D,ee=(M-A)*C+A,ye=(ee-N)*C+N;P[0]=D,P[1]=N,P[2]=ye,P[3]=ye,P[4]=ee,P[5]=M}function W(D,A,M,C,P,N,ee,ye,Te){var he,me=.005,Re=1/0;q[0]=ee,q[1]=ye;for(var Le=0;Le<1;Le+=.05)K[0]=ne(D,M,P,Le),K[1]=ne(A,C,N,Le),(Je=(0,m.distSquare)(q,K))<Re&&(he=Le,Re=Je);Re=1/0;for(var Oe=0;Oe<32&&!(me<1e-4);Oe++){var Ve=he-me,Fe=he+me;K[0]=ne(D,M,P,Ve),K[1]=ne(A,C,N,Ve);var Je=(0,m.distSquare)(K,q);if(Ve>=0&&Je<Re)he=Ve,Re=Je;else{H[0]=ne(D,M,P,Fe),H[1]=ne(A,C,N,Fe);var et=(0,m.distSquare)(H,q);Fe<=1&&et<Re?(he=Fe,Re=et):me*=.5}}return Te&&(Te[0]=ne(D,M,P,he),Te[1]=ne(A,C,N,he)),k(Re)}function L(D,A,M,C,P,N,ee){for(var ye=D,Te=A,he=0,me=1/ee,Re=1;Re<=ee;Re++){var Le=Re*me,Je=ne(D,M,P,Le),Oe=ne(A,C,N,Le),Ve=Je-ye,Fe=Oe-Te;he+=Math.sqrt(Ve*Ve+Fe*Fe),ye=Je,Te=Oe}return he}},5514:(un,ot,E)=>{"use strict";E.d(ot,{UK:()=>Y,A4:()=>q,YB:()=>ce});var m=E(5065),R=Math.log(2);function k(V,j,X,xe,Q,fe){var re=xe+"-"+Q,ie=V.length;if(fe.hasOwnProperty(re))return fe[re];if(1===j){var ne=Math.round(Math.log((1<<ie)-1&~Q)/R);return V[X][ne]}for(var de=xe|1<<X,oe=X+1;xe&1<<oe;)oe++;for(var Z=0,U=0,W=0;U<ie;U++){var L=1<<U;L&Q||(Z+=(W%2?-1:1)*V[X][U]*k(V,j-1,oe,de,Q|L,fe),W++)}return fe[re]=Z,Z}function Se(V,j){var X=[[V[0],V[1],1,0,0,0,-j[0]*V[0],-j[0]*V[1]],[0,0,0,V[0],V[1],1,-j[1]*V[0],-j[1]*V[1]],[V[2],V[3],1,0,0,0,-j[2]*V[2],-j[2]*V[3]],[0,0,0,V[2],V[3],1,-j[3]*V[2],-j[3]*V[3]],[V[4],V[5],1,0,0,0,-j[4]*V[4],-j[4]*V[5]],[0,0,0,V[4],V[5],1,-j[5]*V[4],-j[5]*V[5]],[V[6],V[7],1,0,0,0,-j[6]*V[6],-j[6]*V[7]],[0,0,0,V[6],V[7],1,-j[7]*V[6],-j[7]*V[7]]],xe={},Q=k(X,8,0,0,0,xe);if(0!==Q){for(var fe=[],re=0;re<8;re++)for(var ie=0;ie<8;ie++)null==fe[ie]&&(fe[ie]=0),fe[ie]+=((re+ie)%2?-1:1)*k(X,7,0===re?1:0,1<<re,1<<ie,xe)/Q*j[re];return function(ne,de,oe){var Z=de*fe[6]+oe*fe[7]+1;ne[0]=(de*fe[0]+oe*fe[1]+fe[2])/Z,ne[1]=(de*fe[3]+oe*fe[4]+fe[5])/Z}}}var le="___zrEVENTSAVED",y=[];function ce(V,j,X,xe,Q){return q(y,j,xe,Q,!0)&&q(V,X,y[0],y[1])}function q(V,j,X,xe,Q){if(j.getBoundingClientRect&&m.Z.domSupported&&!Y(j)){var fe=j[le]||(j[le]={}),re=function(V,j){var X=j.markers;if(X)return X;X=j.markers=[];for(var xe=["left","right"],Q=["top","bottom"],fe=0;fe<4;fe++){var re=document.createElement("div"),ne=fe%2,de=(fe>>1)%2;re.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",xe[ne]+":0",Q[de]+":0",xe[1-ne]+":auto",Q[1-de]+":auto",""].join("!important;"),V.appendChild(re),X.push(re)}return X}(j,fe),ie=function(V,j,X){for(var xe=X?"invTrans":"trans",Q=j[xe],fe=j.srcCoords,re=[],ie=[],ne=!0,de=0;de<4;de++){var oe=V[de].getBoundingClientRect(),Z=2*de,U=oe.left,W=oe.top;re.push(U,W),ne=ne&&fe&&U===fe[Z]&&W===fe[Z+1],ie.push(V[de].offsetLeft,V[de].offsetTop)}return ne&&Q?Q:(j.srcCoords=re,j[xe]=X?Se(ie,re):Se(re,ie))}(re,fe,Q);if(ie)return ie(V,X,xe),!0}return!1}function Y(V){return"CANVAS"===V.nodeName.toUpperCase()}},5065:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>le});var m=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},k=new function(){this.browser=new m,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(k.wxa=!0,k.canvasSupported=!0,k.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(k.worker=!0,k.canvasSupported=!0):"undefined"==typeof navigator?(k.node=!0,k.canvasSupported=!0,k.svgSupported=!0):function(y,ce){var q=ce.browser,K=y.match(/Firefox\/([\d.]+)/),H=y.match(/MSIE\s([\d.]+)/)||y.match(/Trident\/.+?rv:(([\d.]+))/),Y=y.match(/Edge?\/([\d.]+)/),V=/micromessenger/i.test(y);K&&(q.firefox=!0,q.version=K[1]),H&&(q.ie=!0,q.version=H[1]),Y&&(q.edge=!0,q.version=Y[1],q.newEdge=+Y[1].split(".")[0]>18),V&&(q.weChat=!0),ce.canvasSupported=!!document.createElement("canvas").getContext,ce.svgSupported="undefined"!=typeof SVGRect,ce.touchEventsSupported="ontouchstart"in window&&!q.ie&&!q.edge,ce.pointerEventsSupported="onpointerdown"in window&&(q.edge||q.ie&&+q.version>=11),ce.domSupported="undefined"!=typeof document;var j=document.documentElement.style;ce.transform3dSupported=(q.ie&&"transition"in j||q.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in j)&&!("OTransition"in j),ce.transformSupported=ce.transform3dSupported||q.ie&&+q.version>=9}(navigator.userAgent,k);const le=k},2377:(un,ot,E)=>{"use strict";E.d(ot,{eV:()=>y,iP:()=>q,OD:()=>K,Oo:()=>Y,xg:()=>V,sT:()=>j,x1:()=>X});var m=E(5065),R=E(5514),k="undefined"!=typeof window&&!!window.addEventListener,Se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,le=[];function y(Q,fe,re,ie){return re=re||{},ie||!m.Z.canvasSupported?ce(Q,fe,re):m.Z.browser.firefox&&m.Z.browser.version<"39"&&null!=fe.layerX&&fe.layerX!==fe.offsetX?(re.zrX=fe.layerX,re.zrY=fe.layerY):null!=fe.offsetX?(re.zrX=fe.offsetX,re.zrY=fe.offsetY):ce(Q,fe,re),re}function ce(Q,fe,re){if(m.Z.domSupported&&Q.getBoundingClientRect){var ie=fe.clientX,ne=fe.clientY;if((0,R.UK)(Q)){var de=Q.getBoundingClientRect();return re.zrX=ie-de.left,void(re.zrY=ne-de.top)}if((0,R.A4)(le,Q,ie,ne))return re.zrX=le[0],void(re.zrY=le[1])}re.zrX=re.zrY=0}function q(Q){return Q||window.event}function K(Q,fe,re){if(null!=(fe=q(fe)).zrX)return fe;var ie=fe.type;if(ie&&ie.indexOf("touch")>=0){var oe="touchend"!==ie?fe.targetTouches[0]:fe.changedTouches[0];oe&&y(Q,oe,fe,re)}else{y(Q,fe,fe,re);var de=function(Q){var fe=Q.wheelDelta;if(fe)return fe;var re=Q.deltaX,ie=Q.deltaY;return null==re||null==ie?fe:3*Math.abs(0!==ie?ie:re)*(ie>0?-1:ie<0?1:re>0?-1:1)}(fe);fe.zrDelta=de?de/120:-(fe.detail||0)/3}var Z=fe.button;return null==fe.which&&void 0!==Z&&Se.test(fe.type)&&(fe.which=1&Z?1:2&Z?3:4&Z?2:0),fe}function Y(Q,fe,re,ie){k?Q.addEventListener(fe,re,ie):Q.attachEvent("on"+fe,re)}function V(Q,fe,re,ie){k?Q.removeEventListener(fe,re,ie):Q.detachEvent("on"+fe,re)}var j=k?function(Q){Q.preventDefault(),Q.stopPropagation(),Q.cancelBubble=!0}:function(Q){Q.returnValue=!1,Q.cancelBubble=!0};function X(Q){return 2===Q.which||3===Q.which}},926:(un,ot,E)=>{"use strict";function m(){return[1,0,0,1,0,0]}function R(H){return H[0]=1,H[1]=0,H[2]=0,H[3]=1,H[4]=0,H[5]=0,H}function k(H,Y){return H[0]=Y[0],H[1]=Y[1],H[2]=Y[2],H[3]=Y[3],H[4]=Y[4],H[5]=Y[5],H}function Se(H,Y,V){var X=Y[1]*V[0]+Y[3]*V[1],xe=Y[0]*V[2]+Y[2]*V[3],Q=Y[1]*V[2]+Y[3]*V[3],fe=Y[0]*V[4]+Y[2]*V[5]+Y[4],re=Y[1]*V[4]+Y[3]*V[5]+Y[5];return H[0]=Y[0]*V[0]+Y[2]*V[1],H[1]=X,H[2]=xe,H[3]=Q,H[4]=fe,H[5]=re,H}function le(H,Y,V){return H[0]=Y[0],H[1]=Y[1],H[2]=Y[2],H[3]=Y[3],H[4]=Y[4]+V[0],H[5]=Y[5]+V[1],H}function y(H,Y,V){var j=Y[0],X=Y[2],xe=Y[4],Q=Y[1],fe=Y[3],re=Y[5],ie=Math.sin(V),ne=Math.cos(V);return H[0]=j*ne+Q*ie,H[1]=-j*ie+Q*ne,H[2]=X*ne+fe*ie,H[3]=-X*ie+ne*fe,H[4]=ne*xe+ie*re,H[5]=ne*re-ie*xe,H}function ce(H,Y,V){var j=V[0],X=V[1];return H[0]=Y[0]*j,H[1]=Y[1]*X,H[2]=Y[2]*j,H[3]=Y[3]*X,H[4]=Y[4]*j,H[5]=Y[5]*X,H}function q(H,Y){var V=Y[0],j=Y[2],X=Y[4],xe=Y[1],Q=Y[3],fe=Y[5],re=V*Q-xe*j;return re?(H[0]=Q*(re=1/re),H[1]=-xe*re,H[2]=-j*re,H[3]=V*re,H[4]=(j*fe-Q*X)*re,H[5]=(xe*X-V*fe)*re,H):null}function K(H){var Y=[1,0,0,1,0,0];return k(Y,H),Y}E.r(ot),E.d(ot,{create:()=>m,identity:()=>R,copy:()=>k,mul:()=>Se,translate:()=>le,rotate:()=>y,scale:()=>ce,invert:()=>q,clone:()=>K})},7318:(un,ot,E)=>{"use strict";function le(V,j,X,xe){var Q=j+1;if(Q===X)return 1;if(xe(V[Q++],V[j])<0){for(;Q<X&&xe(V[Q],V[Q-1])<0;)Q++;!function(V,j,X){for(X--;j<X;){var xe=V[j];V[j++]=V[X],V[X--]=xe}}(V,j,Q)}else for(;Q<X&&xe(V[Q],V[Q-1])>=0;)Q++;return Q-j}function ce(V,j,X,xe,Q){for(xe===j&&xe++;xe<X;xe++){for(var ne,fe=V[xe],re=j,ie=xe;re<ie;)Q(fe,V[ne=re+ie>>>1])<0?ie=ne:re=ne+1;var de=xe-re;switch(de){case 3:V[re+3]=V[re+2];case 2:V[re+2]=V[re+1];case 1:V[re+1]=V[re];break;default:for(;de>0;)V[re+de]=V[re+de-1],de--}V[re]=fe}}function q(V,j,X,xe,Q,fe){var re=0,ie=0,ne=1;if(fe(V,j[X+Q])>0){for(ie=xe-Q;ne<ie&&fe(V,j[X+Q+ne])>0;)re=ne,(ne=1+(ne<<1))<=0&&(ne=ie);ne>ie&&(ne=ie),re+=Q,ne+=Q}else{for(ie=Q+1;ne<ie&&fe(V,j[X+Q-ne])<=0;)re=ne,(ne=1+(ne<<1))<=0&&(ne=ie);ne>ie&&(ne=ie);var de=re;re=Q-ne,ne=Q-de}for(re++;re<ne;){var oe=re+(ne-re>>>1);fe(V,j[X+oe])>0?re=oe+1:ne=oe}return ne}function K(V,j,X,xe,Q,fe){var re=0,ie=0,ne=1;if(fe(V,j[X+Q])<0){for(ie=Q+1;ne<ie&&fe(V,j[X+Q-ne])<0;)re=ne,(ne=1+(ne<<1))<=0&&(ne=ie);ne>ie&&(ne=ie);var de=re;re=Q-ne,ne=Q-de}else{for(ie=xe-Q;ne<ie&&fe(V,j[X+Q+ne])>=0;)re=ne,(ne=1+(ne<<1))<=0&&(ne=ie);ne>ie&&(ne=ie),re+=Q,ne+=Q}for(re++;re<ne;){var oe=re+(ne-re>>>1);fe(V,j[X+oe])<0?ne=oe:re=oe+1}return ne}function Y(V,j,X,xe){X||(X=0),xe||(xe=V.length);var Q=xe-X;if(!(Q<2)){var fe=0;if(Q<32)return void ce(V,X,xe,X+(fe=le(V,X,xe,j)),j);var re=function(V,j){var re,ie,X=7,ne=0,de=[];function W(A){var M=re[A],C=ie[A],P=re[A+1],N=ie[A+1];ie[A]=C+N,A===ne-3&&(re[A+1]=re[A+2],ie[A+1]=ie[A+2]),ne--;var ee=K(V[P],V,M,C,0,j);M+=ee,0!=(C-=ee)&&0!==(N=q(V[M+C-1],V,P,N,N-1,j))&&(C<=N?function(A,M,C,P){var N=0;for(N=0;N<M;N++)de[N]=V[A+N];var ee=0,ye=C,Te=A;if(V[Te++]=V[ye++],0!=--P)if(1!==M){for(var me,Re,Le,he=X;;){me=0,Re=0,Le=!1;do{if(j(V[ye],de[ee])<0){if(V[Te++]=V[ye++],Re++,me=0,0==--P){Le=!0;break}}else if(V[Te++]=de[ee++],me++,Re=0,1==--M){Le=!0;break}}while((me|Re)<he);if(Le)break;do{if(0!==(me=K(V[ye],de,ee,M,0,j))){for(N=0;N<me;N++)V[Te+N]=de[ee+N];if(Te+=me,ee+=me,(M-=me)<=1){Le=!0;break}}if(V[Te++]=V[ye++],0==--P){Le=!0;break}if(0!==(Re=q(de[ee],V,ye,P,0,j))){for(N=0;N<Re;N++)V[Te+N]=V[ye+N];if(Te+=Re,ye+=Re,0==(P-=Re)){Le=!0;break}}if(V[Te++]=de[ee++],1==--M){Le=!0;break}he--}while(me>=7||Re>=7);if(Le)break;he<0&&(he=0),he+=2}if((X=he)<1&&(X=1),1===M){for(N=0;N<P;N++)V[Te+N]=V[ye+N];V[Te+P]=de[ee]}else{if(0===M)throw new Error;for(N=0;N<M;N++)V[Te+N]=de[ee+N]}}else{for(N=0;N<P;N++)V[Te+N]=V[ye+N];V[Te+P]=de[ee]}else for(N=0;N<M;N++)V[Te+N]=de[ee+N]}(M,C,P,N):function(A,M,C,P){var N=0;for(N=0;N<P;N++)de[N]=V[C+N];var ee=A+M-1,ye=P-1,Te=C+P-1,he=0,me=0;if(V[Te--]=V[ee--],0!=--M)if(1!==P){for(var Re=X;;){var Le=0,Je=0,Oe=!1;do{if(j(de[ye],V[ee])<0){if(V[Te--]=V[ee--],Le++,Je=0,0==--M){Oe=!0;break}}else if(V[Te--]=de[ye--],Je++,Le=0,1==--P){Oe=!0;break}}while((Le|Je)<Re);if(Oe)break;do{if(0!=(Le=M-K(de[ye],V,A,M,M-1,j))){for(M-=Le,me=1+(Te-=Le),he=1+(ee-=Le),N=Le-1;N>=0;N--)V[me+N]=V[he+N];if(0===M){Oe=!0;break}}if(V[Te--]=de[ye--],1==--P){Oe=!0;break}if(0!=(Je=P-q(V[ee],de,0,P,P-1,j))){for(P-=Je,me=1+(Te-=Je),he=1+(ye-=Je),N=0;N<Je;N++)V[me+N]=de[he+N];if(P<=1){Oe=!0;break}}if(V[Te--]=V[ee--],0==--M){Oe=!0;break}Re--}while(Le>=7||Je>=7);if(Oe)break;Re<0&&(Re=0),Re+=2}if((X=Re)<1&&(X=1),1===P){for(me=1+(Te-=M),he=1+(ee-=M),N=M-1;N>=0;N--)V[me+N]=V[he+N];V[Te]=de[ye]}else{if(0===P)throw new Error;for(he=Te-(P-1),N=0;N<P;N++)V[he+N]=de[N]}}else{for(me=1+(Te-=M),he=1+(ee-=M),N=M-1;N>=0;N--)V[me+N]=V[he+N];V[Te]=de[ye]}else for(he=Te-(P-1),N=0;N<P;N++)V[he+N]=de[N]}(M,C,P,N))}return re=[],ie=[],{mergeRuns:function(){for(;ne>1;){var A=ne-2;if(A>=1&&ie[A-1]<=ie[A]+ie[A+1]||A>=2&&ie[A-2]<=ie[A]+ie[A-1])ie[A-1]<ie[A+1]&&A--;else if(ie[A]>ie[A+1])break;W(A)}},forceMergeRuns:function(){for(;ne>1;){var A=ne-2;A>0&&ie[A-1]<ie[A+1]&&A--,W(A)}},pushRun:function(A,M){re[ne]=A,ie[ne]=M,ne+=1}}}(V,j),ie=function(V){for(var j=0;V>=32;)j|=1&V,V>>=1;return V+j}(Q);do{if((fe=le(V,X,xe,j))<ie){var ne=Q;ne>ie&&(ne=ie),ce(V,X,X+ne,X+fe,j),fe=ne}re.pushRun(X,fe),re.mergeRuns(),Q-=fe,X+=fe}while(0!==Q);re.forceMergeRuns()}}E.d(ot,{Z:()=>Y})},284:(un,ot,E)=>{"use strict";E.r(ot),E.d(ot,{$override:()=>j,guid:()=>xe,logError:()=>Q,clone:()=>fe,merge:()=>re,mergeAll:()=>ie,extend:()=>ne,defaults:()=>de,createCanvas:()=>oe,indexOf:()=>Z,inherits:()=>U,mixin:()=>W,isArrayLike:()=>L,each:()=>D,map:()=>A,reduce:()=>M,filter:()=>C,find:()=>P,keys:()=>N,bind:()=>ye,curry:()=>Te,isArray:()=>he,isFunction:()=>me,isString:()=>Re,isStringSafe:()=>Le,isNumber:()=>Je,isObject:()=>Oe,isBuiltInObject:()=>Ve,isTypedArray:()=>Fe,isDom:()=>et,isGradientObject:()=>Ue,isImagePatternObject:()=>xt,isRegExp:()=>It,eqNaN:()=>Pt,retrieve:()=>Wt,retrieve2:()=>Qt,retrieve3:()=>gn,slice:()=>In,normalizeCssArray:()=>Dn,assert:()=>Yt,trim:()=>sn,setAsPrimitive:()=>vn,isPrimitive:()=>wt,HashMap:()=>ke,createHashMap:()=>je,concatArray:()=>yt,createObject:()=>Et,hasOwn:()=>$t,noop:()=>cn});var m={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},R={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},k=Object.prototype.toString,Se=Array.prototype,le=Se.forEach,y=Se.filter,ce=Se.slice,q=Se.map,K=function(){}.constructor,H=K?K.prototype:null,Y="__proto__",V={};function j(ct,tt){V[ct]=tt}var X=2311;function xe(){return X++}function Q(){for(var ct=[],tt=0;tt<arguments.length;tt++)ct[tt]=arguments[tt];"undefined"!=typeof console&&console.error.apply(console,ct)}function fe(ct){if(null==ct||"object"!=typeof ct)return ct;var tt=ct,_t=k.call(ct);if("[object Array]"===_t){if(!wt(ct)){tt=[];for(var zt=0,Ft=ct.length;zt<Ft;zt++)tt[zt]=fe(ct[zt])}}else if(R[_t]){if(!wt(ct)){var ft=ct.constructor;if(ft.from)tt=ft.from(ct);else for(tt=new ft(ct.length),zt=0,Ft=ct.length;zt<Ft;zt++)tt[zt]=fe(ct[zt])}}else if(!m[_t]&&!wt(ct)&&!et(ct))for(var Ye in tt={},ct)ct.hasOwnProperty(Ye)&&Ye!==Y&&(tt[Ye]=fe(ct[Ye]));return tt}function re(ct,tt,_t){if(!Oe(tt)||!Oe(ct))return _t?fe(tt):ct;for(var zt in tt)if(tt.hasOwnProperty(zt)&&zt!==Y){var Ft=ct[zt],ft=tt[zt];!Oe(ft)||!Oe(Ft)||he(ft)||he(Ft)||et(ft)||et(Ft)||Ve(ft)||Ve(Ft)||wt(ft)||wt(Ft)?(_t||!(zt in ct))&&(ct[zt]=fe(tt[zt])):re(Ft,ft,_t)}return ct}function ie(ct,tt){for(var _t=ct[0],zt=1,Ft=ct.length;zt<Ft;zt++)_t=re(_t,ct[zt],tt);return _t}function ne(ct,tt){if(Object.assign)Object.assign(ct,tt);else for(var _t in tt)tt.hasOwnProperty(_t)&&_t!==Y&&(ct[_t]=tt[_t]);return ct}function de(ct,tt,_t){for(var zt=N(tt),Ft=0;Ft<zt.length;Ft++){var ft=zt[Ft];(_t?null!=tt[ft]:null==ct[ft])&&(ct[ft]=tt[ft])}return ct}var oe=function(){return V.createCanvas()};function Z(ct,tt){if(ct){if(ct.indexOf)return ct.indexOf(tt);for(var _t=0,zt=ct.length;_t<zt;_t++)if(ct[_t]===tt)return _t}return-1}function U(ct,tt){var _t=ct.prototype;function zt(){}for(var Ft in zt.prototype=tt.prototype,ct.prototype=new zt,_t)_t.hasOwnProperty(Ft)&&(ct.prototype[Ft]=_t[Ft]);ct.prototype.constructor=ct,ct.superClass=tt}function W(ct,tt,_t){if(ct="prototype"in ct?ct.prototype:ct,tt="prototype"in tt?tt.prototype:tt,Object.getOwnPropertyNames)for(var zt=Object.getOwnPropertyNames(tt),Ft=0;Ft<zt.length;Ft++){var ft=zt[Ft];"constructor"!==ft&&(_t?null!=tt[ft]:null==ct[ft])&&(ct[ft]=tt[ft])}else de(ct,tt,_t)}function L(ct){return!(!ct||"string"==typeof ct)&&"number"==typeof ct.length}function D(ct,tt,_t){if(ct&&tt)if(ct.forEach&&ct.forEach===le)ct.forEach(tt,_t);else if(ct.length===+ct.length)for(var zt=0,Ft=ct.length;zt<Ft;zt++)tt.call(_t,ct[zt],zt,ct);else for(var ft in ct)ct.hasOwnProperty(ft)&&tt.call(_t,ct[ft],ft,ct)}function A(ct,tt,_t){if(!ct)return[];if(!tt)return In(ct);if(ct.map&&ct.map===q)return ct.map(tt,_t);for(var zt=[],Ft=0,ft=ct.length;Ft<ft;Ft++)zt.push(tt.call(_t,ct[Ft],Ft,ct));return zt}function M(ct,tt,_t,zt){if(ct&&tt){for(var Ft=0,ft=ct.length;Ft<ft;Ft++)_t=tt.call(zt,_t,ct[Ft],Ft,ct);return _t}}function C(ct,tt,_t){if(!ct)return[];if(!tt)return In(ct);if(ct.filter&&ct.filter===y)return ct.filter(tt,_t);for(var zt=[],Ft=0,ft=ct.length;Ft<ft;Ft++)tt.call(_t,ct[Ft],Ft,ct)&&zt.push(ct[Ft]);return zt}function P(ct,tt,_t){if(ct&&tt)for(var zt=0,Ft=ct.length;zt<Ft;zt++)if(tt.call(_t,ct[zt],zt,ct))return ct[zt]}function N(ct){if(!ct)return[];if(Object.keys)return Object.keys(ct);var tt=[];for(var _t in ct)ct.hasOwnProperty(_t)&&tt.push(_t);return tt}V.createCanvas=function(){return document.createElement("canvas")};var ye=H&&me(H.bind)?H.call.bind(H.bind):function(ct,tt){for(var _t=[],zt=2;zt<arguments.length;zt++)_t[zt-2]=arguments[zt];return function(){return ct.apply(tt,_t.concat(ce.call(arguments)))}};function Te(ct){for(var tt=[],_t=1;_t<arguments.length;_t++)tt[_t-1]=arguments[_t];return function(){return ct.apply(this,tt.concat(ce.call(arguments)))}}function he(ct){return Array.isArray?Array.isArray(ct):"[object Array]"===k.call(ct)}function me(ct){return"function"==typeof ct}function Re(ct){return"string"==typeof ct}function Le(ct){return"[object String]"===k.call(ct)}function Je(ct){return"number"==typeof ct}function Oe(ct){var tt=typeof ct;return"function"===tt||!!ct&&"object"===tt}function Ve(ct){return!!m[k.call(ct)]}function Fe(ct){return!!R[k.call(ct)]}function et(ct){return"object"==typeof ct&&"number"==typeof ct.nodeType&&"object"==typeof ct.ownerDocument}function Ue(ct){return null!=ct.colorStops}function xt(ct){return null!=ct.image}function It(ct){return"[object RegExp]"===k.call(ct)}function Pt(ct){return ct!=ct}function Wt(){for(var ct=[],tt=0;tt<arguments.length;tt++)ct[tt]=arguments[tt];for(var _t=0,zt=ct.length;_t<zt;_t++)if(null!=ct[_t])return ct[_t]}function Qt(ct,tt){return null!=ct?ct:tt}function gn(ct,tt,_t){return null!=ct?ct:null!=tt?tt:_t}function In(ct){for(var tt=[],_t=1;_t<arguments.length;_t++)tt[_t-1]=arguments[_t];return ce.apply(ct,tt)}function Dn(ct){if("number"==typeof ct)return[ct,ct,ct,ct];var tt=ct.length;return 2===tt?[ct[0],ct[1],ct[0],ct[1]]:3===tt?[ct[0],ct[1],ct[2],ct[1]]:ct}function Yt(ct,tt){if(!ct)throw new Error(tt)}function sn(ct){return null==ct?null:"function"==typeof ct.trim?ct.trim():ct.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var it="__ec_primitive__";function vn(ct){ct[it]=!0}function wt(ct){return ct[it]}var ke=function(){function ct(tt){this.data={};var _t=he(tt);this.data={};var zt=this;function Ft(ft,Ye){_t?zt.set(ft,Ye):zt.set(Ye,ft)}tt instanceof ct?tt.each(Ft):tt&&D(tt,Ft)}return ct.prototype.get=function(tt){return this.data.hasOwnProperty(tt)?this.data[tt]:null},ct.prototype.set=function(tt,_t){return this.data[tt]=_t},ct.prototype.each=function(tt,_t){for(var zt in this.data)this.data.hasOwnProperty(zt)&&tt.call(_t,this.data[zt],zt)},ct.prototype.keys=function(){return N(this.data)},ct.prototype.removeKey=function(tt){delete this.data[tt]},ct}();function je(ct){return new ke(ct)}function yt(ct,tt){for(var _t=new ct.constructor(ct.length+tt.length),zt=0;zt<ct.length;zt++)_t[zt]=ct[zt];var Ft=ct.length;for(zt=0;zt<tt.length;zt++)_t[zt+Ft]=tt[zt];return _t}function Et(ct,tt){var _t;if(Object.create)_t=Object.create(ct);else{var zt=function(){};zt.prototype=ct,_t=new zt}return tt&&ne(_t,tt),_t}function $t(ct,tt){return ct.hasOwnProperty(tt)}function cn(){}},7322:(un,ot,E)=>{"use strict";function m(L,D){return null==L&&(L=0),null==D&&(D=0),[L,D]}function R(L,D){return L[0]=D[0],L[1]=D[1],L}function k(L){return[L[0],L[1]]}function Se(L,D,A){return L[0]=D,L[1]=A,L}function le(L,D,A){return L[0]=D[0]+A[0],L[1]=D[1]+A[1],L}function y(L,D,A,M){return L[0]=D[0]+A[0]*M,L[1]=D[1]+A[1]*M,L}function ce(L,D,A){return L[0]=D[0]-A[0],L[1]=D[1]-A[1],L}function q(L){return Math.sqrt(H(L))}E.r(ot),E.d(ot,{create:()=>m,copy:()=>R,clone:()=>k,set:()=>Se,add:()=>le,scaleAndAdd:()=>y,sub:()=>ce,len:()=>q,length:()=>K,lenSquare:()=>H,lengthSquare:()=>Y,mul:()=>V,div:()=>j,dot:()=>X,scale:()=>xe,normalize:()=>Q,distance:()=>fe,dist:()=>re,distanceSquare:()=>ie,distSquare:()=>ne,negate:()=>de,lerp:()=>oe,applyTransform:()=>Z,min:()=>U,max:()=>W});var K=q;function H(L){return L[0]*L[0]+L[1]*L[1]}var Y=H;function V(L,D,A){return L[0]=D[0]*A[0],L[1]=D[1]*A[1],L}function j(L,D,A){return L[0]=D[0]/A[0],L[1]=D[1]/A[1],L}function X(L,D){return L[0]*D[0]+L[1]*D[1]}function xe(L,D,A){return L[0]=D[0]*A,L[1]=D[1]*A,L}function Q(L,D){var A=q(D);return 0===A?(L[0]=0,L[1]=0):(L[0]=D[0]/A,L[1]=D[1]/A),L}function fe(L,D){return Math.sqrt((L[0]-D[0])*(L[0]-D[0])+(L[1]-D[1])*(L[1]-D[1]))}var re=fe;function ie(L,D){return(L[0]-D[0])*(L[0]-D[0])+(L[1]-D[1])*(L[1]-D[1])}var ne=ie;function de(L,D){return L[0]=-D[0],L[1]=-D[1],L}function oe(L,D,A,M){return L[0]=D[0]+M*(A[0]-D[0]),L[1]=D[1]+M*(A[1]-D[1]),L}function Z(L,D,A){var M=D[0],C=D[1];return L[0]=A[0]*M+A[2]*C+A[4],L[1]=A[1]*M+A[3]*C+A[5],L}function U(L,D,A){return L[0]=Math.min(D[0],A[0]),L[1]=Math.min(D[1],A[1]),L}function W(L,D,A){return L[0]=Math.max(D[0],A[0]),L[1]=Math.max(D[1],A[1]),L}},7301:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>Se});var m=E(908),R=E(5581);const Se=function(le){function y(){var ce=null!==le&&le.apply(this,arguments)||this;return ce.type="compound",ce}return(0,m.ZT)(y,le),y.prototype._updatePathDirty=function(){for(var ce=this.shape.paths,q=this.shapeChanged(),K=0;K<ce.length;K++)q=q||ce[K].shapeChanged();q&&this.dirtyShape()},y.prototype.beforeBrush=function(){this._updatePathDirty();for(var ce=this.shape.paths||[],q=this.getGlobalScale(),K=0;K<ce.length;K++)ce[K].path||ce[K].createPathProxy(),ce[K].path.setScale(q[0],q[1],ce[K].segmentIgnoreThreshold)},y.prototype.buildPath=function(ce,q){for(var K=q.paths||[],H=0;H<K.length;H++)K[H].buildPath(ce,K[H].shape,!0)},y.prototype.afterBrush=function(){for(var ce=this.shape.paths||[],q=0;q<ce.length;q++)ce[q].pathUpdated()},y.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),R.ZP.prototype.getBoundingRect.call(this)},y}(R.ZP)},4031:(un,ot,E)=>{"use strict";E.d(ot,{tj:()=>ce,ik:()=>q,ZP:()=>xe});var m=E(908),R=E(2619),k=E(1436),Se=E(284),le=E(558),y="__zr_style_"+Math.round(10*Math.random()),ce={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},q={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ce[y]=!0;var K=["z","z2","invisible"],H=["invisible"],Y=function(Q){function fe(re){return Q.call(this,re)||this}return(0,m.ZT)(fe,Q),fe.prototype._init=function(re){for(var ie=(0,Se.keys)(re),ne=0;ne<ie.length;ne++){var de=ie[ne];"style"===de?this.useStyle(re[de]):Q.prototype.attrKV.call(this,de,re[de])}this.style||this.useStyle({})},fe.prototype.beforeBrush=function(){},fe.prototype.afterBrush=function(){},fe.prototype.innerBeforeBrush=function(){},fe.prototype.innerAfterBrush=function(){},fe.prototype.shouldBePainted=function(re,ie,ne,de){var oe=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(Q,fe,re){return V.copy(Q.getBoundingRect()),Q.transform&&V.applyTransform(Q.transform),j.width=fe,j.height=re,!V.intersect(j)}(this,re,ie)||oe&&!oe[0]&&!oe[3])return!1;if(ne&&this.__clipPaths)for(var Z=0;Z<this.__clipPaths.length;++Z)if(this.__clipPaths[Z].isZeroArea())return!1;if(de&&this.parent)for(var U=this.parent;U;){if(U.ignore)return!1;U=U.parent}return!0},fe.prototype.contain=function(re,ie){return this.rectContain(re,ie)},fe.prototype.traverse=function(re,ie){re.call(ie,this)},fe.prototype.rectContain=function(re,ie){var ne=this.transformCoordToLocal(re,ie);return this.getBoundingRect().contain(ne[0],ne[1])},fe.prototype.getPaintRect=function(){var re=this._paintRect;if(!this._paintRect||this.__dirty){var ie=this.transform,ne=this.getBoundingRect(),de=this.style,oe=de.shadowBlur||0,Z=de.shadowOffsetX||0,U=de.shadowOffsetY||0;re=this._paintRect||(this._paintRect=new k.Z(0,0,0,0)),ie?k.Z.applyTransform(re,ne,ie):re.copy(ne),(oe||Z||U)&&(re.width+=2*oe+Math.abs(Z),re.height+=2*oe+Math.abs(U),re.x=Math.min(re.x,re.x+Z-oe),re.y=Math.min(re.y,re.y+U-oe));var W=this.dirtyRectTolerance;re.isZero()||(re.x=Math.floor(re.x-W),re.y=Math.floor(re.y-W),re.width=Math.ceil(re.width+1+2*W),re.height=Math.ceil(re.height+1+2*W))}return re},fe.prototype.setPrevPaintRect=function(re){re?(this._prevPaintRect=this._prevPaintRect||new k.Z(0,0,0,0),this._prevPaintRect.copy(re)):this._prevPaintRect=null},fe.prototype.getPrevPaintRect=function(){return this._prevPaintRect},fe.prototype.animateStyle=function(re){return this.animate("style",re)},fe.prototype.updateDuringAnimation=function(re){"style"===re?this.dirtyStyle():this.markRedraw()},fe.prototype.attrKV=function(re,ie){"style"!==re?Q.prototype.attrKV.call(this,re,ie):this.style?this.setStyle(ie):this.useStyle(ie)},fe.prototype.setStyle=function(re,ie){return"string"==typeof re?this.style[re]=ie:(0,Se.extend)(this.style,re),this.dirtyStyle(),this},fe.prototype.dirtyStyle=function(re){re||this.markRedraw(),this.__dirty|=le.SE,this._rect&&(this._rect=null)},fe.prototype.dirty=function(){this.dirtyStyle()},fe.prototype.styleChanged=function(){return!!(this.__dirty&le.SE)},fe.prototype.styleUpdated=function(){this.__dirty&=~le.SE},fe.prototype.createStyle=function(re){return(0,Se.createObject)(ce,re)},fe.prototype.useStyle=function(re){re[y]||(re=this.createStyle(re)),this.__inHover?this.__hoverStyle=re:this.style=re,this.dirtyStyle()},fe.prototype.isStyleObject=function(re){return re[y]},fe.prototype._innerSaveToNormal=function(re){Q.prototype._innerSaveToNormal.call(this,re);var ie=this._normalState;re.style&&!ie.style&&(ie.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(re,ie,K)},fe.prototype._applyStateObj=function(re,ie,ne,de,oe,Z){Q.prototype._applyStateObj.call(this,re,ie,ne,de,oe,Z);var W,U=!(ie&&de);if(ie&&ie.style?oe?de?W=ie.style:(W=this._mergeStyle(this.createStyle(),ne.style),this._mergeStyle(W,ie.style)):(W=this._mergeStyle(this.createStyle(),de?this.style:ne.style),this._mergeStyle(W,ie.style)):U&&(W=ne.style),W)if(oe){var L=this.style;if(this.style=this.createStyle(U?{}:L),U)for(var D=(0,Se.keys)(L),A=0;A<D.length;A++)(M=D[A])in W&&(W[M]=W[M],this.style[M]=L[M]);var C=(0,Se.keys)(W);for(A=0;A<C.length;A++)this.style[M=C[A]]=this.style[M];this._transitionState(re,{style:W},Z,this.getAnimationStyleProps())}else this.useStyle(W);var P=this.__inHover?H:K;for(A=0;A<P.length;A++){var M=P[A];ie&&null!=ie[M]?this[M]=ie[M]:U&&null!=ne[M]&&(this[M]=ne[M])}},fe.prototype._mergeStates=function(re){for(var ne,ie=Q.prototype._mergeStates.call(this,re),de=0;de<re.length;de++){var oe=re[de];oe.style&&this._mergeStyle(ne=ne||{},oe.style)}return ne&&(ie.style=ne),ie},fe.prototype._mergeStyle=function(re,ie){return(0,Se.extend)(re,ie),re},fe.prototype.getAnimationStyleProps=function(){return q},fe.initDefaultProps=((re=fe.prototype).type="displayable",re.invisible=!1,re.z=0,re.z2=0,re.zlevel=0,re.culling=!1,re.cursor="pointer",re.rectHover=!1,re.incremental=!1,re._rect=null,re.dirtyRectTolerance=0,void(re.__dirty=le.YV|le.SE)),fe;var re}(R.Z),V=new k.Z(0,0,0,0),j=new k.Z(0,0,0,0);const xe=Y},2125:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>R});const R=function(){function k(Se){this.colorStops=Se||[]}return k.prototype.addColorStop=function(Se,le){this.colorStops.push({offset:Se,color:le})},k}()},7350:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>y});var m=E(908),R=E(284),k=E(2619),Se=E(1436),le=function(ce){function q(K){var H=ce.call(this)||this;return H.isGroup=!0,H._children=[],H.attr(K),H}return(0,m.ZT)(q,ce),q.prototype.childrenRef=function(){return this._children},q.prototype.children=function(){return this._children.slice()},q.prototype.childAt=function(K){return this._children[K]},q.prototype.childOfName=function(K){for(var H=this._children,Y=0;Y<H.length;Y++)if(H[Y].name===K)return H[Y]},q.prototype.childCount=function(){return this._children.length},q.prototype.add=function(K){if(K&&(K!==this&&K.parent!==this&&(this._children.push(K),this._doAdd(K)),K.__hostTarget))throw"This elemenet has been used as an attachment";return this},q.prototype.addBefore=function(K,H){if(K&&K!==this&&K.parent!==this&&H&&H.parent===this){var Y=this._children,V=Y.indexOf(H);V>=0&&(Y.splice(V,0,K),this._doAdd(K))}return this},q.prototype.replace=function(K,H){var Y=R.indexOf(this._children,K);return Y>=0&&this.replaceAt(H,Y),this},q.prototype.replaceAt=function(K,H){var Y=this._children,V=Y[H];if(K&&K!==this&&K.parent!==this&&K!==V){Y[H]=K,V.parent=null;var j=this.__zr;j&&V.removeSelfFromZr(j),this._doAdd(K)}return this},q.prototype._doAdd=function(K){K.parent&&K.parent.remove(K),K.parent=this;var H=this.__zr;H&&H!==K.__zr&&K.addSelfToZr(H),H&&H.refresh()},q.prototype.remove=function(K){var H=this.__zr,Y=this._children,V=R.indexOf(Y,K);return V<0||(Y.splice(V,1),K.parent=null,H&&K.removeSelfFromZr(H),H&&H.refresh()),this},q.prototype.removeAll=function(){for(var K=this._children,H=this.__zr,Y=0;Y<K.length;Y++){var V=K[Y];H&&V.removeSelfFromZr(H),V.parent=null}return K.length=0,this},q.prototype.eachChild=function(K,H){for(var Y=this._children,V=0;V<Y.length;V++)K.call(H,Y[V],V);return this},q.prototype.traverse=function(K,H){for(var Y=0;Y<this._children.length;Y++){var V=this._children[Y],j=K.call(H,V);V.isGroup&&!j&&V.traverse(K,H)}return this},q.prototype.addSelfToZr=function(K){ce.prototype.addSelfToZr.call(this,K);for(var H=0;H<this._children.length;H++)this._children[H].addSelfToZr(K)},q.prototype.removeSelfFromZr=function(K){ce.prototype.removeSelfFromZr.call(this,K);for(var H=0;H<this._children.length;H++)this._children[H].removeSelfFromZr(K)},q.prototype.getBoundingRect=function(K){for(var H=new Se.Z(0,0,0,0),Y=K||this._children,V=[],j=null,X=0;X<Y.length;X++){var xe=Y[X];if(!xe.ignore&&!xe.invisible){var Q=xe.getBoundingRect(),fe=xe.getLocalTransform(V);fe?(Se.Z.applyTransform(H,Q,fe),(j=j||H.clone()).union(H)):(j=j||Q.clone()).union(Q)}}return j||H},q}(k.Z);le.prototype.type="group";const y=le},5252:(un,ot,E)=>{"use strict";E.d(ot,{ZP:()=>K});var m=E(908),R=E(4031),k=E(1436),Se=E(284),le=(0,Se.defaults)({x:0,y:0},R.tj),y={style:(0,Se.defaults)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},R.ik.style)},q=function(H){function Y(){return null!==H&&H.apply(this,arguments)||this}return(0,m.ZT)(Y,H),Y.prototype.createStyle=function(V){return(0,Se.createObject)(le,V)},Y.prototype._getSize=function(V){var j=this.style,X=j[V];if(null!=X)return X;var xe=function(H){return!!(H&&"string"!=typeof H&&H.width&&H.height)}(j.image)?j.image:this.__image;if(!xe)return 0;var Q="width"===V?"height":"width",fe=j[Q];return null==fe?xe[V]:xe[V]/xe[Q]*fe},Y.prototype.getWidth=function(){return this._getSize("width")},Y.prototype.getHeight=function(){return this._getSize("height")},Y.prototype.getAnimationStyleProps=function(){return y},Y.prototype.getBoundingRect=function(){var V=this.style;return this._rect||(this._rect=new k.Z(V.x||0,V.y||0,this.getWidth(),this.getHeight())),this._rect},Y}(R.ZP);q.prototype.type="image";const K=q},6324:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>y});var m=E(908),R=E(4031),k=E(1436),Se=[];const y=function(ce){function q(){var K=null!==ce&&ce.apply(this,arguments)||this;return K.notClear=!0,K.incremental=!0,K._displayables=[],K._temporaryDisplayables=[],K._cursor=0,K}return(0,m.ZT)(q,ce),q.prototype.traverse=function(K,H){K.call(H,this)},q.prototype.useStyle=function(){this.style={}},q.prototype.getCursor=function(){return this._cursor},q.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},q.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},q.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},q.prototype.addDisplayable=function(K,H){H?this._temporaryDisplayables.push(K):this._displayables.push(K),this.markRedraw()},q.prototype.addDisplayables=function(K,H){H=H||!1;for(var Y=0;Y<K.length;Y++)this.addDisplayable(K[Y],H)},q.prototype.getDisplayables=function(){return this._displayables},q.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},q.prototype.eachPendingDisplayable=function(K){for(var H=this._cursor;H<this._displayables.length;H++)K&&K(this._displayables[H]);for(H=0;H<this._temporaryDisplayables.length;H++)K&&K(this._temporaryDisplayables[H])},q.prototype.update=function(){this.updateTransform();for(var K=this._cursor;K<this._displayables.length;K++)(H=this._displayables[K]).parent=this,H.update(),H.parent=null;for(K=0;K<this._temporaryDisplayables.length;K++){var H;(H=this._temporaryDisplayables[K]).parent=this,H.update(),H.parent=null}},q.prototype.getBoundingRect=function(){if(!this._rect){for(var K=new k.Z(1/0,1/0,-1/0,-1/0),H=0;H<this._displayables.length;H++){var Y=this._displayables[H],V=Y.getBoundingRect().clone();Y.needLocalTransform()&&V.applyTransform(Y.getLocalTransform(Se)),K.union(V)}this._rect=K}return this._rect},q.prototype.contain=function(K,H){var Y=this.transformCoordToLocal(K,H);if(this.getBoundingRect().contain(Y[0],Y[1]))for(var j=0;j<this._displayables.length;j++)if(this._displayables[j].contain(K,H))return!0;return!1},q}(R.ZP)},3256:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>Se});var m=E(908);const Se=function(le){function y(ce,q,K,H,Y,V){var j=le.call(this,Y)||this;return j.x=null==ce?0:ce,j.y=null==q?0:q,j.x2=null==K?1:K,j.y2=null==H?0:H,j.type="linear",j.global=V||!1,j}return(0,m.ZT)(y,le),y}(E(2125).Z)},5581:(un,ot,E)=>{"use strict";E.d(ot,{$t:()=>M,ZP:()=>ee});var m=E(908),R=E(4031),k=E(89),Se=E(8074),le=E(3775);function y(ye,Te,he,me,Re,Le,Je,Oe,Ve,Fe,et){if(0===Ve)return!1;var Ue=Ve;return!(et>Te+Ue&&et>me+Ue&&et>Le+Ue&&et>Oe+Ue||et<Te-Ue&&et<me-Ue&&et<Le-Ue&&et<Oe-Ue||Fe>ye+Ue&&Fe>he+Ue&&Fe>Re+Ue&&Fe>Je+Ue||Fe<ye-Ue&&Fe<he-Ue&&Fe<Re-Ue&&Fe<Je-Ue)&&le.t1(ye,Te,he,me,Re,Le,Je,Oe,Fe,et,null)<=Ue/2}var ce=E(3075),q=E(1057),K=2*Math.PI;function H(ye,Te,he,me,Re,Le,Je,Oe,Ve){if(0===Je)return!1;var Fe=Je;Oe-=ye,Ve-=Te;var et=Math.sqrt(Oe*Oe+Ve*Ve);if(et-Fe>he||et+Fe<he)return!1;if(Math.abs(me-Re)%K<1e-4)return!0;if(Le){var Ue=me;me=(0,q.m)(Re),Re=(0,q.m)(Ue)}else me=(0,q.m)(me),Re=(0,q.m)(Re);me>Re&&(Re+=K);var xt=Math.atan2(Ve,Oe);return xt<0&&(xt+=K),xt>=me&&xt<=Re||xt+K>=me&&xt+K<=Re}var Y=E(2663),V=k.Z.CMD,j=2*Math.PI,Q=[-1,-1,-1],fe=[-1,-1];function re(){var ye=fe[0];fe[0]=fe[1],fe[1]=ye}function ie(ye,Te,he,me,Re,Le,Je,Oe,Ve,Fe){if(Fe>Te&&Fe>me&&Fe>Le&&Fe>Oe||Fe<Te&&Fe<me&&Fe<Le&&Fe<Oe)return 0;var et=le.kD(Te,me,Le,Oe,Fe,Q);if(0===et)return 0;for(var Ue=0,xt=-1,It=void 0,Pt=void 0,Wt=0;Wt<et;Wt++){var Qt=Q[Wt],gn=0===Qt||1===Qt?.5:1;le.af(ye,he,Re,Je,Qt)<Ve||(xt<0&&(xt=le.pP(Te,me,Le,Oe,fe),fe[1]<fe[0]&&xt>1&&re(),It=le.af(Te,me,Le,Oe,fe[0]),xt>1&&(Pt=le.af(Te,me,Le,Oe,fe[1]))),Ue+=2===xt?Qt<fe[0]?It<Te?gn:-gn:Qt<fe[1]?Pt<It?gn:-gn:Oe<Pt?gn:-gn:Qt<fe[0]?It<Te?gn:-gn:Oe<It?gn:-gn)}return Ue}function ne(ye,Te,he,me,Re,Le,Je,Oe){if(Oe>Te&&Oe>me&&Oe>Le||Oe<Te&&Oe<me&&Oe<Le)return 0;var Ve=le.Jz(Te,me,Le,Oe,Q);if(0===Ve)return 0;var Fe=le.QC(Te,me,Le);if(Fe>=0&&Fe<=1){for(var et=0,Ue=le.Zm(Te,me,Le,Fe),xt=0;xt<Ve;xt++){var It=0===Q[xt]||1===Q[xt]?.5:1;le.Zm(ye,he,Re,Q[xt])<Je||(et+=Q[xt]<Fe?Ue<Te?It:-It:Le<Ue?It:-It)}return et}return It=0===Q[0]||1===Q[0]?.5:1,le.Zm(ye,he,Re,Q[0])<Je?0:Le<Te?It:-It}function de(ye,Te,he,me,Re,Le,Je,Oe){if((Oe-=Te)>he||Oe<-he)return 0;var Ve=Math.sqrt(he*he-Oe*Oe);Q[0]=-Ve,Q[1]=Ve;var Fe=Math.abs(me-Re);if(Fe<1e-4)return 0;if(Fe>=j-1e-4){me=0,Re=j;var et=Le?1:-1;return Je>=Q[0]+ye&&Je<=Q[1]+ye?et:0}if(me>Re){var Ue=me;me=Re,Re=Ue}me<0&&(me+=j,Re+=j);for(var xt=0,It=0;It<2;It++){var Pt=Q[It];if(Pt+ye>Je){var Wt=Math.atan2(Oe,Pt);et=Le?1:-1,Wt<0&&(Wt=j+Wt),(Wt>=me&&Wt<=Re||Wt+j>=me&&Wt+j<=Re)&&(Wt>Math.PI/2&&Wt<1.5*Math.PI&&(et=-et),xt+=et)}}return xt}function oe(ye,Te,he,me,Re){for(var xt,It,Le=ye.data,Je=ye.len(),Oe=0,Ve=0,Fe=0,et=0,Ue=0,Pt=0;Pt<Je;){var Wt=Le[Pt++],Qt=1===Pt;switch(Wt===V.M&&Pt>1&&(he||(Oe+=(0,Y.Z)(Ve,Fe,et,Ue,me,Re))),Qt&&(et=Ve=Le[Pt],Ue=Fe=Le[Pt+1]),Wt){case V.M:Ve=et=Le[Pt++],Fe=Ue=Le[Pt++];break;case V.L:if(he){if(Se.m(Ve,Fe,Le[Pt],Le[Pt+1],Te,me,Re))return!0}else Oe+=(0,Y.Z)(Ve,Fe,Le[Pt],Le[Pt+1],me,Re)||0;Ve=Le[Pt++],Fe=Le[Pt++];break;case V.C:if(he){if(y(Ve,Fe,Le[Pt++],Le[Pt++],Le[Pt++],Le[Pt++],Le[Pt],Le[Pt+1],Te,me,Re))return!0}else Oe+=ie(Ve,Fe,Le[Pt++],Le[Pt++],Le[Pt++],Le[Pt++],Le[Pt],Le[Pt+1],me,Re)||0;Ve=Le[Pt++],Fe=Le[Pt++];break;case V.Q:if(he){if(ce.m(Ve,Fe,Le[Pt++],Le[Pt++],Le[Pt],Le[Pt+1],Te,me,Re))return!0}else Oe+=ne(Ve,Fe,Le[Pt++],Le[Pt++],Le[Pt],Le[Pt+1],me,Re)||0;Ve=Le[Pt++],Fe=Le[Pt++];break;case V.A:var gn=Le[Pt++],In=Le[Pt++],Dn=Le[Pt++],Yt=Le[Pt++],sn=Le[Pt++],it=Le[Pt++];Pt+=1;var vn=!!(1-Le[Pt++]);xt=Math.cos(sn)*Dn+gn,It=Math.sin(sn)*Yt+In,Qt?(et=xt,Ue=It):Oe+=(0,Y.Z)(Ve,Fe,xt,It,me,Re);var wt=(me-gn)*Yt/Dn+gn;if(he){if(H(gn,In,Yt,sn,sn+it,vn,Te,wt,Re))return!0}else Oe+=de(gn,In,Yt,sn,sn+it,vn,wt,Re);Ve=Math.cos(sn+it)*Dn+gn,Fe=Math.sin(sn+it)*Yt+In;break;case V.R:if(et=Ve=Le[Pt++],Ue=Fe=Le[Pt++],xt=et+Le[Pt++],It=Ue+Le[Pt++],he){if(Se.m(et,Ue,xt,Ue,Te,me,Re)||Se.m(xt,Ue,xt,It,Te,me,Re)||Se.m(xt,It,et,It,Te,me,Re)||Se.m(et,It,et,Ue,Te,me,Re))return!0}else Oe+=(0,Y.Z)(xt,Ue,xt,It,me,Re),Oe+=(0,Y.Z)(et,It,et,Ue,me,Re);break;case V.Z:if(he){if(Se.m(Ve,Fe,et,Ue,Te,me,Re))return!0}else Oe+=(0,Y.Z)(Ve,Fe,et,Ue,me,Re);Ve=et,Fe=Ue}}return!he&&!function(ye,Te){return Math.abs(ye-Te)<1e-4}(Fe,Ue)&&(Oe+=(0,Y.Z)(Ve,Fe,et,Ue,me,Re)||0),0!==Oe}var W=E(284),L=E(589),D=E(4297),A=E(558),M=(0,W.defaults)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},R.tj),C={style:(0,W.defaults)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},R.ik.style)},P=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"];const ee=function(ye){function Te(he){return ye.call(this,he)||this}return(0,m.ZT)(Te,ye),Te.prototype.update=function(){var he=this;ye.prototype.update.call(this);var me=this.style;if(me.decal){var Re=this._decalEl=this._decalEl||new Te;Re.buildPath===Te.prototype.buildPath&&(Re.buildPath=function(Ve){he.buildPath(Ve,he.shape)}),Re.silent=!0;var Le=Re.style;for(var Je in me)Le[Je]!==me[Je]&&(Le[Je]=me[Je]);Le.fill=me.fill?me.decal:null,Le.decal=null,Le.shadowColor=null,me.strokeFirst&&(Le.stroke=null);for(var Oe=0;Oe<P.length;++Oe)Re[P[Oe]]=this[P[Oe]];Re.__dirty|=A.YV}else this._decalEl&&(this._decalEl=null)},Te.prototype.getDecalElement=function(){return this._decalEl},Te.prototype._init=function(he){var me=(0,W.keys)(he);this.shape=this.getDefaultShape();var Re=this.getDefaultStyle();Re&&this.useStyle(Re);for(var Le=0;Le<me.length;Le++){var Je=me[Le],Oe=he[Je];"style"===Je?this.style?(0,W.extend)(this.style,Oe):this.useStyle(Oe):"shape"===Je?(0,W.extend)(this.shape,Oe):ye.prototype.attrKV.call(this,Je,Oe)}this.style||this.useStyle({})},Te.prototype.getDefaultStyle=function(){return null},Te.prototype.getDefaultShape=function(){return{}},Te.prototype.canBeInsideText=function(){return this.hasFill()},Te.prototype.getInsideTextFill=function(){var he=this.style.fill;if("none"!==he){if((0,W.isString)(he)){var me=(0,L.lum)(he,0);return me>.5?D.vU:me>.2?D.iv:D.GD}if(he)return D.GD}return D.vU},Te.prototype.getInsideTextStroke=function(he){var me=this.style.fill;if((0,W.isString)(me)){var Re=this.__zr;if(!(!Re||!Re.isDarkMode())==(0,L.lum)(he,0)<D.Ak)return me}},Te.prototype.buildPath=function(he,me,Re){},Te.prototype.pathUpdated=function(){this.__dirty&=~A.RH},Te.prototype.getUpdatedPathProxy=function(he){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,he),this.path},Te.prototype.createPathProxy=function(){this.path=new k.Z(!1)},Te.prototype.hasStroke=function(){var he=this.style,me=he.stroke;return!(null==me||"none"===me||!(he.lineWidth>0))},Te.prototype.hasFill=function(){var me=this.style.fill;return null!=me&&"none"!==me},Te.prototype.getBoundingRect=function(){var he=this._rect,me=this.style,Re=!he;if(Re){var Le=!1;this.path||(Le=!0,this.createPathProxy());var Je=this.path;(Le||this.__dirty&A.RH)&&(Je.beginPath(),this.buildPath(Je,this.shape,!1),this.pathUpdated()),he=Je.getBoundingRect()}if(this._rect=he,this.hasStroke()&&this.path&&this.path.len()>0){var Oe=this._rectWithStroke||(this._rectWithStroke=he.clone());if(this.__dirty||Re){Oe.copy(he);var Ve=me.strokeNoScale?this.getLineScale():1,Fe=me.lineWidth;if(!this.hasFill()){var et=this.strokeContainThreshold;Fe=Math.max(Fe,null==et?4:et)}Ve>1e-10&&(Oe.width+=Fe/Ve,Oe.height+=Fe/Ve,Oe.x-=Fe/Ve/2,Oe.y-=Fe/Ve/2)}return Oe}return he},Te.prototype.contain=function(he,me){var Re=this.transformCoordToLocal(he,me),Le=this.getBoundingRect(),Je=this.style;if(Le.contain(he=Re[0],me=Re[1])){var Oe=this.path;if(this.hasStroke()){var Ve=Je.lineWidth,Fe=Je.strokeNoScale?this.getLineScale():1;if(Fe>1e-10&&(this.hasFill()||(Ve=Math.max(Ve,this.strokeContainThreshold)),function(ye,Te,he,me){return oe(ye,Te,!0,he,me)}(Oe,Ve/Fe,he,me)))return!0}if(this.hasFill())return function(ye,Te,he){return oe(ye,0,!1,Te,he)}(Oe,he,me)}return!1},Te.prototype.dirtyShape=function(){this.__dirty|=A.RH,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},Te.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Te.prototype.animateShape=function(he){return this.animate("shape",he)},Te.prototype.updateDuringAnimation=function(he){"style"===he?this.dirtyStyle():"shape"===he?this.dirtyShape():this.markRedraw()},Te.prototype.attrKV=function(he,me){"shape"===he?this.setShape(me):ye.prototype.attrKV.call(this,he,me)},Te.prototype.setShape=function(he,me){var Re=this.shape;return Re||(Re=this.shape={}),"string"==typeof he?Re[he]=me:(0,W.extend)(Re,he),this.dirtyShape(),this},Te.prototype.shapeChanged=function(){return!!(this.__dirty&A.RH)},Te.prototype.createStyle=function(he){return(0,W.createObject)(M,he)},Te.prototype._innerSaveToNormal=function(he){ye.prototype._innerSaveToNormal.call(this,he);var me=this._normalState;he.shape&&!me.shape&&(me.shape=(0,W.extend)({},this.shape))},Te.prototype._applyStateObj=function(he,me,Re,Le,Je,Oe){ye.prototype._applyStateObj.call(this,he,me,Re,Le,Je,Oe);var Fe,Ve=!(me&&Le);if(me&&me.shape?Je?Le?Fe=me.shape:(Fe=(0,W.extend)({},Re.shape),(0,W.extend)(Fe,me.shape)):(Fe=(0,W.extend)({},Le?this.shape:Re.shape),(0,W.extend)(Fe,me.shape)):Ve&&(Fe=Re.shape),Fe)if(Je){this.shape=(0,W.extend)({},this.shape);for(var et={},Ue=(0,W.keys)(Fe),xt=0;xt<Ue.length;xt++){var It=Ue[xt];"object"==typeof Fe[It]?this.shape[It]=Fe[It]:et[It]=Fe[It]}this._transitionState(he,{shape:et},Oe)}else this.shape=Fe,this.dirtyShape()},Te.prototype._mergeStates=function(he){for(var Re,me=ye.prototype._mergeStates.call(this,he),Le=0;Le<he.length;Le++){var Je=he[Le];Je.shape&&this._mergeStyle(Re=Re||{},Je.shape)}return Re&&(me.shape=Re),me},Te.prototype.getAnimationStyleProps=function(){return C},Te.prototype.isZeroArea=function(){return!1},Te.extend=function(he){var me=function(Le){function Je(Oe){var Ve=Le.call(this,Oe)||this;return he.init&&he.init.call(Ve,Oe),Ve}return(0,m.ZT)(Je,Le),Je.prototype.getDefaultStyle=function(){return(0,W.clone)(he.style)},Je.prototype.getDefaultShape=function(){return(0,W.clone)(he.shape)},Je}(Te);for(var Re in he)"function"==typeof he[Re]&&(me.prototype[Re]=he[Re]);return me},Te.initDefaultProps=((he=Te.prototype).type="path",he.strokeContainThreshold=5,he.segmentIgnoreThreshold=0,he.subPixelOptimize=!1,he.autoBatch=!1,void(he.__dirty=A.YV|A.SE|A.RH)),Te;var he}(R.ZP)},2204:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>Se});var m=E(908);const Se=function(le){function y(ce,q,K,H,Y){var V=le.call(this,H)||this;return V.x=null==ce?.5:ce,V.y=null==q?.5:q,V.r=null==K?.5:K,V.type="radial",V.global=Y||!1,V}return(0,m.ZT)(y,le),y}(E(2125).Z)},9221:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>q});var m=E(908),R=E(4031),k=E(7084),Se=E(5581),le=E(284),y=(0,le.defaults)({strokeFirst:!0,font:k.Uo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Se.$t),ce=function(K){function H(){return null!==K&&K.apply(this,arguments)||this}return(0,m.ZT)(H,K),H.prototype.hasStroke=function(){var Y=this.style,V=Y.stroke;return null!=V&&"none"!==V&&Y.lineWidth>0},H.prototype.hasFill=function(){var V=this.style.fill;return null!=V&&"none"!==V},H.prototype.createStyle=function(Y){return(0,le.createObject)(y,Y)},H.prototype.setBoundingRect=function(Y){this._rect=Y},H.prototype.getBoundingRect=function(){var Y=this.style;if(!this._rect){var V=Y.text;null!=V?V+="":V="";var j=(0,k.lP)(V,Y.font,Y.textAlign,Y.textBaseline);if(j.x+=Y.x||0,j.y+=Y.y||0,this.hasStroke()){var X=Y.lineWidth;j.x-=X/2,j.y-=X/2,j.width+=X,j.height+=X}this._rect=j}return this._rect},H.initDefaultProps=void(H.prototype.dirtyRectTolerance=10),H}(R.ZP);ce.prototype.type="tspan";const q=ce},1078:(un,ot,E)=>{"use strict";E.d(ot,{ZP:()=>Z});var m=E(908),R=E(2729),k=E(9221),Se=E(284),le=E(7084),y=E(5252),ce=E(9024),q=E(1436),K=E(4031),H={fill:"#000"},V={style:(0,Se.defaults)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},K.ik.style)},j=function(U){function W(L){var D=U.call(this)||this;return D.type="text",D._children=[],D._defaultStyle=H,D.attr(L),D}return(0,m.ZT)(W,U),W.prototype.childrenRef=function(){return this._children},W.prototype.update=function(){U.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var L=0;L<this._children.length;L++){var D=this._children[L];D.zlevel=this.zlevel,D.z=this.z,D.z2=this.z2,D.culling=this.culling,D.cursor=this.cursor,D.invisible=this.invisible}},W.prototype.updateTransform=function(){var L=this.innerTransformable;L?(L.updateTransform(),L.transform&&(this.transform=L.transform)):U.prototype.updateTransform.call(this)},W.prototype.getLocalTransform=function(L){var D=this.innerTransformable;return D?D.getLocalTransform(L):U.prototype.getLocalTransform.call(this,L)},W.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),U.prototype.getComputedTransform.call(this)},W.prototype._updateSubTexts=function(){this._childCursor=0,function(U){fe(U),(0,Se.each)(U.rich,fe)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},W.prototype.addSelfToZr=function(L){U.prototype.addSelfToZr.call(this,L);for(var D=0;D<this._children.length;D++)this._children[D].__zr=L},W.prototype.removeSelfFromZr=function(L){U.prototype.removeSelfFromZr.call(this,L);for(var D=0;D<this._children.length;D++)this._children[D].__zr=null},W.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var L=new q.Z(0,0,0,0),D=this._children,A=[],M=null,C=0;C<D.length;C++){var P=D[C],N=P.getBoundingRect(),ee=P.getLocalTransform(A);ee?(L.copy(N),L.applyTransform(ee),(M=M||L.clone()).union(L)):(M=M||N.clone()).union(N)}this._rect=M||L}return this._rect},W.prototype.setDefaultTextStyle=function(L){this._defaultStyle=L||H},W.prototype.setTextContent=function(L){throw new Error("Can't attach text on another text")},W.prototype._mergeStyle=function(L,D){if(!D)return L;var A=D.rich,M=L.rich||A&&{};return(0,Se.extend)(L,D),A&&M?(this._mergeRich(M,A),L.rich=M):M&&(L.rich=M),L},W.prototype._mergeRich=function(L,D){for(var A=(0,Se.keys)(D),M=0;M<A.length;M++){var C=A[M];L[C]=L[C]||{},(0,Se.extend)(L[C],D[C])}},W.prototype.getAnimationStyleProps=function(){return V},W.prototype._getOrCreateChild=function(L){var D=this._children[this._childCursor];return(!D||!(D instanceof L))&&(D=new L),this._children[this._childCursor++]=D,D.__zr=this.__zr,D.parent=this,D},W.prototype._updatePlainTexts=function(){var L=this.style,D=L.font||le.Uo,A=L.padding,M=de(L),C=(0,R.NY)(M,L),P=oe(L),N=!!L.backgroundColor,ee=C.outerHeight,ye=C.lines,Te=C.lineHeight,he=this._defaultStyle,me=L.x||0,Re=L.y||0,Le=L.align||he.align||"left",Je=L.verticalAlign||he.verticalAlign||"top",Oe=me,Ve=(0,le.mU)(Re,C.contentHeight,Je);if(P||A){var Fe=C.width;A&&(Fe+=A[1]+A[3]);var et=(0,le.M3)(me,Fe,Le),Ue=(0,le.mU)(Re,ee,Je);P&&this._renderBackground(L,L,et,Ue,Fe,ee)}Ve+=Te/2,A&&(Oe=ne(me,Le,A),"top"===Je?Ve+=A[0]:"bottom"===Je&&(Ve-=A[2]));for(var xt=0,It=!1,Pt=(ie("fill"in L?L.fill:(It=!0,he.fill))),Wt=(re("stroke"in L?L.stroke:N||he.autoStroke&&!It?null:(xt=2,he.stroke))),Qt=L.textShadowBlur>0,gn=null!=L.width&&("truncate"===L.overflow||"break"===L.overflow||"breakAll"===L.overflow),In=C.calculatedLineHeight,Dn=0;Dn<ye.length;Dn++){var Yt=this._getOrCreateChild(k.Z),sn=Yt.createStyle();Yt.useStyle(sn),sn.text=ye[Dn],sn.x=Oe,sn.y=Ve,Le&&(sn.textAlign=Le),sn.textBaseline="middle",sn.opacity=L.opacity,sn.strokeFirst=!0,Qt&&(sn.shadowBlur=L.textShadowBlur||0,sn.shadowColor=L.textShadowColor||"transparent",sn.shadowOffsetX=L.textShadowOffsetX||0,sn.shadowOffsetY=L.textShadowOffsetY||0),Wt&&(sn.stroke=Wt,sn.lineWidth=L.lineWidth||xt,sn.lineDash=L.lineDash,sn.lineDashOffset=L.lineDashOffset||0),Pt&&(sn.fill=Pt),sn.font=D,Ve+=Te,gn&&Yt.setBoundingRect(new q.Z((0,le.M3)(sn.x,L.width,sn.textAlign),(0,le.mU)(sn.y,In,sn.textBaseline),L.width,In))}},W.prototype._updateRichTexts=function(){var L=this.style,D=de(L),A=(0,R.$F)(D,L),M=A.width,C=A.outerWidth,P=A.outerHeight,N=L.padding,ye=L.y||0,Te=this._defaultStyle,me=L.verticalAlign||Te.verticalAlign,Re=(0,le.M3)(L.x||0,C,L.align||Te.align),Le=(0,le.mU)(ye,P,me),Je=Re,Oe=Le;N&&(Je+=N[3],Oe+=N[0]);var Ve=Je+M;oe(L)&&this._renderBackground(L,L,Re,Le,C,P);for(var Fe=!!L.backgroundColor,et=0;et<A.lines.length;et++){for(var Ue=A.lines[et],xt=Ue.tokens,It=xt.length,Pt=Ue.lineHeight,Wt=Ue.width,Qt=0,gn=Je,In=Ve,Dn=It-1,Yt=void 0;Qt<It&&(!(Yt=xt[Qt]).align||"left"===Yt.align);)this._placeToken(Yt,L,Pt,Oe,gn,"left",Fe),Wt-=Yt.width,gn+=Yt.width,Qt++;for(;Dn>=0&&"right"===(Yt=xt[Dn]).align;)this._placeToken(Yt,L,Pt,Oe,In,"right",Fe),Wt-=Yt.width,In-=Yt.width,Dn--;for(gn+=(M-(gn-Je)-(Ve-In)-Wt)/2;Qt<=Dn;)this._placeToken(Yt=xt[Qt],L,Pt,Oe,gn+Yt.width/2,"center",Fe),gn+=Yt.width,Qt++;Oe+=Pt}},W.prototype._placeToken=function(L,D,A,M,C,P,N){var ee=D.rich[L.styleName]||{};ee.text=L.text;var ye=L.verticalAlign,Te=M+A/2;"top"===ye?Te=M+L.height/2:"bottom"===ye&&(Te=M+A-L.height/2),!L.isLineHolder&&oe(ee)&&this._renderBackground(ee,D,"right"===P?C-L.width:"center"===P?C-L.width/2:C,Te-L.height/2,L.width,L.height);var me=!!ee.backgroundColor,Re=L.textPadding;Re&&(C=ne(C,P,Re),Te-=L.height/2-Re[0]-L.innerHeight/2);var Le=this._getOrCreateChild(k.Z),Je=Le.createStyle();Le.useStyle(Je);var Oe=this._defaultStyle,Ve=!1,Fe=0,et=ie("fill"in ee?ee.fill:"fill"in D?D.fill:(Ve=!0,Oe.fill)),Ue=re("stroke"in ee?ee.stroke:"stroke"in D?D.stroke:me||N||Oe.autoStroke&&!Ve?null:(Fe=2,Oe.stroke)),xt=ee.textShadowBlur>0||D.textShadowBlur>0;Je.text=L.text,Je.x=C,Je.y=Te,xt&&(Je.shadowBlur=ee.textShadowBlur||D.textShadowBlur||0,Je.shadowColor=ee.textShadowColor||D.textShadowColor||"transparent",Je.shadowOffsetX=ee.textShadowOffsetX||D.textShadowOffsetX||0,Je.shadowOffsetY=ee.textShadowOffsetY||D.textShadowOffsetY||0),Je.textAlign=P,Je.textBaseline="middle",Je.font=L.font||le.Uo,Je.opacity=(0,Se.retrieve3)(ee.opacity,D.opacity,1),Ue&&(Je.lineWidth=(0,Se.retrieve3)(ee.lineWidth,D.lineWidth,Fe),Je.lineDash=(0,Se.retrieve2)(ee.lineDash,D.lineDash),Je.lineDashOffset=D.lineDashOffset||0,Je.stroke=Ue),et&&(Je.fill=et);var It=L.contentWidth,Pt=L.contentHeight;Le.setBoundingRect(new q.Z((0,le.M3)(Je.x,It,Je.textAlign),(0,le.mU)(Je.y,Pt,Je.textBaseline),It,Pt))},W.prototype._renderBackground=function(L,D,A,M,C,P){var Le,Je,Ve,N=L.backgroundColor,ee=L.borderWidth,ye=L.borderColor,Te=N&&N.image,he=N&&!Te,me=L.borderRadius,Re=this;if(he||L.lineHeight||ee&&ye){(Le=this._getOrCreateChild(ce.Z)).useStyle(Le.createStyle()),Le.style.fill=null;var Oe=Le.shape;Oe.x=A,Oe.y=M,Oe.width=C,Oe.height=P,Oe.r=me,Le.dirtyShape()}if(he)(Ve=Le.style).fill=N||null,Ve.fillOpacity=(0,Se.retrieve2)(L.fillOpacity,1);else if(Te){(Je=this._getOrCreateChild(y.ZP)).onload=function(){Re.dirtyStyle()};var Fe=Je.style;Fe.image=N.image,Fe.x=A,Fe.y=M,Fe.width=C,Fe.height=P}ee&&ye&&((Ve=Le.style).lineWidth=ee,Ve.stroke=ye,Ve.strokeOpacity=(0,Se.retrieve2)(L.strokeOpacity,1),Ve.lineDash=L.borderDash,Ve.lineDashOffset=L.borderDashOffset||0,Le.strokeContainThreshold=0,Le.hasFill()&&Le.hasStroke()&&(Ve.strokeFirst=!0,Ve.lineWidth*=2));var et=(Le||Je).style;et.shadowBlur=L.shadowBlur||0,et.shadowColor=L.shadowColor||"transparent",et.shadowOffsetX=L.shadowOffsetX||0,et.shadowOffsetY=L.shadowOffsetY||0,et.opacity=(0,Se.retrieve3)(L.opacity,D.opacity,1)},W.makeFont=function(L){var D="";if(L.fontSize||L.fontFamily||L.fontWeight){var A="";A="string"!=typeof L.fontSize||-1===L.fontSize.indexOf("px")&&-1===L.fontSize.indexOf("rem")&&-1===L.fontSize.indexOf("em")?isNaN(+L.fontSize)?"12px":L.fontSize+"px":L.fontSize,D=[L.fontStyle,L.fontWeight,A,L.fontFamily||"sans-serif"].join(" ")}return D&&(0,Se.trim)(D)||L.textFont||L.font},W}(K.ZP),X={left:!0,right:1,center:1},xe={top:1,bottom:1,middle:1};function fe(U){if(U){U.font=j.makeFont(U);var W=U.align;"middle"===W&&(W="center"),U.align=null==W||X[W]?W:"left";var L=U.verticalAlign;"center"===L&&(L="middle"),U.verticalAlign=null==L||xe[L]?L:"top",U.padding&&(U.padding=(0,Se.normalizeCssArray)(U.padding))}}function re(U,W){return null==U||W<=0||"transparent"===U||"none"===U?null:U.image||U.colorStops?"#000":U}function ie(U){return null==U||"none"===U?null:U.image||U.colorStops?"#000":U}function ne(U,W,L){return"right"===W?U-L[1]:"center"===W?U+L[3]/2-L[1]/2:U+L[3]}function de(U){var W=U.text;return null!=W&&(W+=""),W}function oe(U){return!!(U.backgroundColor||U.lineHeight||U.borderWidth&&U.borderColor)}const Z=j},558:(un,ot,E)=>{"use strict";E.d(ot,{YV:()=>m,SE:()=>R,RH:()=>k});var m=1,R=2,k=4},3732:(un,ot,E)=>{"use strict";E.d(ot,{T:()=>R});var m=E(284);function R(k,Se){return k&&"solid"!==k&&Se>0?(Se=Se||1,"dashed"===k?[4*Se,2*Se]:"dotted"===k?[Se]:(0,m.isNumber)(k)?[k]:(0,m.isArray)(k)?k:null):null}},4659:(un,ot,E)=>{"use strict";E.d(ot,{ko:()=>k,Gq:()=>Se,v5:()=>y});var R=new(E(4371).ZP)(50);function k(ce){if("string"==typeof ce){var q=R.get(ce);return q&&q.image}return ce}function Se(ce,q,K,H,Y){if(ce){if("string"==typeof ce){if(q&&q.__zrImageSrc===ce||!K)return q;var V=R.get(ce),j={hostEl:K,cb:H,cbPayload:Y};return V?!y(q=V.image)&&V.pending.push(j):((q=new Image).onload=q.onerror=le,R.put(ce,q.__cachedImgObj={image:q,pending:[j]}),q.src=q.__zrImageSrc=ce),q}return ce}return q}function le(){var ce=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var q=0;q<ce.pending.length;q++){var K=ce.pending[q],H=K.cb;H&&H(this,K.cbPayload),K.hostEl.dirty()}ce.pending.length=0}function y(ce){return ce&&ce.width&&ce.height}},2729:(un,ot,E)=>{"use strict";E.d(ot,{aF:()=>le,NY:()=>K,$F:()=>j});var m=E(4659),R=E(284),k=E(7084),Se=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function le(ie,ne,de,oe,Z){if(!ne)return"";var U=(ie+"").split("\n");Z=y(ne,de,oe,Z);for(var W=0,L=U.length;W<L;W++)U[W]=ce(U[W],Z);return U.join("\n")}function y(ie,ne,de,oe){var Z=(0,R.extend)({},oe=oe||{});Z.font=ne,de=(0,R.retrieve2)(de,"..."),Z.maxIterations=(0,R.retrieve2)(oe.maxIterations,2);var U=Z.minChar=(0,R.retrieve2)(oe.minChar,0);Z.cnCharWidth=(0,k.dz)("\u56fd",ne);var W=Z.ascCharWidth=(0,k.dz)("a",ne);Z.placeholder=(0,R.retrieve2)(oe.placeholder,"");for(var L=ie=Math.max(0,ie-1),D=0;D<U&&L>=W;D++)L-=W;var A=(0,k.dz)(de,ne);return A>L&&(de="",A=0),L=ie-A,Z.ellipsis=de,Z.ellipsisWidth=A,Z.contentWidth=L,Z.containerWidth=ie,Z}function ce(ie,ne){var de=ne.containerWidth,oe=ne.font,Z=ne.contentWidth;if(!de)return"";var U=(0,k.dz)(ie,oe);if(U<=de)return ie;for(var W=0;;W++){if(U<=Z||W>=ne.maxIterations){ie+=ne.ellipsis;break}var L=0===W?q(ie,Z,ne.ascCharWidth,ne.cnCharWidth):U>0?Math.floor(ie.length*Z/U):0;ie=ie.substr(0,L),U=(0,k.dz)(ie,oe)}return""===ie&&(ie=ne.placeholder),ie}function q(ie,ne,de,oe){for(var Z=0,U=0,W=ie.length;U<W&&Z<ne;U++){var L=ie.charCodeAt(U);Z+=0<=L&&L<=127?de:oe}return U}function K(ie,ne){null!=ie&&(ie+="");var M,de=ne.overflow,oe=ne.padding,Z=ne.font,U="truncate"===de,W=(0,k.Dp)(Z),L=(0,R.retrieve2)(ne.lineHeight,W),D="truncate"===ne.lineOverflow,A=ne.width,C=(M=null!=A&&"break"===de||"breakAll"===de?ie?re(ie,ne.font,A,"breakAll"===de,0).lines:[]:ie?ie.split("\n"):[]).length*L,P=(0,R.retrieve2)(ne.height,C);if(C>P&&D){var N=Math.floor(P/L);M=M.slice(0,N)}var ee=P,ye=A;if(oe&&(ee+=oe[0]+oe[2],null!=ye&&(ye+=oe[1]+oe[3])),ie&&U&&null!=ye)for(var Te=y(A,Z,ne.ellipsis,{minChar:ne.truncateMinChar,placeholder:ne.placeholder}),he=0;he<M.length;he++)M[he]=ce(M[he],Te);if(null==A){var me=0;for(he=0;he<M.length;he++)me=Math.max((0,k.dz)(M[he],Z),me);A=me}return{lines:M,height:P,outerHeight:ee,lineHeight:L,calculatedLineHeight:W,contentHeight:C,width:A}}var H=function(){},Y=function(ne){this.tokens=[],ne&&(this.tokens=ne)},V=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function j(ie,ne){var de=new V;if(null!=ie&&(ie+=""),!ie)return de;for(var D,oe=ne.width,Z=ne.height,U=ne.overflow,W="break"!==U&&"breakAll"!==U||null==oe?null:{width:oe,accumWidth:0,breakAll:"breakAll"===U},L=Se.lastIndex=0;null!=(D=Se.exec(ie));){var A=D.index;A>L&&X(de,ie.substring(L,A),ne,W),X(de,D[2],ne,W,D[1]),L=Se.lastIndex}L<ie.length&&X(de,ie.substring(L,ie.length),ne,W);var M=[],C=0,P=0,N=ne.padding,ee="truncate"===U,ye="truncate"===ne.lineOverflow;function Te(Dn,Yt,sn){Dn.width=Yt,Dn.lineHeight=sn,C+=sn,P=Math.max(P,Yt)}e:for(var he=0;he<de.lines.length;he++){for(var me=de.lines[he],Re=0,Le=0,Je=0;Je<me.tokens.length;Je++){var Ve=(Oe=me.tokens[Je]).styleName&&ne.rich[Oe.styleName]||{},Fe=Oe.textPadding=Ve.padding,et=Fe?Fe[1]+Fe[3]:0,Ue=Oe.font=Ve.font||ne.font;Oe.contentHeight=(0,k.Dp)(Ue);var xt=(0,R.retrieve2)(Ve.height,Oe.contentHeight);if(Oe.innerHeight=xt,Fe&&(xt+=Fe[0]+Fe[2]),Oe.height=xt,Oe.lineHeight=(0,R.retrieve3)(Ve.lineHeight,ne.lineHeight,xt),Oe.align=Ve&&Ve.align||ne.align,Oe.verticalAlign=Ve&&Ve.verticalAlign||"middle",ye&&null!=Z&&C+Oe.lineHeight>Z){Je>0?(me.tokens=me.tokens.slice(0,Je),Te(me,Le,Re),de.lines=de.lines.slice(0,he+1)):de.lines=de.lines.slice(0,he);break e}var It=Ve.width,Pt=null==It||"auto"===It;if("string"==typeof It&&"%"===It.charAt(It.length-1))Oe.percentWidth=It,M.push(Oe),Oe.contentWidth=(0,k.dz)(Oe.text,Ue);else{if(Pt){var Wt=Ve.backgroundColor,Qt=Wt&&Wt.image;Qt&&(Qt=m.ko(Qt),m.v5(Qt)&&(Oe.width=Math.max(Oe.width,Qt.width*xt/Qt.height)))}var gn=ee&&null!=oe?oe-Le:null;null!=gn&&gn<Oe.width?!Pt||gn<et?(Oe.text="",Oe.width=Oe.contentWidth=0):(Oe.text=le(Oe.text,gn-et,Ue,ne.ellipsis,{minChar:ne.truncateMinChar}),Oe.width=Oe.contentWidth=(0,k.dz)(Oe.text,Ue)):Oe.contentWidth=(0,k.dz)(Oe.text,Ue)}Oe.width+=et,Le+=Oe.width,Ve&&(Re=Math.max(Re,Oe.lineHeight))}Te(me,Le,Re)}for(de.outerWidth=de.width=(0,R.retrieve2)(oe,P),de.outerHeight=de.height=(0,R.retrieve2)(Z,C),de.contentHeight=C,de.contentWidth=P,N&&(de.outerWidth+=N[1]+N[3],de.outerHeight+=N[0]+N[2]),he=0;he<M.length;he++){var Oe;(Oe=M[he]).width=parseInt(Oe.percentWidth,10)/100*de.width}return de}function X(ie,ne,de,oe,Z){var M,C,U=""===ne,W=Z&&de.rich[Z]||{},L=ie.lines,D=W.font||de.font,A=!1;if(oe){var P=W.padding,N=P?P[1]+P[3]:0;if(null!=W.width&&"auto"!==W.width){var ee=(0,k.GM)(W.width,oe.width)+N;L.length>0&&ee+oe.accumWidth>oe.width&&(M=ne.split("\n"),A=!0),oe.accumWidth=ee}else{var ye=re(ne,D,oe.width,oe.breakAll,oe.accumWidth);oe.accumWidth=ye.accumWidth+N,C=ye.linesWidths,M=ye.lines}}else M=ne.split("\n");for(var Te=0;Te<M.length;Te++){var he=M[Te],me=new H;if(me.styleName=Z,me.text=he,me.isLineHolder=!he&&!U,me.width="number"==typeof W.width?W.width:C?C[Te]:(0,k.dz)(he,D),Te||A)L.push(new Y([me]));else{var Re=(L[L.length-1]||(L[0]=new Y)).tokens,Le=Re.length;1===Le&&Re[0].isLineHolder?Re[0]=me:(he||!Le||U)&&Re.push(me)}}}var Q=(0,R.reduce)(",&?/;] ".split(""),function(ie,ne){return ie[ne]=!0,ie},{});function fe(ie){return!function(ie){var ne=ie.charCodeAt(0);return ne>=33&&ne<=255}(ie)||!!Q[ie]}function re(ie,ne,de,oe,Z){for(var U=[],W=[],L="",D="",A=0,M=0,C=0;C<ie.length;C++){var P=ie.charAt(C);if("\n"!==P){var N=(0,k.dz)(P,ne),ee=!oe&&!fe(P);(U.length?M+N>de:Z+M+N>de)?M?(L||D)&&(ee?(L||(L=D,D="",M=A=0),U.push(L),W.push(M-A),D+=P,L="",M=A+=N):(D&&(L+=D,M+=A,D="",A=0),U.push(L),W.push(M),L=P,M=N)):ee?(U.push(D),W.push(A),D=P,A=N):(U.push(P),W.push(N)):(M+=N,ee?(D+=P,A+=N):(D&&(L+=D,D="",A=0),L+=P))}else D&&(L+=D,M+=A),U.push(L),W.push(M),L="",D="",A=0,M=0}return!U.length&&!L&&(L=ie,D="",A=0),D&&(L+=D),L&&(U.push(L),W.push(M)),1===U.length&&(M+=Z),{accumWidth:M,lines:U,linesWidths:W}}},9623:(un,ot,E)=>{"use strict";E.d(ot,{L:()=>le});var m=E(7322);function R(y,ce,q,K,H,Y,V){var j=.5*(q-y),X=.5*(K-ce);return(2*(ce-q)+j+X)*V+(-3*(ce-q)-2*j-X)*Y+j*H+ce}function le(y,ce,q){var K=ce.smooth,H=ce.points;if(H&&H.length>=2){if(K&&"spline"!==K){var Y=function(y,ce,q,K){var X,xe,Q,fe,H=[],Y=[],V=[],j=[];if(K){Q=[1/0,1/0],fe=[-1/0,-1/0];for(var re=0,ie=y.length;re<ie;re++)(0,m.min)(Q,Q,y[re]),(0,m.max)(fe,fe,y[re]);(0,m.min)(Q,Q,K[0]),(0,m.max)(fe,fe,K[1])}for(re=0,ie=y.length;re<ie;re++){var ne=y[re];if(q)X=y[re?re-1:ie-1],xe=y[(re+1)%ie];else{if(0===re||re===ie-1){H.push((0,m.clone)(y[re]));continue}X=y[re-1],xe=y[re+1]}(0,m.sub)(Y,xe,X),(0,m.scale)(Y,Y,ce);var de=(0,m.distance)(ne,X),oe=(0,m.distance)(ne,xe),Z=de+oe;0!==Z&&(de/=Z,oe/=Z),(0,m.scale)(V,Y,-de),(0,m.scale)(j,Y,oe);var U=(0,m.add)([],ne,V),W=(0,m.add)([],ne,j);K&&((0,m.max)(U,U,Q),(0,m.min)(U,U,fe),(0,m.max)(W,W,Q),(0,m.min)(W,W,fe)),H.push(U),H.push(W)}return q&&H.push(H.shift()),H}(H,K,q,ce.smoothConstraint);y.moveTo(H[0][0],H[0][1]);for(var V=H.length,j=0;j<(q?V:V-1);j++){var X=Y[2*j],xe=Y[2*j+1],Q=H[(j+1)%V];y.bezierCurveTo(X[0],X[1],xe[0],xe[1],Q[0],Q[1])}}else{"spline"===K&&(H=function(y,ce){for(var q=y.length,K=[],H=0,Y=1;Y<q;Y++)H+=(0,m.distance)(y[Y-1],y[Y]);var V=H/2;for(V=V<q?q:V,Y=0;Y<V;Y++){var j=Y/(V-1)*(ce?q:q-1),X=Math.floor(j),xe=j-X,Q=void 0,fe=y[X%q],re=void 0,ie=void 0;ce?(Q=y[(X-1+q)%q],re=y[(X+1)%q],ie=y[(X+2)%q]):(Q=y[0===X?X:X-1],re=y[X>q-2?q-1:X+1],ie=y[X>q-3?q-1:X+2]);var ne=xe*xe,de=xe*ne;K.push([R(Q[0],fe[0],re[0],ie[0],xe,ne,de),R(Q[1],fe[1],re[1],ie[1],xe,ne,de)])}return K}(H,q)),y.moveTo(H[0][0],H[0][1]),j=1;for(var fe=H.length;j<fe;j++)y.lineTo(H[j][0],H[j][1])}q&&y.closePath()}}},6482:(un,ot,E)=>{"use strict";E.d(ot,{_3:()=>R,Pw:()=>k,vu:()=>Se});var m=Math.round;function R(le,y,ce){if(y){var q=y.x1,K=y.x2,H=y.y1,Y=y.y2;le.x1=q,le.x2=K,le.y1=H,le.y2=Y;var V=ce&&ce.lineWidth;return V&&(m(2*q)===m(2*K)&&(le.x1=le.x2=Se(q,V,!0)),m(2*H)===m(2*Y)&&(le.y1=le.y2=Se(H,V,!0))),le}}function k(le,y,ce){if(y){var q=y.x,K=y.y,H=y.width,Y=y.height;le.x=q,le.y=K,le.width=H,le.height=Y;var V=ce&&ce.lineWidth;return V&&(le.x=Se(q,V,!0),le.y=Se(K,V,!0),le.width=Math.max(Se(q+H,V,!1)-le.x,0===H?0:1),le.height=Math.max(Se(K+Y,V,!1)-le.y,0===Y?0:1)),le}}function Se(le,y,ce){if(!y)return le;var q=m(2*le);return(q+m(y))%2==0?q/2:(q+(ce?1:-1))/2}},3864:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>le});var m=E(908),R=E(5581),k=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Se=function(y){function ce(q){return y.call(this,q)||this}return(0,m.ZT)(ce,y),ce.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ce.prototype.getDefaultShape=function(){return new k},ce.prototype.buildPath=function(q,K){var H=K.cx,Y=K.cy,V=Math.max(K.r,0),j=K.startAngle,X=K.endAngle,xe=K.clockwise,Q=Math.cos(j),fe=Math.sin(j);q.moveTo(Q*V+H,fe*V+Y),q.arc(H,Y,V,j,X,!xe)},ce}(R.ZP);Se.prototype.type="arc";const le=Se},4487:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>K});var m=E(908),R=E(5581),k=E(7322),Se=E(3775),le=[],y=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function ce(H,Y,V){return null===H.cpx2||null===H.cpy2?[(V?Se.X_:Se.af)(H.x1,H.cpx1,H.cpx2,H.x2,Y),(V?Se.X_:Se.af)(H.y1,H.cpy1,H.cpy2,H.y2,Y)]:[(V?Se.AZ:Se.Zm)(H.x1,H.cpx1,H.x2,Y),(V?Se.AZ:Se.Zm)(H.y1,H.cpy1,H.y2,Y)]}var q=function(H){function Y(V){return H.call(this,V)||this}return(0,m.ZT)(Y,H),Y.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Y.prototype.getDefaultShape=function(){return new y},Y.prototype.buildPath=function(V,j){var X=j.x1,xe=j.y1,Q=j.x2,fe=j.y2,re=j.cpx1,ie=j.cpy1,ne=j.cpx2,de=j.cpy2,oe=j.percent;0!==oe&&(V.moveTo(X,xe),null==ne||null==de?(oe<1&&((0,Se.Lx)(X,re,Q,oe,le),re=le[1],Q=le[2],(0,Se.Lx)(xe,ie,fe,oe,le),ie=le[1],fe=le[2]),V.quadraticCurveTo(re,ie,Q,fe)):(oe<1&&((0,Se.Vz)(X,re,ne,Q,oe,le),re=le[1],ne=le[2],Q=le[3],(0,Se.Vz)(xe,ie,de,fe,oe,le),ie=le[1],de=le[2],fe=le[3]),V.bezierCurveTo(re,ie,ne,de,Q,fe)))},Y.prototype.pointAt=function(V){return ce(this.shape,V,!1)},Y.prototype.tangentAt=function(V){var j=ce(this.shape,V,!0);return k.normalize(j,j)},Y}(R.ZP);q.prototype.type="bezier-curve";const K=q},4756:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>le});var m=E(908),R=E(5581),k=function(){this.cx=0,this.cy=0,this.r=0},Se=function(y){function ce(q){return y.call(this,q)||this}return(0,m.ZT)(ce,y),ce.prototype.getDefaultShape=function(){return new k},ce.prototype.buildPath=function(q,K,H){H&&q.moveTo(K.cx+K.r,K.cy),q.arc(K.cx,K.cy,K.r,0,2*Math.PI)},ce}(R.ZP);Se.prototype.type="circle";const le=Se},5865:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>le});var m=E(908),R=E(5581),k=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Se=function(y){function ce(q){return y.call(this,q)||this}return(0,m.ZT)(ce,y),ce.prototype.getDefaultShape=function(){return new k},ce.prototype.buildPath=function(q,K){var H=.5522848,Y=K.cx,V=K.cy,j=K.rx,X=K.ry,xe=j*H,Q=X*H;q.moveTo(Y-j,V),q.bezierCurveTo(Y-j,V-Q,Y-xe,V-X,Y,V-X),q.bezierCurveTo(Y+xe,V-X,Y+j,V-Q,Y+j,V),q.bezierCurveTo(Y+j,V+Q,Y+xe,V+X,Y,V+X),q.bezierCurveTo(Y-xe,V+X,Y-j,V+Q,Y-j,V),q.closePath()},ce}(R.ZP);Se.prototype.type="ellipse";const le=Se},3246:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>ce});var m=E(908),R=E(5581),k=E(6482),Se={},le=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},y=function(q){function K(H){return q.call(this,H)||this}return(0,m.ZT)(K,q),K.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},K.prototype.getDefaultShape=function(){return new le},K.prototype.buildPath=function(H,Y){var V,j,X,xe;if(this.subPixelOptimize){var Q=(0,k._3)(Se,Y,this.style);V=Q.x1,j=Q.y1,X=Q.x2,xe=Q.y2}else V=Y.x1,j=Y.y1,X=Y.x2,xe=Y.y2;var fe=Y.percent;0!==fe&&(H.moveTo(V,j),fe<1&&(X=V*(1-fe)+X*fe,xe=j*(1-fe)+xe*fe),H.lineTo(X,xe))},K.prototype.pointAt=function(H){var Y=this.shape;return[Y.x1*(1-H)+Y.x2*H,Y.y1*(1-H)+Y.y2*H]},K}(R.ZP);y.prototype.type="line";const ce=y},7204:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>y});var m=E(908),R=E(5581),k=E(9623),Se=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},le=function(ce){function q(K){return ce.call(this,K)||this}return(0,m.ZT)(q,ce),q.prototype.getDefaultShape=function(){return new Se},q.prototype.buildPath=function(K,H){k.L(K,H,!0)},q}(R.ZP);le.prototype.type="polygon";const y=le},7140:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>y});var m=E(908),R=E(5581),k=E(9623),Se=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},le=function(ce){function q(K){return ce.call(this,K)||this}return(0,m.ZT)(q,ce),q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},q.prototype.getDefaultShape=function(){return new Se},q.prototype.buildPath=function(K,H){k.L(K,H,!1)},q}(R.ZP);le.prototype.type="polyline";const y=le},9024:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>q});var m=E(908),R=E(5581),Se=E(6482),le=function(){this.x=0,this.y=0,this.width=0,this.height=0},y={},ce=function(K){function H(Y){return K.call(this,Y)||this}return(0,m.ZT)(H,K),H.prototype.getDefaultShape=function(){return new le},H.prototype.buildPath=function(Y,V){var j,X,xe,Q;if(this.subPixelOptimize){var fe=(0,Se.Pw)(y,V,this.style);j=fe.x,X=fe.y,xe=fe.width,Q=fe.height,fe.r=V.r,V=fe}else j=V.x,X=V.y,xe=V.width,Q=V.height;V.r?function(K,H){var Q,fe,re,ie,ne,Y=H.x,V=H.y,j=H.width,X=H.height,xe=H.r;j<0&&(Y+=j,j=-j),X<0&&(V+=X,X=-X),"number"==typeof xe?Q=fe=re=ie=xe:xe instanceof Array?1===xe.length?Q=fe=re=ie=xe[0]:2===xe.length?(Q=re=xe[0],fe=ie=xe[1]):3===xe.length?(Q=xe[0],fe=ie=xe[1],re=xe[2]):(Q=xe[0],fe=xe[1],re=xe[2],ie=xe[3]):Q=fe=re=ie=0,Q+fe>j&&(Q*=j/(ne=Q+fe),fe*=j/ne),re+ie>j&&(re*=j/(ne=re+ie),ie*=j/ne),fe+re>X&&(fe*=X/(ne=fe+re),re*=X/ne),Q+ie>X&&(Q*=X/(ne=Q+ie),ie*=X/ne),K.moveTo(Y+Q,V),K.lineTo(Y+j-fe,V),0!==fe&&K.arc(Y+j-fe,V+fe,fe,-Math.PI/2,0),K.lineTo(Y+j,V+X-re),0!==re&&K.arc(Y+j-re,V+X-re,re,0,Math.PI/2),K.lineTo(Y+ie,V+X),0!==ie&&K.arc(Y+ie,V+X-ie,ie,Math.PI/2,Math.PI),K.lineTo(Y,V+Q),0!==Q&&K.arc(Y+Q,V+Q,Q,Math.PI,1.5*Math.PI)}(Y,V):Y.rect(j,X,xe,Q)},H.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},H}(R.ZP);ce.prototype.type="rect";const q=ce},7316:(un,ot,E)=>{"use strict";E.d(ot,{Z:()=>le});var m=E(908),R=E(5581),k=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Se=function(y){function ce(q){return y.call(this,q)||this}return(0,m.ZT)(ce,y),ce.prototype.getDefaultShape=function(){return new k},ce.prototype.buildPath=function(q,K){var H=K.cx,Y=K.cy,V=2*Math.PI;q.moveTo(H+K.r,Y),q.arc(H,Y,K.r,0,V,!1),q.moveTo(H+K.r0,Y),q.arc(H,Y,K.r0,0,V,!0)},ce}(R.ZP);Se.prototype.type="ring";const le=Se},1620:(un,ot,E)=>{"use strict";E.d(ot,{C:()=>ne});var m=E(908),R=E(5581),k=E(89),Se=Math.PI,le=2*Se,y=Math.sin,ce=Math.cos,q=Math.acos,K=Math.atan2,H=Math.abs,Y=Math.sqrt,V=Math.max,j=Math.min,X=1e-4;function Q(de,oe,Z,U,W,L,D){var A=de-Z,M=oe-U,C=(D?L:-L)/Y(A*A+M*M),P=C*M,N=-C*A,ee=de+P,ye=oe+N,Te=Z+P,he=U+N,me=(ee+Te)/2,Re=(ye+he)/2,Le=Te-ee,Je=he-ye,Oe=Le*Le+Je*Je,Ve=W-L,Fe=ee*he-Te*ye,et=(Je<0?-1:1)*Y(V(0,Ve*Ve*Oe-Fe*Fe)),Ue=(Fe*Je-Le*et)/Oe,xt=(-Fe*Le-Je*et)/Oe,It=(Fe*Je+Le*et)/Oe,Pt=(-Fe*Le+Je*et)/Oe,Wt=Ue-me,Qt=xt-Re,gn=It-me,In=Pt-Re;return Wt*Wt+Qt*Qt>gn*gn+In*In&&(Ue=It,xt=Pt),{cx:Ue,cy:xt,x01:-P,y01:-N,x11:Ue*(W/Ve-1),y11:xt*(W/Ve-1)}}var re=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},ie=function(de){function oe(Z){return de.call(this,Z)||this}return(0,m.ZT)(oe,de),oe.prototype.getDefaultShape=function(){return new re},oe.prototype.buildPath=function(Z,U){!function(de,oe){var Z=V(oe.r,0),U=V(oe.r0||0,0),W=Z>0;if(W||U>0){if(W||(Z=U,U=0),U>Z){var D=Z;Z=U,U=D}var P,A=!!oe.clockwise,M=oe.startAngle,C=oe.endAngle;if(M===C)P=0;else{var N=[M,C];(0,k.L)(N,!A),P=H(N[0]-N[1])}var ee=oe.cx,ye=oe.cy,Te=oe.cornerRadius||0,he=oe.innerCornerRadius||0;if(Z>X)if(P>le-X)de.moveTo(ee+Z*ce(M),ye+Z*y(M)),de.arc(ee,ye,Z,M,C,!A),U>X&&(de.moveTo(ee+U*ce(C),ye+U*y(C)),de.arc(ee,ye,U,C,M,A));else{var me=H(Z-U)/2,Re=j(me,Te),Le=j(me,he),Je=Le,Oe=Re,Ve=Z*ce(M),Fe=Z*y(M),et=U*ce(C),Ue=U*y(C),xt=void 0,It=void 0,Pt=void 0,Wt=void 0;if((Re>X||Le>X)&&(xt=Z*ce(C),It=Z*y(C),Pt=U*ce(M),Wt=U*y(M),P<Se)){var Qt=function(de,oe,Z,U,W,L,D,A){var M=Z-de,C=U-oe,P=D-W,N=A-L,ee=N*M-P*C;if(!(ee*ee<X))return[de+(ee=(P*(oe-L)-N*(de-W))/ee)*M,oe+ee*C]}(Ve,Fe,Pt,Wt,xt,It,et,Ue);if(Qt){var gn=Ve-Qt[0],In=Fe-Qt[1],Dn=xt-Qt[0],Yt=It-Qt[1],sn=1/y(q((gn*Dn+In*Yt)/(Y(gn*gn+In*In)*Y(Dn*Dn+Yt*Yt)))/2),it=Y(Qt[0]*Qt[0]+Qt[1]*Qt[1]);Je=j(Le,(U-it)/(sn-1)),Oe=j(Re,(Z-it)/(sn+1))}}if(P>X)if(Oe>X){var vn=Q(Pt,Wt,Ve,Fe,Z,Oe,A),wt=Q(xt,It,et,Ue,Z,Oe,A);de.moveTo(ee+vn.cx+vn.x01,ye+vn.cy+vn.y01),Oe<Re?de.arc(ee+vn.cx,ye+vn.cy,Oe,K(vn.y01,vn.x01),K(wt.y01,wt.x01),!A):(de.arc(ee+vn.cx,ye+vn.cy,Oe,K(vn.y01,vn.x01),K(vn.y11,vn.x11),!A),de.arc(ee,ye,Z,K(vn.cy+vn.y11,vn.cx+vn.x11),K(wt.cy+wt.y11,wt.cx+wt.x11),!A),de.arc(ee+wt.cx,ye+wt.cy,Oe,K(wt.y11,wt.x11),K(wt.y01,wt.x01),!A))}else de.moveTo(ee+Ve,ye+Fe),de.arc(ee,ye,Z,M,C,!A);else de.moveTo(ee+Ve,ye+Fe);U>X&&P>X?Je>X?(vn=Q(et,Ue,xt,It,U,-Je,A),wt=Q(Ve,Fe,Pt,Wt,U,-Je,A),de.lineTo(ee+vn.cx+vn.x01,ye+vn.cy+vn.y01),Je<Le?de.arc(ee+vn.cx,ye+vn.cy,Je,K(vn.y01,vn.x01),K(wt.y01,wt.x01),!A):(de.arc(ee+vn.cx,ye+vn.cy,Je,K(vn.y01,vn.x01),K(vn.y11,vn.x11),!A),de.arc(ee,ye,U,K(vn.cy+vn.y11,vn.cx+vn.x11),K(wt.cy+wt.y11,wt.cx+wt.x11),A),de.arc(ee+wt.cx,ye+wt.cy,Je,K(wt.y11,wt.x11),K(wt.y01,wt.x01),!A))):(de.lineTo(ee+et,ye+Ue),de.arc(ee,ye,U,C,M,A)):de.lineTo(ee+et,ye+Ue)}else de.moveTo(ee,ye);de.closePath()}}(Z,U)},oe.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},oe}(R.ZP);ie.prototype.type="sector";const ne=ie},589:(un,ot,E)=>{"use strict";E.r(ot),E.d(ot,{parse:()=>xe,lift:()=>re,toHex:()=>ie,fastLerp:()=>ne,fastMapToColor:()=>de,lerp:()=>oe,mapToColor:()=>Z,modifyHSL:()=>U,modifyAlpha:()=>W,stringify:()=>L,lum:()=>D,random:()=>A});var m=E(4371),R={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function k(M){return(M=Math.round(M))<0?0:M>255?255:M}function le(M){return M<0?0:M>1?1:M}function y(M){var C=M;return C.length&&"%"===C.charAt(C.length-1)?k(parseFloat(C)/100*255):k(parseInt(C,10))}function ce(M){var C=M;return C.length&&"%"===C.charAt(C.length-1)?le(parseFloat(C)/100):le(parseFloat(C))}function q(M,C,P){return P<0?P+=1:P>1&&(P-=1),6*P<1?M+(C-M)*P*6:2*P<1?C:3*P<2?M+(C-M)*(2/3-P)*6:M}function K(M,C,P){return M+(C-M)*P}function H(M,C,P,N,ee){return M[0]=C,M[1]=P,M[2]=N,M[3]=ee,M}function Y(M,C){return M[0]=C[0],M[1]=C[1],M[2]=C[2],M[3]=C[3],M}var V=new m.ZP(20),j=null;function X(M,C){j&&Y(j,C),j=V.put(M,j||C.slice())}function xe(M,C){if(M){C=C||[];var P=V.get(M);if(P)return Y(C,P);var N=(M+="").replace(/ /g,"").toLowerCase();if(N in R)return Y(C,R[N]),X(M,C),C;var ye,ee=N.length;if("#"===N.charAt(0))return 4===ee||5===ee?(ye=parseInt(N.slice(1,4),16))>=0&&ye<=4095?(H(C,(3840&ye)>>4|(3840&ye)>>8,240&ye|(240&ye)>>4,15&ye|(15&ye)<<4,5===ee?parseInt(N.slice(4),16)/15:1),X(M,C),C):void H(C,0,0,0,1):7===ee||9===ee?(ye=parseInt(N.slice(1,7),16))>=0&&ye<=16777215?(H(C,(16711680&ye)>>16,(65280&ye)>>8,255&ye,9===ee?parseInt(N.slice(7),16)/255:1),X(M,C),C):void H(C,0,0,0,1):void 0;var Te=N.indexOf("("),he=N.indexOf(")");if(-1!==Te&&he+1===ee){var me=N.substr(0,Te),Re=N.substr(Te+1,he-(Te+1)).split(","),Le=1;switch(me){case"rgba":if(4!==Re.length)return 3===Re.length?H(C,+Re[0],+Re[1],+Re[2],1):H(C,0,0,0,1);Le=ce(Re.pop());case"rgb":return 3!==Re.length?void H(C,0,0,0,1):(H(C,y(Re[0]),y(Re[1]),y(Re[2]),Le),X(M,C),C);case"hsla":return 4!==Re.length?void H(C,0,0,0,1):(Re[3]=ce(Re[3]),Q(Re,C),X(M,C),C);case"hsl":return 3!==Re.length?void H(C,0,0,0,1):(Q(Re,C),X(M,C),C);default:return}}H(C,0,0,0,1)}}function Q(M,C){var P=(parseFloat(M[0])%360+360)%360/360,N=ce(M[1]),ee=ce(M[2]),ye=ee<=.5?ee*(N+1):ee+N-ee*N,Te=2*ee-ye;return H(C=C||[],k(255*q(Te,ye,P+1/3)),k(255*q(Te,ye,P)),k(255*q(Te,ye,P-1/3)),1),4===M.length&&(C[3]=M[3]),C}function re(M,C){var P=xe(M);if(P){for(var N=0;N<3;N++)P[N]=C<0?P[N]*(1-C)|0:(255-P[N])*C+P[N]|0,P[N]>255?P[N]=255:P[N]<0&&(P[N]=0);return L(P,4===P.length?"rgba":"rgb")}}function ie(M){var C=xe(M);if(C)return((1<<24)+(C[0]<<16)+(C[1]<<8)+ +C[2]).toString(16).slice(1)}function ne(M,C,P){if(C&&C.length&&M>=0&&M<=1){P=P||[];var N=M*(C.length-1),ee=Math.floor(N),ye=Math.ceil(N),Te=C[ee],he=C[ye],me=N-ee;return P[0]=k(K(Te[0],he[0],me)),P[1]=k(K(Te[1],he[1],me)),P[2]=k(K(Te[2],he[2],me)),P[3]=le(K(Te[3],he[3],me)),P}}var de=ne;function oe(M,C,P){if(C&&C.length&&M>=0&&M<=1){var N=M*(C.length-1),ee=Math.floor(N),ye=Math.ceil(N),Te=xe(C[ee]),he=xe(C[ye]),me=N-ee,Re=L([k(K(Te[0],he[0],me)),k(K(Te[1],he[1],me)),k(K(Te[2],he[2],me)),le(K(Te[3],he[3],me))],"rgba");return P?{color:Re,leftIndex:ee,rightIndex:ye,value:N}:Re}}var Z=oe;function U(M,C,P,N){var ee=xe(M);if(M)return ee=function(M){if(M){var me,Re,C=M[0]/255,P=M[1]/255,N=M[2]/255,ee=Math.min(C,P,N),ye=Math.max(C,P,N),Te=ye-ee,he=(ye+ee)/2;if(0===Te)me=0,Re=0;else{Re=he<.5?Te/(ye+ee):Te/(2-ye-ee);var Le=((ye-C)/6+Te/2)/Te,Je=((ye-P)/6+Te/2)/Te,Oe=((ye-N)/6+Te/2)/Te;C===ye?me=Oe-Je:P===ye?me=1/3+Le-Oe:N===ye&&(me=2/3+Je-Le),me<0&&(me+=1),me>1&&(me-=1)}var Ve=[360*me,Re,he];return null!=M[3]&&Ve.push(M[3]),Ve}}(ee),null!=C&&(ee[0]=function(M){return(M=Math.round(M))<0?0:M>360?360:M}(C)),null!=P&&(ee[1]=ce(P)),null!=N&&(ee[2]=ce(N)),L(Q(ee),"rgba")}function W(M,C){var P=xe(M);if(P&&null!=C)return P[3]=le(C),L(P,"rgba")}function L(M,C){if(M&&M.length){var P=M[0]+","+M[1]+","+M[2];return("rgba"===C||"hsva"===C||"hsla"===C)&&(P+=","+M[3]),C+"("+P+")"}}function D(M,C){var P=xe(M);return P?(.299*P[0]+.587*P[1]+.114*P[2])*P[3]/255+(1-P[3])*C:0}function A(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}},9849:(un,ot,E)=>{"use strict";E.d(ot,{U5:()=>A,iR:()=>W,Pc:()=>L,AA:()=>D});var m=E(908),R=E(5581),k=E(89),Se=E(7322),le=k.Z.CMD,y=[[],[],[]],ce=Math.sqrt,q=Math.atan2;function K(M,C){if(C){var ee,ye,Te,he,me,Re,P=M.data,N=M.len(),Le=le.M,Je=le.C,Oe=le.L,Ve=le.R,Fe=le.A,et=le.Q;for(Te=0,he=0;Te<N;){switch(ee=P[Te++],he=Te,ye=0,ee){case Le:case Oe:ye=1;break;case Je:ye=3;break;case et:ye=2;break;case Fe:var Ue=C[4],xt=C[5],It=ce(C[0]*C[0]+C[1]*C[1]),Pt=ce(C[2]*C[2]+C[3]*C[3]),Wt=q(-C[1]/Pt,C[0]/It);P[Te]*=It,P[Te++]+=Ue,P[Te]*=Pt,P[Te++]+=xt,P[Te++]*=It,P[Te++]*=Pt,P[Te++]+=Wt,P[Te++]+=Wt,he=Te+=2;break;case Ve:Re[0]=P[Te++],Re[1]=P[Te++],(0,Se.applyTransform)(Re,Re,C),P[he++]=Re[0],P[he++]=Re[1],Re[0]+=P[Te++],Re[1]+=P[Te++],(0,Se.applyTransform)(Re,Re,C),P[he++]=Re[0],P[he++]=Re[1]}for(me=0;me<ye;me++){var Qt=y[me];Qt[0]=P[Te++],Qt[1]=P[Te++],(0,Se.applyTransform)(Qt,Qt,C),P[he++]=Qt[0],P[he++]=Qt[1]}}M.increaseVersion()}}var H=E(284),Y=Math.sqrt,V=Math.sin,j=Math.cos,X=Math.PI;function xe(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function Q(M,C){return(M[0]*C[0]+M[1]*C[1])/(xe(M)*xe(C))}function fe(M,C){return(M[0]*C[1]<M[1]*C[0]?-1:1)*Math.acos(Q(M,C))}function re(M,C,P,N,ee,ye,Te,he,me,Re,Le){var Je=me*(X/180),Oe=j(Je)*(M-P)/2+V(Je)*(C-N)/2,Ve=-1*V(Je)*(M-P)/2+j(Je)*(C-N)/2,Fe=Oe*Oe/(Te*Te)+Ve*Ve/(he*he);Fe>1&&(Te*=Y(Fe),he*=Y(Fe));var et=(ee===ye?-1:1)*Y((Te*Te*(he*he)-Te*Te*(Ve*Ve)-he*he*(Oe*Oe))/(Te*Te*(Ve*Ve)+he*he*(Oe*Oe)))||0,Ue=et*Te*Ve/he,xt=et*-he*Oe/Te,It=(M+P)/2+j(Je)*Ue-V(Je)*xt,Pt=(C+N)/2+V(Je)*Ue+j(Je)*xt,Wt=fe([1,0],[(Oe-Ue)/Te,(Ve-xt)/he]),Qt=[(Oe-Ue)/Te,(Ve-xt)/he],gn=[(-1*Oe-Ue)/Te,(-1*Ve-xt)/he],In=fe(Qt,gn);if(Q(Qt,gn)<=-1&&(In=X),Q(Qt,gn)>=1&&(In=0),In<0){var Dn=Math.round(In/X*1e6)/1e6;In=2*X+Dn%2*X}Le.addData(Re,It,Pt,Te,he,Wt,In,Je,ye)}var ie=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,ne=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,oe=function(M){function C(){return null!==M&&M.apply(this,arguments)||this}return(0,m.ZT)(C,M),C.prototype.applyTransform=function(P){},C}(R.ZP);function Z(M){return null!=M.setData}function U(M,C){var P=function(M){var C=new k.Z;if(!M)return C;var Te,P=0,N=0,ee=P,ye=N,he=k.Z.CMD,me=M.match(ie);if(!me)return C;for(var Re=0;Re<me.length;Re++){for(var Le=me[Re],Je=Le.charAt(0),Oe=void 0,Ve=Le.match(ne)||[],Fe=Ve.length,et=0;et<Fe;et++)Ve[et]=parseFloat(Ve[et]);for(var Ue=0;Ue<Fe;){var xt=void 0,It=void 0,Pt=void 0,Wt=void 0,Qt=void 0,gn=void 0,In=void 0,Dn=P,Yt=N,sn=void 0,it=void 0;switch(Je){case"l":P+=Ve[Ue++],N+=Ve[Ue++],C.addData(Oe=he.L,P,N);break;case"L":P=Ve[Ue++],N=Ve[Ue++],C.addData(Oe=he.L,P,N);break;case"m":P+=Ve[Ue++],N+=Ve[Ue++],C.addData(Oe=he.M,P,N),ee=P,ye=N,Je="l";break;case"M":P=Ve[Ue++],N=Ve[Ue++],C.addData(Oe=he.M,P,N),ee=P,ye=N,Je="L";break;case"h":P+=Ve[Ue++],C.addData(Oe=he.L,P,N);break;case"H":P=Ve[Ue++],C.addData(Oe=he.L,P,N);break;case"v":N+=Ve[Ue++],C.addData(Oe=he.L,P,N);break;case"V":N=Ve[Ue++],C.addData(Oe=he.L,P,N);break;case"C":C.addData(Oe=he.C,Ve[Ue++],Ve[Ue++],Ve[Ue++],Ve[Ue++],Ve[Ue++],Ve[Ue++]),P=Ve[Ue-2],N=Ve[Ue-1];break;case"c":C.addData(Oe=he.C,Ve[Ue++]+P,Ve[Ue++]+N,Ve[Ue++]+P,Ve[Ue++]+N,Ve[Ue++]+P,Ve[Ue++]+N),P+=Ve[Ue-2],N+=Ve[Ue-1];break;case"S":xt=P,It=N,sn=C.len(),it=C.data,Te===he.C&&(xt+=P-it[sn-4],It+=N-it[sn-3]),Dn=Ve[Ue++],Yt=Ve[Ue++],P=Ve[Ue++],N=Ve[Ue++],C.addData(Oe=he.C,xt,It,Dn,Yt,P,N);break;case"s":xt=P,It=N,sn=C.len(),it=C.data,Te===he.C&&(xt+=P-it[sn-4],It+=N-it[sn-3]),Dn=P+Ve[Ue++],Yt=N+Ve[Ue++],P+=Ve[Ue++],N+=Ve[Ue++],C.addData(Oe=he.C,xt,It,Dn,Yt,P,N);break;case"Q":Dn=Ve[Ue++],Yt=Ve[Ue++],P=Ve[Ue++],N=Ve[Ue++],C.addData(Oe=he.Q,Dn,Yt,P,N);break;case"q":Dn=Ve[Ue++]+P,Yt=Ve[Ue++]+N,P+=Ve[Ue++],N+=Ve[Ue++],C.addData(Oe=he.Q,Dn,Yt,P,N);break;case"T":xt=P,It=N,sn=C.len(),it=C.data,Te===he.Q&&(xt+=P-it[sn-4],It+=N-it[sn-3]),P=Ve[Ue++],N=Ve[Ue++],C.addData(Oe=he.Q,xt,It,P,N);break;case"t":xt=P,It=N,sn=C.len(),it=C.data,Te===he.Q&&(xt+=P-it[sn-4],It+=N-it[sn-3]),P+=Ve[Ue++],N+=Ve[Ue++],C.addData(Oe=he.Q,xt,It,P,N);break;case"A":Pt=Ve[Ue++],Wt=Ve[Ue++],Qt=Ve[Ue++],gn=Ve[Ue++],In=Ve[Ue++],re(Dn=P,Yt=N,P=Ve[Ue++],N=Ve[Ue++],gn,In,Pt,Wt,Qt,Oe=he.A,C);break;case"a":Pt=Ve[Ue++],Wt=Ve[Ue++],Qt=Ve[Ue++],gn=Ve[Ue++],In=Ve[Ue++],re(Dn=P,Yt=N,P+=Ve[Ue++],N+=Ve[Ue++],gn,In,Pt,Wt,Qt,Oe=he.A,C)}}("z"===Je||"Z"===Je)&&(C.addData(Oe=he.Z),P=ee,N=ye),Te=Oe}return C.toStatic(),C}(M),N=(0,H.extend)({},C);return N.buildPath=function(ee){var ye;Z(ee)?(ee.setData(P.data),(ye=ee.getContext())&&ee.rebuildPath(ye,1)):P.rebuildPath(ye=ee,1)},N.applyTransform=function(ee){K(P,ee),this.dirtyShape()},N}function W(M,C){return new oe(U(M,C))}function L(M,C){var P=U(M,C);return function(ee){function ye(Te){var he=ee.call(this,Te)||this;return he.applyTransform=P.applyTransform,he.buildPath=P.buildPath,he}return(0,m.ZT)(ye,ee),ye}(oe)}function D(M,C){for(var P=[],N=M.length,ee=0;ee<N;ee++)P.push(M[ee].getUpdatedPathProxy(!0));var Te=new R.ZP(C);return Te.createPathProxy(),Te.buildPath=function(he){if(Z(he)){he.appendPath(P);var me=he.getContext();me&&he.rebuildPath(me,1)}},Te}function A(M,C){C=C||{};var P=new R.ZP;return M.shape&&P.setShape(M.shape),P.setStyle(M.style),C.bakeTransform?K(P.path,M.getComputedTransform()):C.toLocal?P.setLocalTransform(M.getComputedTransform()):P.copyTransform(M),P.buildPath=M.buildPath,P.applyTransform=P.applyTransform,P.z=M.z,P.z2=M.z2,P.zlevel=M.zlevel,P}},228:(un,ot,E)=>{"use strict";E.r(ot),E.d(ot,{dispose:()=>ct,disposeAll:()=>tt,getInstance:()=>_t,init:()=>cn,registerPainter:()=>zt,version:()=>Ft});var m=E(5065),R=E(284),k=E(908),Se=E(7322),le=function(Ye,Ke){this.target=Ye,this.topTarget=Ke&&Ke.topTarget},y=function(){function ft(Ye){this.handler=Ye,Ye.on("mousedown",this._dragStart,this),Ye.on("mousemove",this._drag,this),Ye.on("mouseup",this._dragEnd,this)}return ft.prototype._dragStart=function(Ye){for(var Ke=Ye.target;Ke&&!Ke.draggable;)Ke=Ke.parent;Ke&&(this._draggingTarget=Ke,Ke.dragging=!0,this._x=Ye.offsetX,this._y=Ye.offsetY,this.handler.dispatchToElement(new le(Ke,Ye),"dragstart",Ye.event))},ft.prototype._drag=function(Ye){var Ke=this._draggingTarget;if(Ke){var we=Ye.offsetX,Me=Ye.offsetY,qe=we-this._x,lt=Me-this._y;this._x=we,this._y=Me,Ke.drift(qe,lt,Ye),this.handler.dispatchToElement(new le(Ke,Ye),"drag",Ye.event);var Lt=this.handler.findHover(we,Me,Ke).target,Kt=this._dropTarget;this._dropTarget=Lt,Ke!==Lt&&(Kt&&Lt!==Kt&&this.handler.dispatchToElement(new le(Kt,Ye),"dragleave",Ye.event),Lt&&Lt!==Kt&&this.handler.dispatchToElement(new le(Lt,Ye),"dragenter",Ye.event))}},ft.prototype._dragEnd=function(Ye){var Ke=this._draggingTarget;Ke&&(Ke.dragging=!1),this.handler.dispatchToElement(new le(Ke,Ye),"dragend",Ye.event),this._dropTarget&&this.handler.dispatchToElement(new le(this._dropTarget,Ye),"drop",Ye.event),this._draggingTarget=null,this._dropTarget=null},ft}();const ce=y;var q=E(4955),K=E(2377),H=function(){function ft(){this._track=[]}return ft.prototype.recognize=function(Ye,Ke,we){return this._doTrack(Ye,Ke,we),this._recognize(Ye)},ft.prototype.clear=function(){return this._track.length=0,this},ft.prototype._doTrack=function(Ye,Ke,we){var Me=Ye.touches;if(Me){for(var qe={points:[],touches:[],target:Ke,event:Ye},lt=0,Lt=Me.length;lt<Lt;lt++){var Kt=Me[lt],Mn=K.eV(we,Kt,{});qe.points.push([Mn.zrX,Mn.zrY]),qe.touches.push(Kt)}this._track.push(qe)}},ft.prototype._recognize=function(Ye){for(var Ke in j)if(j.hasOwnProperty(Ke)){var we=j[Ke](this._track,Ye);if(we)return we}},ft}();function Y(ft){var Ye=ft[1][0]-ft[0][0],Ke=ft[1][1]-ft[0][1];return Math.sqrt(Ye*Ye+Ke*Ke)}var j={pinch:function(ft,Ye){var Ke=ft.length;if(Ke){var we=(ft[Ke-1]||{}).points,Me=(ft[Ke-2]||{}).points||we;if(Me&&Me.length>1&&we&&we.length>1){var qe=Y(we)/Y(Me);!isFinite(qe)&&(qe=1),Ye.pinchScale=qe;var lt=function(ft){return[(ft[0][0]+ft[1][0])/2,(ft[0][1]+ft[1][1])/2]}(we);return Ye.pinchX=lt[0],Ye.pinchY=lt[1],{type:"pinch",target:ft[0].target,event:Ye}}}}},X="silent";function Q(){K.sT(this.event)}var fe=function(ft){function Ye(){var Ke=null!==ft&&ft.apply(this,arguments)||this;return Ke.handler=null,Ke}return(0,k.ZT)(Ye,ft),Ye.prototype.dispose=function(){},Ye.prototype.setCursor=function(){},Ye}(q.Z),re=function(Ye,Ke){this.x=Ye,this.y=Ke},ie=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ne=function(ft){function Ye(Ke,we,Me,qe){var lt=ft.call(this)||this;return lt._hovered=new re(0,0),lt.storage=Ke,lt.painter=we,lt.painterRoot=qe,Me=Me||new fe,lt.proxy=null,lt.setHandlerProxy(Me),lt._draggingMgr=new ce(lt),lt}return(0,k.ZT)(Ye,ft),Ye.prototype.setHandlerProxy=function(Ke){this.proxy&&this.proxy.dispose(),Ke&&(R.each(ie,function(we){Ke.on&&Ke.on(we,this[we],this)},this),Ke.handler=this),this.proxy=Ke},Ye.prototype.mousemove=function(Ke){var we=Ke.zrX,Me=Ke.zrY,qe=oe(this,we,Me),lt=this._hovered,Lt=lt.target;Lt&&!Lt.__zr&&(Lt=(lt=this.findHover(lt.x,lt.y)).target);var Kt=this._hovered=qe?new re(we,Me):this.findHover(we,Me),Mn=Kt.target,Zt=this.proxy;Zt.setCursor&&Zt.setCursor(Mn?Mn.cursor:"default"),Lt&&Mn!==Lt&&this.dispatchToElement(lt,"mouseout",Ke),this.dispatchToElement(Kt,"mousemove",Ke),Mn&&Mn!==Lt&&this.dispatchToElement(Kt,"mouseover",Ke)},Ye.prototype.mouseout=function(Ke){var we=Ke.zrEventControl;"only_globalout"!==we&&this.dispatchToElement(this._hovered,"mouseout",Ke),"no_globalout"!==we&&this.trigger("globalout",{type:"globalout",event:Ke})},Ye.prototype.resize=function(){this._hovered=new re(0,0)},Ye.prototype.dispatch=function(Ke,we){var Me=this[Ke];Me&&Me.call(this,we)},Ye.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Ye.prototype.setCursorStyle=function(Ke){var we=this.proxy;we.setCursor&&we.setCursor(Ke)},Ye.prototype.dispatchToElement=function(Ke,we,Me){var qe=(Ke=Ke||{}).target;if(!qe||!qe.silent){for(var lt="on"+we,Lt=function(ft,Ye,Ke){return{type:ft,event:Ke,target:Ye.target,topTarget:Ye.topTarget,cancelBubble:!1,offsetX:Ke.zrX,offsetY:Ke.zrY,gestureEvent:Ke.gestureEvent,pinchX:Ke.pinchX,pinchY:Ke.pinchY,pinchScale:Ke.pinchScale,wheelDelta:Ke.zrDelta,zrByTouch:Ke.zrByTouch,which:Ke.which,stop:Q}}(we,Ke,Me);qe&&(qe[lt]&&(Lt.cancelBubble=!!qe[lt].call(qe,Lt)),qe.trigger(we,Lt),qe=qe.__hostTarget?qe.__hostTarget:qe.parent,!Lt.cancelBubble););Lt.cancelBubble||(this.trigger(we,Lt),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(Kt){"function"==typeof Kt[lt]&&Kt[lt].call(Kt,Lt),Kt.trigger&&Kt.trigger(we,Lt)}))}},Ye.prototype.findHover=function(Ke,we,Me){for(var qe=this.storage.getDisplayList(),lt=new re(Ke,we),Lt=qe.length-1;Lt>=0;Lt--){var Kt=void 0;if(qe[Lt]!==Me&&!qe[Lt].ignore&&(Kt=de(qe[Lt],Ke,we))&&(!lt.topTarget&&(lt.topTarget=qe[Lt]),Kt!==X)){lt.target=qe[Lt];break}}return lt},Ye.prototype.processGesture=function(Ke,we){this._gestureMgr||(this._gestureMgr=new H);var Me=this._gestureMgr;"start"===we&&Me.clear();var qe=Me.recognize(Ke,this.findHover(Ke.zrX,Ke.zrY,null).target,this.proxy.dom);if("end"===we&&Me.clear(),qe){var lt=qe.type;Ke.gestureEvent=lt;var Lt=new re;Lt.target=qe.target,this.dispatchToElement(Lt,lt,qe.event)}},Ye}(q.Z);function de(ft,Ye,Ke){if(ft[ft.rectHover?"rectContain":"contain"](Ye,Ke)){for(var we=ft,Me=void 0,qe=!1;we;){if(we.ignoreClip&&(qe=!0),!qe){var lt=we.getClipPath();if(lt&&!lt.contain(Ye,Ke))return!1;we.silent&&(Me=!0)}we=we.__hostTarget||we.parent}return!Me||X}return!1}function oe(ft,Ye,Ke){var we=ft.painter;return Ye<0||Ye>we.getWidth()||Ke<0||Ke>we.getHeight()}R.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(ft){ne.prototype[ft]=function(Ye){var qe,lt,Ke=Ye.zrX,we=Ye.zrY,Me=oe(this,Ke,we);if(("mouseup"!==ft||!Me)&&(lt=(qe=this.findHover(Ke,we)).target),"mousedown"===ft)this._downEl=lt,this._downPoint=[Ye.zrX,Ye.zrY],this._upEl=lt;else if("mouseup"===ft)this._upEl=lt;else if("click"===ft){if(this._downEl!==this._upEl||!this._downPoint||Se.dist(this._downPoint,[Ye.zrX,Ye.zrY])>4)return;this._downPoint=null}this.dispatchToElement(qe,ft,Ye)}});const Z=ne;var U=E(7318),W=E(558),L=!1;function D(){L||(L=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function A(ft,Ye){return ft.zlevel===Ye.zlevel?ft.z===Ye.z?ft.z2-Ye.z2:ft.z-Ye.z:ft.zlevel-Ye.zlevel}var M=function(){function ft(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=A}return ft.prototype.traverse=function(Ye,Ke){for(var we=0;we<this._roots.length;we++)this._roots[we].traverse(Ye,Ke)},ft.prototype.getDisplayList=function(Ye,Ke){Ke=Ke||!1;var we=this._displayList;return(Ye||!we.length)&&this.updateDisplayList(Ke),we},ft.prototype.updateDisplayList=function(Ye){this._displayListLen=0;for(var Ke=this._roots,we=this._displayList,Me=0,qe=Ke.length;Me<qe;Me++)this._updateAndAddDisplayable(Ke[Me],null,Ye);we.length=this._displayListLen,m.Z.canvasSupported&&(0,U.Z)(we,A)},ft.prototype._updateAndAddDisplayable=function(Ye,Ke,we){if(!Ye.ignore||we){Ye.beforeUpdate(),Ye.update(),Ye.afterUpdate();var Me=Ye.getClipPath();if(Ye.ignoreClip)Ke=null;else if(Me){Ke=Ke?Ke.slice():[];for(var qe=Me,lt=Ye;qe;)qe.parent=lt,qe.updateTransform(),Ke.push(qe),lt=qe,qe=qe.getClipPath()}if(Ye.childrenRef){for(var Lt=Ye.childrenRef(),Kt=0;Kt<Lt.length;Kt++){var Mn=Lt[Kt];Ye.__dirty&&(Mn.__dirty|=W.YV),this._updateAndAddDisplayable(Mn,Ke,we)}Ye.__dirty=0}else{var Zt=Ye;Ke&&Ke.length?Zt.__clipPaths=Ke:Zt.__clipPaths&&Zt.__clipPaths.length>0&&(Zt.__clipPaths=[]),isNaN(Zt.z)&&(D(),Zt.z=0),isNaN(Zt.z2)&&(D(),Zt.z2=0),isNaN(Zt.zlevel)&&(D(),Zt.zlevel=0),this._displayList[this._displayListLen++]=Zt}var er=Ye.getDecalElement&&Ye.getDecalElement();er&&this._updateAndAddDisplayable(er,Ke,we);var Un=Ye.getTextGuideLine();Un&&this._updateAndAddDisplayable(Un,Ke,we);var dr=Ye.getTextContent();dr&&this._updateAndAddDisplayable(dr,Ke,we)}},ft.prototype.addRoot=function(Ye){Ye.__zr&&Ye.__zr.storage===this||this._roots.push(Ye)},ft.prototype.delRoot=function(Ye){if(Ye instanceof Array)for(var Ke=0,we=Ye.length;Ke<we;Ke++)this.delRoot(Ye[Ke]);else{var Me=R.indexOf(this._roots,Ye);Me>=0&&this._roots.splice(Me,1)}},ft.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},ft.prototype.getRoots=function(){return this._roots},ft.prototype.dispose=function(){this._displayList=null,this._roots=null},ft}();const C=M;var P=E(8996),N=E(547),ee=function(ft){function Ye(Ke){var we=ft.call(this)||this;return we._running=!1,we._time=0,we._pausedTime=0,we._pauseStart=0,we._paused=!1,we.stage=(Ke=Ke||{}).stage||{},we.onframe=Ke.onframe||function(){},we}return(0,k.ZT)(Ye,ft),Ye.prototype.addClip=function(Ke){Ke.animation&&this.removeClip(Ke),this._clipsHead?(this._clipsTail.next=Ke,Ke.prev=this._clipsTail,Ke.next=null,this._clipsTail=Ke):this._clipsHead=this._clipsTail=Ke,Ke.animation=this},Ye.prototype.addAnimator=function(Ke){Ke.animation=this;var we=Ke.getClip();we&&this.addClip(we)},Ye.prototype.removeClip=function(Ke){if(Ke.animation){var we=Ke.prev,Me=Ke.next;we?we.next=Me:this._clipsHead=Me,Me?Me.prev=we:this._clipsTail=we,Ke.next=Ke.prev=Ke.animation=null}},Ye.prototype.removeAnimator=function(Ke){var we=Ke.getClip();we&&this.removeClip(we),Ke.animation=null},Ye.prototype.update=function(Ke){for(var we=(new Date).getTime()-this._pausedTime,Me=we-this._time,qe=this._clipsHead;qe;){var lt=qe.next;qe.step(we,Me)&&(qe.ondestroy&&qe.ondestroy(),this.removeClip(qe)),qe=lt}this._time=we,Ke||(this.onframe(Me),this.trigger("frame",Me),this.stage.update&&this.stage.update())},Ye.prototype._startLoop=function(){var Ke=this;this._running=!0,(0,P.Z)(function we(){Ke._running&&((0,P.Z)(we),!Ke._paused&&Ke.update())})},Ye.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},Ye.prototype.stop=function(){this._running=!1},Ye.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},Ye.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},Ye.prototype.clear=function(){for(var Ke=this._clipsHead;Ke;){var we=Ke.next;Ke.prev=Ke.next=Ke.animation=null,Ke=we}this._clipsHead=this._clipsTail=null},Ye.prototype.isFinished=function(){return null==this._clipsHead},Ye.prototype.animate=function(Ke,we){we=we||{},this.start();var Me=new N.ZP(Ke,we.loop);return this.addAnimator(Me),Me},Ye}(q.Z);const ye=ee;var ft,Ke,he=m.Z.domSupported,me=(Ke={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:ft=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:R.map(ft,function(Me){var qe=Me.replace("mouse","pointer");return Ke.hasOwnProperty(qe)?qe:Me})}),Re_mouse=["mousemove","mouseup"],Re_pointer=["pointermove","pointerup"],Le=!1;function Je(ft){var Ye=ft.pointerType;return"pen"===Ye||"touch"===Ye}function Ve(ft){ft&&(ft.zrByTouch=!0)}function et(ft,Ye){for(var Ke=Ye,we=!1;Ke&&9!==Ke.nodeType&&!(we=Ke.domBelongToZr||Ke!==Ye&&Ke===ft.painterRoot);)Ke=Ke.parentNode;return we}var Ue=function(Ye,Ke){this.stopPropagation=R.noop,this.stopImmediatePropagation=R.noop,this.preventDefault=R.noop,this.type=Ke.type,this.target=this.currentTarget=Ye.dom,this.pointerType=Ke.pointerType,this.clientX=Ke.clientX,this.clientY=Ke.clientY},xt={mousedown:function(ft){ft=(0,K.OD)(this.dom,ft),this.__mayPointerCapture=[ft.zrX,ft.zrY],this.trigger("mousedown",ft)},mousemove:function(ft){ft=(0,K.OD)(this.dom,ft);var Ye=this.__mayPointerCapture;Ye&&(ft.zrX!==Ye[0]||ft.zrY!==Ye[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",ft)},mouseup:function(ft){ft=(0,K.OD)(this.dom,ft),this.__togglePointerCapture(!1),this.trigger("mouseup",ft)},mouseout:function(ft){et(this,(ft=(0,K.OD)(this.dom,ft)).toElement||ft.relatedTarget)||(this.__pointerCapturing&&(ft.zrEventControl="no_globalout"),this.trigger("mouseout",ft))},wheel:function(ft){Le=!0,ft=(0,K.OD)(this.dom,ft),this.trigger("mousewheel",ft)},mousewheel:function(ft){Le||(ft=(0,K.OD)(this.dom,ft),this.trigger("mousewheel",ft))},touchstart:function(ft){Ve(ft=(0,K.OD)(this.dom,ft)),this.__lastTouchMoment=new Date,this.handler.processGesture(ft,"start"),xt.mousemove.call(this,ft),xt.mousedown.call(this,ft)},touchmove:function(ft){Ve(ft=(0,K.OD)(this.dom,ft)),this.handler.processGesture(ft,"change"),xt.mousemove.call(this,ft)},touchend:function(ft){Ve(ft=(0,K.OD)(this.dom,ft)),this.handler.processGesture(ft,"end"),xt.mouseup.call(this,ft),+new Date-+this.__lastTouchMoment<300&&xt.click.call(this,ft)},pointerdown:function(ft){xt.mousedown.call(this,ft)},pointermove:function(ft){Je(ft)||xt.mousemove.call(this,ft)},pointerup:function(ft){xt.mouseup.call(this,ft)},pointerout:function(ft){Je(ft)||xt.mouseout.call(this,ft)}};R.each(["click","dblclick","contextmenu"],function(ft){xt[ft]=function(Ye){Ye=(0,K.OD)(this.dom,Ye),this.trigger(ft,Ye)}});var It={pointermove:function(ft){Je(ft)||It.mousemove.call(this,ft)},pointerup:function(ft){It.mouseup.call(this,ft)},mousemove:function(ft){this.trigger("mousemove",ft)},mouseup:function(ft){var Ye=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",ft),Ye&&(ft.zrEventControl="only_globalout",this.trigger("mouseout",ft))}};function Qt(ft,Ye,Ke,we){ft.mounted[Ye]=Ke,ft.listenerOpts[Ye]=we,(0,K.Oo)(ft.domTarget,Ye,Ke,we)}function gn(ft){var Ye=ft.mounted;for(var Ke in Ye)Ye.hasOwnProperty(Ke)&&(0,K.xg)(ft.domTarget,Ke,Ye[Ke],ft.listenerOpts[Ke]);ft.mounted={}}var In=function(Ye,Ke){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=Ye,this.domHandlers=Ke},Dn=function(ft){function Ye(Ke,we){var Me=ft.call(this)||this;return Me.__pointerCapturing=!1,Me.dom=Ke,Me.painterRoot=we,Me._localHandlerScope=new In(Ke,xt),he&&(Me._globalHandlerScope=new In(document,It)),function(ft,Ye){var Ke=Ye.domHandlers;m.Z.pointerEventsSupported?R.each(me.pointer,function(we){Qt(Ye,we,function(Me){Ke[we].call(ft,Me)})}):(m.Z.touchEventsSupported&&R.each(me.touch,function(we){Qt(Ye,we,function(Me){Ke[we].call(ft,Me),function(ft){ft.touching=!0,null!=ft.touchTimer&&(clearTimeout(ft.touchTimer),ft.touchTimer=null),ft.touchTimer=setTimeout(function(){ft.touching=!1,ft.touchTimer=null},700)}(Ye)})}),R.each(me.mouse,function(we){Qt(Ye,we,function(Me){Me=(0,K.iP)(Me),Ye.touching||Ke[we].call(ft,Me)})}))}(Me,Me._localHandlerScope),Me}return(0,k.ZT)(Ye,ft),Ye.prototype.dispose=function(){gn(this._localHandlerScope),he&&gn(this._globalHandlerScope)},Ye.prototype.setCursor=function(Ke){this.dom.style&&(this.dom.style.cursor=Ke||"default")},Ye.prototype.__togglePointerCapture=function(Ke){if(this.__mayPointerCapture=null,he&&+this.__pointerCapturing^+Ke){this.__pointerCapturing=Ke;var we=this._globalHandlerScope;Ke?function(ft,Ye){function Ke(we){Qt(Ye,we,function(qe){qe=(0,K.iP)(qe),et(ft,qe.target)||(qe=function(ft,Ye){return(0,K.OD)(ft.dom,new Ue(ft,Ye),!0)}(ft,qe),Ye.domHandlers[we].call(ft,qe))},{capture:!0})}m.Z.pointerEventsSupported?R.each(Re_pointer,Ke):m.Z.touchEventsSupported||R.each(Re_mouse,Ke)}(this,we):gn(we)}},Ye}(q.Z);const Yt=Dn;var sn=E(589),it=E(4297),vn=E(7350),wt=!m.Z.canvasSupported,ke={},je={},$t=function(){function ft(Ye,Ke,we){var Me=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,we=we||{},this.dom=Ke,this.id=Ye;var qe=new C,lt=we.renderer||"canvas";if(wt)throw new Error("IE8 support has been dropped since 5.0");if(ke[lt]||(lt=R.keys(ke)[0]),!ke[lt])throw new Error("Renderer '"+lt+"' is not imported. Please import it first.");we.useDirtyRect=null!=we.useDirtyRect&&we.useDirtyRect;var Lt=new ke[lt](Ke,qe,we,Ye);this.storage=qe,this.painter=Lt;var Kt=m.Z.node||m.Z.worker?null:new Yt(Lt.getViewportRoot(),Lt.root);this.handler=new Z(qe,Lt,Kt,Lt.root),this.animation=new ye({stage:{update:function(){return Me._flush(!0)}}}),this.animation.start()}return ft.prototype.add=function(Ye){!Ye||(this.storage.addRoot(Ye),Ye.addSelfToZr(this),this.refresh())},ft.prototype.remove=function(Ye){!Ye||(this.storage.delRoot(Ye),Ye.removeSelfFromZr(this),this.refresh())},ft.prototype.configLayer=function(Ye,Ke){this.painter.configLayer&&this.painter.configLayer(Ye,Ke),this.refresh()},ft.prototype.setBackgroundColor=function(Ye){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(Ye),this.refresh(),this._backgroundColor=Ye,this._darkMode=function(ft){if(!ft)return!1;if("string"==typeof ft)return(0,sn.lum)(ft,1)<it.Ak;if(ft.colorStops){for(var Ye=ft.colorStops,Ke=0,we=Ye.length,Me=0;Me<we;Me++)Ke+=(0,sn.lum)(Ye[Me].color,1);return(Ke/=we)<it.Ak}return!1}(Ye)},ft.prototype.getBackgroundColor=function(){return this._backgroundColor},ft.prototype.setDarkMode=function(Ye){this._darkMode=Ye},ft.prototype.isDarkMode=function(){return this._darkMode},ft.prototype.refreshImmediately=function(Ye){Ye||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},ft.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},ft.prototype.flush=function(){this._flush(!1)},ft.prototype._flush=function(Ye){var Ke,we=(new Date).getTime();this._needsRefresh&&(Ke=!0,this.refreshImmediately(Ye)),this._needsRefreshHover&&(Ke=!0,this.refreshHoverImmediately());var Me=(new Date).getTime();Ke?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Me-we})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},ft.prototype.setSleepAfterStill=function(Ye){this._sleepAfterStill=Ye},ft.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},ft.prototype.addHover=function(Ye){},ft.prototype.removeHover=function(Ye){},ft.prototype.clearHover=function(){},ft.prototype.refreshHover=function(){this._needsRefreshHover=!0},ft.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},ft.prototype.resize=function(Ye){this.painter.resize((Ye=Ye||{}).width,Ye.height),this.handler.resize()},ft.prototype.clearAnimation=function(){this.animation.clear()},ft.prototype.getWidth=function(){return this.painter.getWidth()},ft.prototype.getHeight=function(){return this.painter.getHeight()},ft.prototype.pathToImage=function(Ye,Ke){if(this.painter.pathToImage)return this.painter.pathToImage(Ye,Ke)},ft.prototype.setCursorStyle=function(Ye){this.handler.setCursorStyle(Ye)},ft.prototype.findHover=function(Ye,Ke){return this.handler.findHover(Ye,Ke)},ft.prototype.on=function(Ye,Ke,we){return this.handler.on(Ye,Ke,we),this},ft.prototype.off=function(Ye,Ke){this.handler.off(Ye,Ke)},ft.prototype.trigger=function(Ye,Ke){this.handler.trigger(Ye,Ke)},ft.prototype.clear=function(){for(var Ye=this.storage.getRoots(),Ke=0;Ke<Ye.length;Ke++)Ye[Ke]instanceof vn.Z&&Ye[Ke].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},ft.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(ft){delete je[ft]}(this.id)},ft}();function cn(ft,Ye){var Ke=new $t(R.guid(),ft,Ye);return je[Ke.id]=Ke,Ke}function ct(ft){ft.dispose()}function tt(){for(var ft in je)je.hasOwnProperty(ft)&&je[ft].dispose();je={}}function _t(ft){return je[ft]}function zt(ft,Ye){ke[ft]=Ye}var Ft="5.2.1"},6553:(un,ot,E)=>{"use strict";E.d(ot,{y:()=>Oi});var m=E(3668),Se=(E(4099),E(9987),{locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click sort by descend",triggerAsc:"Click sort by ascend",cancelSort:"Click to cancel sort"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"}});const y=new m.OlP("nz-i18n");new m.OlP("nz-date-locale"),new m.OlP("date-config");var qe=E(8772),lt=E(4696),Lt=E(2585),Kt=E(7407),Mn=E(4199),Zt=E(6091),er=E(1858),Un=E(2953),si=(E(4762),E(3398),E(2355)),Xn=(E(3405),E(8805),E(7867),E(6019)),wi=E(5142);let Rr=(()=>{class Xt{}return Xt.\u0275fac=function(Qn){return new(Qn||Xt)},Xt.\u0275mod=m.oAB({type:Xt}),Xt.\u0275inj=m.cJS({imports:[[Xn.ez,wi.T],si.vT]}),Xt})();var kr=E(2660),Fr=E(3109);const ri=[qe.PV,lt.ip,Lt.Jb,Kt.lt,Mn.wm,Zt.sL,er.gR,Un.we,Rr,kr.S,Fr.KJ];let Oi=(()=>{class Xt{}return Xt.\u0275fac=function(Qn){return new(Qn||Xt)},Xt.\u0275mod=m.oAB({type:Xt}),Xt.\u0275inj=m.cJS({providers:[{provide:y,useValue:Se}],imports:[[...ri],qe.PV,lt.ip,Lt.Jb,Kt.lt,Mn.wm,Zt.sL,er.gR,Un.we,Rr,kr.S,Fr.KJ]}),Xt})()},4785:(un,ot,E)=>{"use strict";E.d(ot,{m:()=>K});var m=E(6019),R=E(6553),k=E(3268),Se=E(8772),le=E(2),y=E(3668);const ce=[le.LBP,le._ry,le.Ej7,le.WH2];let q=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=y.oAB({type:H}),H.\u0275inj=y.cJS({providers:[{provide:Se.sV,useValue:ce}]}),H})(),K=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=y.oAB({type:H}),H.\u0275inj=y.cJS({imports:[[m.ez,q,R.y,k.JP.forChild()],q,R.y,k.JP]}),H})()},7963:(un,ot,E)=>{"use strict";var m=E(5427),R=E(3668),k=E(3268),Se=E(9010),le=E(4522),y=E(9555),ce=E(6019);const q=void 0,H=["en",[["a","p"],["AM","PM"],q],[["AM","PM"],q,q],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],q,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],q,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",q,"{1} 'at' {0}",q],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const c=Math.floor(Math.abs(e)),f=e.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];var Y=E(6553),V=E(3705),j=E(8223);const X=[{path:"",pathMatch:"full",redirectTo:"/welcome"},{path:"welcome",loadChildren:()=>E.e(571).then(E.bind(E,8571)).then(e=>e.WelcomeModule)},{path:"basic",loadChildren:()=>Promise.all([E.e(592),E.e(673)]).then(E.bind(E,9673)).then(e=>e.DemoBasicModule)},{path:"advanced",loadChildren:()=>Promise.all([E.e(592),E.e(981)]).then(E.bind(E,4981)).then(e=>e.DemoAdvancedModule)},{path:"series",loadChildren:()=>Promise.all([E.e(592),E.e(987)]).then(E.bind(E,987)).then(e=>e.DemoSeriesModule)},{path:"gl",loadChildren:()=>Promise.all([E.e(592),E.e(923)]).then(E.bind(E,4923)).then(e=>e.DemoGlModule)}];let xe=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275mod=R.oAB({type:e}),e.\u0275inj=R.cJS({imports:[[j.Bz.forRoot(X)],j.Bz]}),e})();var Q=E(4199),fe=E(8735);const re=[{path:"/welcome",icon:"home",text:"Home"},{path:"/basic",icon:"appstore",text:"Getting Started"},{path:"/advanced",icon:"group",text:"Advanced"},{path:"/series",icon:"bar-chart",text:"Series",submenus:[{path:"/series/graph",text:"Graph"},{path:"/series/tree",text:"Tree"}]},{path:"/gl",icon:"heat-map",text:"GL",submenus:[{path:"/gl/bar3d",text:"3D Bar"}]}];var ie=E(4696),ne=E(4090),de=E(8772);function oe(e,r){if(1&e&&(R.ynx(0),R.TgZ(1,"li",4),R.TgZ(2,"span",5),R._UZ(3,"i",6),R.TgZ(4,"span",7),R._uU(5),R.qZA(),R.qZA(),R.qZA(),R.BQk()),2&e){const c=R.oxw().$implicit;R.xp6(1),R.Q6J("routerLink",c.path)("routerLinkActive","ant-menu-item-selected"),R.xp6(2),R.Q6J("nzType",c.icon)("nzTheme",c.iconTheme?c.iconTheme:"outline"),R.xp6(2),R.Oqu(c.text)}}function Z(e,r){if(1&e&&R._UZ(0,"i",6),2&e){const c=R.oxw().$implicit;R.Q6J("nzType",c.icon)("nzTheme",c.iconTheme?c.iconTheme:"outline")}}function U(e,r){if(1&e&&(R.TgZ(0,"li",4),R.TgZ(1,"span",5),R.YNc(2,Z,1,2,"i",10),R.TgZ(3,"span",7),R._uU(4),R.qZA(),R.qZA(),R.qZA()),2&e){const c=r.$implicit;R.Q6J("routerLink",c.path)("routerLinkActive","ant-menu-item-selected"),R.xp6(2),R.Q6J("ngIf",c.icon),R.xp6(2),R.Oqu(c.text)}}function W(e,r){if(1&e&&(R.TgZ(0,"li",8),R.TgZ(1,"ul"),R.YNc(2,U,5,4,"li",9),R.qZA(),R.qZA()),2&e){const c=R.oxw().$implicit,f=R.oxw();R.Q6J("nzTitle",c.text)("nzIcon",c.icon)("nzOpen",c.pathRegex.test(f.currentUrl)),R.xp6(2),R.Q6J("ngForOf",c.submenus)}}function L(e,r){if(1&e&&(R.YNc(0,oe,6,5,"ng-container",2),R.YNc(1,W,3,4,"ng-template",null,3,R.W1O)),2&e){const c=r.$implicit,f=R.MAs(2);R.Q6J("ngIf",!c.submenus)("ngIfElse",f)}}let D=(()=>{class e{constructor(c){this.router=c,c.events.pipe((0,fe.h)(f=>f instanceof j.m2)).subscribe(f=>{this.currentUrl=f.url}),this.menus=re.map(f=>({path:f.path,pathRegex:new RegExp(f.path),text:f.text,icon:f.icon,iconTheme:f.iconTheme,submenus:f.submenus?f.submenus.concat():void 0}))}ngOnInit(){}}return e.\u0275fac=function(c){return new(c||e)(R.Y36(j.F0))},e.\u0275cmp=R.Xpm({type:e,selectors:[["app-menu"]],inputs:{isCollapsed:"isCollapsed"},decls:2,vars:3,consts:[["nz-menu","","nzTheme","dark",3,"nzMode","nzInlineCollapsed"],["ngFor","",3,"ngForOf"],[4,"ngIf","ngIfElse"],["submenu",""],["nz-menu-item","",3,"routerLink","routerLinkActive"],["title",""],["nz-icon","",3,"nzType","nzTheme"],[1,"nav-text"],["nz-submenu","",3,"nzTitle","nzIcon","nzOpen"],["nz-menu-item","",3,"routerLink","routerLinkActive",4,"ngFor","ngForOf"],["nz-icon","",3,"nzType","nzTheme",4,"ngIf"]],template:function(c,f){1&c&&(R.TgZ(0,"ul",0),R.YNc(1,L,3,2,"ng-template",1),R.qZA()),2&c&&(R.Q6J("nzMode","inline")("nzInlineCollapsed",f.isCollapsed),R.xp6(1),R.Q6J("ngForOf",f.menus))},directives:[ie.wO,ce.sg,ce.O5,ie.r9,ne.w,j.rH,j.Od,de.Ls,ie.rY],styles:[""]}),e})(),A=(()=>{class e{constructor(){this.isCollapsed=!1}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=R.Xpm({type:e,selectors:[["app-root"]],decls:18,vars:4,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsed","nzTrigger","nzCollapsedChange"],[1,"sidebar-logo"],["href","https://xieziyu.github.io/ngx-echarts","target","_blank"],["src","assets/img/angular.svg","alt","logo"],[3,"isCollapsed"],[1,"app-header"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],["href","https://github.com/xieziyu/ngx-echarts","target","_blank",1,"github-logo"],["nz-icon","","nzType","github","nzTheme","outline",1,"trigger"],[1,"inner-content"]],template:function(c,f){1&c&&(R.TgZ(0,"nz-layout",0),R.TgZ(1,"nz-sider",1),R.NdJ("nzCollapsedChange",function(x){return f.isCollapsed=x}),R.TgZ(2,"div",2),R.TgZ(3,"a",3),R._UZ(4,"img",4),R.TgZ(5,"h1"),R._uU(6,"ngx-echarts"),R.qZA(),R.qZA(),R.qZA(),R._UZ(7,"app-menu",5),R.qZA(),R.TgZ(8,"nz-layout"),R.TgZ(9,"nz-header"),R.TgZ(10,"div",6),R.TgZ(11,"span",7),R.NdJ("click",function(){return f.isCollapsed=!f.isCollapsed}),R._UZ(12,"i",8),R.qZA(),R.TgZ(13,"a",9),R._UZ(14,"i",10),R.qZA(),R.qZA(),R.qZA(),R.TgZ(15,"nz-content"),R.TgZ(16,"div",11),R._UZ(17,"router-outlet"),R.qZA(),R.qZA(),R.qZA(),R.qZA()),2&c&&(R.xp6(1),R.Q6J("nzCollapsed",f.isCollapsed)("nzTrigger",null),R.xp6(6),R.Q6J("isCollapsed",f.isCollapsed),R.xp6(5),R.Q6J("nzType",f.isCollapsed?"menu-unfold":"menu-fold"))},directives:[Q.hw,Q.t7,D,Q.E8,de.Ls,ne.w,Q.OK,j.lC],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100vh}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:100vh;box-shadow:2px 0 6px #00152959}.header-trigger[_ngcontent-%COMP%]{padding:20px 24px;font-size:20px;cursor:pointer;transition:all .3s,padding 0s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding-left:24px;overflow:hidden;line-height:64px;background:#001529;transition:all .3s}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 20px;color:#fff;font-weight:600;font-size:25px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;background:#fff;box-shadow:0 1px 4px #00152914;display:flex;justify-content:space-between;align-items:center}.github-logo[_ngcontent-%COMP%]{padding:0 24px;font-size:25px;cursor:pointer;transition:all .3s,padding 0s}a.github-logo[_ngcontent-%COMP%]{color:#000000a6}nz-content[_ngcontent-%COMP%]{margin:24px}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff}"]}),e})();var M=E(4785);let C=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275mod=R.oAB({type:e}),e.\u0275inj=R.cJS({imports:[[ce.ez,M.m,j.Bz]]}),e})();var P=E(4302),N=E(5051),ye=(E(1347),E(9043)),Te=E(1705),he=E(437);function Re(e,r,c){"object"==typeof r&&(c=r,r=null);var p,f=this;if(!(e instanceof Function))for(var x in p=[],e)e.hasOwnProperty(x)&&p.push(x);var w=function(F){if(f.apply(this,arguments),e instanceof Function?Le(this,e.call(this,F)):Je(this,e,p),this.constructor===w)for(var $=w.__initializers__,ue=0;ue<$.length;ue++)$[ue].apply(this,arguments)};w.__super__=f,w.__initializers__=f.__initializers__?f.__initializers__.slice():[],r&&w.__initializers__.push(r);var I=function(){};return I.prototype=f.prototype,w.prototype=new I,w.prototype.constructor=w,Le(w.prototype,c),w.extend=f.extend,w.derive=f.extend,w}function Le(e,r){if(r)for(var c in r)r.hasOwnProperty(c)&&(e[c]=r[c])}function Je(e,r,c){for(var f=0;f<c.length;f++){var p=c[f];e[p]=r[p]}}(0,N.D)([ye.N,Te.N]),(0,N.D)(he.T);const Oe={extend:Re,derive:Re};function Ve(e,r){this.action=e,this.context=r}var Fe={trigger:function(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var r=this.__handlers__[e],c=r.length,f=-1,p=arguments;switch(p.length){case 1:for(;++f<c;)r[f].action.call(r[f].context);return;case 2:for(;++f<c;)r[f].action.call(r[f].context,p[1]);return;case 3:for(;++f<c;)r[f].action.call(r[f].context,p[1],p[2]);return;case 4:for(;++f<c;)r[f].action.call(r[f].context,p[1],p[2],p[3]);return;case 5:for(;++f<c;)r[f].action.call(r[f].context,p[1],p[2],p[3],p[4]);return;default:for(;++f<c;)r[f].action.apply(r[f].context,Array.prototype.slice.call(p,1));return}}},on:function(e,r,c){if(e&&r){var f=this.__handlers__||(this.__handlers__={});if(f[e]){if(this.has(e,r))return}else f[e]=[];var p=new Ve(r,c||this);return f[e].push(p),this}},once:function(e,r,c){if(e&&r){var f=this;return this.on(e,function p(){f.off(e,p),r.apply(this,arguments)},c)}},before:function(e,r,c){if(e&&r)return this.on(e="before"+e,r,c)},after:function(e,r,c){if(e&&r)return this.on(e="after"+e,r,c)},success:function(e,r){return this.once("success",e,r)},error:function(e,r){return this.once("error",e,r)},off:function(e,r){var c=this.__handlers__||(this.__handlers__={});if(r){if(c[e]){for(var f=c[e],p=[],x=0;x<f.length;x++)r&&f[x].action!==r&&p.push(f[x]);c[e]=p}return this}c[e]=[]},has:function(e,r){var c=this.__handlers__;if(!c||!c[e])return!1;for(var f=c[e],p=0;p<f.length;p++)if(f[p].action===r)return!0}};const et=Fe;var Ue=0,It=Array.prototype.forEach,Pt={genGUID:function(){return++Ue},relative2absolute:function(e,r){if(!r||e.match(/^\//))return e;for(var c=e.split("/"),f=r.split("/"),p=c[0];"."===p||".."===p;)".."===p&&f.pop(),c.shift(),p=c[0];return f.join("/")+"/"+c.join("/")},extend:function(e,r){if(r)for(var c in r)r.hasOwnProperty(c)&&(e[c]=r[c]);return e},defaults:function(e,r){if(r)for(var c in r)void 0===e[c]&&(e[c]=r[c]);return e},extendWithPropList:function(e,r,c){if(r)for(var f=0;f<c.length;f++){var p=c[f];e[p]=r[p]}return e},defaultsWithPropList:function(e,r,c){if(r)for(var f=0;f<c.length;f++){var p=c[f];null==e[p]&&(e[p]=r[p])}return e},each:function(e,r,c){if(e&&r)if(e.forEach&&e.forEach===It)e.forEach(r,c);else if(e.length===+e.length)for(var f=0,p=e.length;f<p;f++)r.call(c,e[f],f,e);else for(var x in e)e.hasOwnProperty(x)&&r.call(c,e[x],x,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return!!e&&e.length===+e.length},clone:function(e){if(Pt.isObject(e)){if(Pt.isArray(e))return e.slice();if(Pt.isArrayLike(e)){for(var r=new e.constructor(e.length),c=0;c<e.length;c++)r[c]=e[c];return r}return Pt.extend({},e)}return e}};const Wt=Pt;var Qt=function(){this.__uid__=Wt.genGUID()};Qt.__initializers__=[function(e){Wt.extend(this,e)}],Wt.extend(Qt,Oe),Wt.extend(Qt.prototype,et);const gn=Qt;var In=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],Dn=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];const sn=function(e){for(var r={},c={},f=0;f<In.length;f++)w(In[f]);for(f=0;f<Dn.length;f++){var x=Dn[f];c[x]=e.getParameter(e[x])}function w(I){if(e.getExtension){var F=e.getExtension(I);F||(F=e.getExtension("MOZ_"+I)),F||(F=e.getExtension("WEBKIT_"+I)),r[I]=F}}this.getExtension=function(I){return I in r||w(I),r[I]},this.getParameter=function(I){return c[I]}},wt={get:function(e){var r=new XMLHttpRequest;r.open("get",e.url),r.responseType=e.responseType||"text",e.onprogress&&(r.onprogress=function(c){c.lengthComputable?e.onprogress(c.loaded/c.total,c.loaded,c.total):e.onprogress(null)}),r.onload=function(c){r.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(r.response)},e.onerror&&(r.onerror=e.onerror),r.send(null)}};var ke,je={supportWebGL:function(){if(null==ke)try{var e=document.createElement("canvas");if(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))throw new Error}catch(c){ke=!1}return ke}};je.Int8Array="undefined"==typeof Int8Array?Array:Int8Array,je.Uint8Array="undefined"==typeof Uint8Array?Array:Uint8Array,je.Uint16Array="undefined"==typeof Uint16Array?Array:Uint16Array,je.Uint32Array="undefined"==typeof Uint32Array?Array:Uint32Array,je.Int16Array="undefined"==typeof Int16Array?Array:Int16Array,je.Float32Array="undefined"==typeof Float32Array?Array:Float32Array,je.Float64Array="undefined"==typeof Float64Array?Array:Float64Array;var yt={};"undefined"!=typeof window?yt=window:"undefined"!=typeof global&&(yt=global),je.requestAnimationFrame=yt.requestAnimationFrame||yt.msRequestAnimationFrame||yt.mozRequestAnimationFrame||yt.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},je.createCanvas=function(){return document.createElement("canvas")},je.createImage=function(){return new yt.Image},je.request={get:wt.get},je.addEventListener=function(e,r,c,f){e.addEventListener(r,c,f)},je.removeEventListener=function(e,r,c){e.removeEventListener(r,c)};const Et=je;var $t=function(){this.head=null,this.tail=null,this._length=0};$t.prototype.insert=function(e){var r=new $t.Entry(e);return this.insertEntry(r),r},$t.prototype.insertAt=function(e,r){if(!(e<0)){for(var c=this.head,f=0;c&&f!=e;)c=c.next,f++;if(c){var p=new $t.Entry(r),x=c.prev;x?(x.next=p,p.prev=x):this.head=p,p.next=c,c.prev=p}else this.insert(r)}},$t.prototype.insertBeforeEntry=function(e,r){var c=new $t.Entry(e),f=r.prev;f?(f.next=c,c.prev=f):this.head=c,c.next=r,r.prev=c,this._length++},$t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++},$t.prototype.remove=function(e){var r=e.prev,c=e.next;r?r.next=c:this.head=c,c?c.prev=r:this.tail=r,e.next=e.prev=null,this._length--},$t.prototype.removeAt=function(e){if(!(e<0)){for(var r=this.head,c=0;r&&c!=e;)r=r.next,c++;if(r)return this.remove(r),r.value}},$t.prototype.getHead=function(){if(this.head)return this.head.value},$t.prototype.getTail=function(){if(this.tail)return this.tail.value},$t.prototype.getAt=function(e){if(!(e<0)){for(var r=this.head,c=0;r&&c!=e;)r=r.next,c++;return r.value}},$t.prototype.indexOf=function(e){for(var r=this.head,c=0;r;){if(r.value===e)return c;r=r.next,c++}},$t.prototype.length=function(){return this._length},$t.prototype.isEmpty=function(){return 0===this._length},$t.prototype.forEach=function(e,r){for(var c=this.head,f=0,p=void 0!==r;c;)p?e.call(r,c.value,f):e(c.value,f),c=c.next,f++},$t.prototype.clear=function(){this.tail=this.head=null,this._length=0},$t.Entry=function(e){this.value=e,this.next=null,this.prev=null};const cn=$t;var ct=function(e){this._list=new cn,this._map={},this._maxSize=e||10};ct.prototype.setMaxSize=function(e){this._maxSize=e},ct.prototype.put=function(e,r){if(!this._map.hasOwnProperty(e)){var c=this._list.length();if(c>=this._maxSize&&c>0){var f=this._list.head;this._list.remove(f),delete this._map[f.key]}var p=this._list.insert(r);p.key=e,this._map[e]=p}},ct.prototype.get=function(e){var r=this._map[e];if(this._map.hasOwnProperty(e))return r!==this._list.tail&&(this._list.remove(r),this._list.insertEntry(r)),r.value},ct.prototype.remove=function(e){var r=this._map[e];void 0!==r&&(delete this._map[e],this._list.remove(r))},ct.prototype.clear=function(){this._list.clear(),this._map={}};const tt=ct;var _t={},zt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ft(e){return(e=Math.round(e))<0?0:e>255?255:e}function Ye(e){return e<0?0:e>1?1:e}function Ke(e){return e.length&&"%"===e.charAt(e.length-1)?Ft(parseFloat(e)/100*255):Ft(parseInt(e,10))}function we(e){return e.length&&"%"===e.charAt(e.length-1)?Ye(parseFloat(e)/100):Ye(parseFloat(e))}function Me(e,r,c){return c<0?c+=1:c>1&&(c-=1),6*c<1?e+(r-e)*c*6:2*c<1?r:3*c<2?e+(r-e)*(2/3-c)*6:e}function qe(e,r,c){return e+(r-e)*c}function lt(e,r,c,f,p){return e[0]=r,e[1]=c,e[2]=f,e[3]=p,e}function Lt(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}var Kt=new tt(20),Mn=null;function Zt(e,r){Mn&&Lt(Mn,r),Mn=Kt.put(e,Mn||r.slice())}function er(e,r){var c=(parseFloat(e[0])%360+360)%360/360,f=we(e[1]),p=we(e[2]),x=p<=.5?p*(f+1):p+f-p*f,w=2*p-x;return lt(r=r||[],Ft(255*Me(w,x,c+1/3)),Ft(255*Me(w,x,c)),Ft(255*Me(w,x,c-1/3)),1),4===e.length&&(r[3]=e[3]),r}_t.parse=function(e,r){if(e){r=r||[];var c=Kt.get(e);if(c)return Lt(r,c);var p,f=(e+="").replace(/ /g,"").toLowerCase();if(f in zt)return Lt(r,zt[f]),Zt(e,r),r;if("#"===f.charAt(0))return 4===f.length?(p=parseInt(f.substr(1),16))>=0&&p<=4095?(lt(r,(3840&p)>>4|(3840&p)>>8,240&p|(240&p)>>4,15&p|(15&p)<<4,1),Zt(e,r),r):void lt(r,0,0,0,1):7===f.length?(p=parseInt(f.substr(1),16))>=0&&p<=16777215?(lt(r,(16711680&p)>>16,(65280&p)>>8,255&p,1),Zt(e,r),r):void lt(r,0,0,0,1):void 0;var x=f.indexOf("("),w=f.indexOf(")");if(-1!==x&&w+1===f.length){var I=f.substr(0,x),F=f.substr(x+1,w-(x+1)).split(","),$=1;switch(I){case"rgba":if(4!==F.length)return void lt(r,0,0,0,1);$=we(F.pop());case"rgb":return 3!==F.length?void lt(r,0,0,0,1):(lt(r,Ke(F[0]),Ke(F[1]),Ke(F[2]),$),Zt(e,r),r);case"hsla":return 4!==F.length?void lt(r,0,0,0,1):(F[3]=we(F[3]),er(F,r),Zt(e,r),r);case"hsl":return 3!==F.length?void lt(r,0,0,0,1):(er(F,r),Zt(e,r),r);default:return}}lt(r,0,0,0,1)}},_t.parseToFloat=function(e,r){if(r=_t.parse(e,r))return r[0]/=255,r[1]/=255,r[2]/=255,r},_t.lift=function(e,r){var c=_t.parse(e);if(c){for(var f=0;f<3;f++)c[f]=r<0?c[f]*(1-r)|0:(255-c[f])*r+c[f]|0;return _t.stringify(c,4===c.length?"rgba":"rgb")}},_t.toHex=function(e){var r=_t.parse(e);if(r)return((1<<24)+(r[0]<<16)+(r[1]<<8)+ +r[2]).toString(16).slice(1)},_t.fastLerp=function(e,r,c){if(r&&r.length&&e>=0&&e<=1){c=c||[];var f=e*(r.length-1),p=Math.floor(f),x=Math.ceil(f),w=r[p],I=r[x],F=f-p;return c[0]=Ft(qe(w[0],I[0],F)),c[1]=Ft(qe(w[1],I[1],F)),c[2]=Ft(qe(w[2],I[2],F)),c[3]=Ye(qe(w[3],I[3],F)),c}},_t.fastMapToColor=_t.fastLerp,_t.lerp=function(e,r,c){if(r&&r.length&&e>=0&&e<=1){var f=e*(r.length-1),p=Math.floor(f),x=Math.ceil(f),w=_t.parse(r[p]),I=_t.parse(r[x]),F=f-p,$=_t.stringify([Ft(qe(w[0],I[0],F)),Ft(qe(w[1],I[1],F)),Ft(qe(w[2],I[2],F)),Ye(qe(w[3],I[3],F))],"rgba");return c?{color:$,leftIndex:p,rightIndex:x,value:f}:$}},_t.mapToColor=_t.lerp,_t.modifyHSL=function(e,r,c,f){if(e=_t.parse(e))return e=function(e){if(e){var F,$,r=e[0]/255,c=e[1]/255,f=e[2]/255,p=Math.min(r,c,f),x=Math.max(r,c,f),w=x-p,I=(x+p)/2;if(0===w)F=0,$=0;else{$=I<.5?w/(x+p):w/(2-x-p);var ue=((x-r)/6+w/2)/w,Pe=((x-c)/6+w/2)/w,Ze=((x-f)/6+w/2)/w;r===x?F=Ze-Pe:c===x?F=1/3+ue-Ze:f===x&&(F=2/3+Pe-ue),F<0&&(F+=1),F>1&&(F-=1)}var Ge=[360*F,$,I];return null!=e[3]&&Ge.push(e[3]),Ge}}(e),null!=r&&(e[0]=function(e){return(e=Math.round(e))<0?0:e>360?360:e}(r)),null!=c&&(e[1]=we(c)),null!=f&&(e[2]=we(f)),_t.stringify(er(e),"rgba")},_t.modifyAlpha=function(e,r){if((e=_t.parse(e))&&null!=r)return e[3]=Ye(r),_t.stringify(e,"rgba")},_t.stringify=function(e,r){if(e&&e.length){var c=e[0]+","+e[1]+","+e[2];return("rgba"===r||"hsva"===r||"hsla"===r)&&(c+=","+e[3]),r+"("+c+")"}};var pr=_t.parseToFloat,si={};function ni(e){var r=Object.keys(e);r.sort();for(var c=[],f=0;f<r.length;f++){var p=r[f],x=e[p];c.push(null===x?p:p+" "+x.toString())}return c.join("\n")}var Hr=gn.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(e,r){void 0===r&&console.warn('Uniform value "'+e+'" is undefined');var c=this.uniforms[e];c&&("string"==typeof r&&(r=pr(r)||r),c.value=r,this.autoUpdateTextureStatus&&"t"===c.type&&(r?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var r in e)this.setUniform(r,e[r])},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,r){if("object"==typeof e)for(var c in e)this.setUniform(c,e[c]);else this.setUniform(e,r)},get:function(e){var r=this.uniforms[e];if(r)return r.value},attachShader:function(e,r){var c=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var f=this.uniforms;this._enabledUniforms=Object.keys(f),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function($){var ue=this.uniforms[$].type;return"t"===ue||"tv"===ue},this);var p=this.vertexDefines,x=this.fragmentDefines;if(this.vertexDefines=Wt.clone(e.vertexDefines),this.fragmentDefines=Wt.clone(e.fragmentDefines),r){for(var w in c)f[w]&&(f[w].value=c[w].value);Wt.defaults(this.vertexDefines,p),Wt.defaults(this.fragmentDefines,x)}var I={};for(var F in e.textures)I[F]={shaderType:e.textures[F].shaderType,type:e.textures[F].type,enabled:!(!r||!this._textureStatus[F])&&this._textureStatus[F].enabled};this._textureStatus=I,this._programKey=""},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var r in this.uniforms)e.uniforms[r].value=this.uniforms[r].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=Wt.clone(this.vertexDefines),e.fragmentDefines=Wt.clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,r,c){var f=this.vertexDefines,p=this.fragmentDefines;"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<3&&(c=r,r=e,e="both"),c=null!=c?c:null,("vertex"===e||"both"===e)&&f[r]!==c&&(f[r]=c,this._programKey=""),("fragment"===e||"both"===e)&&p[r]!==c&&(p[r]=c,"both"!==e&&(this._programKey=""))},undefine:function(e,r){"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<2&&(r=e,e="both"),("vertex"===e||"both"===e)&&this.isDefined("vertex",r)&&(delete this.vertexDefines[r],this._programKey=""),("fragment"===e||"both"===e)&&this.isDefined("fragment",r)&&(delete this.fragmentDefines[r],"both"!==e&&(this._programKey=""))},isDefined:function(e,r){switch(e){case"vertex":return void 0!==this.vertexDefines[r];case"fragment":return void 0!==this.fragmentDefines[r]}},getDefine:function(e,r){switch(e){case"vertex":return this.vertexDefines[r];case"fragment":return this.fragmentDefines[r]}},enableTexture:function(e){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.enableTexture(e[r]);else{var c=this._textureStatus[e];c&&(c.enabled||(c.enabled=!0,this._programKey=""))}},enableTexturesAll:function(){var e=this._textureStatus;for(var r in e)e[r].enabled=!0;this._programKey=""},disableTexture:function(e){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.disableTexture(e[r]);else{var c=this._textureStatus[e];c&&(!c.enabled||(c.enabled=!1,this._programKey=""))}},disableTexturesAll:function(){var e=this._textureStatus;for(var r in e)e[r].enabled=!1;this._programKey=""},isTextureEnabled:function(e){var r=this._textureStatus;return!!r[e]&&r[e].enabled},getEnabledTextures:function(){var e=[],r=this._textureStatus;for(var c in r)r[c].enabled&&e.push(c);return e},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=function(e,r,c){c.sort();for(var f=[],p=0;p<c.length;p++)f.push(c[p]);var w=ni(e)+"\n"+ni(r)+"\n"+f.join("\n");if(si[w])return si[w];var I=Wt.genGUID();return si[w]=I,I}(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});const Xn=Hr;var e,wi=1e-6,yr=Array,Ti=Math.random,$n={create:function(){var e=new yr(2);return e[0]=0,e[1]=0,e},clone:function(e){var r=new yr(2);return r[0]=e[0],r[1]=e[1],r},fromValues:function(e,r){var c=new yr(2);return c[0]=e,c[1]=r,c},copy:function(e,r){return e[0]=r[0],e[1]=r[1],e},set:function(e,r,c){return e[0]=r,e[1]=c,e},add:function(e,r,c){return e[0]=r[0]+c[0],e[1]=r[1]+c[1],e},subtract:function(e,r,c){return e[0]=r[0]-c[0],e[1]=r[1]-c[1],e}};$n.sub=$n.subtract,$n.multiply=function(e,r,c){return e[0]=r[0]*c[0],e[1]=r[1]*c[1],e},$n.mul=$n.multiply,$n.divide=function(e,r,c){return e[0]=r[0]/c[0],e[1]=r[1]/c[1],e},$n.div=$n.divide,$n.min=function(e,r,c){return e[0]=Math.min(r[0],c[0]),e[1]=Math.min(r[1],c[1]),e},$n.max=function(e,r,c){return e[0]=Math.max(r[0],c[0]),e[1]=Math.max(r[1],c[1]),e},$n.scale=function(e,r,c){return e[0]=r[0]*c,e[1]=r[1]*c,e},$n.scaleAndAdd=function(e,r,c,f){return e[0]=r[0]+c[0]*f,e[1]=r[1]+c[1]*f,e},$n.distance=function(e,r){var c=r[0]-e[0],f=r[1]-e[1];return Math.sqrt(c*c+f*f)},$n.dist=$n.distance,$n.squaredDistance=function(e,r){var c=r[0]-e[0],f=r[1]-e[1];return c*c+f*f},$n.sqrDist=$n.squaredDistance,$n.length=function(e){var r=e[0],c=e[1];return Math.sqrt(r*r+c*c)},$n.len=$n.length,$n.squaredLength=function(e){var r=e[0],c=e[1];return r*r+c*c},$n.sqrLen=$n.squaredLength,$n.negate=function(e,r){return e[0]=-r[0],e[1]=-r[1],e},$n.inverse=function(e,r){return e[0]=1/r[0],e[1]=1/r[1],e},$n.normalize=function(e,r){var c=r[0],f=r[1],p=c*c+f*f;return p>0&&(p=1/Math.sqrt(p),e[0]=r[0]*p,e[1]=r[1]*p),e},$n.dot=function(e,r){return e[0]*r[0]+e[1]*r[1]},$n.cross=function(e,r,c){var f=r[0]*c[1]-r[1]*c[0];return e[0]=e[1]=0,e[2]=f,e},$n.lerp=function(e,r,c,f){var p=r[0],x=r[1];return e[0]=p+f*(c[0]-p),e[1]=x+f*(c[1]-x),e},$n.random=function(e,r){r=r||1;var c=2*GLMAT_RANDOM()*Math.PI;return e[0]=Math.cos(c)*r,e[1]=Math.sin(c)*r,e},$n.transformMat2=function(e,r,c){var f=r[0],p=r[1];return e[0]=c[0]*f+c[2]*p,e[1]=c[1]*f+c[3]*p,e},$n.transformMat2d=function(e,r,c){var f=r[0],p=r[1];return e[0]=c[0]*f+c[2]*p+c[4],e[1]=c[1]*f+c[3]*p+c[5],e},$n.transformMat3=function(e,r,c){var f=r[0],p=r[1];return e[0]=c[0]*f+c[3]*p+c[6],e[1]=c[1]*f+c[4]*p+c[7],e},$n.transformMat4=function(e,r,c){var f=r[0],p=r[1];return e[0]=c[0]*f+c[4]*p+c[12],e[1]=c[1]*f+c[5]*p+c[13],e},$n.forEach=(e=$n.create(),function(r,c,f,p,x,w){var I,F;for(c||(c=2),f||(f=0),F=p?Math.min(p*c+f,r.length):r.length,I=f;I<F;I+=c)e[0]=r[I],e[1]=r[I+1],x(e,e,w),r[I]=e[0],r[I+1]=e[1];return r});const gr=$n;var Ur=function(e,r){this.array=gr.fromValues(e=e||0,r=r||0),this._dirty=!0};if(Ur.prototype={constructor:Ur,add:function(e){return gr.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,r){return this.array[0]=e,this.array[1]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new Ur(this.x,this.y)},copy:function(e){return gr.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,r){return gr.cross(e.array,this.array,r.array),e._dirty=!0,this},dist:function(e){return gr.dist(this.array,e.array)},distance:function(e){return gr.distance(this.array,e.array)},div:function(e){return gr.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return gr.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return gr.dot(this.array,e.array)},len:function(){return gr.len(this.array)},length:function(){return gr.length(this.array)},lerp:function(e,r,c){return gr.lerp(this.array,e.array,r.array,c),this._dirty=!0,this},min:function(e){return gr.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return gr.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return gr.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return gr.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return gr.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return gr.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return gr.random(this.array,e),this._dirty=!0,this},scale:function(e){return gr.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,r){return gr.scaleAndAdd(this.array,this.array,e.array,r),this._dirty=!0,this},sqrDist:function(e){return gr.sqrDist(this.array,e.array)},squaredDistance:function(e){return gr.squaredDistance(this.array,e.array)},sqrLen:function(){return gr.sqrLen(this.array)},squaredLength:function(){return gr.squaredLength(this.array)},sub:function(e){return gr.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return gr.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return gr.transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return gr.transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return gr.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return gr.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var _r=Ur.prototype;Object.defineProperty(_r,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(_r,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}Ur.add=function(e,r,c){return gr.add(e.array,r.array,c.array),e._dirty=!0,e},Ur.set=function(e,r,c){return gr.set(e.array,r,c),e._dirty=!0,e},Ur.copy=function(e,r){return gr.copy(e.array,r.array),e._dirty=!0,e},Ur.cross=function(e,r,c){return gr.cross(e.array,r.array,c.array),e._dirty=!0,e},Ur.distance=Ur.dist=function(e,r){return gr.distance(e.array,r.array)},Ur.divide=Ur.div=function(e,r,c){return gr.divide(e.array,r.array,c.array),e._dirty=!0,e},Ur.dot=function(e,r){return gr.dot(e.array,r.array)},Ur.len=function(e){return gr.length(e.array)},Ur.lerp=function(e,r,c,f){return gr.lerp(e.array,r.array,c.array,f),e._dirty=!0,e},Ur.min=function(e,r,c){return gr.min(e.array,r.array,c.array),e._dirty=!0,e},Ur.max=function(e,r,c){return gr.max(e.array,r.array,c.array),e._dirty=!0,e},Ur.multiply=Ur.mul=function(e,r,c){return gr.multiply(e.array,r.array,c.array),e._dirty=!0,e},Ur.negate=function(e,r){return gr.negate(e.array,r.array),e._dirty=!0,e},Ur.normalize=function(e,r){return gr.normalize(e.array,r.array),e._dirty=!0,e},Ur.random=function(e,r){return gr.random(e.array,r),e._dirty=!0,e},Ur.scale=function(e,r,c){return gr.scale(e.array,r.array,c),e._dirty=!0,e},Ur.scaleAndAdd=function(e,r,c,f){return gr.scaleAndAdd(e.array,r.array,c.array,f),e._dirty=!0,e},Ur.squaredDistance=Ur.sqrDist=function(e,r){return gr.sqrDist(e.array,r.array)},Ur.squaredLength=Ur.sqrLen=function(e){return gr.sqrLen(e.array)},Ur.subtract=Ur.sub=function(e,r,c){return gr.subtract(e.array,r.array,c.array),e._dirty=!0,e},Ur.transformMat2=function(e,r,c){return gr.transformMat2(e.array,r.array,c.array),e._dirty=!0,e},Ur.transformMat2d=function(e,r,c){return gr.transformMat2d(e.array,r.array,c.array),e._dirty=!0,e},Ur.transformMat3=function(e,r,c){return gr.transformMat3(e.array,r.array,c.array),e._dirty=!0,e},Ur.transformMat4=function(e,r,c){return gr.transformMat4(e.array,r.array,c.array),e._dirty=!0,e};const Zr=Ur;var oa={};function zn(e){for(var r=e.split("\n"),c=0,f=r.length;c<f;c++)r[c]=c+1+": "+r[c];return r.join("\n")}function xn(e,r,c){if(!e.getShaderParameter(r,e.COMPILE_STATUS))return[e.getShaderInfoLog(r),zn(c)].join("\n")}var rn=new Et.Float32Array(16),Rn=gn.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){return null!=this._locations[e]},useTextureSlot:function(e,r,c){r&&(e.gl.activeTexture(e.gl.TEXTURE0+c),r.isRenderable()?r.bind(e):r.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,r){var c=this._textureSlot;return this.useTextureSlot(e,r,c),this._textureSlot++,c},setUniform:function(e,r,c,f){var x=this._locations[c];if(null==x)return!1;switch(r){case"m4":if(!(f instanceof Float32Array)){for(var w=0;w<f.length;w++)rn[w]=f[w];f=rn}e.uniformMatrix4fv(x,!1,f);break;case"2i":e.uniform2i(x,f[0],f[1]);break;case"2f":e.uniform2f(x,f[0],f[1]);break;case"3i":e.uniform3i(x,f[0],f[1],f[2]);break;case"3f":e.uniform3f(x,f[0],f[1],f[2]);break;case"4i":e.uniform4i(x,f[0],f[1],f[2],f[3]);break;case"4f":e.uniform4f(x,f[0],f[1],f[2],f[3]);break;case"1i":e.uniform1i(x,f);break;case"1f":e.uniform1f(x,f);break;case"1fv":e.uniform1fv(x,f);break;case"1iv":e.uniform1iv(x,f);break;case"2iv":e.uniform2iv(x,f);break;case"2fv":e.uniform2fv(x,f);break;case"3iv":e.uniform3iv(x,f);break;case"3fv":e.uniform3fv(x,f);break;case"4iv":e.uniform4iv(x,f);break;case"4fv":e.uniform4fv(x,f);break;case"m2":case"m2v":e.uniformMatrix2fv(x,!1,f);break;case"m3":case"m3v":e.uniformMatrix3fv(x,!1,f);break;case"m4v":if(Array.isArray(f)&&Array.isArray(f[0])){var I=new Et.Float32Array(16*f.length),F=0;for(w=0;w<f.length;w++)for(var $=f[w],ue=0;ue<16;ue++)I[F++]=$[ue];e.uniformMatrix4fv(x,!1,I)}else e.uniformMatrix4fv(x,!1,f)}return!0},setUniformOfSemantic:function(e,r,c){var f=this.uniformSemantics[r];return!!f&&this.setUniform(e,f.type,f.symbol,c)},enableAttributes:function(e,r,c){var w,f=e.gl,p=this._program,x=this._locations;(w=c?c.__enabledAttributeList:oa[e.__uid__])||(w=c?c.__enabledAttributeList=[]:oa[e.__uid__]=[]);for(var I=[],F=0;F<r.length;F++){var $=r[F];if(this.attributes[$]){var ue=x[$];if(null==ue){if(-1===(ue=f.getAttribLocation(p,$))){I[F]=-1;continue}x[$]=ue}I[F]=ue,w[ue]=w[ue]?2:1}else I[F]=-1}for(F=0;F<w.length;F++)switch(w[F]){case 1:f.enableVertexAttribArray(F),w[F]=3;break;case 2:w[F]=3;break;case 3:f.disableVertexAttribArray(F),w[F]=0}return I},getAttribLocation:function(e,r){var c=this._locations,f=c[r];return null==f&&(f=e.getAttribLocation(this._program,r),c[r]=f),f},buildProgram:function(e,r,c,f){var p=e.createShader(e.VERTEX_SHADER),x=e.createProgram();e.shaderSource(p,c),e.compileShader(p);var w=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(w,f),e.compileShader(w);var I=xn(e,p,c);if(I||(I=xn(e,w,f)))return I;if(e.attachShader(x,p),e.attachShader(x,w),r.attributeSemantics.POSITION)e.bindAttribLocation(x,0,r.attributeSemantics.POSITION.symbol);else{var F=Object.keys(this.attributes);e.bindAttribLocation(x,0,F[0])}if(e.linkProgram(x),e.deleteShader(p),e.deleteShader(w),this._program=x,this.vertexCode=c,this.fragmentCode=f,!e.getProgramParameter(x,e.LINK_STATUS))return"Could not link program\n"+e.getProgramInfoLog(x);for(var $=0;$<r.uniforms.length;$++){var ue=r.uniforms[$];this._locations[ue]=e.getUniformLocation(x,ue)}}});const Ln=Rn;var Jr=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function jr(e,r,c){var p={};for(var x in c)p[x+"_COUNT"]=c[x];return e.replace(Jr,function(w,I,F,$){var ue="";isNaN(I)&&(I=I in r?r[I]:p[I]),isNaN(F)&&(F=F in r?r[F]:p[F]);for(var Pe=parseInt(I);Pe<parseInt(F);Pe++)ue+="{"+$.replace(/float\s*\(\s*_idx_\s*\)/g,Pe.toFixed(1)).replace(/_idx_/g,Pe)+"}";return ue})}function Wi(e,r,c){var f=[];if(r)for(var p in r){var x=r[p];x>0&&f.push("#define "+p.toUpperCase()+"_COUNT "+x)}if(c)for(var w=0;w<c.length;w++)f.push("#define "+(I=c[w]).toUpperCase()+"_ENABLED");for(var I in e){var F=e[I];f.push(null===F?"#define "+I:"#define "+I+" "+F.toString())}return f.join("\n")}function di(e){this._renderer=e,this._cache={}}di.prototype.getProgram=function(e,r,c){var f=this._cache,p=e.isSkinnedMesh&&e.isSkinnedMesh(),x=e.isInstancedMesh&&e.isInstancedMesh(),w="s"+r.shader.shaderID+"m"+r.getProgramKey();if(c&&(w+="se"+c.getProgramKey(e.lightGroup)),p&&(w+=",sk"+e.joints.length),x&&(w+=",is"),I=f[w])return I;var F=c?c.getLightsNumbers(e.lightGroup):{},$=this._renderer,ue=$.gl,Pe=r.getEnabledTextures(),Ze="";if(p){var Ge={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>$.getMaxJointNumber()&&(Ge.USE_SKIN_MATRICES_TEXTURE=null),Ze+="\n"+Wi(Ge)+"\n"}x&&(Ze+="\n#define INSTANCING\n");var at=Ze+Wi(r.vertexDefines,F,Pe),st=Ze+Wi(r.fragmentDefines,F,Pe),Nt=at+"\n"+r.shader.vertex,Bt=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(wn){return null!=$.getGLExtension(wn)});Bt.indexOf("EXT_shader_texture_lod")>=0&&(st+="\n#define SUPPORT_TEXTURE_LOD"),Bt.indexOf("OES_standard_derivatives")>=0&&(st+="\n#define SUPPORT_STANDARD_DERIVATIVES");var I,an=function(e){for(var r=[],c=0;c<e.length;c++)r.push("#extension GL_"+e[c]+" : enable");return r.join("\n")}(Bt)+"\n"+function(e){return["precision",e,"float"].join(" ")+";\n"+["precision",e,"int"].join(" ")+";\n"+["precision",e,"sampler2D"].join(" ")+";\n"}(r.precision)+"\n"+st+"\n"+r.shader.fragment,nn=jr(Nt,r.vertexDefines,F),en=jr(an,r.fragmentDefines,F);(I=new Ln).uniformSemantics=r.shader.uniformSemantics,I.attributes=r.shader.attributes;var Tn=I.buildProgram(ue,r.shader,nn,en);return I.__error=Tn,f[w]=I,I};const fr=di;var sa=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,gi=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,kt=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,tn={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function St(e){for(var r=[],c=0;c<e;c++)r[c]=0;return r}var An={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return St(2)},vec3:function(){return St(3)},vec4:function(){return St(4)},ivec2:function(){return St(2)},ivec3:function(){return St(3)},ivec4:function(){return St(4)},mat2:function(){return St(4)},mat3:function(){return St(9)},mat4:function(){return St(16)},array:function(){return[]}},Kn=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],sr=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],Rr=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],kr={vec4:4,vec3:3,vec2:2,float:1},Fr={},ri={};function Xt(e){return e.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function Or(){console.error("Wrong uniform/attributes syntax")}function Qn(e,r){for(var c=/[,=\(\):]/,f=r.replace(/:\s*\[\s*(.*)\s*\]/g,"="+e+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),p=[],x=0;x<f.length;x++)f[x].match(c)?p.push(f[x].charAt(0),f[x].slice(1)):p.push(f[x]);var st,Ze=0,Ge={},at=null;function Nt(nn){nn||Or();var en=nn.match(/\[(.*?)\]/);st=nn.replace(/\[(.*?)\]/,""),Ge[st]={},en&&(Ge[st].isArray=!0,Ge[st].arraySize=en[1])}for(Nt((f=p)[0]),x=1;x<f.length;x++){var Bt=f[x];if(Bt){if("="===Bt){if(0!==Ze&&3!==Ze){Or();break}Ze=1;continue}if(":"===Bt){Ze=4;continue}if(","===Bt){if(2===Ze){if(!(at instanceof Array)){Or();break}at.push(+f[++x])}else Ze=5;continue}if(")"===Bt){Ge[st].value=new Et.Float32Array(at),at=null,Ze=5;continue}if("("===Bt){if(2!==Ze){Or();break}if(!(at instanceof Array)){Or();break}at.push(+f[++x]);continue}if(Bt.indexOf("vec")>=0){if(1!==Ze&&4!==Ze){Or();break}Ze=2,at=[];continue}if(1===Ze){Ge[st].value="bool"===e?"true"===Bt:parseFloat(Bt),at=null;continue}if(4===Ze){var an=Bt;Kn.indexOf(an)>=0||sr.indexOf(an)>=0||Rr.indexOf(an)>=0?Ge[st].semantic=an:"ignore"===an||"unconfigurable"===an?Ge[st].ignore=!0:Ge[st].value="bool"===e?"true"===an:parseFloat(an);continue}Nt(Bt),Ze=0}}return Ge}function xr(e,r){"object"==typeof e&&(r=e.fragment,e=e.vertex),e=Xt(e),r=Xt(r),this._shaderID=function(e,r){var c="vertex:"+e+"fragment:"+r;if(Fr[c])return Fr[c];var f=Wt.genGUID();return Fr[c]=f,ri[f]={vertex:e,fragment:r},f}(e,r),this._vertexCode=xr.parseImport(e),this._fragmentCode=xr.parseImport(r),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}xr.prototype={constructor:xr,createUniforms:function(){var e={};for(var r in this.uniformTemplates){var c=this.uniformTemplates[r];e[r]={type:c.type,value:c.value()}}return e},_parseImport:function(){this._vertexCode=xr.parseImport(this.vertex),this._fragmentCode=xr.parseImport(this.fragment)},_addSemanticUniform:function(e,r,c){if(Kn.indexOf(c)>=0)this.attributeSemantics[c]={symbol:e,type:r};else if(Rr.indexOf(c)>=0){var f=!1,p=c;c.match(/TRANSPOSE$/)&&(f=!0,p=c.slice(0,-9)),this.matrixSemantics[c]={symbol:e,type:r,isTranspose:f,semanticNoTranspose:p}}else sr.indexOf(c)>=0&&(this.uniformSemantics[c]={symbol:e,type:r})},_addMaterialUniform:function(e,r,c,f,p,x){x[e]={type:c,value:p?An.array:f||An[r],semantic:null}},_parseUniforms:function(){var e={},r=this;function f(x){return null!=x?function(){return x}:null}function p(x,w,I){var F=Qn(w,I),$=[];for(var ue in F){var Pe=F[ue],Ze=Pe.semantic,Ge=ue,at=tn[w],st=f(F[ue].value);F[ue].isArray&&(Ge+="["+F[ue].arraySize+"]",at+="v"),$.push(Ge),r._uniformList.push(ue),Pe.ignore||(("sampler2D"===w||"samplerCube"===w)&&(r.textures[ue]={shaderType:"fragment",type:w}),Ze?r._addSemanticUniform(ue,at,Ze):r._addMaterialUniform(ue,w,at,st,F[ue].isArray,e))}return $.length>0?"uniform "+w+" "+$.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(sa,p),this._fragmentCode=this._fragmentCode.replace(sa,p),r.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=e},_parseAttributes:function(){var e={},r=this;this._vertexCode=this._vertexCode.replace(gi,function(f,p,x){var w=Qn(p,x),I=kr[p]||1,F=[];for(var $ in w){var ue=w[$].semantic;if(e[$]={type:"float",size:I,semantic:ue||null},ue){if(Kn.indexOf(ue)<0)throw new Error('Unkown semantic "'+ue+'"');r.attributeSemantics[ue]={symbol:$,type:p}}F.push($)}return"attribute "+p+" "+F.join(",")+";\n"}),this.attributes=e},_parseDefines:function(){var e=this;function c(f,p,x){var w=e.fragmentDefines;return w[p]||(w[p]="false"!==x&&("true"===x||(x?isNaN(parseFloat(x))?x.trim():parseFloat(x):null))),""}this._vertexCode=this._vertexCode.replace(kt,c),this._fragmentCode=this._fragmentCode.replace(kt,c)},clone:function(){var e=ri[this._shaderID];return new xr(e.vertex,e.fragment)}},Object.defineProperty&&(Object.defineProperty(xr.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(xr.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(xr.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(xr.prototype,"uniforms",{get:function(){return this._uniformList}}));var Ii=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;xr.parseImport=function(e){return e.replace(Ii,function(r,c,f){return(r=xr.source(f))?xr.parseImport(r):(console.error('Shader chunk "'+f+'" not existed in library'),"")})};var Ji=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;xr.import=function(e){e.replace(Ji,function(r,c,f,p){if(p=p.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"")){for(var F,x=f.split("."),w=xr.codes,I=0;I<x.length-1;)w[F=x[I++]]||(w[F]={}),w=w[F];w[F=x[I]]=p}return p})},xr.codes={},xr.source=function(e){for(var r=e.split("."),c=xr.codes,f=0;c&&f<r.length;)c=c[r[f++]];return"string"!=typeof c?(console.error('Shader "'+e+'" not existed in library'),""):c};const br=xr,xo="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end";var qi={create:function(){var e=new yr(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var r=new yr(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},copy:function(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,r){if(e===r){var c=r[1],f=r[2],p=r[3],x=r[6],w=r[7],I=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=c,e[6]=r[9],e[7]=r[13],e[8]=f,e[9]=x,e[11]=r[14],e[12]=p,e[13]=w,e[14]=I}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e},invert:function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=r[4],I=r[5],F=r[6],$=r[7],ue=r[8],Pe=r[9],Ze=r[10],Ge=r[11],at=r[12],st=r[13],Nt=r[14],Bt=r[15],an=c*I-f*w,nn=c*F-p*w,en=c*$-x*w,Tn=f*F-p*I,wn=f*$-x*I,Zn=p*$-x*F,Yn=ue*st-Pe*at,nr=ue*Nt-Ze*at,Pr=ue*Bt-Ge*at,cr=Pe*Nt-Ze*st,Lr=Pe*Bt-Ge*st,Ir=Ze*Bt-Ge*Nt,Cr=an*Ir-nn*Lr+en*cr+Tn*Pr-wn*nr+Zn*Yn;return Cr?(e[0]=(I*Ir-F*Lr+$*cr)*(Cr=1/Cr),e[1]=(p*Lr-f*Ir-x*cr)*Cr,e[2]=(st*Zn-Nt*wn+Bt*Tn)*Cr,e[3]=(Ze*wn-Pe*Zn-Ge*Tn)*Cr,e[4]=(F*Pr-w*Ir-$*nr)*Cr,e[5]=(c*Ir-p*Pr+x*nr)*Cr,e[6]=(Nt*en-at*Zn-Bt*nn)*Cr,e[7]=(ue*Zn-Ze*en+Ge*nn)*Cr,e[8]=(w*Lr-I*Pr+$*Yn)*Cr,e[9]=(f*Pr-c*Lr-x*Yn)*Cr,e[10]=(at*wn-st*en+Bt*an)*Cr,e[11]=(Pe*en-ue*wn-Ge*an)*Cr,e[12]=(I*nr-w*cr-F*Yn)*Cr,e[13]=(c*cr-f*nr+p*Yn)*Cr,e[14]=(st*nn-at*Tn-Nt*an)*Cr,e[15]=(ue*Tn-Pe*nn+Ze*an)*Cr,e):null},adjoint:function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=r[4],I=r[5],F=r[6],$=r[7],ue=r[8],Pe=r[9],Ze=r[10],Ge=r[11],at=r[12],st=r[13],Nt=r[14],Bt=r[15];return e[0]=I*(Ze*Bt-Ge*Nt)-Pe*(F*Bt-$*Nt)+st*(F*Ge-$*Ze),e[1]=-(f*(Ze*Bt-Ge*Nt)-Pe*(p*Bt-x*Nt)+st*(p*Ge-x*Ze)),e[2]=f*(F*Bt-$*Nt)-I*(p*Bt-x*Nt)+st*(p*$-x*F),e[3]=-(f*(F*Ge-$*Ze)-I*(p*Ge-x*Ze)+Pe*(p*$-x*F)),e[4]=-(w*(Ze*Bt-Ge*Nt)-ue*(F*Bt-$*Nt)+at*(F*Ge-$*Ze)),e[5]=c*(Ze*Bt-Ge*Nt)-ue*(p*Bt-x*Nt)+at*(p*Ge-x*Ze),e[6]=-(c*(F*Bt-$*Nt)-w*(p*Bt-x*Nt)+at*(p*$-x*F)),e[7]=c*(F*Ge-$*Ze)-w*(p*Ge-x*Ze)+ue*(p*$-x*F),e[8]=w*(Pe*Bt-Ge*st)-ue*(I*Bt-$*st)+at*(I*Ge-$*Pe),e[9]=-(c*(Pe*Bt-Ge*st)-ue*(f*Bt-x*st)+at*(f*Ge-x*Pe)),e[10]=c*(I*Bt-$*st)-w*(f*Bt-x*st)+at*(f*$-x*I),e[11]=-(c*(I*Ge-$*Pe)-w*(f*Ge-x*Pe)+ue*(f*$-x*I)),e[12]=-(w*(Pe*Nt-Ze*st)-ue*(I*Nt-F*st)+at*(I*Ze-F*Pe)),e[13]=c*(Pe*Nt-Ze*st)-ue*(f*Nt-p*st)+at*(f*Ze-p*Pe),e[14]=-(c*(I*Nt-F*st)-w*(f*Nt-p*st)+at*(f*F-p*I)),e[15]=c*(I*Ze-F*Pe)-w*(f*Ze-p*Pe)+ue*(f*F-p*I),e},determinant:function(e){var r=e[0],c=e[1],f=e[2],p=e[3],x=e[4],w=e[5],I=e[6],F=e[7],$=e[8],ue=e[9],Pe=e[10],Ze=e[11],Ge=e[12],at=e[13],st=e[14],Nt=e[15];return(r*w-c*x)*(Pe*Nt-Ze*st)-(r*I-f*x)*(ue*Nt-Ze*at)+(r*F-p*x)*(ue*st-Pe*at)+(c*I-f*w)*($*Nt-Ze*Ge)-(c*F-p*w)*($*st-Pe*Ge)+(f*F-p*I)*($*at-ue*Ge)},multiply:function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=r[4],F=r[5],$=r[6],ue=r[7],Pe=r[8],Ze=r[9],Ge=r[10],at=r[11],st=r[12],Nt=r[13],Bt=r[14],an=r[15],nn=c[0],en=c[1],Tn=c[2],wn=c[3];return e[0]=nn*f+en*I+Tn*Pe+wn*st,e[1]=nn*p+en*F+Tn*Ze+wn*Nt,e[2]=nn*x+en*$+Tn*Ge+wn*Bt,e[3]=nn*w+en*ue+Tn*at+wn*an,e[4]=(nn=c[4])*f+(en=c[5])*I+(Tn=c[6])*Pe+(wn=c[7])*st,e[5]=nn*p+en*F+Tn*Ze+wn*Nt,e[6]=nn*x+en*$+Tn*Ge+wn*Bt,e[7]=nn*w+en*ue+Tn*at+wn*an,e[8]=(nn=c[8])*f+(en=c[9])*I+(Tn=c[10])*Pe+(wn=c[11])*st,e[9]=nn*p+en*F+Tn*Ze+wn*Nt,e[10]=nn*x+en*$+Tn*Ge+wn*Bt,e[11]=nn*w+en*ue+Tn*at+wn*an,e[12]=(nn=c[12])*f+(en=c[13])*I+(Tn=c[14])*Pe+(wn=c[15])*st,e[13]=nn*p+en*F+Tn*Ze+wn*Nt,e[14]=nn*x+en*$+Tn*Ge+wn*Bt,e[15]=nn*w+en*ue+Tn*at+wn*an,e},multiplyAffine:function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[4],I=r[5],F=r[6],$=r[8],ue=r[9],Pe=r[10],Ze=r[12],Ge=r[13],at=r[14],st=c[0],Nt=c[1],Bt=c[2];return e[0]=st*f+Nt*w+Bt*$,e[1]=st*p+Nt*I+Bt*ue,e[2]=st*x+Nt*F+Bt*Pe,e[4]=(st=c[4])*f+(Nt=c[5])*w+(Bt=c[6])*$,e[5]=st*p+Nt*I+Bt*ue,e[6]=st*x+Nt*F+Bt*Pe,e[8]=(st=c[8])*f+(Nt=c[9])*w+(Bt=c[10])*$,e[9]=st*p+Nt*I+Bt*ue,e[10]=st*x+Nt*F+Bt*Pe,e[12]=(st=c[12])*f+(Nt=c[13])*w+(Bt=c[14])*$+Ze,e[13]=st*p+Nt*I+Bt*ue+Ge,e[14]=st*x+Nt*F+Bt*Pe+at,e}};qi.mul=qi.multiply,qi.mulAffine=qi.multiplyAffine,qi.translate=function(e,r,c){var w,I,F,$,ue,Pe,Ze,Ge,at,st,Nt,Bt,f=c[0],p=c[1],x=c[2];return r===e?(e[12]=r[0]*f+r[4]*p+r[8]*x+r[12],e[13]=r[1]*f+r[5]*p+r[9]*x+r[13],e[14]=r[2]*f+r[6]*p+r[10]*x+r[14],e[15]=r[3]*f+r[7]*p+r[11]*x+r[15]):(I=r[1],F=r[2],$=r[3],ue=r[4],Pe=r[5],Ze=r[6],Ge=r[7],at=r[8],st=r[9],Nt=r[10],Bt=r[11],e[0]=w=r[0],e[1]=I,e[2]=F,e[3]=$,e[4]=ue,e[5]=Pe,e[6]=Ze,e[7]=Ge,e[8]=at,e[9]=st,e[10]=Nt,e[11]=Bt,e[12]=w*f+ue*p+at*x+r[12],e[13]=I*f+Pe*p+st*x+r[13],e[14]=F*f+Ze*p+Nt*x+r[14],e[15]=$*f+Ge*p+Bt*x+r[15]),e},qi.scale=function(e,r,c){var f=c[0],p=c[1],x=c[2];return e[0]=r[0]*f,e[1]=r[1]*f,e[2]=r[2]*f,e[3]=r[3]*f,e[4]=r[4]*p,e[5]=r[5]*p,e[6]=r[6]*p,e[7]=r[7]*p,e[8]=r[8]*x,e[9]=r[9]*x,e[10]=r[10]*x,e[11]=r[11]*x,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e},qi.rotate=function(e,r,c,f){var F,$,ue,Pe,Ze,Ge,at,st,Nt,Bt,an,nn,en,Tn,wn,Zn,Yn,nr,Pr,cr,Lr,Ir,Cr,Br,p=f[0],x=f[1],w=f[2],I=Math.sqrt(p*p+x*x+w*w);return Math.abs(I)<wi?null:(p*=I=1/I,x*=I,w*=I,F=Math.sin(c),$=Math.cos(c),Ze=r[1],Ge=r[2],at=r[3],Nt=r[5],Bt=r[6],an=r[7],en=r[9],Tn=r[10],wn=r[11],Pr=p*x*(ue=1-$)-w*F,cr=x*x*ue+$,Lr=w*x*ue+p*F,Ir=p*w*ue+x*F,Cr=x*w*ue-p*F,Br=w*w*ue+$,e[0]=(Pe=r[0])*(Zn=p*p*ue+$)+(st=r[4])*(Yn=x*p*ue+w*F)+(nn=r[8])*(nr=w*p*ue-x*F),e[1]=Ze*Zn+Nt*Yn+en*nr,e[2]=Ge*Zn+Bt*Yn+Tn*nr,e[3]=at*Zn+an*Yn+wn*nr,e[4]=Pe*Pr+st*cr+nn*Lr,e[5]=Ze*Pr+Nt*cr+en*Lr,e[6]=Ge*Pr+Bt*cr+Tn*Lr,e[7]=at*Pr+an*cr+wn*Lr,e[8]=Pe*Ir+st*Cr+nn*Br,e[9]=Ze*Ir+Nt*Cr+en*Br,e[10]=Ge*Ir+Bt*Cr+Tn*Br,e[11]=at*Ir+an*Cr+wn*Br,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)},qi.rotateX=function(e,r,c){var f=Math.sin(c),p=Math.cos(c),x=r[4],w=r[5],I=r[6],F=r[7],$=r[8],ue=r[9],Pe=r[10],Ze=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=x*p+$*f,e[5]=w*p+ue*f,e[6]=I*p+Pe*f,e[7]=F*p+Ze*f,e[8]=$*p-x*f,e[9]=ue*p-w*f,e[10]=Pe*p-I*f,e[11]=Ze*p-F*f,e},qi.rotateY=function(e,r,c){var f=Math.sin(c),p=Math.cos(c),x=r[0],w=r[1],I=r[2],F=r[3],$=r[8],ue=r[9],Pe=r[10],Ze=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=x*p-$*f,e[1]=w*p-ue*f,e[2]=I*p-Pe*f,e[3]=F*p-Ze*f,e[8]=x*f+$*p,e[9]=w*f+ue*p,e[10]=I*f+Pe*p,e[11]=F*f+Ze*p,e},qi.rotateZ=function(e,r,c){var f=Math.sin(c),p=Math.cos(c),x=r[0],w=r[1],I=r[2],F=r[3],$=r[4],ue=r[5],Pe=r[6],Ze=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=x*p+$*f,e[1]=w*p+ue*f,e[2]=I*p+Pe*f,e[3]=F*p+Ze*f,e[4]=$*p-x*f,e[5]=ue*p-w*f,e[6]=Pe*p-I*f,e[7]=Ze*p-F*f,e},qi.fromRotationTranslation=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=f+f,F=p+p,$=x+x,ue=f*I,Pe=f*F,Ze=f*$,Ge=p*F,at=p*$,st=x*$,Nt=w*I,Bt=w*F,an=w*$;return e[0]=1-(Ge+st),e[1]=Pe+an,e[2]=Ze-Bt,e[3]=0,e[4]=Pe-an,e[5]=1-(ue+st),e[6]=at+Nt,e[7]=0,e[8]=Ze+Bt,e[9]=at-Nt,e[10]=1-(ue+Ge),e[11]=0,e[12]=c[0],e[13]=c[1],e[14]=c[2],e[15]=1,e},qi.fromQuat=function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=c+c,I=f+f,F=p+p,$=c*w,ue=f*w,Pe=f*I,Ze=p*w,Ge=p*I,at=p*F,st=x*w,Nt=x*I,Bt=x*F;return e[0]=1-Pe-at,e[1]=ue+Bt,e[2]=Ze-Nt,e[3]=0,e[4]=ue-Bt,e[5]=1-$-at,e[6]=Ge+st,e[7]=0,e[8]=Ze+Nt,e[9]=Ge-st,e[10]=1-$-Pe,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},qi.frustum=function(e,r,c,f,p,x,w){var I=1/(c-r),F=1/(p-f),$=1/(x-w);return e[0]=2*x*I,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*x*F,e[6]=0,e[7]=0,e[8]=(c+r)*I,e[9]=(p+f)*F,e[10]=(w+x)*$,e[11]=-1,e[12]=0,e[13]=0,e[14]=w*x*2*$,e[15]=0,e},qi.perspective=function(e,r,c,f,p){var x=1/Math.tan(r/2),w=1/(f-p);return e[0]=x/c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=x,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(p+f)*w,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*p*f*w,e[15]=0,e},qi.ortho=function(e,r,c,f,p,x,w){var I=1/(r-c),F=1/(f-p),$=1/(x-w);return e[0]=-2*I,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*F,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*$,e[11]=0,e[12]=(r+c)*I,e[13]=(p+f)*F,e[14]=(w+x)*$,e[15]=1,e},qi.lookAt=function(e,r,c,f){var p,x,w,I,F,$,ue,Pe,Ze,Ge,at=r[0],st=r[1],Nt=r[2],Bt=f[0],an=f[1],nn=f[2],en=c[0],Tn=c[1],wn=c[2];return Math.abs(at-en)<wi&&Math.abs(st-Tn)<wi&&Math.abs(Nt-wn)<wi?qi.identity(e):(ue=at-en,Pe=st-Tn,Ze=Nt-wn,p=an*(Ze*=Ge=1/Math.sqrt(ue*ue+Pe*Pe+Ze*Ze))-nn*(Pe*=Ge),x=nn*(ue*=Ge)-Bt*Ze,w=Bt*Pe-an*ue,(Ge=Math.sqrt(p*p+x*x+w*w))?(p*=Ge=1/Ge,x*=Ge,w*=Ge):(p=0,x=0,w=0),I=Pe*w-Ze*x,F=Ze*p-ue*w,$=ue*x-Pe*p,(Ge=Math.sqrt(I*I+F*F+$*$))?(I*=Ge=1/Ge,F*=Ge,$*=Ge):(I=0,F=0,$=0),e[0]=p,e[1]=I,e[2]=ue,e[3]=0,e[4]=x,e[5]=F,e[6]=Pe,e[7]=0,e[8]=w,e[9]=$,e[10]=Ze,e[11]=0,e[12]=-(p*at+x*st+w*Nt),e[13]=-(I*at+F*st+$*Nt),e[14]=-(ue*at+Pe*st+Ze*Nt),e[15]=1,e)},qi.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))};const Ar=qi;var ii={create:function(){var e=new yr(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var r=new yr(3);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r},fromValues:function(e,r,c){var f=new yr(3);return f[0]=e,f[1]=r,f[2]=c,f},copy:function(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e},set:function(e,r,c,f){return e[0]=r,e[1]=c,e[2]=f,e},add:function(e,r,c){return e[0]=r[0]+c[0],e[1]=r[1]+c[1],e[2]=r[2]+c[2],e},subtract:function(e,r,c){return e[0]=r[0]-c[0],e[1]=r[1]-c[1],e[2]=r[2]-c[2],e}};ii.sub=ii.subtract,ii.multiply=function(e,r,c){return e[0]=r[0]*c[0],e[1]=r[1]*c[1],e[2]=r[2]*c[2],e},ii.mul=ii.multiply,ii.divide=function(e,r,c){return e[0]=r[0]/c[0],e[1]=r[1]/c[1],e[2]=r[2]/c[2],e},ii.div=ii.divide,ii.min=function(e,r,c){return e[0]=Math.min(r[0],c[0]),e[1]=Math.min(r[1],c[1]),e[2]=Math.min(r[2],c[2]),e},ii.max=function(e,r,c){return e[0]=Math.max(r[0],c[0]),e[1]=Math.max(r[1],c[1]),e[2]=Math.max(r[2],c[2]),e},ii.scale=function(e,r,c){return e[0]=r[0]*c,e[1]=r[1]*c,e[2]=r[2]*c,e},ii.scaleAndAdd=function(e,r,c,f){return e[0]=r[0]+c[0]*f,e[1]=r[1]+c[1]*f,e[2]=r[2]+c[2]*f,e},ii.distance=function(e,r){var c=r[0]-e[0],f=r[1]-e[1],p=r[2]-e[2];return Math.sqrt(c*c+f*f+p*p)},ii.dist=ii.distance,ii.squaredDistance=function(e,r){var c=r[0]-e[0],f=r[1]-e[1],p=r[2]-e[2];return c*c+f*f+p*p},ii.sqrDist=ii.squaredDistance,ii.length=function(e){var r=e[0],c=e[1],f=e[2];return Math.sqrt(r*r+c*c+f*f)},ii.len=ii.length,ii.squaredLength=function(e){var r=e[0],c=e[1],f=e[2];return r*r+c*c+f*f},ii.sqrLen=ii.squaredLength,ii.negate=function(e,r){return e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e},ii.inverse=function(e,r){return e[0]=1/r[0],e[1]=1/r[1],e[2]=1/r[2],e},ii.normalize=function(e,r){var c=r[0],f=r[1],p=r[2],x=c*c+f*f+p*p;return x>0&&(x=1/Math.sqrt(x),e[0]=r[0]*x,e[1]=r[1]*x,e[2]=r[2]*x),e},ii.dot=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]},ii.cross=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=c[0],I=c[1],F=c[2];return e[0]=p*F-x*I,e[1]=x*w-f*F,e[2]=f*I-p*w,e},ii.lerp=function(e,r,c,f){var p=r[0],x=r[1],w=r[2];return e[0]=p+f*(c[0]-p),e[1]=x+f*(c[1]-x),e[2]=w+f*(c[2]-w),e},ii.random=function(e,r){r=r||1;var c=2*Ti()*Math.PI,f=2*Ti()-1,p=Math.sqrt(1-f*f)*r;return e[0]=Math.cos(c)*p,e[1]=Math.sin(c)*p,e[2]=f*r,e},ii.transformMat4=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=c[3]*f+c[7]*p+c[11]*x+c[15];return e[0]=(c[0]*f+c[4]*p+c[8]*x+c[12])/(w=w||1),e[1]=(c[1]*f+c[5]*p+c[9]*x+c[13])/w,e[2]=(c[2]*f+c[6]*p+c[10]*x+c[14])/w,e},ii.transformMat3=function(e,r,c){var f=r[0],p=r[1],x=r[2];return e[0]=f*c[0]+p*c[3]+x*c[6],e[1]=f*c[1]+p*c[4]+x*c[7],e[2]=f*c[2]+p*c[5]+x*c[8],e},ii.transformQuat=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=c[0],I=c[1],F=c[2],$=c[3],ue=$*f+I*x-F*p,Pe=$*p+F*f-w*x,Ze=$*x+w*p-I*f,Ge=-w*f-I*p-F*x;return e[0]=ue*$+Ge*-w+Pe*-F-Ze*-I,e[1]=Pe*$+Ge*-I+Ze*-w-ue*-F,e[2]=Ze*$+Ge*-F+ue*-I-Pe*-w,e},ii.rotateX=function(e,r,c,f){var p=[],x=[];return p[0]=r[0]-c[0],p[1]=r[1]-c[1],p[2]=r[2]-c[2],x[0]=p[0],x[1]=p[1]*Math.cos(f)-p[2]*Math.sin(f),x[2]=p[1]*Math.sin(f)+p[2]*Math.cos(f),e[0]=x[0]+c[0],e[1]=x[1]+c[1],e[2]=x[2]+c[2],e},ii.rotateY=function(e,r,c,f){var p=[],x=[];return p[0]=r[0]-c[0],p[1]=r[1]-c[1],p[2]=r[2]-c[2],x[0]=p[2]*Math.sin(f)+p[0]*Math.cos(f),x[1]=p[1],x[2]=p[2]*Math.cos(f)-p[0]*Math.sin(f),e[0]=x[0]+c[0],e[1]=x[1]+c[1],e[2]=x[2]+c[2],e},ii.rotateZ=function(e,r,c,f){var p=[],x=[];return p[0]=r[0]-c[0],p[1]=r[1]-c[1],p[2]=r[2]-c[2],x[0]=p[0]*Math.cos(f)-p[1]*Math.sin(f),x[1]=p[0]*Math.sin(f)+p[1]*Math.cos(f),x[2]=p[2],e[0]=x[0]+c[0],e[1]=x[1]+c[1],e[2]=x[2]+c[2],e},ii.forEach=function(){var e=ii.create();return function(r,c,f,p,x,w){var I,F;for(c||(c=3),f||(f=0),F=p?Math.min(p*c+f,r.length):r.length,I=f;I<F;I+=c)e[0]=r[I],e[1]=r[I+1],e[2]=r[I+2],x(e,e,w),r[I]=e[0],r[I+1]=e[1],r[I+2]=e[2];return r}}(),ii.angle=function(e,r){var c=ii.fromValues(e[0],e[1],e[2]),f=ii.fromValues(r[0],r[1],r[2]);ii.normalize(c,c),ii.normalize(f,f);var p=ii.dot(c,f);return p>1?0:Math.acos(p)};const Pn=ii;br.import(xo);var Sa=Ar.create,Ja={};function bo(e){return e.material}function Ls(e,r,c){return r.uniforms[c].value}function Cs(e,r,c,f){return c!==f}function hs(e){return!0}function ds(){}var fs={float:5126,byte:5120,ubyte:5121,short:5122,ushort:5123};function Xo(e,r,c){this.availableAttributes=e,this.availableAttributeSymbols=r,this.indicesBuffer=c,this.vao=null}function es(e){var r,c;this.bind=function(f){r||((r=Et.createCanvas()).width=r.height=1,r.getContext("2d"));var p=f.gl,x=!c;x&&(c=p.createTexture()),p.bindTexture(p.TEXTURE_2D,c),x&&p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,r)},this.unbind=function(f){f.gl.bindTexture(f.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var Mo=gn.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=Et.createCanvas());var e=this.canvas;try{var r={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!this.gl)throw new Error;this._glinfo=new sn(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(c){throw"Error creating WebGL Context "+c}this._programMgr=new fr(this),this._placeholderTexture=new es(this)},{resize:function(e,r){var c=this.canvas,f=this.devicePixelRatio;null!=e?(c.style&&(c.style.width=e+"px",c.style.height=r+"px"),c.width=e*f,c.height=r*f,this._width=e,this._height=r):(this._width=c.width/f,this._height=c.height/f),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,r,c,f,p){if("object"==typeof e){var x=e;e=x.x,r=x.y,c=x.width,f=x.height,p=x.devicePixelRatio}this.gl.viewport(e*(p=p||this.devicePixelRatio),r*p,c*p,f*p),this.viewport={x:e,y:r,width:c,height:f,devicePixelRatio:p}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,r,c,f){var p=this.gl,x=this.clearColor;if(this.clearBit){p.colorMask(!0,!0,!0,!0),p.depthMask(!0);var w=this.viewport,I=!1,F=w.devicePixelRatio;(w.width!==this._width||w.height!==this._height||F&&F!==this.devicePixelRatio||w.x||w.y)&&(I=!0,p.enable(p.SCISSOR_TEST),p.scissor(w.x*F,w.y*F,w.width*F,w.height*F)),p.clearColor(x[0],x[1],x[2],x[3]),p.clear(this.clearBit),I&&p.disable(p.SCISSOR_TEST)}if(c||e.update(!1),e.updateLights(),r=r||e.getMainCamera()){r.update();var $=e.updateRenderList(r,!0);this._sceneRendering=e;var ue=$.opaque,Pe=$.transparent,Ze=e.material;e.trigger("beforerender",this,e,r,$),f?(this.renderPreZ(ue,e,r),p.depthFunc(p.LEQUAL)):p.depthFunc(p.LESS);for(var Ge=Sa(),at=Pn.create(),st=0;st<Pe.length;st++){var Nt=Pe[st];Ar.multiplyAffine(Ge,r.viewMatrix.array,Nt.worldTransform.array),Pn.transformMat4(at,Nt.position.array,Ge),Nt.__depth=at[2]}this.renderPass(ue,r,{getMaterial:function(Bt){return Ze||Bt.material},sortCompare:this.opaqueSortCompare}),this.renderPass(Pe,r,{getMaterial:function(Bt){return Ze||Bt.material},sortCompare:this.transparentSortCompare}),e.trigger("afterrender",this,e,r,$),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(e,r,c){return this._programMgr.getProgram(e,r=r||e.material,c)},validateProgram:function(e){if(e.__error){var r=e.__error;if(Ja[e.__uid__])return;if(Ja[e.__uid__]=!0,this.throwError)throw new Error(r);this.trigger("error",r)}},updatePrograms:function(e,r,c){var f=c&&c.getMaterial||bo;r=r||null;for(var p=0;p<e.length;p++){var x=e[p],w=f.call(this,x);if(p>0){var I=e[p-1];if((x.joints?x.joints.length:0)===(I.joints?I.joints.length:0)&&x.material===I.material&&x.lightGroup===I.lightGroup){x.__program=I.__program;continue}}var ue=this._programMgr.getProgram(x,w,r);this.validateProgram(ue),x.__program=ue}},renderPass:function(e,r,c){this.trigger("beforerenderpass",this,e,r,c),(c=c||{}).getMaterial=c.getMaterial||bo,c.getUniform=c.getUniform||Ls,c.isMaterialChanged=c.isMaterialChanged||Cs,c.beforeRender=c.beforeRender||ds,c.afterRender=c.afterRender||ds;var f=c.ifRender||hs;this.updatePrograms(e,this._sceneRendering,c),c.sortCompare&&e.sort(c.sortCompare);var p=this.viewport,x=p.devicePixelRatio,w=[p.x*x,p.y*x,p.width*x,p.height*x],I=this.devicePixelRatio,F=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*I,this._height*I],$=[w[2],w[3]],ue=Date.now();r?(Ar.copy(Yi.VIEW,r.viewMatrix.array),Ar.copy(Yi.PROJECTION,r.projectionMatrix.array),Ar.copy(Yi.VIEWINVERSE,r.worldTransform.array)):(Ar.identity(Yi.VIEW),Ar.identity(Yi.PROJECTION),Ar.identity(Yi.VIEWINVERSE)),Ar.multiply(Yi.VIEWPROJECTION,Yi.PROJECTION,Yi.VIEW),Ar.invert(Yi.PROJECTIONINVERSE,Yi.PROJECTION),Ar.invert(Yi.VIEWPROJECTIONINVERSE,Yi.VIEWPROJECTION);for(var Ge,at,st,Nt,Bt,an,nn,en,Tn,wn,Zn,Yn,Pe=this.gl,Ze=this._sceneRendering,Pr=0;Pr<e.length;Pr++){var Ir,cr=e[Pr],Lr=null!=cr.worldTransform;if(f(cr)){Lr&&(Ir=cr.isSkinnedMesh&&cr.isSkinnedMesh()?cr.offsetMatrix?cr.offsetMatrix.array:Yi.IDENTITY:cr.worldTransform.array);var Cr=cr.geometry,Br=c.getMaterial.call(this,cr),Xr=cr.__program,mi=Br.shader,Gr=Cr.__uid__+"-"+Xr.__uid__,Ta=Gr!==wn;wn=Gr,Lr&&(Ar.copy(Yi.WORLD,Ir),Ar.multiply(Yi.WORLDVIEWPROJECTION,Yi.VIEWPROJECTION,Ir),Ar.multiplyAffine(Yi.WORLDVIEW,Yi.VIEW,Ir),(mi.matrixSemantics.WORLDINVERSE||mi.matrixSemantics.WORLDINVERSETRANSPOSE)&&Ar.invert(Yi.WORLDINVERSE,Ir),(mi.matrixSemantics.WORLDVIEWINVERSE||mi.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&Ar.invert(Yi.WORLDVIEWINVERSE,Yi.WORLDVIEW),(mi.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||mi.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&Ar.invert(Yi.WORLDVIEWPROJECTIONINVERSE,Yi.WORLDVIEWPROJECTION)),cr.beforeRender&&cr.beforeRender(this),c.beforeRender.call(this,cr,Br,Ge);var ui=Xr!==at;ui?(Xr.bind(this),Xr.setUniformOfSemantic(Pe,"VIEWPORT",w),Xr.setUniformOfSemantic(Pe,"WINDOW_SIZE",F),r&&(Xr.setUniformOfSemantic(Pe,"NEAR",r.near),Xr.setUniformOfSemantic(Pe,"FAR",r.far)),Xr.setUniformOfSemantic(Pe,"DEVICEPIXELRATIO",x),Xr.setUniformOfSemantic(Pe,"TIME",ue),Xr.setUniformOfSemantic(Pe,"VIEWPORT_SIZE",$),Ze&&Ze.setLightUniforms(Xr,cr.lightGroup,this)):Xr=at,(ui||c.isMaterialChanged(cr,st,Br,Ge))&&(Br.depthTest!==Nt&&(Br.depthTest?Pe.enable(Pe.DEPTH_TEST):Pe.disable(Pe.DEPTH_TEST),Nt=Br.depthTest),Br.depthMask!==Bt&&(Pe.depthMask(Br.depthMask),Bt=Br.depthMask),Br.transparent!==Tn&&(Br.transparent?Pe.enable(Pe.BLEND):Pe.disable(Pe.BLEND),Tn=Br.transparent),Br.transparent&&(Br.blend?Br.blend(Pe):(Pe.blendEquationSeparate(Pe.FUNC_ADD,Pe.FUNC_ADD),Pe.blendFuncSeparate(Pe.SRC_ALPHA,Pe.ONE_MINUS_SRC_ALPHA,Pe.ONE,Pe.ONE_MINUS_SRC_ALPHA))),Yn=this._bindMaterial(cr,Br,Xr,st||null,Ge||null,at||null,c.getUniform),Ge=Br);var Ha=mi.matrixSemanticKeys;if(Lr)for(var Ma=0;Ma<Ha.length;Ma++){var ja=Ha[Ma],Ka=mi.matrixSemantics[ja],da=Yi[ja];Ka.isTranspose&&Ar.transpose(da,Yi[Ka.semanticNoTranspose]),Xr.setUniform(Pe,Ka.type,Ka.symbol,da)}cr.cullFace!==nn&&Pe.cullFace(nn=cr.cullFace),cr.frontFace!==en&&Pe.frontFace(en=cr.frontFace),cr.culling!==an&&((an=cr.culling)?Pe.enable(Pe.CULL_FACE):Pe.disable(Pe.CULL_FACE)),this._updateSkeleton(cr,Xr,Yn),Ta&&(Zn=this._bindVAO(null,mi,Cr,Xr)),this._renderObject(cr,Zn,Xr),c.afterRender(this,cr),cr.afterRender&&cr.afterRender(this),at=Xr,st=cr}}this.trigger("afterrenderpass",this,e,r,c)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,r,c){var f=this.gl,p=e.skeleton;if(p)if(p.update(),e.joints.length>this.getMaxJointNumber()){var x=p.getSubSkinMatricesTexture(e.__uid__,e.joints);r.useTextureSlot(this,x,c),r.setUniform(f,"1i","skinMatricesTexture",c),r.setUniform(f,"1f","skinMatricesTextureSize",x.width)}else{var w=p.getSubSkinMatrices(e.__uid__,e.joints);r.setUniformOfSemantic(f,"SKIN_MATRIX",w)}},_renderObject:function(e,r,c){var f=this.gl,p=e.geometry,x=e.mode;null==x&&(x=4);var w=null,I=e.isInstancedMesh&&e.isInstancedMesh();if(!I||(w=this.getGLExtension("ANGLE_instanced_arrays"))){var F;if(I&&(F=this._bindInstancedAttributes(e,c,w)),r.indicesBuffer){var Pe=this.getGLExtension("OES_element_index_uint")&&p.indices instanceof Uint32Array?f.UNSIGNED_INT:f.UNSIGNED_SHORT;I?w.drawElementsInstancedANGLE(x,r.indicesBuffer.count,Pe,0,e.getInstanceCount()):f.drawElements(x,r.indicesBuffer.count,Pe,0)}else I?w.drawArraysInstancedANGLE(x,0,p.vertexCount,e.getInstanceCount()):f.drawArrays(x,0,p.vertexCount);if(I)for(var Ze=0;Ze<F.length;Ze++)f.disableVertexAttribArray(F[Ze])}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(e,r,c){for(var f=this.gl,p=e.getInstancedAttributesBuffers(this),x=[],w=0;w<p.length;w++){var I=p[w],F=r.getAttribLocation(f,I.symbol);if(!(F<0)){var $=fs[I.type]||f.FLOAT;f.enableVertexAttribArray(F),f.bindBuffer(f.ARRAY_BUFFER,I.buffer),f.vertexAttribPointer(F,I.size,$,!1,0,0),c.vertexAttribDivisorANGLE(F,I.divisor),x.push(F)}}return x},_bindMaterial:function(e,r,c,f,p,x,w){for(var I=this.gl,F=x===c,$=c.currentTextureSlot(),ue=r.getEnabledUniforms(),Pe=r.getTextureUniforms(),Ze=this._placeholderTexture,Ge=0;Ge<Pe.length;Ge++){var st=w(e,r,at=Pe[Ge]);if("t"===(Nt=r.uniforms[at].type)&&st)st.__slot=-1;else if("tv"===Nt)for(var Bt=0;Bt<st.length;Bt++)st[Bt]&&(st[Bt].__slot=-1)}for(Ze.__slot=-1,Ge=0;Ge<ue.length;Ge++){var at,Nt,an=r.uniforms[at=ue[Ge]],nn=(st=w(e,r,at),"t"===(Nt=an.type));if(nn&&(!st||!st.isRenderable())&&(st=Ze),p&&F){var en=w(f,p,at);if(nn&&(!en||!en.isRenderable())&&(en=Ze),en===st){if(nn)c.takeCurrentTextureSlot(this,null);else if("tv"===Nt&&st)for(Bt=0;Bt<st.length;Bt++)c.takeCurrentTextureSlot(this,null);continue}}if(null!=st)if(nn)if(st.__slot<0){var Tn=c.currentTextureSlot();c.setUniform(I,"1i",at,Tn)&&(c.takeCurrentTextureSlot(this,st),st.__slot=Tn)}else c.setUniform(I,"1i",at,st.__slot);else if(Array.isArray(st)){if(0===st.length)continue;if("tv"===Nt){if(!c.hasUniform(at))continue;var Zn=[];for(Bt=0;Bt<st.length;Bt++){var Yn=st[Bt];Yn.__slot<0?(Tn=c.currentTextureSlot(),Zn.push(Tn),c.takeCurrentTextureSlot(this,Yn),Yn.__slot=Tn):Zn.push(Yn.__slot)}c.setUniform(I,"1iv",at,Zn)}else c.setUniform(I,an.type,at,st)}else c.setUniform(I,an.type,at,st)}var nr=c.currentTextureSlot();return c.resetTextureSlot($),nr},_bindVAO:function(e,r,c,f){var p=!c.dynamic,x=this.gl,w=this.__uid__+"-"+f.__uid__,I=c.__vaoCache[w];if(!I){var F=c.getBufferChunks(this);if(!F||!F.length)return;for(var $=F[0],ue=$.attributeBuffers,en=$.indicesBuffer,nn=[],Pe=[],Ze=0;Ze<ue.length;Ze++){var Nt,st=(Ge=ue[Ze]).semantic;if(st){var Bt=r.attributeSemantics[st];Nt=Bt&&Bt.symbol}else Nt=Ge.name;Nt&&f.attributes[Nt]&&(nn.push(Ge),Pe.push(Nt))}I=new Xo(nn,Pe,en),p&&(c.__vaoCache[w]=I)}var an=!0;if(e&&p&&(null==I.vao?I.vao=e.createVertexArrayOES():an=!1,e.bindVertexArrayOES(I.vao)),nn=I.availableAttributes,en=I.indicesBuffer,an){var Tn=f.enableAttributes(this,I.availableAttributeSymbols,e&&p&&I);for(Ze=0;Ze<nn.length;Ze++){var wn=Tn[Ze];if(-1!==wn){var Ge,Yn=(Ge=nn[Ze]).size,nr=fs[Ge.type]||x.FLOAT;x.bindBuffer(x.ARRAY_BUFFER,Ge.buffer),x.vertexAttribPointer(wn,Yn,nr,!1,0,0)}}c.isUseIndices()&&x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,en.buffer)}return I},renderPreZ:function(e,r,c){var f=this.gl,p=this._prezMaterial||new Xn({shader:new br(br.source("clay.prez.vertex"),br.source("clay.prez.fragment"))});this._prezMaterial=p,f.colorMask(!1,!1,!1,!1),f.depthMask(!0),this.renderPass(e,c,{ifRender:function(x){return!x.ignorePreZ},isMaterialChanged:function(x,w){var I=x.material,F=w.material;return I.get("diffuseMap")!==F.get("diffuseMap")||(I.get("alphaCutoff")||0)!==(F.get("alphaCutoff")||0)},getUniform:function(x,w,I){return"alphaMap"===I?x.material.get("diffuseMap"):"alphaCutoff"===I?x.material.isDefined("fragment","ALPHA_TEST")&&x.material.get("diffuseMap")&&x.material.get("alphaCutoff")||0:"uvRepeat"===I?x.material.get("uvRepeat"):"uvOffset"===I?x.material.get("uvOffset"):w.get(I)},getMaterial:function(){return p},sort:this.opaqueSortCompare}),f.colorMask(!0,!0,!0,!0),f.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,r,c){e.getParent()&&e.getParent().remove(e);var f={};e.traverse(function(p){var x=p.material;if(p.geometry&&r&&p.geometry.dispose(this),c&&x&&!f[x.__uid__]){for(var w=x.getTextureUniforms(),I=0;I<w.length;I++){var F=w[I],$=x.uniforms[F].value,ue=x.uniforms[F].type;if($)if("t"===ue)$.dispose&&$.dispose(this);else if("tv"===ue)for(var Pe=0;Pe<$.length;Pe++)$[Pe]&&$[Pe].dispose&&$[Pe].dispose(this)}f[x.__uid__]=!0}p.dispose&&p.dispose(this)},this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,r,c){c||(c=new Zr),r=this._height-r;var f=this.viewport,p=c.array;return p[0]=(e-f.x)/f.width,p[0]=2*p[0]-1,p[1]=(r-f.y)/f.height,p[1]=2*p[1]-1,c}});Mo.opaqueSortCompare=Mo.prototype.opaqueSortCompare=function(e,r){return e.renderOrder===r.renderOrder?e.__program===r.__program?e.material===r.material?e.geometry.__uid__-r.geometry.__uid__:e.material.__uid__-r.material.__uid__:e.__program&&r.__program?e.__program.__uid__-r.__program.__uid__:0:e.renderOrder-r.renderOrder},Mo.transparentSortCompare=Mo.prototype.transparentSortCompare=function(e,r){return e.renderOrder===r.renderOrder?e.__depth===r.__depth?e.__program===r.__program?e.material===r.material?e.geometry.__uid__-r.geometry.__uid__:e.material.__uid__-r.material.__uid__:e.__program&&r.__program?e.__program.__uid__-r.__program.__uid__:0:e.__depth-r.__depth:e.renderOrder-r.renderOrder};var Yi={IDENTITY:Sa(),WORLD:Sa(),VIEW:Sa(),PROJECTION:Sa(),WORLDVIEW:Sa(),VIEWPROJECTION:Sa(),WORLDVIEWPROJECTION:Sa(),WORLDINVERSE:Sa(),VIEWINVERSE:Sa(),PROJECTIONINVERSE:Sa(),WORLDVIEWINVERSE:Sa(),VIEWPROJECTIONINVERSE:Sa(),WORLDVIEWPROJECTIONINVERSE:Sa(),WORLDTRANSPOSE:Sa(),VIEWTRANSPOSE:Sa(),PROJECTIONTRANSPOSE:Sa(),WORLDVIEWTRANSPOSE:Sa(),VIEWPROJECTIONTRANSPOSE:Sa(),WORLDVIEWPROJECTIONTRANSPOSE:Sa(),WORLDINVERSETRANSPOSE:Sa(),VIEWINVERSETRANSPOSE:Sa(),PROJECTIONINVERSETRANSPOSE:Sa(),WORLDVIEWINVERSETRANSPOSE:Sa(),VIEWPROJECTIONINVERSETRANSPOSE:Sa(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:Sa()};Mo.COLOR_BUFFER_BIT=16384,Mo.DEPTH_BUFFER_BIT=256,Mo.STENCIL_BUFFER_BIT=1024;const no=Mo;var ei=function(e,r,c){this.array=Pn.fromValues(e=e||0,r=r||0,c=c||0),this._dirty=!0};ei.prototype={constructor:ei,add:function(e){return Pn.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,r,c){return this.array[0]=e,this.array[1]=r,this.array[2]=c,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new ei(this.x,this.y,this.z)},copy:function(e){return Pn.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,r){return Pn.cross(this.array,e.array,r.array),this._dirty=!0,this},dist:function(e){return Pn.dist(this.array,e.array)},distance:function(e){return Pn.distance(this.array,e.array)},div:function(e){return Pn.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return Pn.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return Pn.dot(this.array,e.array)},len:function(){return Pn.len(this.array)},length:function(){return Pn.length(this.array)},lerp:function(e,r,c){return Pn.lerp(this.array,e.array,r.array,c),this._dirty=!0,this},min:function(e){return Pn.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return Pn.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return Pn.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return Pn.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return Pn.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return Pn.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return Pn.random(this.array,e),this._dirty=!0,this},scale:function(e){return Pn.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,r){return Pn.scaleAndAdd(this.array,this.array,e.array,r),this._dirty=!0,this},sqrDist:function(e){return Pn.sqrDist(this.array,e.array)},squaredDistance:function(e){return Pn.squaredDistance(this.array,e.array)},sqrLen:function(){return Pn.sqrLen(this.array)},squaredLength:function(){return Pn.squaredLength(this.array)},sub:function(e){return Pn.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return Pn.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return Pn.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return Pn.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return Pn.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var r=this.array;if(0===(e=e.array)[15]){var c=-1/r[2];r[0]=e[0]*r[0]*c,r[1]=e[5]*r[1]*c,r[2]=(e[10]*r[2]+e[14])*c}else r[0]=e[0]*r[0]+e[12],r[1]=e[5]*r[1]+e[13],r[2]=e[10]*r[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,r){ei.eulerFromQuat(this,e,r)},eulerFromMat3:function(e,r){ei.eulerFromMat3(this,e,r)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Aa=Object.defineProperty;if(Aa){var ro=ei.prototype;Aa(ro,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Aa(ro,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),Aa(ro,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}function Ua(e,r,c){return e<r?r:e>c?c:e}ei.add=function(e,r,c){return Pn.add(e.array,r.array,c.array),e._dirty=!0,e},ei.set=function(e,r,c,f){Pn.set(e.array,r,c,f),e._dirty=!0},ei.copy=function(e,r){return Pn.copy(e.array,r.array),e._dirty=!0,e},ei.cross=function(e,r,c){return Pn.cross(e.array,r.array,c.array),e._dirty=!0,e},ei.distance=ei.dist=function(e,r){return Pn.distance(e.array,r.array)},ei.divide=ei.div=function(e,r,c){return Pn.divide(e.array,r.array,c.array),e._dirty=!0,e},ei.dot=function(e,r){return Pn.dot(e.array,r.array)},ei.len=function(e){return Pn.length(e.array)},ei.lerp=function(e,r,c,f){return Pn.lerp(e.array,r.array,c.array,f),e._dirty=!0,e},ei.min=function(e,r,c){return Pn.min(e.array,r.array,c.array),e._dirty=!0,e},ei.max=function(e,r,c){return Pn.max(e.array,r.array,c.array),e._dirty=!0,e},ei.multiply=ei.mul=function(e,r,c){return Pn.multiply(e.array,r.array,c.array),e._dirty=!0,e},ei.negate=function(e,r){return Pn.negate(e.array,r.array),e._dirty=!0,e},ei.normalize=function(e,r){return Pn.normalize(e.array,r.array),e._dirty=!0,e},ei.random=function(e,r){return Pn.random(e.array,r),e._dirty=!0,e},ei.scale=function(e,r,c){return Pn.scale(e.array,r.array,c),e._dirty=!0,e},ei.scaleAndAdd=function(e,r,c,f){return Pn.scaleAndAdd(e.array,r.array,c.array,f),e._dirty=!0,e},ei.squaredDistance=ei.sqrDist=function(e,r){return Pn.sqrDist(e.array,r.array)},ei.squaredLength=ei.sqrLen=function(e){return Pn.sqrLen(e.array)},ei.subtract=ei.sub=function(e,r,c){return Pn.subtract(e.array,r.array,c.array),e._dirty=!0,e},ei.transformMat3=function(e,r,c){return Pn.transformMat3(e.array,r.array,c.array),e._dirty=!0,e},ei.transformMat4=function(e,r,c){return Pn.transformMat4(e.array,r.array,c.array),e._dirty=!0,e},ei.transformQuat=function(e,r,c){return Pn.transformQuat(e.array,r.array,c.array),e._dirty=!0,e};var Gi=Math.atan2,Ga=Math.asin,$a=Math.abs;ei.eulerFromQuat=function(e,r,c){e._dirty=!0;var f=e.array,p=(r=r.array)[0],x=r[1],w=r[2],I=r[3],F=p*p,$=x*x,ue=w*w,Pe=I*I;switch(c=(c||"XYZ").toUpperCase()){case"XYZ":f[0]=Gi(2*(p*I-x*w),Pe-F-$+ue),f[1]=Ga(Ua(2*(p*w+x*I),-1,1)),f[2]=Gi(2*(w*I-p*x),Pe+F-$-ue);break;case"YXZ":f[0]=Ga(Ua(2*(p*I-x*w),-1,1)),f[1]=Gi(2*(p*w+x*I),Pe-F-$+ue),f[2]=Gi(2*(p*x+w*I),Pe-F+$-ue);break;case"ZXY":f[0]=Ga(Ua(2*(p*I+x*w),-1,1)),f[1]=Gi(2*(x*I-w*p),Pe-F-$+ue),f[2]=Gi(2*(w*I-p*x),Pe-F+$-ue);break;case"ZYX":f[0]=Gi(2*(p*I+w*x),Pe-F-$+ue),f[1]=Ga(Ua(2*(x*I-p*w),-1,1)),f[2]=Gi(2*(p*x+w*I),Pe+F-$-ue);break;case"YZX":f[0]=Gi(2*(p*I-w*x),Pe-F+$-ue),f[1]=Gi(2*(x*I-p*w),Pe+F-$-ue),f[2]=Ga(Ua(2*(p*x+w*I),-1,1));break;case"XZY":f[0]=Gi(2*(p*I+x*w),Pe-F+$-ue),f[1]=Gi(2*(p*w+x*I),Pe+F-$-ue),f[2]=Ga(Ua(2*(w*I-p*x),-1,1));break;default:console.warn("Unkown order: "+c)}return e},ei.eulerFromMat3=function(e,r,c){var f=r.array,p=f[0],x=f[3],w=f[6],I=f[1],F=f[4],$=f[7],ue=f[2],Pe=f[5],Ze=f[8],Ge=e.array;switch(c=(c||"XYZ").toUpperCase()){case"XYZ":Ge[1]=Ga(Ua(w,-1,1)),$a(w)<.99999?(Ge[0]=Gi(-$,Ze),Ge[2]=Gi(-x,p)):(Ge[0]=Gi(Pe,F),Ge[2]=0);break;case"YXZ":Ge[0]=Ga(-Ua($,-1,1)),$a($)<.99999?(Ge[1]=Gi(w,Ze),Ge[2]=Gi(I,F)):(Ge[1]=Gi(-ue,p),Ge[2]=0);break;case"ZXY":Ge[0]=Ga(Ua(Pe,-1,1)),$a(Pe)<.99999?(Ge[1]=Gi(-ue,Ze),Ge[2]=Gi(-x,F)):(Ge[1]=0,Ge[2]=Gi(I,p));break;case"ZYX":Ge[1]=Ga(-Ua(ue,-1,1)),$a(ue)<.99999?(Ge[0]=Gi(Pe,Ze),Ge[2]=Gi(I,p)):(Ge[0]=0,Ge[2]=Gi(-x,F));break;case"YZX":Ge[2]=Ga(Ua(I,-1,1)),$a(I)<.99999?(Ge[0]=Gi(-$,F),Ge[1]=Gi(-ue,p)):(Ge[0]=0,Ge[1]=Gi(w,Ze));break;case"XZY":Ge[2]=Ga(-Ua(x,-1,1)),$a(x)<.99999?(Ge[0]=Gi(Pe,F),Ge[1]=Gi(w,p)):(Ge[0]=Gi(-$,Ze),Ge[1]=0);break;default:console.warn("Unkown order: "+c)}return e._dirty=!0,e},Object.defineProperties(ei,{POSITIVE_X:{get:function(){return new ei(1,0,0)}},NEGATIVE_X:{get:function(){return new ei(-1,0,0)}},POSITIVE_Y:{get:function(){return new ei(0,1,0)}},NEGATIVE_Y:{get:function(){return new ei(0,-1,0)}},POSITIVE_Z:{get:function(){return new ei(0,0,1)}},NEGATIVE_Z:{get:function(){return new ei(0,0,-1)}},UP:{get:function(){return new ei(0,1,0)}},ZERO:{get:function(){return new ei}}});const Tr=ei;var Pa=1e-5,_a=function(e,r){this.origin=e||new Tr,this.direction=r||new Tr};_a.prototype={constructor:_a,intersectPlane:function(e,r){var c=e.normal.array,f=e.distance,p=this.origin.array,x=this.direction.array,w=Pn.dot(c,x);if(0===w)return null;r||(r=new Tr);var I=(Pn.dot(c,p)-f)/w;return Pn.scaleAndAdd(r.array,p,x,-I),r._dirty=!0,r},mirrorAgainstPlane:function(e){var r=Pn.dot(e.normal.array,this.direction.array);Pn.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,2*-r),this.direction._dirty=!0},distanceToPoint:function(){var e=Pn.create();return function(r){Pn.sub(e,r,this.origin.array);var c=Pn.dot(e,this.direction.array);if(c<0)return Pn.distance(this.origin.array,r);var f=Pn.lenSquared(e);return Math.sqrt(f-c*c)}}(),intersectSphere:function(){var e=Pn.create();return function(r,c,f){var p=this.origin.array,x=this.direction.array;Pn.sub(e,r=r.array,p);var w=Pn.dot(e,x),F=Pn.squaredLength(e)-w*w,$=c*c;if(!(F>$)){var ue=Math.sqrt($-F),Pe=w-ue,Ze=w+ue;return f||(f=new Tr),Pe<0?Ze<0?null:(Pn.scaleAndAdd(f.array,p,x,Ze),f):(Pn.scaleAndAdd(f.array,p,x,Pe),f)}}}(),intersectBoundingBox:function(e,r){var $,ue,Pe,Ze,Ge,at,c=this.direction.array,f=this.origin.array,p=e.min.array,x=e.max.array,w=1/c[0],I=1/c[1],F=1/c[2];if(w>=0?($=(p[0]-f[0])*w,ue=(x[0]-f[0])*w):(ue=(p[0]-f[0])*w,$=(x[0]-f[0])*w),I>=0?(Pe=(p[1]-f[1])*I,Ze=(x[1]-f[1])*I):(Ze=(p[1]-f[1])*I,Pe=(x[1]-f[1])*I),$>Ze||Pe>ue||((Pe>$||$!=$)&&($=Pe),(Ze<ue||ue!=ue)&&(ue=Ze),F>=0?(Ge=(p[2]-f[2])*F,at=(x[2]-f[2])*F):(at=(p[2]-f[2])*F,Ge=(x[2]-f[2])*F),$>at||Ge>ue)||((Ge>$||$!=$)&&($=Ge),(at<ue||ue!=ue)&&(ue=at),ue<0))return null;var st=$>=0?$:ue;return r||(r=new Tr),Pn.scaleAndAdd(r.array,f,c,st),r},intersectTriangle:function(){var e=Pn.create(),r=Pn.create(),c=Pn.create(),f=Pn.create();return function(p,x,w,I,F,$){var ue=this.direction.array,Pe=this.origin.array;w=w.array,Pn.sub(e,x=x.array,p=p.array),Pn.sub(r,w,p),Pn.cross(f,r,ue);var Ze=Pn.dot(e,f);if(I){if(Ze>-Pa)return null}else if(Ze>-Pa&&Ze<Pa)return null;Pn.sub(c,Pe,p);var Ge=Pn.dot(f,c)/Ze;if(Ge<0||Ge>1)return null;Pn.cross(f,e,c);var at=Pn.dot(ue,f)/Ze;if(at<0||at>1||Ge+at>1)return null;Pn.cross(f,e,r);var st=-Pn.dot(c,f)/Ze;return st<0?null:(F||(F=new Tr),$&&Tr.set($,1-Ge-at,Ge,at),Pn.scaleAndAdd(F.array,Pe,ue,st),F)}}(),applyTransform:function(e){Tr.add(this.direction,this.direction,this.origin),Tr.transformMat4(this.origin,this.origin,e),Tr.transformMat4(this.direction,this.direction,e),Tr.sub(this.direction,this.direction,this.origin),Tr.normalize(this.direction,this.direction)},copy:function(e){Tr.copy(this.origin,e.origin),Tr.copy(this.direction,e.direction)},clone:function(){var e=new _a;return e.copy(this),e}};const so=_a;var li={create:function(){var e=new yr(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var r=new yr(4);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r},fromValues:function(e,r,c,f){var p=new yr(4);return p[0]=e,p[1]=r,p[2]=c,p[3]=f,p},copy:function(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e},set:function(e,r,c,f,p){return e[0]=r,e[1]=c,e[2]=f,e[3]=p,e},add:function(e,r,c){return e[0]=r[0]+c[0],e[1]=r[1]+c[1],e[2]=r[2]+c[2],e[3]=r[3]+c[3],e},subtract:function(e,r,c){return e[0]=r[0]-c[0],e[1]=r[1]-c[1],e[2]=r[2]-c[2],e[3]=r[3]-c[3],e}};li.sub=li.subtract,li.multiply=function(e,r,c){return e[0]=r[0]*c[0],e[1]=r[1]*c[1],e[2]=r[2]*c[2],e[3]=r[3]*c[3],e},li.mul=li.multiply,li.divide=function(e,r,c){return e[0]=r[0]/c[0],e[1]=r[1]/c[1],e[2]=r[2]/c[2],e[3]=r[3]/c[3],e},li.div=li.divide,li.min=function(e,r,c){return e[0]=Math.min(r[0],c[0]),e[1]=Math.min(r[1],c[1]),e[2]=Math.min(r[2],c[2]),e[3]=Math.min(r[3],c[3]),e},li.max=function(e,r,c){return e[0]=Math.max(r[0],c[0]),e[1]=Math.max(r[1],c[1]),e[2]=Math.max(r[2],c[2]),e[3]=Math.max(r[3],c[3]),e},li.scale=function(e,r,c){return e[0]=r[0]*c,e[1]=r[1]*c,e[2]=r[2]*c,e[3]=r[3]*c,e},li.scaleAndAdd=function(e,r,c,f){return e[0]=r[0]+c[0]*f,e[1]=r[1]+c[1]*f,e[2]=r[2]+c[2]*f,e[3]=r[3]+c[3]*f,e},li.distance=function(e,r){var c=r[0]-e[0],f=r[1]-e[1],p=r[2]-e[2],x=r[3]-e[3];return Math.sqrt(c*c+f*f+p*p+x*x)},li.dist=li.distance,li.squaredDistance=function(e,r){var c=r[0]-e[0],f=r[1]-e[1],p=r[2]-e[2],x=r[3]-e[3];return c*c+f*f+p*p+x*x},li.sqrDist=li.squaredDistance,li.length=function(e){var r=e[0],c=e[1],f=e[2],p=e[3];return Math.sqrt(r*r+c*c+f*f+p*p)},li.len=li.length,li.squaredLength=function(e){var r=e[0],c=e[1],f=e[2],p=e[3];return r*r+c*c+f*f+p*p},li.sqrLen=li.squaredLength,li.negate=function(e,r){return e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e[3]=-r[3],e},li.inverse=function(e,r){return e[0]=1/r[0],e[1]=1/r[1],e[2]=1/r[2],e[3]=1/r[3],e},li.normalize=function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=c*c+f*f+p*p+x*x;return w>0&&(w=1/Math.sqrt(w),e[0]=r[0]*w,e[1]=r[1]*w,e[2]=r[2]*w,e[3]=r[3]*w),e},li.dot=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3]},li.lerp=function(e,r,c,f){var p=r[0],x=r[1],w=r[2],I=r[3];return e[0]=p+f*(c[0]-p),e[1]=x+f*(c[1]-x),e[2]=w+f*(c[2]-w),e[3]=I+f*(c[3]-I),e},li.random=function(e,r){return r=r||1,e[0]=Ti(),e[1]=Ti(),e[2]=Ti(),e[3]=Ti(),li.normalize(e,e),li.scale(e,e,r),e},li.transformMat4=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3];return e[0]=c[0]*f+c[4]*p+c[8]*x+c[12]*w,e[1]=c[1]*f+c[5]*p+c[9]*x+c[13]*w,e[2]=c[2]*f+c[6]*p+c[10]*x+c[14]*w,e[3]=c[3]*f+c[7]*p+c[11]*x+c[15]*w,e},li.transformQuat=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=c[0],I=c[1],F=c[2],$=c[3],ue=$*f+I*x-F*p,Pe=$*p+F*f-w*x,Ze=$*x+w*p-I*f,Ge=-w*f-I*p-F*x;return e[0]=ue*$+Ge*-w+Pe*-F-Ze*-I,e[1]=Pe*$+Ge*-I+Ze*-w-ue*-F,e[2]=Ze*$+Ge*-F+ue*-I-Pe*-w,e},li.forEach=function(){var e=li.create();return function(r,c,f,p,x,w){var I,F;for(c||(c=4),f||(f=0),F=p?Math.min(p*c+f,r.length):r.length,I=f;I<F;I+=c)e[0]=r[I],e[1]=r[I+1],e[2]=r[I+2],e[3]=r[I+3],x(e,e,w),r[I]=e[0],r[I+1]=e[1],r[I+2]=e[2],r[I+3]=e[3];return r}}();const zr=li;var ta={create:function(){var e=new yr(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[4],e[4]=r[5],e[5]=r[6],e[6]=r[8],e[7]=r[9],e[8]=r[10],e},clone:function(e){var r=new yr(9);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r},copy:function(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,r){if(e===r){var c=r[1],f=r[2],p=r[5];e[1]=r[3],e[2]=r[6],e[3]=c,e[5]=r[7],e[6]=f,e[7]=p}else e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8];return e},invert:function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=r[4],I=r[5],F=r[6],$=r[7],ue=r[8],Pe=ue*w-I*$,Ze=-ue*x+I*F,Ge=$*x-w*F,at=c*Pe+f*Ze+p*Ge;return at?(e[0]=Pe*(at=1/at),e[1]=(-ue*f+p*$)*at,e[2]=(I*f-p*w)*at,e[3]=Ze*at,e[4]=(ue*c-p*F)*at,e[5]=(-I*c+p*x)*at,e[6]=Ge*at,e[7]=(-$*c+f*F)*at,e[8]=(w*c-f*x)*at,e):null},adjoint:function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=r[4],I=r[5],F=r[6],$=r[7],ue=r[8];return e[0]=w*ue-I*$,e[1]=p*$-f*ue,e[2]=f*I-p*w,e[3]=I*F-x*ue,e[4]=c*ue-p*F,e[5]=p*x-c*I,e[6]=x*$-w*F,e[7]=f*F-c*$,e[8]=c*w-f*x,e},determinant:function(e){var p=e[3],x=e[4],w=e[5],I=e[6],F=e[7],$=e[8];return e[0]*($*x-w*F)+e[1]*(-$*p+w*I)+e[2]*(F*p-x*I)},multiply:function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=r[4],F=r[5],$=r[6],ue=r[7],Pe=r[8],Ze=c[0],Ge=c[1],at=c[2],st=c[3],Nt=c[4],Bt=c[5],an=c[6],nn=c[7],en=c[8];return e[0]=Ze*f+Ge*w+at*$,e[1]=Ze*p+Ge*I+at*ue,e[2]=Ze*x+Ge*F+at*Pe,e[3]=st*f+Nt*w+Bt*$,e[4]=st*p+Nt*I+Bt*ue,e[5]=st*x+Nt*F+Bt*Pe,e[6]=an*f+nn*w+en*$,e[7]=an*p+nn*I+en*ue,e[8]=an*x+nn*F+en*Pe,e}};ta.mul=ta.multiply,ta.translate=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=r[4],F=r[5],$=r[6],ue=r[7],Pe=r[8],Ze=c[0],Ge=c[1];return e[0]=f,e[1]=p,e[2]=x,e[3]=w,e[4]=I,e[5]=F,e[6]=Ze*f+Ge*w+$,e[7]=Ze*p+Ge*I+ue,e[8]=Ze*x+Ge*F+Pe,e},ta.rotate=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=r[4],F=r[5],$=r[6],ue=r[7],Pe=r[8],Ze=Math.sin(c),Ge=Math.cos(c);return e[0]=Ge*f+Ze*w,e[1]=Ge*p+Ze*I,e[2]=Ge*x+Ze*F,e[3]=Ge*w-Ze*f,e[4]=Ge*I-Ze*p,e[5]=Ge*F-Ze*x,e[6]=$,e[7]=ue,e[8]=Pe,e},ta.scale=function(e,r,c){var f=c[0],p=c[1];return e[0]=f*r[0],e[1]=f*r[1],e[2]=f*r[2],e[3]=p*r[3],e[4]=p*r[4],e[5]=p*r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e},ta.fromMat2d=function(e,r){return e[0]=r[0],e[1]=r[1],e[2]=0,e[3]=r[2],e[4]=r[3],e[5]=0,e[6]=r[4],e[7]=r[5],e[8]=1,e},ta.fromQuat=function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=c+c,I=f+f,F=p+p,$=c*w,ue=f*w,Pe=f*I,Ze=p*w,Ge=p*I,at=p*F,st=x*w,Nt=x*I,Bt=x*F;return e[0]=1-Pe-at,e[3]=ue-Bt,e[6]=Ze+Nt,e[1]=ue+Bt,e[4]=1-$-at,e[7]=Ge-st,e[2]=Ze-Nt,e[5]=Ge+st,e[8]=1-$-Pe,e},ta.normalFromMat4=function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=r[4],I=r[5],F=r[6],$=r[7],ue=r[8],Pe=r[9],Ze=r[10],Ge=r[11],at=r[12],st=r[13],Nt=r[14],Bt=r[15],an=c*I-f*w,nn=c*F-p*w,en=c*$-x*w,Tn=f*F-p*I,wn=f*$-x*I,Zn=p*$-x*F,Yn=ue*st-Pe*at,nr=ue*Nt-Ze*at,Pr=ue*Bt-Ge*at,cr=Pe*Nt-Ze*st,Lr=Pe*Bt-Ge*st,Ir=Ze*Bt-Ge*Nt,Cr=an*Ir-nn*Lr+en*cr+Tn*Pr-wn*nr+Zn*Yn;return Cr?(e[0]=(I*Ir-F*Lr+$*cr)*(Cr=1/Cr),e[1]=(F*Pr-w*Ir-$*nr)*Cr,e[2]=(w*Lr-I*Pr+$*Yn)*Cr,e[3]=(p*Lr-f*Ir-x*cr)*Cr,e[4]=(c*Ir-p*Pr+x*nr)*Cr,e[5]=(f*Pr-c*Lr-x*Yn)*Cr,e[6]=(st*Zn-Nt*wn+Bt*Tn)*Cr,e[7]=(Nt*en-at*Zn-Bt*nn)*Cr,e[8]=(at*wn-st*en+Bt*an)*Cr,e):null},ta.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))};const Li=ta;var zi={create:function(){var e=new yr(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}};zi.rotationTo=function(){var e=Pn.create(),r=Pn.fromValues(1,0,0),c=Pn.fromValues(0,1,0);return function(f,p,x){var w=Pn.dot(p,x);return w<-.999999?(Pn.cross(e,r,p),Pn.length(e)<1e-6&&Pn.cross(e,c,p),Pn.normalize(e,e),zi.setAxisAngle(f,e,Math.PI),f):w>.999999?(f[0]=0,f[1]=0,f[2]=0,f[3]=1,f):(Pn.cross(e,p,x),f[0]=e[0],f[1]=e[1],f[2]=e[2],f[3]=1+w,zi.normalize(f,f))}}(),zi.setAxes=function(){var e=Li.create();return function(r,c,f,p){return e[0]=f[0],e[3]=f[1],e[6]=f[2],e[1]=p[0],e[4]=p[1],e[7]=p[2],e[2]=-c[0],e[5]=-c[1],e[8]=-c[2],zi.normalize(r,zi.fromMat3(r,e))}}(),zi.clone=zr.clone,zi.fromValues=zr.fromValues,zi.copy=zr.copy,zi.set=zr.set,zi.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},zi.setAxisAngle=function(e,r,c){c*=.5;var f=Math.sin(c);return e[0]=f*r[0],e[1]=f*r[1],e[2]=f*r[2],e[3]=Math.cos(c),e},zi.add=zr.add,zi.multiply=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=c[0],F=c[1],$=c[2],ue=c[3];return e[0]=f*ue+w*I+p*$-x*F,e[1]=p*ue+w*F+x*I-f*$,e[2]=x*ue+w*$+f*F-p*I,e[3]=w*ue-f*I-p*F-x*$,e},zi.mul=zi.multiply,zi.scale=zr.scale,zi.rotateX=function(e,r,c){c*=.5;var f=r[0],p=r[1],x=r[2],w=r[3],I=Math.sin(c),F=Math.cos(c);return e[0]=f*F+w*I,e[1]=p*F+x*I,e[2]=x*F-p*I,e[3]=w*F-f*I,e},zi.rotateY=function(e,r,c){c*=.5;var f=r[0],p=r[1],x=r[2],w=r[3],I=Math.sin(c),F=Math.cos(c);return e[0]=f*F-x*I,e[1]=p*F+w*I,e[2]=x*F+f*I,e[3]=w*F-p*I,e},zi.rotateZ=function(e,r,c){c*=.5;var f=r[0],p=r[1],x=r[2],w=r[3],I=Math.sin(c),F=Math.cos(c);return e[0]=f*F+p*I,e[1]=p*F-f*I,e[2]=x*F+w*I,e[3]=w*F-x*I,e},zi.calculateW=function(e,r){var c=r[0],f=r[1],p=r[2];return e[0]=c,e[1]=f,e[2]=p,e[3]=Math.sqrt(Math.abs(1-c*c-f*f-p*p)),e},zi.dot=zr.dot,zi.lerp=zr.lerp,zi.slerp=function(e,r,c,f){var Ze,Ge,at,st,Nt,p=r[0],x=r[1],w=r[2],I=r[3],F=c[0],$=c[1],ue=c[2],Pe=c[3];return(Ge=p*F+x*$+w*ue+I*Pe)<0&&(Ge=-Ge,F=-F,$=-$,ue=-ue,Pe=-Pe),1-Ge>1e-6?(Ze=Math.acos(Ge),at=Math.sin(Ze),st=Math.sin((1-f)*Ze)/at,Nt=Math.sin(f*Ze)/at):(st=1-f,Nt=f),e[0]=st*p+Nt*F,e[1]=st*x+Nt*$,e[2]=st*w+Nt*ue,e[3]=st*I+Nt*Pe,e},zi.invert=function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=c*c+f*f+p*p+x*x,I=w?1/w:0;return e[0]=-c*I,e[1]=-f*I,e[2]=-p*I,e[3]=x*I,e},zi.conjugate=function(e,r){return e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e[3]=r[3],e},zi.length=zr.length,zi.len=zi.length,zi.squaredLength=zr.squaredLength,zi.sqrLen=zi.squaredLength,zi.normalize=zr.normalize,zi.fromMat3=function(e,r){var f,c=r[0]+r[4]+r[8];if(c>0)f=Math.sqrt(c+1),e[3]=.5*f,e[0]=(r[5]-r[7])*(f=.5/f),e[1]=(r[6]-r[2])*f,e[2]=(r[1]-r[3])*f;else{var p=0;r[4]>r[0]&&(p=1),r[8]>r[3*p+p]&&(p=2);var x=(p+1)%3,w=(p+2)%3;f=Math.sqrt(r[3*p+p]-r[3*x+x]-r[3*w+w]+1),e[p]=.5*f,e[3]=(r[3*x+w]-r[3*w+x])*(f=.5/f),e[x]=(r[3*x+p]+r[3*p+x])*f,e[w]=(r[3*w+p]+r[3*p+w])*f}return e};const ti=zi;var Ri=function(){this._axisX=new Tr,this._axisY=new Tr,this._axisZ=new Tr,this.array=Ar.create(),this._dirty=!0};Ri.prototype={constructor:Ri,setArray:function(e){for(var r=0;r<this.array.length;r++)this.array[r]=e[r];return this._dirty=!0,this},adjoint:function(){return Ar.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Ri).copy(this)},copy:function(e){return Ar.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Ar.determinant(this.array)},fromQuat:function(e){return Ar.fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,r){return Ar.fromRotationTranslation(this.array,e.array,r.array),this._dirty=!0,this},fromMat2d:function(e){return Ri.fromMat2d(this,e),this},frustum:function(e,r,c,f,p,x){return Ar.frustum(this.array,e,r,c,f,p,x),this._dirty=!0,this},identity:function(){return Ar.identity(this.array),this._dirty=!0,this},invert:function(){return Ar.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,r,c){return Ar.lookAt(this.array,e.array,r.array,c.array),this._dirty=!0,this},mul:function(e){return Ar.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Ar.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Ar.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Ar.multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,r,c,f,p,x){return Ar.ortho(this.array,e,r,c,f,p,x),this._dirty=!0,this},perspective:function(e,r,c,f){return Ar.perspective(this.array,e,r,c,f),this._dirty=!0,this},rotate:function(e,r){return Ar.rotate(this.array,this.array,e,r.array),this._dirty=!0,this},rotateX:function(e){return Ar.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return Ar.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return Ar.rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Ar.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Ar.translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return Ar.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var e=Pn.create(),r=Pn.create(),c=Pn.create(),f=Li.create();return function(p,x,w){var I=this.array;Pn.set(e,I[0],I[1],I[2]),Pn.set(r,I[4],I[5],I[6]),Pn.set(c,I[8],I[9],I[10]);var F=Pn.length(e),$=Pn.length(r),ue=Pn.length(c);this.determinant()<0&&(F=-F),p&&p.set(F,$,ue),w.set(I[12],I[13],I[14]),Li.fromMat4(f,I),f[0]/=F,f[1]/=F,f[2]/=F,f[3]/=$,f[4]/=$,f[5]/=$,f[6]/=ue,f[7]/=ue,f[8]/=ue,ti.fromMat3(x.array,f),ti.normalize(x.array,x.array),x._dirty=!0,w._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var qa=Object.defineProperty;if(qa){var wo=Ri.prototype;qa(wo,"z",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var r=this.array;r[8]=(e=e.array)[0],r[9]=e[1],r[10]=e[2],this._dirty=!0}}),qa(wo,"y",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var r=this.array;r[4]=(e=e.array)[0],r[5]=e[1],r[6]=e[2],this._dirty=!0}}),qa(wo,"x",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var r=this.array;r[0]=(e=e.array)[0],r[1]=e[1],r[2]=e[2],this._dirty=!0}})}Ri.adjoint=function(e,r){return Ar.adjoint(e.array,r.array),e._dirty=!0,e},Ri.copy=function(e,r){return Ar.copy(e.array,r.array),e._dirty=!0,e},Ri.determinant=function(e){return Ar.determinant(e.array)},Ri.identity=function(e){return Ar.identity(e.array),e._dirty=!0,e},Ri.ortho=function(e,r,c,f,p,x,w){return Ar.ortho(e.array,r,c,f,p,x,w),e._dirty=!0,e},Ri.perspective=function(e,r,c,f,p){return Ar.perspective(e.array,r,c,f,p),e._dirty=!0,e},Ri.lookAt=function(e,r,c,f){return Ar.lookAt(e.array,r.array,c.array,f.array),e._dirty=!0,e},Ri.invert=function(e,r){return Ar.invert(e.array,r.array),e._dirty=!0,e},Ri.multiply=Ri.mul=function(e,r,c){return Ar.mul(e.array,r.array,c.array),e._dirty=!0,e},Ri.fromQuat=function(e,r){return Ar.fromQuat(e.array,r.array),e._dirty=!0,e},Ri.fromRotationTranslation=function(e,r,c){return Ar.fromRotationTranslation(e.array,r.array,c.array),e._dirty=!0,e},Ri.fromMat2d=function(e,r){return e._dirty=!0,(e=e.array)[0]=(r=r.array)[0],e[4]=r[2],e[12]=r[4],e[1]=r[1],e[5]=r[3],e[13]=r[5],e},Ri.rotate=function(e,r,c,f){return Ar.rotate(e.array,r.array,c,f.array),e._dirty=!0,e},Ri.rotateX=function(e,r,c){return Ar.rotateX(e.array,r.array,c),e._dirty=!0,e},Ri.rotateY=function(e,r,c){return Ar.rotateY(e.array,r.array,c),e._dirty=!0,e},Ri.rotateZ=function(e,r,c){return Ar.rotateZ(e.array,r.array,c),e._dirty=!0,e},Ri.scale=function(e,r,c){return Ar.scale(e.array,r.array,c.array),e._dirty=!0,e},Ri.transpose=function(e,r){return Ar.transpose(e.array,r.array),e._dirty=!0,e},Ri.translate=function(e,r,c){return Ar.translate(e.array,r.array,c.array),e._dirty=!0,e};const Er=Ri;var Bi=function(e,r,c,f){this.array=ti.fromValues(e=e||0,r=r||0,c=c||0,f=void 0===f?1:f),this._dirty=!0};Bi.prototype={constructor:Bi,add:function(e){return ti.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return ti.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,r,c,f){return this.array[0]=e,this.array[1]=r,this.array[2]=c,this.array[3]=f,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new Bi(this.x,this.y,this.z,this.w)},conjugate:function(){return ti.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return ti.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return ti.dot(this.array,e.array)},fromMat3:function(e){return ti.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=Li.create();return function(r){return Li.fromMat4(e,r.array),Li.transpose(e,e),ti.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return ti.identity(this.array),this._dirty=!0,this},invert:function(){return ti.invert(this.array,this.array),this._dirty=!0,this},len:function(){return ti.len(this.array)},length:function(){return ti.length(this.array)},lerp:function(e,r,c){return ti.lerp(this.array,e.array,r.array,c),this._dirty=!0,this},mul:function(e){return ti.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return ti.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return ti.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return ti.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return ti.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return ti.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return ti.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return ti.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,r){return ti.rotationTo(this.array,e.array,r.array),this._dirty=!0,this},setAxes:function(e,r,c){return ti.setAxes(this.array,e.array,r.array,c.array),this._dirty=!0,this},setAxisAngle:function(e,r){return ti.setAxisAngle(this.array,e.array,r),this._dirty=!0,this},slerp:function(e,r,c){return ti.slerp(this.array,e.array,r.array,c),this._dirty=!0,this},sqrLen:function(){return ti.sqrLen(this.array)},squaredLength:function(){return ti.squaredLength(this.array)},fromEuler:function(e,r){return Bi.fromEuler(this,e,r)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var ho=Object.defineProperty;if(ho){var nt=Bi.prototype;ho(nt,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),ho(nt,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),ho(nt,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),ho(nt,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}Bi.add=function(e,r,c){return ti.add(e.array,r.array,c.array),e._dirty=!0,e},Bi.set=function(e,r,c,f,p){ti.set(e.array,r,c,f,p),e._dirty=!0},Bi.copy=function(e,r){return ti.copy(e.array,r.array),e._dirty=!0,e},Bi.calculateW=function(e,r){return ti.calculateW(e.array,r.array),e._dirty=!0,e},Bi.conjugate=function(e,r){return ti.conjugate(e.array,r.array),e._dirty=!0,e},Bi.identity=function(e){return ti.identity(e.array),e._dirty=!0,e},Bi.invert=function(e,r){return ti.invert(e.array,r.array),e._dirty=!0,e},Bi.dot=function(e,r){return ti.dot(e.array,r.array)},Bi.len=function(e){return ti.length(e.array)},Bi.lerp=function(e,r,c,f){return ti.lerp(e.array,r.array,c.array,f),e._dirty=!0,e},Bi.slerp=function(e,r,c,f){return ti.slerp(e.array,r.array,c.array,f),e._dirty=!0,e},Bi.multiply=Bi.mul=function(e,r,c){return ti.multiply(e.array,r.array,c.array),e._dirty=!0,e},Bi.rotateX=function(e,r,c){return ti.rotateX(e.array,r.array,c),e._dirty=!0,e},Bi.rotateY=function(e,r,c){return ti.rotateY(e.array,r.array,c),e._dirty=!0,e},Bi.rotateZ=function(e,r,c){return ti.rotateZ(e.array,r.array,c),e._dirty=!0,e},Bi.setAxisAngle=function(e,r,c){return ti.setAxisAngle(e.array,r.array,c),e._dirty=!0,e},Bi.normalize=function(e,r){return ti.normalize(e.array,r.array),e._dirty=!0,e},Bi.squaredLength=Bi.sqrLen=function(e){return ti.sqrLen(e.array)},Bi.fromMat3=function(e,r){return ti.fromMat3(e.array,r.array),e._dirty=!0,e},Bi.setAxes=function(e,r,c,f){return ti.setAxes(e.array,r.array,c.array,f.array),e._dirty=!0,e},Bi.rotationTo=function(e,r,c){return ti.rotationTo(e.array,r.array,c.array),e._dirty=!0,e},Bi.fromEuler=function(e,r,c){e._dirty=!0,r=r.array;var f=e.array,p=Math.cos(r[0]/2),x=Math.cos(r[1]/2),w=Math.cos(r[2]/2),I=Math.sin(r[0]/2),F=Math.sin(r[1]/2),$=Math.sin(r[2]/2);switch(c=(c||"XYZ").toUpperCase()){case"XYZ":f[0]=I*x*w+p*F*$,f[1]=p*F*w-I*x*$,f[2]=p*x*$+I*F*w,f[3]=p*x*w-I*F*$;break;case"YXZ":f[0]=I*x*w+p*F*$,f[1]=p*F*w-I*x*$,f[2]=p*x*$-I*F*w,f[3]=p*x*w+I*F*$;break;case"ZXY":f[0]=I*x*w-p*F*$,f[1]=p*F*w+I*x*$,f[2]=p*x*$+I*F*w,f[3]=p*x*w-I*F*$;break;case"ZYX":f[0]=I*x*w-p*F*$,f[1]=p*F*w+I*x*$,f[2]=p*x*$-I*F*w,f[3]=p*x*w+I*F*$;break;case"YZX":f[0]=I*x*w+p*F*$,f[1]=p*F*w+I*x*$,f[2]=p*x*$-I*F*w,f[3]=p*x*w-I*F*$;break;case"XZY":f[0]=I*x*w-p*F*$,f[1]=p*F*w-I*x*$,f[2]=p*x*$+I*F*w,f[3]=p*x*w+I*F*$}};const Ot=Bi;var Ce=Pn.set,He=Pn.copy,_e=function(e,r){this.min=e||new Tr(1/0,1/0,1/0),this.max=r||new Tr(-1/0,-1/0,-1/0),this.vertices=null};_e.prototype={constructor:_e,updateFromVertices:function(e){if(e.length>0){var r=this.min,c=this.max,f=r.array,p=c.array;He(f,e[0]),He(p,e[0]);for(var x=1;x<e.length;x++){var w=e[x];w[0]<f[0]&&(f[0]=w[0]),w[1]<f[1]&&(f[1]=w[1]),w[2]<f[2]&&(f[2]=w[2]),w[0]>p[0]&&(p[0]=w[0]),w[1]>p[1]&&(p[1]=w[1]),w[2]>p[2]&&(p[2]=w[2])}r._dirty=!0,c._dirty=!0}},union:function(e){var r=this.min,c=this.max;return Pn.min(r.array,r.array,e.min.array),Pn.max(c.array,c.array,e.max.array),r._dirty=!0,c._dirty=!0,this},intersection:function(e){var r=this.min,c=this.max;return Pn.max(r.array,r.array,e.min.array),Pn.min(c.array,c.array,e.max.array),r._dirty=!0,c._dirty=!0,this},intersectBoundingBox:function(e){var r=this.min.array,c=this.max.array,f=e.min.array,p=e.max.array;return!(r[0]>p[0]||r[1]>p[1]||r[2]>p[2]||c[0]<f[0]||c[1]<f[1]||c[2]<f[2])},containBoundingBox:function(e){var r=this.min.array,c=this.max.array,f=e.min.array,p=e.max.array;return r[0]<=f[0]&&r[1]<=f[1]&&r[2]<=f[2]&&c[0]>=p[0]&&c[1]>=p[1]&&c[2]>=p[2]},containPoint:function(e){var r=this.min.array,c=this.max.array,f=e.array;return r[0]<=f[0]&&r[1]<=f[1]&&r[2]<=f[2]&&c[0]>=f[0]&&c[1]>=f[1]&&c[2]>=f[2]},isFinite:function(){var e=this.min.array,r=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(r[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=Pn.create(),r=Pn.create(),c=Pn.create(),f=Pn.create(),p=Pn.create(),x=Pn.create();return function(w,I){var F=w.min.array,$=w.max.array,ue=I.array;return e[0]=ue[0]*F[0],e[1]=ue[1]*F[0],e[2]=ue[2]*F[0],r[0]=ue[0]*$[0],r[1]=ue[1]*$[0],r[2]=ue[2]*$[0],c[0]=ue[4]*F[1],c[1]=ue[5]*F[1],c[2]=ue[6]*F[1],f[0]=ue[4]*$[1],f[1]=ue[5]*$[1],f[2]=ue[6]*$[1],p[0]=ue[8]*F[2],p[1]=ue[9]*F[2],p[2]=ue[10]*F[2],x[0]=ue[8]*$[2],x[1]=ue[9]*$[2],x[2]=ue[10]*$[2],$=this.max.array,(F=this.min.array)[0]=Math.min(e[0],r[0])+Math.min(c[0],f[0])+Math.min(p[0],x[0])+ue[12],F[1]=Math.min(e[1],r[1])+Math.min(c[1],f[1])+Math.min(p[1],x[1])+ue[13],F[2]=Math.min(e[2],r[2])+Math.min(c[2],f[2])+Math.min(p[2],x[2])+ue[14],$[0]=Math.max(e[0],r[0])+Math.max(c[0],f[0])+Math.max(p[0],x[0])+ue[12],$[1]=Math.max(e[1],r[1])+Math.max(c[1],f[1])+Math.max(p[1],x[1])+ue[13],$[2]=Math.max(e[2],r[2])+Math.max(c[2],f[2])+Math.max(p[2],x[2])+ue[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var r=this.min.array,c=this.max.array,f=e.array,p=r[0],x=r[1],w=r[2],I=c[0],F=c[1],$=r[2],ue=c[0],Pe=c[1],Ze=c[2];if(1===f[15])r[0]=f[0]*p+f[12],r[1]=f[5]*x+f[13],c[2]=f[10]*w+f[14],c[0]=f[0]*ue+f[12],c[1]=f[5]*Pe+f[13],r[2]=f[10]*Ze+f[14];else{var Ge=-1/w;r[0]=f[0]*p*Ge,r[1]=f[5]*x*Ge,c[2]=(f[10]*w+f[14])*Ge,c[0]=f[0]*I*(Ge=-1/$),c[1]=f[5]*F*Ge,r[2]=(f[10]*Ze+f[14])*(Ge=-1/Ze)}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var r=0;r<8;r++)e[r]=Pn.fromValues(0,0,0);this.vertices=e}var c=this.min.array,f=this.max.array;return Ce(e[0],c[0],c[1],c[2]),Ce(e[1],c[0],f[1],c[2]),Ce(e[2],f[0],c[1],c[2]),Ce(e[3],f[0],f[1],c[2]),Ce(e[4],c[0],c[1],f[2]),Ce(e[5],c[0],f[1],f[2]),Ce(e[6],f[0],c[1],f[2]),Ce(e[7],f[0],f[1],f[2]),this},copy:function(e){var r=this.min,c=this.max;return He(r.array,e.min.array),He(c.array,e.max.array),r._dirty=!0,c._dirty=!0,this},clone:function(){var e=new _e;return e.copy(this),e}};const ae=_e;var ge=0,De=gn.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+ge++),this.position||(this.position=new Tr),this.rotation||(this.rotation=new Ot),this.scale||(this.scale=new Tr(1,1,1)),this.worldTransform=new Er,this.localTransform=new Er,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var r=this._scene;if(r){var c=r._nodeRepository;delete c[this.name],c[e]=this}this.name=e},add:function(e){var r=e._parent;if(r!==this){r&&r.remove(e),e._parent=this,this._children.push(e);var c=this._scene;c&&c!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var r=this._children,c=r.indexOf(e);c<0||(r.splice(c,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,r=0;r<e.length;r++)e[r]._parent=null,this._scene&&e[r].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){for(var r=e._parent;r;){if(r===this)return!0;r=r._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var r=this._children,c=0;c<r.length;c++)if(r[c].name===e)return r[c]},getDescendantByName:function(e){for(var r=this._children,c=0;c<r.length;c++){var f=r[c];if(f.name===e)return f;var p=f.getDescendantByName(e);if(p)return p}},queryNode:function(e){if(e){for(var r=e.split("/"),c=this,f=0;f<r.length;f++){var p=r[f];if(p){for(var x=!1,w=c._children,I=0;I<w.length;I++){var F=w[I];if(F.name===p){c=F,x=!0;break}}if(!x)return}}return c}},getPath:function(e){if(!this._parent)return"/";for(var r=this._parent,c=this.name;r._parent&&(c=r.name+"/"+c,r._parent!=e);)r=r._parent;return!r._parent&&e?null:c},traverse:function(e,r){e.call(r,this);for(var c=this._children,f=0,p=c.length;f<p;f++)c[f].traverse(e,r)},eachChild:function(e,r){for(var c=this._children,f=0,p=c.length;f<p;f++)e.call(r,c[f],f)},setLocalTransform:function(e){Ar.copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){this.localTransform.decomposeMatrix(e?null:this.scale,this.rotation,this.position)},setWorldTransform:function(e){Ar.copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var e=Ar.create();return function(r){var c=this.localTransform,f=this.worldTransform;this._parent?(Ar.invert(e,this._parent.worldTransform.array),Ar.multiply(c.array,e,f.array)):Ar.copy(c.array,f.array),c.decomposeMatrix(r?null:this.scale,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,r=this.rotation,c=this.scale;if(this.transformNeedsUpdate()){var f=this.localTransform.array;Ar.fromRotationTranslation(f,r.array,e.array),Ar.scale(f,f,c.array),r._dirty=!1,c._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,r=this.worldTransform.array;this._parent?Ar.multiplyAffine(r,this._parent.worldTransform.array,e):Ar.copy(r,e)},updateWorldTransform:function(){for(var e=this;e&&e.getParent()&&e.getParent().transformNeedsUpdate();)e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var r=this._children,c=0,f=r.length;c<f;c++)r[c].update(e)},getBoundingBox:function(){function e(p){return!p.invisible&&p.geometry}var r=new ae,c=new Er,f=new Er;return function(p,x){return x=x||new ae,p=p||e,this._parent?Er.invert(f,this._parent.worldTransform):Er.identity(f),this.traverse(function(w){w.geometry&&w.geometry.boundingBox&&(r.copy(w.geometry.boundingBox),Er.multiply(c,f,w.worldTransform),r.applyTransform(c),x.union(r))},this,e),x}}(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var r=this.worldTransform.array;if(e){var c=e.array;return c[0]=r[12],c[1]=r[13],c[2]=r[14],e}return new Tr(r[12],r[13],r[14])},clone:function(){var e=new this.constructor,r=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var c=0;c<r.length;c++)e.add(r[c].clone());return e},rotateAround:function(){var e=new Tr,r=new Er;return function(c,f,p){e.copy(this.position).subtract(c);var x=this.localTransform;x.identity(),x.translate(c),x.rotate(p,f),r.fromRotationTranslation(this.rotation,e),x.multiply(r),x.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var e=new Er;return function(r,c){e.lookAt(this.position,r,c||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=r}}()});const gt=De;var En=gt.extend({material:null,geometry:null,mode:4,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:1029,frontFace:2305,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,r){},getBoundingBox:function(e,r){return r=gt.prototype.getBoundingBox.call(this,e,r),this.geometry&&this.geometry.boundingBox&&r.union(this.geometry.boundingBox),r},clone:function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var r=gt.prototype.clone.call(this);r.geometry=this.geometry,r.material=this.material;for(var c=0;c<e.length;c++){var f=e[c];r[f]!==this[f]&&(r[f]=this[f])}return r}}()});En.POINTS=0,En.LINES=1,En.LINE_LOOP=2,En.LINE_STRIP=3,En.TRIANGLES=4,En.TRIANGLE_STRIP=5,En.TRIANGLE_FAN=6,En.BACK=1029,En.FRONT=1028,En.FRONT_AND_BACK=1032,En.CW=2304,En.CCW=2305;const or=En;var Wr=gn.extend({scene:null,camera:null,renderer:null},function(){this._ray=new so,this._ndc=new Zr},{pick:function(e,r,c){return this.pickAll(e,r,[],c)[0]||null},pickAll:function(e,r,c,f){return this.renderer.screenToNDC(e,r,this._ndc),this.camera.castRay(this._ndc,this._ray),this._intersectNode(this.scene,c=c||[],f||!1),c.sort(this._intersectionCompareFunc),c},_intersectNode:function(e,r,c){e instanceof or&&e.isRenderable()&&(!e.ignorePicking||c)&&(4===e.mode&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)&&this._intersectRenderable(e,r);for(var f=0;f<e._children.length;f++)this._intersectNode(e._children[f],r,c)},_intersectRenderable:function(){var e=new Tr,r=new Tr,c=new Tr,f=new so,p=new Er;return function(x,w){var I=x.isSkinnedMesh();f.copy(this._ray),Er.invert(p,x.worldTransform),I||f.applyTransform(p);var F=x.geometry,$=I?x.skeleton.boundingBox:F.boundingBox;if(!$||f.intersectBoundingBox($)){if(F.pick)return void F.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,x,w);if(F.pickByRay)return void F.pickByRay(f,x,w);var Pe,Nt,ue=1029===x.cullFace&&2305===x.frontFace||1028===x.cullFace&&2304===x.frontFace,Ze=F.indices,Ge=F.attributes.position,at=F.attributes.weight,st=F.attributes.joint,Bt=[];if(Ge&&Ge.value&&Ze){if(I){Nt=x.skeleton.getSubSkinMatrices(x.__uid__,x.joints);for(var an=0;an<x.joints.length;an++){Bt[an]=Bt[an]||[];for(var nn=0;nn<16;nn++)Bt[an][nn]=Nt[16*an+nn]}var en=[],Tn=[],wn=[],Zn=[],Yn=[],nr=F.attributes.skinnedPosition;for((!nr||!nr.value)&&(F.createAttribute("skinnedPosition","f",3),(nr=F.attributes.skinnedPosition).init(F.vertexCount)),an=0;an<F.vertexCount;an++){for(Ge.get(an,en),at.get(an,Tn),st.get(an,wn),Tn[3]=1-Tn[0]-Tn[1]-Tn[2],Pn.set(Zn,0,0,0),nn=0;nn<4;nn++)wn[nn]>=0&&Tn[nn]>1e-4&&(Pn.transformMat4(Yn,en,Bt[wn[nn]]),Pn.scaleAndAdd(Zn,Zn,Yn,Tn[nn]));nr.set(an,Zn)}}for(an=0;an<Ze.length;an+=3){var Pr=Ze[an],cr=Ze[an+1],Lr=Ze[an+2],Ir=I?F.attributes.skinnedPosition:Ge;if(Ir.get(Pr,e.array),Ir.get(cr,r.array),Ir.get(Lr,c.array),Pe=ue?f.intersectTriangle(e,r,c,x.culling):f.intersectTriangle(e,c,r,x.culling)){var Cr=new Tr;I?Tr.copy(Cr,Pe):Tr.transformMat4(Cr,Pe,x.worldTransform),w.push(new Wr.Intersection(Pe,Cr,x,[Pr,cr,Lr],an/3,Tr.dist(Cr,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(e,r){return e.distance-r.distance}});Wr.Intersection=function(e,r,c,f,p,x){this.point=e,this.pointWorld=r,this.target=c,this.triangle=f,this.triangleIndex=p,this.distance=x};const _i=Wr;var Di="__dt__",Vi=function(){this._contextId=0,this._caches=[],this._context={}};(Vi.prototype={use:function(e,r){var c=this._caches;c[e]||(c[e]={},r&&(c[e]=r())),this._contextId=e,this._context=c[e]},put:function(e,r){this._context[e]=r},get:function(e){return this._context[e]},dirty:function(e){this.put(Di+(e=e||""),!0)},dirtyAll:function(e){for(var r=Di+(e=e||""),c=this._caches,f=0;f<c.length;f++)c[f]&&(c[f][r]=!0)},fresh:function(e){this.put(Di+(e=e||""),!1)},freshAll:function(e){for(var r=Di+(e=e||""),c=this._caches,f=0;f<c.length;f++)c[f]&&(c[f][r]=!1)},isDirty:function(e){var r=Di+(e=e||""),c=this._context;return!c.hasOwnProperty(r)||!0===c[r]},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,r){Object.keys(this._caches).forEach(function(f){e&&e.call(r,f)})},miss:function(e){return!this._context.hasOwnProperty(e)}}).constructor=Vi;const qr=Vi;var xi=gn.extend({width:512,height:512,type:5121,format:6408,wrapS:10497,wrapT:10497,minFilter:9987,magFilter:9729,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new qr},{getWebGLTexture:function(e){var r=e.gl,c=this._cache;return c.use(e.__uid__),c.miss("webgl_texture")&&c.put("webgl_texture",r.createTexture()),this.dynamic?this.update(e):c.isDirty()&&(this.update(e),c.fresh()),c.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var r=e.gl;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,this.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,this.unpackAlignment),6402===this.format&&(this.useMipmap=!1);var c=e.getGLExtension("EXT_sRGB");this.format===xi.SRGB&&!c&&(this.format=xi.RGB),this.format===xi.SRGB_ALPHA&&!c&&(this.format=xi.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?33071:this.wrapS},getAvailableWrapT:function(){return this.NPOT?33071:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?9984===e||9986===e?9728:9987===e||9985===e?9729:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var r=1;r<32;r<<=1)e|=e>>r;return e+1},dispose:function(e){var r=this._cache;r.use(e.__uid__);var c=r.get("webgl_texture");c&&e.gl.deleteTexture(c),r.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(xi.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(xi.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),xi.BYTE=5120,xi.UNSIGNED_BYTE=5121,xi.SHORT=5122,xi.UNSIGNED_SHORT=5123,xi.INT=5124,xi.UNSIGNED_INT=5125,xi.FLOAT=5126,xi.HALF_FLOAT=36193,xi.UNSIGNED_INT_24_8_WEBGL=34042,xi.DEPTH_COMPONENT=6402,xi.DEPTH_STENCIL=34041,xi.ALPHA=6406,xi.RGB=6407,xi.RGBA=6408,xi.LUMINANCE=6409,xi.LUMINANCE_ALPHA=6410,xi.SRGB=35904,xi.SRGB_ALPHA=35906,xi.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,xi.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,xi.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,xi.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,xi.NEAREST=9728,xi.LINEAR=9729,xi.NEAREST_MIPMAP_NEAREST=9984,xi.LINEAR_MIPMAP_NEAREST=9985,xi.NEAREST_MIPMAP_LINEAR=9986,xi.LINEAR_MIPMAP_LINEAR=9987,xi.REPEAT=10497,xi.CLAMP_TO_EDGE=33071,xi.MIRRORED_REPEAT=33648;const Kr=xi;var La=or.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=or.prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});La.POINTS=0,La.LINES=1,La.LINE_LOOP=2,La.LINE_STRIP=3,La.TRIANGLES=4,La.TRIANGLE_STRIP=5,La.TRIANGLE_FAN=6,La.BACK=1029,La.FRONT=1028,La.FRONT_AND_BACK=1032,La.CW=2304,La.CCW=2305;const ia=La;var io={isPowerOfTwo:function(e){return 0==(e&e-1)},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}};const mo=io;var Zs=mo.isPowerOfTwo;function ur(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}var js=Kr.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(e){var r=e.gl;r.bindTexture(r.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(e);var c=this.format,f=this.type,p=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==Kr.REPEAT&&this.wrapT!==Kr.REPEAT||!this.NPOT);r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,p?this.wrapS:this.getAvailableWrapS()),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,p?this.wrapT:this.getAvailableWrapT()),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,p?this.magFilter:this.getAvailableMagFilter()),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,p?this.minFilter:this.getAvailableMinFilter());var x=e.getGLExtension("EXT_texture_filter_anisotropic");if(x&&this.anisotropic>1&&r.texParameterf(r.TEXTURE_2D,x.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===f&&(e.getGLExtension("OES_texture_half_float")||(f=5126)),this.mipmaps.length)for(var I=this.width,F=this.height,$=0;$<this.mipmaps.length;$++)this._updateTextureData(r,this.mipmaps[$],$,I,F,c,f,!1),I/=2,F/=2;else this._updateTextureData(r,this,0,this.width,this.height,c,f,p),this.useMipmap&&(!this.NPOT||p)&&r.generateMipmap(r.TEXTURE_2D);r.bindTexture(r.TEXTURE_2D,null)},_updateTextureData:function(e,r,c,f,p,x,w,I){if(r.image){var F=r.image;I&&(this._potCanvas=function(e,r){var c=ur(e.width),f=ur(e.height);return(r=r||document.createElement("canvas")).width=c,r.height=f,r.getContext("2d").drawImage(e.image,0,0,c,f),r}(this,this._potCanvas),F=this._potCanvas),e.texImage2D(e.TEXTURE_2D,c,x,x,w,F)}else x<=Kr.COMPRESSED_RGBA_S3TC_DXT5_EXT&&x>=Kr.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,c,x,f,p,0,r.pixels):e.texImage2D(e.TEXTURE_2D,c,x,f,p,0,x,w,r.pixels)},generateMipmap:function(e){var r=e.gl;this.useMipmap&&!this.NPOT&&(r.bindTexture(r.TEXTURE_2D,this._cache.get("webgl_texture")),r.generateMipmap(r.TEXTURE_2D))},isPowerOfTwo:function(){return Zs(this.width)&&Zs(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,r){var c=Et.createImage();r&&(c.crossOrigin=r);var f=this;return c.onload=function(){f.dirty(),f.trigger("success",f)},c.onerror=function(){f.trigger("error",f)},c.src=e,this.image=c,this}});Object.defineProperty(js.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(js.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const Qr=js;function Mi(e){return{byte:Et.Int8Array,ubyte:Et.Uint8Array,short:Et.Int16Array,ushort:Et.Uint16Array}[e]||Et.Float32Array}function Zo(e){return"attr_"+e}function bt(e,r,c,f){switch(this.name=e,this.type=r,this.size=c,this.semantic=f||"",this.value=null,c){case 1:this.get=function(p){return this.value[p]},this.set=function(p,x){this.value[p]=x},this.copy=function(p,x){this.value[p]=this.value[p]};break;case 2:this.get=function(p,x){var w=this.value;return x[0]=w[2*p],x[1]=w[2*p+1],x},this.set=function(p,x){var w=this.value;w[2*p]=x[0],w[2*p+1]=x[1]},this.copy=function(p,x){var w=this.value;w[p*=2]=w[x*=2],w[p+1]=w[x+1]};break;case 3:this.get=function(p,x){var w=3*p,I=this.value;return x[0]=I[w],x[1]=I[w+1],x[2]=I[w+2],x},this.set=function(p,x){var w=3*p,I=this.value;I[w]=x[0],I[w+1]=x[1],I[w+2]=x[2]},this.copy=function(p,x){var w=this.value;w[p*=3]=w[x*=3],w[p+1]=w[x+1],w[p+2]=w[x+2]};break;case 4:this.get=function(p,x){var w=this.value,I=4*p;return x[0]=w[I],x[1]=w[I+1],x[2]=w[I+2],x[3]=w[I+3],x},this.set=function(p,x){var w=this.value,I=4*p;w[I]=x[0],w[I+1]=x[1],w[I+2]=x[2],w[I+3]=x[3]},this.copy=function(p,x){var w=this.value;w[p*=4]=w[x*=4],w[p+1]=w[x+1],w[p+2]=w[x+2],w[p+3]=w[x+3]}}}function pe(e,r,c,f,p){this.name=e,this.type=r,this.buffer=c,this.size=f,this.semantic=p,this.symbol="",this.needsRemove=!1}function be(e){this.buffer=e,this.count=0}bt.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var r=Mi(this.type);this.value=new r(e*this.size)}},bt.prototype.fromArray=function(e){var c,r=Mi(this.type);if(e[0]&&e[0].length){var f=0,p=this.size;c=new r(e.length*p);for(var x=0;x<e.length;x++)for(var w=0;w<p;w++)c[f++]=e[x][w]}else c=new r(e);this.value=c},bt.prototype.clone=function(e){var r=new bt(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),r};var Xe=gn.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new qr,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),r=0;r<e.length;r++)this.dirtyAttribute(e[r]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(e){this._cache.dirtyAll(Zo(e)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(e,r){if(e<this.triangleCount&&e>=0){r||(r=[]);var c=this.indices;return r[0]=c[3*e],r[1]=c[3*e+1],r[2]=c[3*e+2],r}},setTriangleIndices:function(e,r){var c=this.indices;c[3*e]=r[0],c[3*e+1]=r[1],c[3*e+2]=r[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var r,c=this.vertexCount>65535?Et.Uint32Array:Et.Uint16Array;if(e[0]&&e[0].length){var f=0;r=new c(3*e.length);for(var x=0;x<e.length;x++)for(var w=0;w<3;w++)r[f++]=e[x][w]}else r=new c(e);this.indices=r},createAttribute:function(e,r,c,f){var p=new bt(e,r,c,f);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=p,this._attributeList.push(e),p},removeAttribute:function(e){var r=this._attributeList,c=r.indexOf(e);return c>=0&&(r.splice(c,1),delete this.attributes[e],!0)},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,r=this._attributeList;if(e)return e;for(var c=[],f=this.vertexCount,p=0;p<r.length;p++){var x=r[p],w=this.attributes[x];w.value&&w.value.length===f*w.size&&c.push(x)}return this._enabledAttributes=c,c},getBufferChunks:function(e){var r=this._cache;r.use(e.__uid__);var c=r.isDirty("attributes"),f=r.isDirty("indices");if(c||f){this._updateBuffer(e.gl,c,f);for(var p=this.getEnabledAttributes(),x=0;x<p.length;x++)r.fresh(Zo(p[x]));r.fresh("attributes"),r.fresh("indices")}return r.fresh("any"),r.get("chunks")},_updateBuffer:function(e,r,c){var f=this._cache,p=f.get("chunks"),x=!1;p||((p=[])[0]={attributeBuffers:[],indicesBuffer:null},f.put("chunks",p),x=!0);var w=p[0],I=w.attributeBuffers,F=w.indicesBuffer;if(r||x){var $=this.getEnabledAttributes(),ue={};if(!x)for(var Pe=0;Pe<I.length;Pe++)ue[I[Pe].name]=I[Pe];for(var Ze=0;Ze<$.length;Ze++){var st,Nt,Ge=$[Ze],at=this.attributes[Ge];x||(st=ue[Ge]),Nt=st?st.buffer:e.createBuffer(),f.isDirty(Zo(Ge))&&(e.bindBuffer(e.ARRAY_BUFFER,Nt),e.bufferData(e.ARRAY_BUFFER,at.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),I[Ze]=new pe(Ge,at.type,Nt,at.size,at.semantic)}for(Pe=Ze;Pe<I.length;Pe++)e.deleteBuffer(I[Pe].buffer);I.length=Ze}this.isUseIndices()&&(c||x)&&(F||(F=new be(e.createBuffer()),w.indicesBuffer=F),F.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,F.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var r=this._cache;r.use(e.__uid__);var c=r.get("chunks");if(c)for(var f=0;f<c.length;f++){for(var p=c[f],x=0;x<p.attributeBuffers.length;x++)e.gl.deleteBuffer(p.attributeBuffers[x].buffer);p.indicesBuffer&&e.gl.deleteBuffer(p.indicesBuffer.buffer)}if(this.__vaoCache){var I=e.getGLExtension("OES_vertex_array_object");for(var F in this.__vaoCache){var $=this.__vaoCache[F].vao;$&&I.deleteVertexArrayOES($)}}this.__vaoCache={},r.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(Xe.prototype,"vertexCount",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),e&&e.value?e.value.length/e.size:0}}),Object.defineProperty(Xe.prototype,"triangleCount",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}})),Xe.STATIC_DRAW=35044,Xe.DYNAMIC_DRAW=35048,Xe.STREAM_DRAW=35040,Xe.AttributeBuffer=pe,Xe.IndicesBuffer=be,Xe.Attribute=bt;const Ct=Xe;var Ht=Pn.create,hn=Pn.add,_n=Pn.set,Fn=Ct.Attribute,ir=Ct.extend(function(){return{attributes:{position:new Fn("position","float",3,"POSITION"),texcoord0:new Fn("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new Fn("texcoord1","float",2,"TEXCOORD_1"),normal:new Fn("normal","float",3,"NORMAL"),tangent:new Fn("tangent","float",4,"TANGENT"),color:new Fn("color","float",4,"COLOR"),weight:new Fn("weight","float",3,"WEIGHT"),joint:new Fn("joint","float",4,"JOINT"),barycentric:new Fn("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new ae);var r=this.attributes.position.value;if(r&&r.length){var c=e.min,f=e.max,p=c.array,x=f.array;Pn.set(p,r[0],r[1],r[2]),Pn.set(x,r[0],r[1],r[2]);for(var w=3;w<r.length;){var I=r[w++],F=r[w++],$=r[w++];I<p[0]&&(p[0]=I),F<p[1]&&(p[1]=F),$<p[2]&&(p[2]=$),I>x[0]&&(x[0]=I),F>x[1]&&(x[1]=F),$>x[2]&&(x[2]=$)}c._dirty=!0,f._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,r=this.attributes,c=r.position.value,f=r.normal.value;if(f&&f.length===c.length)for(var p=0;p<f.length;p++)f[p]=0;else f=r.normal.value=new Et.Float32Array(c.length);for(var Ze,Ge,at,x=Ht(),w=Ht(),I=Ht(),F=Ht(),$=Ht(),ue=Ht(),Pe=e?e.length:this.vertexCount,st=0;st<Pe;)for(e?(Ze=e[st++],Ge=e[st++],at=e[st++]):(Ze=st++,Ge=st++,at=st++),_n(x,c[3*Ze],c[3*Ze+1],c[3*Ze+2]),_n(w,c[3*Ge],c[3*Ge+1],c[3*Ge+2]),_n(I,c[3*at],c[3*at+1],c[3*at+2]),Pn.sub(F,x,w),Pn.sub($,w,I),Pn.cross(ue,F,$),p=0;p<3;p++)f[3*Ze+p]=f[3*Ze+p]+ue[p],f[3*Ge+p]=f[3*Ge+p]+ue[p],f[3*at+p]=f[3*at+p]+ue[p];for(p=0;p<f.length;)_n(ue,f[p],f[p+1],f[p+2]),Pn.normalize(ue,ue),f[p++]=ue[0],f[p++]=ue[1],f[p++]=ue[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,r=this.attributes,c=r.position.value,f=r.normal.value,p=Ht(),x=Ht(),w=Ht(),I=Ht(),F=Ht(),$=Ht();f||(f=r.normal.value=new Float32Array(c.length));for(var Pe,Ze,Ge,ue=e?e.length:this.vertexCount,at=0;at<ue;){e?(Pe=e[at++],Ze=e[at++],Ge=e[at++]):(Pe=at++,Ze=at++,Ge=at++),_n(p,c[3*Pe],c[3*Pe+1],c[3*Pe+2]),_n(x,c[3*Ze],c[3*Ze+1],c[3*Ze+2]),_n(w,c[3*Ge],c[3*Ge+1],c[3*Ge+2]),Pn.sub(I,p,x),Pn.sub(F,x,w),Pn.cross($,I,F),Pn.normalize($,$);for(var st=0;st<3;st++)f[3*Pe+st]=$[st],f[3*Ze+st]=$[st],f[3*Ge+st]=$[st]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,r=this.attributes;r.tangent.value||(r.tangent.value=new Float32Array(4*e));var c=r.texcoord0.value,f=r.position.value,p=r.tangent.value,x=r.normal.value;if(!c)return void console.warn("Geometry without texcoords can't generate tangents.");for(var w=[],I=[],F=0;F<e;F++)w[F]=[0,0,0],I[F]=[0,0,0];var Ge,at,st,$=[0,0,0],ue=[0,0,0],Pe=this.indices,Ze=Pe?Pe.length:this.vertexCount;for(F=0;F<Ze;){Pe?(Ge=Pe[F++],at=Pe[F++],st=Pe[F++]):(Ge=F++,at=F++,st=F++);var Nt=c[2*Ge],nn=c[2*Ge+1],wn=f[3*Ge],nr=f[3*Ge+1],Lr=f[3*Ge+2],Br=f[3*at]-wn,Xr=f[3*st]-wn,mi=f[3*at+1]-nr,Gr=f[3*st+1]-nr,Ta=f[3*at+2]-Lr,ui=f[3*st+2]-Lr,Ha=c[2*at]-Nt,Ma=c[2*st]-Nt,ja=c[2*at+1]-nn,Ka=c[2*st+1]-nn,da=1/(Ha*Ka-ja*Ma);$[0]=(Ka*Br-ja*Xr)*da,$[1]=(Ka*mi-ja*Gr)*da,$[2]=(Ka*Ta-ja*ui)*da,ue[0]=(Ha*Xr-Ma*Br)*da,ue[1]=(Ha*Gr-Ma*mi)*da,ue[2]=(Ha*ui-Ma*Ta)*da,hn(w[Ge],w[Ge],$),hn(w[at],w[at],$),hn(w[st],w[st],$),hn(I[Ge],I[Ge],ue),hn(I[at],I[at],ue),hn(I[st],I[st],ue)}var _o=Ht(),uo=Ht(),Io=Ht();for(F=0;F<e;F++){Io[0]=x[3*F],Io[1]=x[3*F+1],Io[2]=x[3*F+2];var cs=w[F];Pn.scale(_o,Io,Pn.dot(Io,cs)),Pn.sub(_o,cs,_o),Pn.normalize(_o,_o),Pn.cross(uo,Io,cs),p[4*F]=_o[0],p[4*F+1]=_o[1],p[4*F+2]=_o[2],p[4*F+3]=Pn.dot(uo,I[F])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new Et.Uint32Array(this.indices));for(var e=this.attributes,r=this.indices,c=this.getEnabledAttributes(),f={},p=0;p<c.length;p++)f[x=c[p]]=e[x].value,e[x].init(this.indices.length);for(var w=0,I=0;I<r.length;I++){var F=r[I];for(p=0;p<c.length;p++)for(var x,$=e[x=c[p]].value,ue=e[x].size,Pe=0;Pe<ue;Pe++)$[w*ue+Pe]=f[x][F*ue+Pe];r[I]=w,w++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,r=e.barycentric.value,c=this.indices;if(!r||r.length!==3*c.length){r=e.barycentric.value=new Float32Array(3*c.length);for(var f=0;f<(c?c.length:this.vertexCount/3);)for(var p=0;p<3;p++)r[3*(c?c[f++]:3*f+p)+p]=1;this.dirty()}}},applyTransform:function(e){var r=this.attributes,c=r.position.value,f=r.normal.value,p=r.tangent.value;e=e.array;var x=Ar.create();Ar.invert(x,e),Ar.transpose(x,x);var w=Pn.transformMat4,I=Pn.forEach;I(c,3,0,null,w,e),f&&I(f,3,0,null,w,x),p&&I(p,4,0,null,w,x),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var r=this._cache;r.use(e.__uid__);var c=r.get("chunks");if(c)for(var f=0;f<c.length;f++){for(var p=c[f],x=0;x<p.attributeBuffers.length;x++)e.gl.deleteBuffer(p.attributeBuffers[x].buffer);p.indicesBuffer&&e.gl.deleteBuffer(p.indicesBuffer.buffer)}if(this.__vaoCache){var I=e.getGLExtension("OES_vertex_array_object");for(var F in this.__vaoCache){var $=this.__vaoCache[F].vao;$&&I.deleteVertexArrayOES($)}}this.__vaoCache={},r.deleteContext(e.__uid__)}});ir.STATIC_DRAW=Ct.STATIC_DRAW,ir.DYNAMIC_DRAW=Ct.DYNAMIC_DRAW,ir.STREAM_DRAW=Ct.STREAM_DRAW,ir.AttributeBuffer=Ct.AttributeBuffer,ir.IndicesBuffer=Ct.IndicesBuffer,ir.Attribute=Fn;const ar=ir;var fi="uniform vec3 ",Zi="uniform float ",ai="@export clay.header.",Ci="@end",oi=":unconfigurable;";const ka=[ai+"directional_light",fi+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+oi,fi+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+oi,Ci,ai+"ambient_light",fi+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+oi,Ci,ai+"ambient_sh_light",fi+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+oi,fi+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+oi,"vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}",Ci,ai+"ambient_cubemap_light",fi+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+oi,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+oi,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+oi,Ci,ai+"point_light",fi+"pointLightPosition[POINT_LIGHT_COUNT]"+oi,Zi+"pointLightRange[POINT_LIGHT_COUNT]"+oi,fi+"pointLightColor[POINT_LIGHT_COUNT]"+oi,Ci,ai+"spot_light",fi+"spotLightPosition[SPOT_LIGHT_COUNT]"+oi,fi+"spotLightDirection[SPOT_LIGHT_COUNT]"+oi,Zi+"spotLightRange[SPOT_LIGHT_COUNT]"+oi,Zi+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+oi,Zi+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+oi,Zi+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+oi,fi+"spotLightColor[SPOT_LIGHT_COUNT]"+oi,Ci].join("\n");br.import(ka);var za=gt.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var e=gt.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}});const ji=za;var xa=function(e,r){this.normal=e||new Tr(0,1,0),this.distance=r||0};xa.prototype={constructor:xa,distanceToPoint:function(e){return Pn.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,r){r||(r=new Tr);var c=this.distanceToPoint(e);return Pn.scaleAndAdd(r.array,e.array,this.normal.array,-c),r._dirty=!0,r},normalize:function(){var e=1/Pn.len(this.normal.array);Pn.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var r=e.vertices,c=this.normal.array,f=Pn.dot(r[0].array,c)>this.distance,p=1;p<8;p++)if(Pn.dot(r[p].array,c)>this.distance!=f)return!0},intersectLine:function(){var e=Pn.create();return function(r,c,f){var p=this.distanceToPoint(r),x=this.distanceToPoint(c);if(p>0&&x>0||p<0&&x<0)return null;var w=this.normal.array,I=this.distance,F=r.array;Pn.sub(e,c.array,r.array),Pn.normalize(e,e);var $=Pn.dot(w,e);if(0===$)return null;f||(f=new Tr);var ue=(Pn.dot(w,F)-I)/$;return Pn.scaleAndAdd(f.array,F,e,-ue),f._dirty=!0,f}}(),applyTransform:function(){var e=Ar.create(),r=zr.create(),c=zr.create();return c[3]=1,function(f){f=f.array,Pn.scale(c,this.normal.array,this.distance),zr.transformMat4(c,c,f),this.distance=Pn.dot(c,this.normal.array),Ar.invert(e,f),Ar.transpose(e,e),r[3]=0,Pn.copy(r,this.normal.array),zr.transformMat4(r,r,e),Pn.copy(this.normal.array,r)}}(),copy:function(e){Pn.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new xa;return e.copy(this),e}};const Fo=xa;var la=Pn.set,Wa=Pn.copy,ko=Pn.transformMat4,Bo=Math.min,jo=Math.max,Ks=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new Fo);for(this.boundingBox=new ae,this.vertices=[],e=0;e<8;e++)this.vertices[e]=Pn.fromValues(0,0,0)};Ks.prototype={setFromProjection:function(e){var r=this.planes,c=e.array,f=c[0],p=c[1],x=c[2],w=c[3],I=c[4],F=c[5],$=c[6],ue=c[7],Pe=c[8],Ze=c[9],Ge=c[10],at=c[11],st=c[12],Nt=c[13],Bt=c[14],an=c[15];la(r[0].normal.array,w-f,ue-I,at-Pe),r[0].distance=-(an-st),r[0].normalize(),la(r[1].normal.array,w+f,ue+I,at+Pe),r[1].distance=-(an+st),r[1].normalize(),la(r[2].normal.array,w+p,ue+F,at+Ze),r[2].distance=-(an+Nt),r[2].normalize(),la(r[3].normal.array,w-p,ue-F,at-Ze),r[3].distance=-(an-Nt),r[3].normalize(),la(r[4].normal.array,w-x,ue-$,at-Ge),r[4].distance=-(an-Bt),r[4].normalize(),la(r[5].normal.array,w+x,ue+$,at+Ge),r[5].distance=-(an+Bt),r[5].normalize();var nn=this.boundingBox,en=this.vertices;if(0===an){var Tn=F/f,wn=-Bt/(Ge-1),Zn=-Bt/(Ge+1),Yn=-Zn/F,nr=-wn/F;nn.min.set(-Yn*Tn,-Yn,Zn),nn.max.set(Yn*Tn,Yn,wn),la(en[0],-Yn*Tn,-Yn,Zn),la(en[1],-Yn*Tn,Yn,Zn),la(en[2],Yn*Tn,-Yn,Zn),la(en[3],Yn*Tn,Yn,Zn),la(en[4],-nr*Tn,-nr,wn),la(en[5],-nr*Tn,nr,wn),la(en[6],nr*Tn,-nr,wn),la(en[7],nr*Tn,nr,wn)}else{var Pr=(-1-st)/f,cr=(1-st)/f,Lr=(1-Nt)/F,Ir=(-1-Nt)/F,Cr=(-1-Bt)/Ge,Br=(1-Bt)/Ge;nn.min.set(Math.min(Pr,cr),Math.min(Ir,Lr),Math.min(Br,Cr)),nn.max.set(Math.max(cr,Pr),Math.max(Lr,Ir),Math.max(Cr,Br));var Xr=nn.min.array,mi=nn.max.array;la(en[0],Xr[0],Xr[1],Xr[2]),la(en[1],Xr[0],mi[1],Xr[2]),la(en[2],mi[0],Xr[1],Xr[2]),la(en[3],mi[0],mi[1],Xr[2]),la(en[4],Xr[0],Xr[1],mi[2]),la(en[5],Xr[0],mi[1],mi[2]),la(en[6],mi[0],Xr[1],mi[2]),la(en[7],mi[0],mi[1],mi[2])}},getTransformedBoundingBox:function(){var e=Pn.create();return function(r,c){var f=this.vertices,p=c.array,x=r.min,w=r.max,I=x.array,F=w.array,$=f[0];ko(e,$,p),Wa(I,e),Wa(F,e);for(var ue=1;ue<8;ue++)ko(e,$=f[ue],p),I[0]=Bo(e[0],I[0]),I[1]=Bo(e[1],I[1]),I[2]=Bo(e[2],I[2]),F[0]=jo(e[0],F[0]),F[1]=jo(e[1],F[1]),F[2]=jo(e[2],F[2]);return x._dirty=!0,w._dirty=!0,r}}()};const vs=Ks;var Mt=gt.extend(function(){return{projectionMatrix:new Er,invProjectionMatrix:new Er,viewMatrix:new Er,frustum:new vs}},function(){this.update(!0)},{update:function(e){gt.prototype.update.call(this,e),Er.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),Er.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){Er.copy(this.viewMatrix,e),Er.invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){Er.copy(this.projectionMatrix,e),Er.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var e=zr.create();return function(r,c){var f=void 0!==c?c:new so,p=r.array[0],x=r.array[1];return zr.set(e,p,x,-1,1),zr.transformMat4(e,e,this.invProjectionMatrix.array),zr.transformMat4(e,e,this.worldTransform.array),Pn.scale(f.origin.array,e,1/e[3]),zr.set(e,p,x,1,1),zr.transformMat4(e,e,this.invProjectionMatrix.array),zr.transformMat4(e,e,this.worldTransform.array),Pn.scale(e,e,1/e[3]),Pn.sub(f.direction.array,e,f.origin.array),Pn.normalize(f.direction.array,f.direction.array),f.direction._dirty=!0,f.origin._dirty=!0,f}}()});const Rt=Mt;var ht=Ar.create(),Tt=Ar.create(),Dt={};function jt(e){var r=[],c=Object.keys(e);c.sort();for(var f=0;f<c.length;f++){var p=c[f];r.push(p+" "+e[p])}var x=r.join("\n");if(Dt[x])return Dt[x];var w=Wt.genGUID();return Dt[x]=w,w}function pn(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}pn.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},pn.prototype.add=function(e,r){r?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e},pn.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var Jn=gt.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new ae,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new tt(20)}},function(){this._scene=this},{addToScene:function(e){e instanceof Rt?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(e)):e instanceof ji&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var r;e instanceof Rt?(r=this._cameraList.indexOf(e))>=0&&this._cameraList.splice(r,1):e instanceof ji&&(r=this.lights.indexOf(e))>=0&&this.lights.splice(r,1),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var r=this._cameraList.indexOf(e);r>=0&&this._cameraList.splice(r,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var r={},c=0;c<e.length;c++){var f=e[c];if(!f.invisible){var p=f.group;r[p]||(r[p]={}),r[p][f.type]=r[p][f.type]||0,r[p][f.type]++}}for(var x in this._lightNumber=r,r)this._lightProgramKeys[x]=jt(r[x]);this._updateLightUniforms()},cloneNode:function(e){var r=e.clone(),c={};return function f(p,x){c[p.__uid__]=x;for(var w=0;w<p._children.length;w++)f(p._children[w],x._children[w])}(e,r),r.traverse(function(p){p.skeleton&&(p.skeleton=p.skeleton.clone(c)),p.material&&(p.material=p.material.clone())}),r},updateRenderList:function(e,r){var c=e.__uid__,f=this._renderLists.get(c);return f||(f=new pn,this._renderLists.put(c,f)),f.startCount(),r&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0)),this._doUpdateRenderList(this,e,this.material&&this.material.transparent||!1,f,r),f.endCount(),f},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,r,c,f,p){if(!e.invisible)for(var x=0;x<e._children.length;x++){var w=e._children[x];if(w.isRenderable()){var I=w.isSkinnedMesh()?ht:w.worldTransform.array,F=w.geometry;Ar.multiplyAffine(Tt,r.viewMatrix.array,I),(p&&!F.boundingBox||!this.isFrustumCulled(w,r,Tt))&&f.add(w,w.material.transparent||c)}w._children.length>0&&this._doUpdateRenderList(w,r,c,f,p)}},isFrustumCulled:function(){var e=new ae,r=new Er;return function(c,f,p){var x=c.boundingBox;if(x||(x=c.skeleton&&c.skeleton.boundingBox?c.skeleton.boundingBox:c.geometry.boundingBox),!x)return!1;if(r.array=p,e.transformFrom(x,r),c.castShadow&&this.viewBoundingBoxLastFrame.union(e),c.frustumCulling){if(!e.intersectBoundingBox(f.frustum.boundingBox))return!0;r.array=f.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(r);var w=e.min.array,I=e.max.array;if(I[0]<-1||w[0]>1||I[1]<-1||w[1]>1||I[2]<-1||w[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var e=this.lights;e.sort(jn);var r=this._lightUniforms;for(var c in r)for(var f in r[c])r[c][f].value.length=0;for(var p=0;p<e.length;p++){var x=e[p];if(!x.invisible)for(var f in c=x.group,x.uniformTemplates){var w=x.uniformTemplates[f],I=w.value(x);if(null!=I){r[c]||(r[c]={}),r[c][f]||(r[c][f]={type:"",value:[]});var F=r[c][f];switch(F.type=w.type+"v",w.type){case"1i":case"1f":case"t":F.value.push(I);break;case"2f":case"3f":case"4f":for(var $=0;$<I.length;$++)F.value.push(I[$]);break;default:console.error("Unkown light uniform type "+w.type)}}}}},getLightGroups:function(){var e=[];for(var r in this._lightNumber)e.push(r);return e},getNumberChangedLightGroups:function(){var e=[];for(var r in this._lightNumber)this.isLightNumberChanged(r)&&e.push(r);return e},isLightNumberChanged:function(e){var r=this._previousLightNumber,c=this._lightNumber;for(var f in c[e])if(!r[e]||c[e][f]!==r[e][f])return!0;for(var f in r[e])if(!c[e]||c[e][f]!==r[e][f])return!0;return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:function(){function e(r,c,f){for(var p in r){var x=r[p];if("tv"===x.type){if(!c.hasUniform(p))continue;for(var w=[],I=0;I<x.value.length;I++){var $=c.takeCurrentTextureSlot(f,x.value[I]);w.push($)}c.setUniform(f.gl,"1iv",p,w)}else c.setUniform(f.gl,x.type,p,x.value)}}return function(r,c,f){e(this._lightUniforms[c],r,f),e(this.shadowUniforms,r,f)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function jn(e,r){if(r.castShadow&&!e.castShadow)return!0}const qt=Jn;var Cn=E(4371),fn=mo.isPowerOfTwo,Hn=["px","nx","py","ny","pz","nz"],Gn=Kr.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(e){var r=e.gl;r.bindTexture(r.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(e);var c=this.format,f=this.type;r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_WRAP_S,this.getAvailableWrapS()),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_WRAP_T,this.getAvailableWrapT()),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var p=e.getGLExtension("EXT_texture_filter_anisotropic");if(p&&this.anisotropic>1&&r.texParameterf(r.TEXTURE_CUBE_MAP,p.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===f&&(e.getGLExtension("OES_texture_half_float")||(f=5126)),this.mipmaps.length)for(var w=this.width,I=this.height,F=0;F<this.mipmaps.length;F++)this._updateTextureData(r,this.mipmaps[F],F,w,I,c,f),w/=2,I/=2;else this._updateTextureData(r,this,0,this.width,this.height,c,f),!this.NPOT&&this.useMipmap&&r.generateMipmap(r.TEXTURE_CUBE_MAP);r.bindTexture(r.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,r,c,f,p,x,w){for(var I=0;I<6;I++){var F=Hn[I],$=r.image&&r.image[F];$?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+I,c,x,x,w,$):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+I,c,x,f,p,0,x,w,r.pixels&&r.pixels[F])}},generateMipmap:function(e){var r=e.gl;this.useMipmap&&!this.NPOT&&(r.bindTexture(r.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),r.generateMipmap(r.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?fn(this.image.px.width)&&fn(this.image.px.height):fn(this.width)&&fn(this.height)},isRenderable:function(){return this.image.px?mr(this.image.px)&&mr(this.image.nx)&&mr(this.image.py)&&mr(this.image.ny)&&mr(this.image.pz)&&mr(this.image.nz):!(!this.width||!this.height)},load:function(e,r){var c=0,f=this;return Wt.each(e,function(p,x){var w=Et.createImage();r&&(w.crossOrigin=r),w.onload=function(){0==--c&&(f.dirty(),f.trigger("success",f))},w.onerror=function(){c--},c++,w.src=p,f.image[x]=w}),this}});function mr(e){return e.width>0&&e.height>0}Object.defineProperty(Gn.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(Gn.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const wr=Gn;var Dr=Rt.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,r=2*Math.atan(1/e[5]);this.fov=r/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=Rt.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}});const Mr=Dr;var ci="framebuffer",vi="renderbuffer",bi=vi+"_width",$i=vi+"_height",Ca=vi+"_attached",Ea="depthtexture_attached",Za=36160,ts=36161,Da=36096,Do=gn.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new qr,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}e.__currentFrameBuffer=this;var r=e.gl;r.bindFramebuffer(Za,this._getFrameBufferGL(e)),this._boundRenderer=e;var c=this._cache;c.put("viewport",e.viewport);var p,x,f=!1;for(var w in this._textures){f=!0;var I=this._textures[w];I&&(p=I.texture.width,x=I.texture.height,this._doAttach(e,I.texture,w,I.target))}this._width=p,this._height=x,!f&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,p,x,1);var F=c.get("attached_textures");if(F)for(var w in F)this._textures[w]||this._doDetach(r,w,F[w]);if(!c.get(Ea)&&this.depthBuffer){c.miss(vi)&&c.put(vi,r.createRenderbuffer());var ue=c.get(vi);(p!==c.get(bi)||x!==c.get($i))&&(r.bindRenderbuffer(ts,ue),r.renderbufferStorage(ts,r.DEPTH_COMPONENT16,p,x),c.put(bi,p),c.put($i,x),r.bindRenderbuffer(ts,null)),c.get(Ca)||(r.framebufferRenderbuffer(Za,Da,ts,ue),c.put(Ca,!0))}},unbind:function(e){e.__currentFrameBuffer=null,e.gl.bindFramebuffer(Za,null),this._boundRenderer=null,this._cache.use(e.__uid__);var c=this._cache.get("viewport");c&&e.setViewport(c),this.updateMipmap(e)},updateMipmap:function(e){var r=e.gl;for(var c in this._textures){var f=this._textures[c];if(f){var p=f.texture;if(!p.NPOT&&p.useMipmap&&p.minFilter===Kr.LINEAR_MIPMAP_LINEAR){var x="textureCube"===p.textureType?34067:3553;r.bindTexture(x,p.getWebGLTexture(e)),r.generateMipmap(x),r.bindTexture(x,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus(Za)},_getFrameBufferGL:function(e){var r=this._cache;return r.use(e.__uid__),r.miss(ci)&&r.put(ci,e.gl.createFramebuffer()),r.get(ci)},attach:function(e,r,c){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");r=r||36064,c=c||3553;var x,f=this._boundRenderer;if(f&&f.gl){var w=this._cache;w.use(f.__uid__),x=w.get("attached_textures")}var I=this._textures[r];if(!I||I.target!==c||I.texture!==e||!x||null==x[r]){var F=!0;f&&(F=this._doAttach(f,e,r,c),this.viewport||f.setViewport(0,0,e.width,e.height,1)),F&&(this._textures[r]=this._textures[r]||{},this._textures[r].texture=e,this._textures[r].target=c)}},_doAttach:function(e,r,c,f){var p=e.gl,x=r.getWebGLTexture(e),w=this._cache.get("attached_textures");if(w&&w[c]){var I=w[c];if(I.texture===r&&I.target===f)return}var F=!0;if(((c=+c)===Da||33306===c)&&(e.getGLExtension("WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),F=!1),6402!==r.format&&34041!==r.format&&(console.error("The texture attached to depth buffer is not a valid."),F=!1),F)){var ue=this._cache.get(vi);ue&&(p.framebufferRenderbuffer(Za,Da,ts,null),p.deleteRenderbuffer(ue),this._cache.put(vi,!1)),this._cache.put(Ca,!1),this._cache.put(Ea,!0)}return p.framebufferTexture2D(Za,c,f,x,0),w||this._cache.put("attached_textures",w={}),w[c]=w[c]||{},w[c].texture=r,w[c].target=f,F},_doDetach:function(e,r,c){e.framebufferTexture2D(Za,r,c,null,0);var f=this._cache.get("attached_textures");f&&f[r]&&(f[r]=null),(r===Da||33306===r)&&this._cache.put(Ea,!1)},detach:function(e,r){this._textures[e]=null,this._boundRenderer&&(this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,r))},dispose:function(e){var r=e.gl,c=this._cache;c.use(e.__uid__);var f=c.get(vi);f&&r.deleteRenderbuffer(f);var p=c.get(ci);p&&r.deleteFramebuffer(p),c.deleteContext(e.__uid__),this._textures={}}});Do.DEPTH_ATTACHMENT=Da,Do.COLOR_ATTACHMENT0=36064,Do.STENCIL_ATTACHMENT=36128,Do.DEPTH_STENCIL_ATTACHMENT=33306;const Ni=Do;var pi=["px","nx","py","ny","pz","nz"],Ql=gn.extend(function(){var e={position:new Tr,far:1e3,near:.1,texture:null,shadowMapPass:null},r=e._cameras={px:new Mr({fov:90}),nx:new Mr({fov:90}),py:new Mr({fov:90}),ny:new Mr({fov:90}),pz:new Mr({fov:90}),nz:new Mr({fov:90})};return r.px.lookAt(Tr.POSITIVE_X,Tr.NEGATIVE_Y),r.nx.lookAt(Tr.NEGATIVE_X,Tr.NEGATIVE_Y),r.py.lookAt(Tr.POSITIVE_Y,Tr.POSITIVE_Z),r.ny.lookAt(Tr.NEGATIVE_Y,Tr.NEGATIVE_Z),r.pz.lookAt(Tr.POSITIVE_Z,Tr.NEGATIVE_Y),r.nz.lookAt(Tr.NEGATIVE_Z,Tr.NEGATIVE_Y),e._frameBuffer=new Ni,e},{getCamera:function(e){return this._cameras[e]},render:function(e,r,c){var f=e.gl;c||r.update();for(var p=this.texture.width,x=2*Math.atan(p/(p-.5))/Math.PI*180,w=0;w<6;w++){var F=this._cameras[pi[w]];if(Tr.copy(F.position,this.position),F.far=this.far,F.near=this.near,F.fov=x,this.shadowMapPass){F.update();var $=r.getBoundingBox();$.applyTransform(F.viewMatrix),r.viewBoundingBoxLastFrame.copy($),this.shadowMapPass.render(e,r,F,!0)}this._frameBuffer.attach(this.texture,f.COLOR_ATTACHMENT0,f.TEXTURE_CUBE_MAP_POSITIVE_X+w),this._frameBuffer.bind(e),e.render(r,F,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}});const zs=Ql;var k1=ar.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var e=this.heightSegments,r=this.widthSegments,c=this.attributes,f=[],p=[],x=[],w=[],I=0;I<=e;I++)for(var F=I/e,$=0;$<=r;$++){var ue=$/r;if(f.push([2*ue-1,2*F-1,0]),p&&p.push([ue,F]),x&&x.push([0,0,1]),$<r&&I<e){var Pe=$+I*(r+1);w.push([Pe,Pe+1,Pe+r+1]),w.push([Pe+r+1,Pe+1,Pe+r+2])}}c.position.fromArray(f),c.texcoord0.fromArray(p),c.normal.fromArray(x),this.initIndicesFromArray(w),this.boundingBox=new ae,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});const Os=k1;var ma=new Er,ou=ar.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var e={px:Jl("px",this.depthSegments,this.heightSegments),nx:Jl("nx",this.depthSegments,this.heightSegments),py:Jl("py",this.widthSegments,this.depthSegments),ny:Jl("ny",this.widthSegments,this.depthSegments),pz:Jl("pz",this.widthSegments,this.heightSegments),nz:Jl("nz",this.widthSegments,this.heightSegments)},r=["position","texcoord0","normal"],c=0,f=0;for(var p in e)c+=e[p].vertexCount,f+=e[p].indices.length;for(var x=0;x<r.length;x++)this.attributes[r[x]].init(c);this.indices=new Et.Uint16Array(f);var w=0,I=0;for(var p in e){var F=e[p];for(x=0;x<r.length;x++)for(var $=r[x],ue=F.attributes[$].value,Pe=F.attributes[$].size,Ze="normal"===$,Ge=0;Ge<ue.length;Ge++){var at=ue[Ge];this.inside&&Ze&&(at=-at),this.attributes[$].value[Ge+Pe*I]=at}var st=F.indices.length;for(Ge=0;Ge<F.indices.length;Ge++)this.indices[Ge+w]=I+F.indices[this.inside?st-Ge-1:Ge];w+=F.indices.length,I+=F.vertexCount}this.boundingBox=new ae,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function Jl(e,r,c){ma.identity();var f=new Os({widthSegments:r,heightSegments:c});switch(e){case"px":Er.translate(ma,ma,Tr.POSITIVE_X),Er.rotateY(ma,ma,Math.PI/2);break;case"nx":Er.translate(ma,ma,Tr.NEGATIVE_X),Er.rotateY(ma,ma,-Math.PI/2);break;case"py":Er.translate(ma,ma,Tr.POSITIVE_Y),Er.rotateX(ma,ma,-Math.PI/2);break;case"ny":Er.translate(ma,ma,Tr.NEGATIVE_Y),Er.rotateX(ma,ma,Math.PI/2);break;case"pz":Er.translate(ma,ma,Tr.POSITIVE_Z);break;case"nz":Er.translate(ma,ma,Tr.NEGATIVE_Z),Er.rotateY(ma,ma,Math.PI)}return f.applyTransform(ma),f}const Pc=ou;br.import("@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end");var $e=ia.extend(function(){var e=new br({vertex:br.source("clay.skybox.vertex"),fragment:br.source("clay.skybox.fragment")}),r=new Xn({shader:e,depthMask:!1});return{scene:null,geometry:new Pc,material:r,environmentMap:null,culling:!1,_dummyCamera:new Mr}},function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){"texture2D"===e.textureType?(this.material.define("EQUIRECTANGULAR"),e.minFilter=Kr.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",e)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(e,r,c){this.renderSkybox(e,c)},renderSkybox:function(e,r){var c=this._dummyCamera;c.aspect=e.getViewportAspect(),c.fov=r.fov||50,c.updateProjectionMatrix(),Er.invert(c.invProjectionMatrix,c.projectionMatrix),c.worldTransform.copy(r.worldTransform),c.viewMatrix.copy(r.viewMatrix),this.position.copy(r.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),e.renderPass([this],c)}});const Ne=$e,Ee=Ne;function A0(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var P0=A0("DXT1"),uh=A0("DXT3"),fo=A0("DXT5"),z3={parse:function(e,r){var c=new Int32Array(e,0,31);if(542327876!==c[0]||4&!c(20))return null;var F,$,f=c(21),p=c[4],x=c[3],w=512&c[28],I=131072&c[2];switch(f){case P0:F=8,$=Kr.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case uh:F=16,$=Kr.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case fo:F=16,$=Kr.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var ue=c[1]+4,Pe=w?6:1,Ze=1;I&&(Ze=Math.max(1,c[7]));for(var Ge=[],at=0;at<Pe;at++){var st=p,Nt=x;Ge[at]=new Qr({width:st,height:Nt,format:$});for(var Bt=[],an=0;an<Ze;an++){var nn=Math.max(4,st)/4*Math.max(4,Nt)/4*F,en=new Uint8Array(e,ue,nn);ue+=nn,st*=.5,Nt*=.5,Bt[an]=en}Ge[at].pixels=Bt[0],I&&(Ge[at].mipmaps=Bt)}if(!r)return Ge[0];r.width=Ge[0].width,r.height=Ge[0].height,r.format=Ge[0].format,r.pixels=Ge[0].pixels,r.mipmaps=Ge[0].mipmaps}};const O0=z3;var ns=String.fromCharCode;function nc(e,r,c,f){if(e[3]>0){var p=Math.pow(2,e[3]-128-8+f);r[c+0]=e[0]*p,r[c+1]=e[1]*p,r[c+2]=e[2]*p}else r[c+0]=0,r[c+1]=0,r[c+2]=0;return r[c+3]=1,r}function I0(e,r){r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3]}function Ms(e,r,c,f){for(var p=0,x=0,w=f;w>0;)if(e[x][0]=r[c++],e[x][1]=r[c++],e[x][2]=r[c++],e[x][3]=r[c++],1===e[x][0]&&1===e[x][1]&&1===e[x][2]){for(var I=e[x][3]<<p>>>0;I>0;I--)I0(e[x-1],e[x]),x++,w--;p+=8}else x++,w--,p=0;return c}function l4(e,r,c,f){if(f<8|f>32767)return Ms(e,r,c,f);if(2!=(p=r[c++]))return Ms(e,r,c-1,f);if(e[0][1]=r[c++],e[0][2]=r[c++],p=r[c++],(e[0][2]<<8>>>0|p)>>>0!==f)return null;for(var p=0;p<4;p++)for(var x=0;x<f;){var w=r[c++];if(w>128){w=(127&w)>>>0;for(var I=r[c++];w--;)e[x++][p]=I}else for(;w--;)e[x++][p]=r[c++]}return c}var O3={parseRGBE:function(e,r,c){null==c&&(c=0);var f=new Uint8Array(e),p=f.length;if("#?"===function(e,r,c){for(var f="",p=0;p<2;p++)f+=ns(e[p]);return f}(f)){for(var x=2;x<p&&("\n"!==ns(f[x])||"\n"!==ns(f[x+1]));x++);if(!(x>=p)){x+=2;for(var w="";x<p;x++){var I=ns(f[x]);if("\n"===I)break;w+=I}var F=w.split(" "),$=parseInt(F[1]),ue=parseInt(F[3]);if(ue&&$){for(var Pe=x+1,Ze=[],Ge=0;Ge<ue;Ge++){Ze[Ge]=[];for(var at=0;at<4;at++)Ze[Ge][at]=0}for(var st=new Float32Array(ue*$*4),Nt=0,Bt=0;Bt<$;Bt++){if(!(Pe=l4(Ze,f,Pe,ue)))return null;for(Ge=0;Ge<ue;Ge++)nc(Ze[Ge],st,Nt,c),Nt+=4}return r||(r=new Qr),r.width=ue,r.height=$,r.pixels=st,r.type=Kr.FLOAT,r}}}},parseRGBEFromPNG:function(e){}};const vo=O3;var hh={loadTexture:function(e,r,c,f){var p;if("function"==typeof r?(f=c=r,r={}):r=r||{},"string"==typeof e){if(e.match(/.hdr$/)||"hdr"===r.fileType)return p=new Qr({width:0,height:0,sRGB:!1}),hh._fetchTexture(e,function(x){vo.parseRGBE(x,p,r.exposure),p.dirty(),c&&c(p)},f),p;e.match(/.dds$/)||"dds"===r.fileType?(p=new Qr({width:0,height:0}),hh._fetchTexture(e,function(x){O0.parse(x,p),p.dirty(),c&&c(p)},f)):((p=new Qr).load(e),p.success(c),p.error(f))}else"object"==typeof e&&void 0!==e.px&&((p=new wr).load(e),p.success(c),p.error(f));return p},loadPanorama:function(e,r,c,f,p,x){var w=this;"function"==typeof f?(x=p=f,f={}):f=f||{},hh.loadTexture(r,f,function(I){I.flipY=f.flipY||!1,w.panoramaToCubeMap(e,I,c,f),I.dispose(e),p&&p(c)},x)},panoramaToCubeMap:function(e,r,c,f){var p=new zs,x=new Ee({scene:new qt});return x.setEnvironmentMap(r),(f=f||{}).encodeRGBM&&x.material.define("fragment","RGBM_ENCODE"),c.sRGB=r.sRGB,p.texture=c,p.render(e,x.scene),p.texture=null,p.dispose(e),c},heightToNormal:function(e,r){var c=document.createElement("canvas"),f=c.width=e.width,p=c.height=e.height,x=c.getContext("2d");x.drawImage(e,0,0,f,p),r=r||!1;for(var w=x.getImageData(0,0,f,p),I=x.createImageData(f,p),F=0;F<w.data.length;F+=4){if(r){var ue=w.data[F+1],Pe=w.data[F+2];if(Math.abs(w.data[F]-ue)+Math.abs(ue-Pe)>20)return console.warn("Given image is not a height map"),e}var Ge,at,st,Nt;F%(4*f)==0?(Ge=w.data[F],st=w.data[F+4]):F%(4*f)==4*(f-1)?(Ge=w.data[F-4],st=w.data[F]):(Ge=w.data[F-4],st=w.data[F+4]),F<4*f?(at=w.data[F],Nt=w.data[F+4*f]):F>f*(p-1)*4?(at=w.data[F-4*f],Nt=w.data[F]):(at=w.data[F-4*f],Nt=w.data[F+4*f]),I.data[F]=Ge-st+127,I.data[F+1]=at-Nt+127,I.data[F+2]=255,I.data[F+3]=255}return x.putImageData(I,0,0),c},isHeightImage:function(e,r,c){if(!e||!e.width||!e.height)return!1;var f=document.createElement("canvas"),p=f.getContext("2d"),x=r||32;c=c||20,f.width=f.height=x,p.drawImage(e,0,0,x,x);for(var w=p.getImageData(0,0,x,x),I=0;I<w.data.length;I+=4){var $=w.data[I+1],ue=w.data[I+2];if(Math.abs(w.data[I]-$)+Math.abs($-ue)>c)return!1}return!0},_fetchTexture:function(e,r,c){Et.request.get({url:e,responseType:"arraybuffer",onload:r,onerror:c})},createChessboard:function(e,r,c,f){e=e||512,r=r||64,c=c||"black",f=f||"white";var p=Math.ceil(e/r),x=document.createElement("canvas");x.width=e,x.height=e;var w=x.getContext("2d");w.fillStyle=f,w.fillRect(0,0,e,e),w.fillStyle=c;for(var I=0;I<p;I++)for(var F=0;F<p;F++)(F%2?I%2:I%2-1)&&w.fillRect(I*r,F*r,r,r);return new Qr({image:x,anisotropic:8})},createBlank:function(e){var r=document.createElement("canvas");r.width=1,r.height=1;var c=r.getContext("2d");return c.fillStyle=e,c.fillRect(0,0,1,1),new Qr({image:r})}};const Vo=hh;var Rl=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function ol(e){return"_on"+e}var R0=function(e){var r=this;this._texture=new Qr({anisotropic:32,flipY:!1,surface:this,dispose:function(c){r.dispose(),Qr.prototype.dispose.call(this,c)}}),Rl.forEach(function(c){this[ol(c)]=function(f){!f.triangle||this._meshes.forEach(function(p){this.dispatchEvent(c,p,f.triangle,f.point)},this)}},this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};R0.prototype={constructor:R0,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var r=e.getDom();if(r instanceof HTMLCanvasElement){var c=this,f=e.getZr(),p=f.__oldRefreshImmediately||f.refreshImmediately;f.refreshImmediately=function(){p.call(this),c._texture.dirty(),c.onupdate&&c.onupdate()},f.__oldRefreshImmediately=p}else console.error("ECharts must init on canvas if it is used as texture."),r=document.createElement("canvas");this._texture.image=r,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var e=new Tr,r=new Tr,c=new Tr,f=new Zr,p=new Zr,x=new Zr,w=new Zr,I=new Tr;return function(F,$,ue,Pe){var Ze=$.geometry,Ge=Ze.attributes.position,at=Ze.attributes.texcoord0,st=Tr.dot,Nt=Tr.cross;Ge.get(ue[0],e.array),Ge.get(ue[1],r.array),Ge.get(ue[2],c.array),at.get(ue[0],f.array),at.get(ue[1],p.array),at.get(ue[2],x.array),Nt(I,r,c);var Bt=st(e,I),an=st(Pe,I)/Bt;Nt(I,c,e);var nn=st(Pe,I)/Bt;Nt(I,e,r);var en=st(Pe,I)/Bt;Zr.scale(w,f,an),Zr.scaleAndAdd(w,w,p,nn),Zr.scaleAndAdd(w,w,x,en);var Tn=w.x*this._chart.getWidth(),wn=w.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(F,{zrX:Tn,zrY:wn})}}(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||(Rl.forEach(function(r){e.on(r,this[ol(r)],this)},this),this._meshes.push(e))},detachFromMesh:function(e){var r=this._meshes.indexOf(e);r>=0&&this._meshes.splice(r,1),Rl.forEach(function(c){e.off(c,this[ol(c)])},this)},dispose:function(){this._meshes.forEach(function(e){this.detachFromMesh(e)},this)}};const N0=R0;var uu=Rt.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=Rt.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}});const Lc=uu;br.import("\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end");var u4=new Os,F0=new ia({geometry:u4,frustumCulling:!1}),dh=new Lc,B1=gn.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var e=new br(br.source("clay.compositor.vertex"),this.fragment),r=new Xn({shader:e});r.enableTexturesAll(),this.material=r},{setUniform:function(e,r){this.material.setUniform(e,r)},getUniform:function(e){var r=this.material.uniforms[e];if(r)return r.value},attachOutput:function(e,r){this.outputs||(this.outputs={}),this.outputs[r=r||36064]=e},detachOutput:function(e){for(var r in this.outputs)this.outputs[r]===e&&(this.outputs[r]=null)},bind:function(e,r){if(this.outputs)for(var c in this.outputs){var f=this.outputs[c];f&&r.attach(f,c)}r&&r.bind(e)},unbind:function(e,r){r.unbind(e)},render:function(e,r){var c=e.gl;if(r){this.bind(e,r);var f=e.getGLExtension("EXT_draw_buffers");if(f&&this.outputs){var p=[];for(var x in this.outputs)(x=+x)>=c.COLOR_ATTACHMENT0&&x<=c.COLOR_ATTACHMENT0+8&&p.push(x);f.drawBuffersEXT(p)}}this.trigger("beforerender",this,e);var w=this.clearDepth?c.DEPTH_BUFFER_BIT:0;if(c.depthMask(!0),this.clearColor){w|=c.COLOR_BUFFER_BIT,c.colorMask(!0,!0,!0,!0);var I=this.clearColor;Array.isArray(I)&&c.clearColor(I[0],I[1],I[2],I[3])}c.clear(w),this.blendWithPrevious?(c.enable(c.BLEND),this.material.transparent=!0):(c.disable(c.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),r&&this.unbind(e,r)},renderQuad:function(e){F0.material=this.material,e.renderPass([F0],dh)},dispose:function(e){}});const oo=B1;var gl={},rc=["px","nx","py","ny","pz","nz"];gl.prefilterEnvironmentMap=function(e,r,c,f,p){(!p||!f)&&(f=gl.generateNormalDistribution(),p=gl.integrateBRDF(e,f));var x=(c=c||{}).width||64,w=c.height||64,I=c.type||r.type,F=new wr({width:x,height:w,type:I,flipY:!1,mipmaps:[]});F.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var $=Math.min(x,w),ue=Math.log($)/Math.log(2)+1,Pe=new Xn({shader:new br({vertex:br.source("clay.skybox.vertex"),fragment:"#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"})});Pe.set("normalDistribution",f),c.encodeRGBM&&Pe.define("fragment","RGBM_ENCODE"),c.decodeRGBM&&Pe.define("fragment","RGBM_DECODE");var Ge,Ze=new qt;if("texture2D"===r.textureType){var at=new wr({width:x,height:w,type:I===Kr.FLOAT?Kr.HALF_FLOAT:I});Vo.panoramaToCubeMap(e,r,at,{encodeRGBM:c.decodeRGBM}),r=at}(Ge=new Ne({scene:Ze,material:Pe})).material.set("environmentMap",r);var st=new zs({texture:F});c.encodeRGBM&&(I=F.type=Kr.UNSIGNED_BYTE);for(var Nt=new Qr({width:x,height:w,type:I}),Bt=new Ni({depthBuffer:!1}),an=Et[I===Kr.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],nn=0;nn<ue;nn++){F.mipmaps[nn]={pixels:{}},Ge.material.set("roughness",nn/(ue-1));for(var en=Nt.width,Tn=2*Math.atan(en/(en-.5))/Math.PI*180,wn=0;wn<rc.length;wn++){var Zn=new an(Nt.width*Nt.height*4);Bt.attach(Nt),Bt.bind(e);var Yn=st.getCamera(rc[wn]);Yn.fov=Tn,e.render(Ze,Yn),e.gl.readPixels(0,0,Nt.width,Nt.height,Kr.RGBA,I,Zn),Bt.unbind(e),F.mipmaps[nn].pixels[rc[wn]]=Zn}Nt.width/=2,Nt.height/=2,Nt.dirty()}return Bt.dispose(e),Nt.dispose(e),Ge.dispose(e),f.dispose(e),{environmentMap:F,brdfLookup:p,normalDistribution:f,maxMipmapLevel:ue}},gl.integrateBRDF=function(e,r){r=r||gl.generateNormalDistribution();var c=new Ni({depthBuffer:!1}),f=new oo({fragment:"#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"}),p=new Qr({width:512,height:256,type:Kr.HALF_FLOAT,wrapS:Kr.CLAMP_TO_EDGE,wrapT:Kr.CLAMP_TO_EDGE,minFilter:Kr.NEAREST,magFilter:Kr.NEAREST,useMipmap:!1});return f.setUniform("normalDistribution",r),f.setUniform("viewportSize",[512,256]),f.attachOutput(p),f.render(e,c),c.dispose(e),p},gl.generateNormalDistribution=function(e,r){for(var c=new Qr({width:e=e||256,height:r=r||1024,type:Kr.FLOAT,minFilter:Kr.NEAREST,magFilter:Kr.NEAREST,wrapS:Kr.CLAMP_TO_EDGE,wrapT:Kr.CLAMP_TO_EDGE,useMipmap:!1}),f=new Float32Array(r*e*4),p=[],x=0;x<e;x++){for(var w=x/e,I=w*w,F=0;F<r;F++){var $=(F<<16|F>>>16)>>>0;$=(((16711935&($=((252645135&($=((858993459&($=((1431655765&$)<<1|(2863311530&$)>>>1)>>>0))<<2|(3435973836&$)>>>2)>>>0))<<4|(4042322160&$)>>>4)>>>0))<<8|(4278255360&$)>>>8)>>>0)/4294967296;var ue=Math.sqrt((1-$)/(1+(I*I-1)*$));p[F]=ue}for(F=0;F<r;F++){var Pe=4*(F*e+x),Ze=(ue=p[F],Math.sqrt(1-ue*ue)),at=2*Math.PI*(F/r);f[Pe]=Ze*Math.cos(at),f[Pe+1]=ue,f[Pe+2]=Ze*Math.sin(at),f[Pe+3]=1}}return c.pixels=f,c};const pd=gl;var B0=ji.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(e,r){if(e.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=pd.generateNormalDistribution(),this._brdfLookup=pd.integrateBRDF(e,this._normalDistribution));var c=this.cubemap;if(!c.__prefiltered){var f=pd.prefilterEnvironmentMap(e,c,{encodeRGBM:!0,width:r,height:r},this._normalDistribution,this._brdfLookup);this.cubemap=f.environmentMap,this.cubemap.__prefiltered=!0,c.dispose(e)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(e){var r=e.color,c=e.intensity;return[r[0]*c,r[1]*c,r[2]*c]}},ambientCubemapLightCubemap:{type:"t",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(e){return e._brdfLookup}}}});const Ns=B0;var hu=ji.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new Et.Float32Array(27)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(e){var r=e.color,c=e.intensity;return[r[0]*c,r[1]*c,r[2]*c]}},ambientSHLightCoefficients:{type:"3f",value:function(e){for(var r=e._coefficientsTmpArr,c=0;c<e.coefficients.length;c++)r[c]=e.coefficients[c];return r}}}});const gd=hu;var du={},Xs=["px","nx","py","ny","pz","nz"];function So(e,r){var c=e[0],f=e[1],p=e[2];return 0===r?1:1===r?c:2===r?f:3===r?p:4===r?c*p:5===r?f*p:6===r?c*f:7===r?3*p*p-1:c*c-f*f}var V0={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};du.projectEnvironmentMap=function(e,r,c){(c=c||{}).lod=c.lod||0;var f,p=new qt,x=64;"texture2D"===r.textureType?f=new Ee({scene:p,environmentMap:r}):(x=r.image&&r.image.px?r.image.px.width:r.width,f=new Ne({scene:p,environmentMap:r}));var w=Math.ceil(x/Math.pow(2,c.lod)),I=Math.ceil(x/Math.pow(2,c.lod)),F=new Qr({width:w,height:I}),$=new Ni;f.material.define("fragment","RGBM_ENCODE"),c.decodeRGBM&&f.material.define("fragment","RGBM_DECODE"),f.material.set("lod",c.lod);for(var ue=new zs({texture:F}),Pe={},Ze=0;Ze<Xs.length;Ze++){Pe[Xs[Ze]]=new Uint8Array(w*I*4);var Ge=ue.getCamera(Xs[Ze]);Ge.fov=90,$.attach(F),$.bind(e),e.render(p,Ge),e.gl.readPixels(0,0,w,I,Kr.RGBA,Kr.UNSIGNED_BYTE,Pe[Xs[Ze]]),$.unbind(e)}return f.dispose(e),$.dispose(e),F.dispose(e),function(e,r,c,f){for(var p=new Et.Float32Array(27),x=Pn.create(),w=Pn.create(),I=Pn.create(),F=0;F<9;F++){for(var $=Pn.create(),ue=0;ue<Xs.length;ue++){for(var Pe=r[Xs[ue]],Ze=Pn.create(),Ge=0,at=0,st=V0[Xs[ue]],Nt=0;Nt<f;Nt++)for(var Bt=0;Bt<c;Bt++){x[0]=Bt/(c-1)*2-1,x[1]=Nt/(f-1)*2-1,x[2]=-1,Pn.normalize(x,x),I[0]=x[st[0]]*st[3],I[1]=x[st[1]]*st[4],I[2]=x[st[2]]*st[5],w[0]=Pe[at++]/255,w[1]=Pe[at++]/255,w[2]=Pe[at++]/255;var an=Pe[at++]/255*8.12;w[0]*=an,w[1]*=an,w[2]*=an,Pn.scaleAndAdd(Ze,Ze,w,So(I,F)*-x[2]),Ge+=-x[2]}Pn.scaleAndAdd($,$,Ze,1/Ge)}p[3*F]=$[0]/6,p[3*F+1]=$[1]/6,p[3*F+2]=$[2]/6}return p}(0,Pe,w,I)};const ic=du;var ac={firstNotNull:function(){for(var e=0,r=arguments.length;e<r;e++)if(null!=arguments[e])return arguments[e]},queryDataIndex:function(e,r){return null!=r.dataIndexInside?r.dataIndexInside:null!=r.dataIndex?P.D5.isArray(r.dataIndex)?P.D5.map(r.dataIndex,function(c){return e.indexOfRawIndex(c)}):e.indexOfRawIndex(r.dataIndex):null!=r.name?P.D5.isArray(r.name)?P.D5.map(r.name,function(c){return e.indexOfName(c)}):e.indexOfName(r.name):void 0}};const Ki=ac;var md=ar.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var e=this.heightSegments,r=this.widthSegments,c=this.attributes.position,f=this.attributes.texcoord0,p=this.attributes.normal,x=(r+1)*(e+1);c.init(x),f.init(x),p.init(x);var F,$,ue,Pe,Ze,Ge,at,st,w=x>65535?Uint32Array:Uint16Array,I=this.indices=new w(r*e*6),Nt=this.phiStart,Bt=this.phiLength,an=this.thetaStart,nn=this.thetaLength,en=[],Tn=[],wn=0,Zn=1/(st=this.radius);for(at=0;at<=e;at++)for(Ge=0;Ge<=r;Ge++)Pe=Ge/r,Ze=at/e,F=-st*Math.cos(Nt+Pe*Bt)*Math.sin(an+Ze*nn),$=st*Math.cos(an+Ze*nn),ue=st*Math.sin(Nt+Pe*Bt)*Math.sin(an+Ze*nn),en[0]=F,en[1]=$,en[2]=ue,Tn[0]=Pe,Tn[1]=Ze,c.set(wn,en),f.set(wn,Tn),en[0]*=Zn,en[1]*=Zn,en[2]*=Zn,p.set(wn,en),wn++;var nr,Pr,cr,Lr=r+1,Ir=0;for(at=0;at<e;at++)for(Ge=0;Ge<r;Ge++)nr=at*Lr+Ge,cr=(at+1)*Lr+Ge+1,Pr=(at+1)*Lr+Ge,I[Ir++]=at*Lr+Ge+1,I[Ir++]=nr,I[Ir++]=cr,I[Ir++]=nr,I[Ir++]=Pr,I[Ir++]=cr;this.boundingBox=new ae,this.boundingBox.max.set(st,st,st),this.boundingBox.min.set(-st,-st,-st)}});const yd=md;var fu=ji.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(e){var r=e.color,c=e.intensity;return[r[0]*c,r[1]*c,r[2]*c]}}}});const Qs=fu;var _d=ji.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new Tr,e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(e){var r=e.color,c=e.intensity;return[r[0]*c,r[1]*c,r[2]*c]}}},clone:function(){var e=ji.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const ws=_d;var H1=ji.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(e){return e.range}},pointLightColor:{type:"3f",value:function(e){var r=e.color,c=e.intensity;return[r[0]*c,r[1]*c,r[2]*c]}}},clone:function(){var e=ji.prototype.clone.call(this);return e.range=this.range,e}});const zc=H1;var vh=ji.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(e){return e.falloffFactor}},spotLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new Tr,e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(e){var r=e.color,c=e.intensity;return[r[0]*c,r[1]*c,r[2]*c]}}},clone:function(){var e=ji.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const xd=vh;var ga=function(e,r,c,f){this.array=zr.fromValues(e=e||0,r=r||0,c=c||0,f=f||0),this._dirty=!0};ga.prototype={constructor:ga,add:function(e){return zr.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,r,c,f){return this.array[0]=e,this.array[1]=r,this.array[2]=c,this.array[3]=f,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new ga(this.x,this.y,this.z,this.w)},copy:function(e){return zr.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return zr.dist(this.array,e.array)},distance:function(e){return zr.distance(this.array,e.array)},div:function(e){return zr.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return zr.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return zr.dot(this.array,e.array)},len:function(){return zr.len(this.array)},length:function(){return zr.length(this.array)},lerp:function(e,r,c){return zr.lerp(this.array,e.array,r.array,c),this._dirty=!0,this},min:function(e){return zr.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return zr.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return zr.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return zr.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return zr.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return zr.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return zr.random(this.array,e),this._dirty=!0,this},scale:function(e){return zr.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,r){return zr.scaleAndAdd(this.array,this.array,e.array,r),this._dirty=!0,this},sqrDist:function(e){return zr.sqrDist(this.array,e.array)},squaredDistance:function(e){return zr.squaredDistance(this.array,e.array)},sqrLen:function(){return zr.sqrLen(this.array)},squaredLength:function(){return zr.squaredLength(this.array)},sub:function(e){return zr.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return zr.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return zr.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return zr.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var ph=Object.defineProperty;if(ph){var gh=ga.prototype;ph(gh,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),ph(gh,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),ph(gh,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),ph(gh,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}ga.add=function(e,r,c){return zr.add(e.array,r.array,c.array),e._dirty=!0,e},ga.set=function(e,r,c,f,p){zr.set(e.array,r,c,f,p),e._dirty=!0},ga.copy=function(e,r){return zr.copy(e.array,r.array),e._dirty=!0,e},ga.distance=ga.dist=function(e,r){return zr.distance(e.array,r.array)},ga.divide=ga.div=function(e,r,c){return zr.divide(e.array,r.array,c.array),e._dirty=!0,e},ga.dot=function(e,r){return zr.dot(e.array,r.array)},ga.len=function(e){return zr.length(e.array)},ga.lerp=function(e,r,c,f){return zr.lerp(e.array,r.array,c.array,f),e._dirty=!0,e},ga.min=function(e,r,c){return zr.min(e.array,r.array,c.array),e._dirty=!0,e},ga.max=function(e,r,c){return zr.max(e.array,r.array,c.array),e._dirty=!0,e},ga.multiply=ga.mul=function(e,r,c){return zr.multiply(e.array,r.array,c.array),e._dirty=!0,e},ga.negate=function(e,r){return zr.negate(e.array,r.array),e._dirty=!0,e},ga.normalize=function(e,r){return zr.normalize(e.array,r.array),e._dirty=!0,e},ga.random=function(e,r){return zr.random(e.array,r),e._dirty=!0,e},ga.scale=function(e,r,c){return zr.scale(e.array,r.array,c),e._dirty=!0,e},ga.scaleAndAdd=function(e,r,c,f){return zr.scaleAndAdd(e.array,r.array,c.array,f),e._dirty=!0,e},ga.squaredDistance=ga.sqrDist=function(e,r){return zr.sqrDist(e.array,r.array)},ga.squaredLength=ga.sqrLen=function(e){return zr.sqrLen(e.array)},ga.subtract=ga.sub=function(e,r,c){return zr.subtract(e.array,r.array,c.array),e._dirty=!0,e},ga.transformMat4=function(e,r,c){return zr.transformMat4(e.array,r.array,c.array),e._dirty=!0,e},ga.transformQuat=function(e,r,c){return zr.transformQuat(e.array,r.array,c.array),e._dirty=!0,e};const Nl=ga;var Ao={create:function(){var e=new yr(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var r=new yr(4);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r},copy:function(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,r){if(e===r){var c=r[1];e[1]=r[2],e[2]=c}else e[0]=r[0],e[1]=r[2],e[2]=r[1],e[3]=r[3];return e},invert:function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=c*x-p*f;return w?(e[0]=x*(w=1/w),e[1]=-f*w,e[2]=-p*w,e[3]=c*w,e):null},adjoint:function(e,r){var c=r[0];return e[0]=r[3],e[1]=-r[1],e[2]=-r[2],e[3]=c,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=c[0],F=c[1],$=c[2],ue=c[3];return e[0]=f*I+x*F,e[1]=p*I+w*F,e[2]=f*$+x*ue,e[3]=p*$+w*ue,e}};Ao.mul=Ao.multiply,Ao.rotate=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=Math.sin(c),F=Math.cos(c);return e[0]=f*F+x*I,e[1]=p*F+w*I,e[2]=f*-I+x*F,e[3]=p*-I+w*F,e},Ao.scale=function(e,r,c){var p=r[1],x=r[2],w=r[3],I=c[0],F=c[1];return e[0]=r[0]*I,e[1]=p*I,e[2]=x*F,e[3]=w*F,e},Ao.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},Ao.LDU=function(e,r,c,f){return e[2]=f[2]/f[0],c[0]=f[0],c[1]=f[1],c[3]=f[3]-e[2]*c[1],[e,r,c]};const co=Ao;var ps=function(){this.array=co.create(),this._dirty=!0};ps.prototype={constructor:ps,setArray:function(e){for(var r=0;r<this.array.length;r++)this.array[r]=e[r];return this._dirty=!0,this},clone:function(){return(new ps).copy(this)},copy:function(e){return co.copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return co.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return co.determinant(this.array)},identity:function(){return co.identity(this.array),this._dirty=!0,this},invert:function(){return co.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return co.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return co.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return co.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return co.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return co.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return co.scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return co.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},ps.adjoint=function(e,r){return co.adjoint(e.array,r.array),e._dirty=!0,e},ps.copy=function(e,r){return co.copy(e.array,r.array),e._dirty=!0,e},ps.determinant=function(e){return co.determinant(e.array)},ps.identity=function(e){return co.identity(e.array),e._dirty=!0,e},ps.invert=function(e,r){return co.invert(e.array,r.array),e._dirty=!0,e},ps.multiply=ps.mul=function(e,r,c){return co.mul(e.array,r.array,c.array),e._dirty=!0,e},ps.rotate=function(e,r,c){return co.rotate(e.array,r.array,c),e._dirty=!0,e},ps.scale=function(e,r,c){return co.scale(e.array,r.array,c.array),e._dirty=!0,e},ps.transpose=function(e,r){return co.transpose(e.array,r.array),e._dirty=!0,e};const U1=ps;var gs={create:function(){var e=new yr(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var r=new yr(6);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r},copy:function(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,r){var c=r[0],f=r[1],p=r[2],x=r[3],w=r[4],I=r[5],F=c*x-f*p;return F?(e[0]=x*(F=1/F),e[1]=-f*F,e[2]=-p*F,e[3]=c*F,e[4]=(p*I-x*w)*F,e[5]=(f*w-c*I)*F,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=r[4],F=r[5],$=c[0],ue=c[1],Pe=c[2],Ze=c[3],Ge=c[4],at=c[5];return e[0]=f*$+x*ue,e[1]=p*$+w*ue,e[2]=f*Pe+x*Ze,e[3]=p*Pe+w*Ze,e[4]=f*Ge+x*at+I,e[5]=p*Ge+w*at+F,e}};gs.mul=gs.multiply,gs.rotate=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=r[4],F=r[5],$=Math.sin(c),ue=Math.cos(c);return e[0]=f*ue+x*$,e[1]=p*ue+w*$,e[2]=f*-$+x*ue,e[3]=p*-$+w*ue,e[4]=I,e[5]=F,e},gs.scale=function(e,r,c){var p=r[1],x=r[2],w=r[3],I=r[4],F=r[5],$=c[0],ue=c[1];return e[0]=r[0]*$,e[1]=p*$,e[2]=x*ue,e[3]=w*ue,e[4]=I,e[5]=F,e},gs.translate=function(e,r,c){var f=r[0],p=r[1],x=r[2],w=r[3],I=r[4],F=r[5],$=c[0],ue=c[1];return e[0]=f,e[1]=p,e[2]=x,e[3]=w,e[4]=f*$+x*ue+I,e[5]=p*$+w*ue+F,e},gs.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)};const To=gs;var ms=function(){this.array=To.create(),this._dirty=!0};ms.prototype={constructor:ms,setArray:function(e){for(var r=0;r<this.array.length;r++)this.array[r]=e[r];return this._dirty=!0,this},clone:function(){return(new ms).copy(this)},copy:function(e){return To.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return To.determinant(this.array)},identity:function(){return To.identity(this.array),this._dirty=!0,this},invert:function(){return To.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return To.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return To.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return To.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return To.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return To.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return To.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return To.translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},ms.copy=function(e,r){return To.copy(e.array,r.array),e._dirty=!0,e},ms.determinant=function(e){return To.determinant(e.array)},ms.identity=function(e){return To.identity(e.array),e._dirty=!0,e},ms.invert=function(e,r){return To.invert(e.array,r.array),e._dirty=!0,e},ms.multiply=ms.mul=function(e,r,c){return To.mul(e.array,r.array,c.array),e._dirty=!0,e},ms.rotate=function(e,r,c){return To.rotate(e.array,r.array,c),e._dirty=!0,e},ms.scale=function(e,r,c){return To.scale(e.array,r.array,c.array),e._dirty=!0,e},ms.translate=function(e,r,c){return To.translate(e.array,r.array,c.array),e._dirty=!0,e};const d4=ms;var Po=function(){this.array=Li.create(),this._dirty=!0};Po.prototype={constructor:Po,setArray:function(e){for(var r=0;r<this.array.length;r++)this.array[r]=e[r];return this._dirty=!0,this},adjoint:function(){return Li.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Po).copy(this)},copy:function(e){return Li.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Li.determinant(this.array)},fromMat2d:function(e){return Li.fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return Li.fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return Li.fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return Li.identity(this.array),this._dirty=!0,this},invert:function(){return Li.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return Li.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Li.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Li.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Li.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return Li.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Li.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Li.translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return Li.normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return Li.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Po.adjoint=function(e,r){return Li.adjoint(e.array,r.array),e._dirty=!0,e},Po.copy=function(e,r){return Li.copy(e.array,r.array),e._dirty=!0,e},Po.determinant=function(e){return Li.determinant(e.array)},Po.identity=function(e){return Li.identity(e.array),e._dirty=!0,e},Po.invert=function(e,r){return Li.invert(e.array,r.array),e},Po.multiply=Po.mul=function(e,r,c){return Li.mul(e.array,r.array,c.array),e._dirty=!0,e},Po.fromMat2d=function(e,r){return Li.fromMat2d(e.array,r.array),e._dirty=!0,e},Po.fromMat4=function(e,r){return Li.fromMat4(e.array,r.array),e._dirty=!0,e},Po.fromQuat=function(e,r){return Li.fromQuat(e.array,r.array),e._dirty=!0,e},Po.normalFromMat4=function(e,r){return Li.normalFromMat4(e.array,r.array),e._dirty=!0,e},Po.rotate=function(e,r,c){return Li.rotate(e.array,r.array,c),e._dirty=!0,e},Po.scale=function(e,r,c){return Li.scale(e.array,r.array,c.array),e._dirty=!0,e},Po.transpose=function(e,r){return Li.transpose(e.array,r.array),e._dirty=!0,e},Po.translate=function(e,r,c){return Li.translate(e.array,r.array,c.array),e._dirty=!0,e};const bd=Po;var Y1=E(547),vu={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,r){var f;if(this._animators=this._animators||[],e){for(var p=e.split("."),x=this,w=0,I=p.length;w<I;w++)!x||(x=x[p[w]]);x&&(f=x)}else f=this;if(null==f)throw new Error("Target "+e+" not exists");var F=this._animators,$=new Y1.ZP(f,r),ue=this;return $.during(function(){ue.__zr&&ue.__zr.refresh()}).done(function(){var Pe=F.indexOf($);Pe>=0&&F.splice(Pe,1)}),F.push($),this.__zr&&this.__zr.animation.addAnimator($),$},stopAnimation:function(e){this._animators=this._animators||[];for(var r=this._animators,c=r.length,f=0;f<c;f++)r[f].stop(e);return r.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var r=0;r<this._animators.length;r++)e.animation.addAnimator(this._animators[r])},removeAnimatorsFromZr:function(e){if(this._animators)for(var r=0;r<this._animators.length;r++)e.animation.removeAnimator(this._animators[r])}};const H0="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end";function Z1(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}Object.assign(gt.prototype,vu),br.import(H0),br.import(xo),br.import("\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"),br.import("@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\nattribute vec3 normal: NORMAL;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nvarying vec3 v_Normal;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\nvarying vec3 v_Normal;\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"),br.import("/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),br.import("@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),br.import("@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"),br.import("@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end");var G0=qt.prototype.addToScene,W0=qt.prototype.removeFromScene;qt.prototype.addToScene=function(e){if(G0.call(this,e),this.__zr){var r=this.__zr;e.traverse(function(c){c.__zr=r,c.addAnimatorsToZr&&c.addAnimatorsToZr(r)})}},qt.prototype.removeFromScene=function(e){W0.call(this,e),e.traverse(function(r){var c=r.__zr;r.__zr=null,c&&r.removeAnimatorsFromZr&&r.removeAnimatorsFromZr(c)})},Xn.prototype.setTextureImage=function(e,r,c,f){if(this.shader){var w,p=c.getZr(),x=this;return x.autoUpdateTextureStatus=!1,x.disableTexture(e),function(e){return!e||"none"===e}(r)||(w=Fi.loadTexture(r,c,f,function(I){x.enableTexture(e),p&&p.refresh()}),x.set(e,w)),w}};var Fi={};Fi.Renderer=no,Fi.Node=gt,Fi.Mesh=ia,Fi.Shader=br,Fi.Material=Xn,Fi.Texture=Kr,Fi.Texture2D=Qr,Fi.Geometry=ar,Fi.SphereGeometry=yd,Fi.PlaneGeometry=Os,Fi.CubeGeometry=Pc,Fi.AmbientLight=Qs,Fi.DirectionalLight=ws,Fi.PointLight=zc,Fi.SpotLight=xd,Fi.PerspectiveCamera=Mr,Fi.OrthographicCamera=Lc,Fi.Vector2=Zr,Fi.Vector3=Tr,Fi.Vector4=Nl,Fi.Quaternion=Ot,Fi.Matrix2=U1,Fi.Matrix2d=d4,Fi.Matrix3=bd,Fi.Matrix4=Er,Fi.Plane=Fo,Fi.Ray=so,Fi.BoundingBox=ae,Fi.Frustum=vs;var Js=null;function Td(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function Z0(e){if((e.wrapS===Kr.REPEAT||e.wrapT===Kr.REPEAT)&&e.image){var r=Td(e.width),c=Td(e.height);if(r!==e.width||c!==e.height){var f=document.createElement("canvas");f.width=r,f.height=c,f.getContext("2d").drawImage(e.image,0,0,r,c),e.image=f}}}Fi.loadTexture=function(e,r,c,f){"function"==typeof c&&(f=c,c={}),c=c||{};for(var p=Object.keys(c).sort(),x="",w=0;w<p.length;w++)x+=p[w]+"_"+c[p[w]]+"_";var I=r.__textureCache=r.__textureCache||new Cn.ZP(20);if(function(e){return e.getZr&&e.setOption}(e)){if($=I.get(x+(F=e.__textureid__)))$.texture.surface.setECharts(e),f&&f($.texture);else{var ue=new N0(e);for(ue.onupdate=function(){r.getZr().refresh()},$={texture:ue.getTexture()},w=0;w<p.length;w++)$.texture[p[w]]=c[p[w]];e.__textureid__=F=e.__textureid__||"__ecgl_ec__"+$.texture.__uid__,I.put(x+F,$),f&&f($.texture)}return $.texture}if(Z1(e)){var F,$;if(!($=I.get(x+(F=e.__textureid__)))){for($={texture:new Fi.Texture2D({image:e})},w=0;w<p.length;w++)$.texture[p[w]]=c[p[w]];e.__textureid__=F=e.__textureid__||"__ecgl_image__"+$.texture.__uid__,I.put(x+F,$),Z0($.texture),f&&f($.texture)}return $.texture}if($=I.get(x+e))$.callbacks?$.callbacks.push(f):f&&f($.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){$={callbacks:[f]};var Pe=Vo.loadTexture(e,{exposure:c.exposure,fileType:"hdr"},function(){Pe.dirty(),$.callbacks.forEach(function(at){at&&at(Pe)}),$.callbacks=null});$.texture=Pe,I.put(x+e,$)}else{for(Pe=new Fi.Texture2D({image:new Image}),w=0;w<p.length;w++)Pe[p[w]]=c[p[w]];$={texture:Pe,callbacks:[f]};var Ze=Pe.image;Ze.onload=function(){Pe.image=Ze,Z0(Pe),Pe.dirty(),$.callbacks.forEach(function(st){st&&st(Pe)}),$.callbacks=null},Ze.crossOrigin="Anonymous",Ze.src=e,Pe.image=(null!==Js||(Js=Vo.createBlank("rgba(255,255,255,0)").image),Js),I.put(x+e,$)}return $.texture},Fi.createAmbientCubemap=function(e,r,c,f){var p=(e=e||{}).texture,x=Ki.firstNotNull(e.exposure,1),w=new Ns({intensity:Ki.firstNotNull(e.specularIntensity,1)}),I=new gd({intensity:Ki.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return w.cubemap=Fi.loadTexture(p,c,{exposure:x},function(){w.cubemap.flipY=!1,w.prefilter(r,32),I.coefficients=ic.projectEnvironmentMap(r,w.cubemap,{lod:1}),f&&f()}),{specular:w,diffuse:I}},Fi.createBlankTexture=Vo.createBlank,Fi.isImage=Z1,Fi.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)},Fi.parseColor=function(e,r){return e instanceof Array?(r||(r=[]),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e.length>3?e[3]:1,r):((r=P.$_.parse(e||"#000",r)||[0,0,0,0])[0]/=255,r[1]/=255,r[2]/=255,r)},Fi.directionFromAlphaBeta=function(e,r){var c=e/180*Math.PI+Math.PI/2,f=-r/180*Math.PI+Math.PI/2,p=[],x=Math.sin(c);return p[0]=x*Math.cos(f),p[1]=-Math.cos(c),p[2]=x*Math.sin(f),p},Fi.getShadowResolution=function(e){var r=1024;switch(e){case"low":r=512;break;case"medium":break;case"high":r=2048;break;case"ultra":r=4096}return r},Fi.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"],Fi.createShader=function(e){"ecgl.shadow"===e&&(e="ecgl.displayShadow");var r=br.source(e+".vertex"),c=br.source(e+".fragment");r||console.error("Vertex shader of '%s' not exits",e),c||console.error("Fragment shader of '%s' not exits",e);var f=new br(r,c);return f.name=e,f},Fi.createMaterial=function(e,r){r instanceof Array||(r=[r]);var c=Fi.createShader(e),f=new Xn({shader:c});return r.forEach(function(p){"string"==typeof p&&f.define(p)}),f},Fi.setMaterialFromModel=function(e,r,c,f){r.autoUpdateTextureStatus=!1;var p=c.getModel(e+"Material"),x=p.get("detailTexture"),w=Ki.firstNotNull(p.get("textureTiling"),1),I=Ki.firstNotNull(p.get("textureOffset"),0);"number"==typeof w&&(w=[w,w]),"number"==typeof I&&(I=[I,I]);var F=w[0]>1||w[1]>1?Fi.Texture.REPEAT:Fi.Texture.CLAMP_TO_EDGE,$={anisotropic:8,wrapS:F,wrapT:F};if("realistic"===e){var ue=p.get("roughness"),Pe=p.get("metalness");null!=Pe?isNaN(Pe)&&(r.setTextureImage("metalnessMap",Pe,f,$),Pe=Ki.firstNotNull(p.get("metalnessAdjust"),.5)):Pe=0,null!=ue?isNaN(ue)&&(r.setTextureImage("roughnessMap",ue,f,$),ue=Ki.firstNotNull(p.get("roughnessAdjust"),.5)):ue=.5;var Ze=p.get("normalTexture");r.setTextureImage("detailMap",x,f,$),r.setTextureImage("normalMap",Ze,f,$),r.set({roughness:ue,metalness:Pe,detailUvRepeat:w,detailUvOffset:I})}else if("lambert"===e)r.setTextureImage("detailMap",x,f,$),r.set({detailUvRepeat:w,detailUvOffset:I});else if("color"===e)r.setTextureImage("detailMap",x,f,$),r.set({detailUvRepeat:w,detailUvOffset:I});else if("hatching"===e){for(var Ge=p.get("hatchingTextures")||[],at=0;at<6;at++)r.setTextureImage("hatch"+(at+1),Ge[at],f,{anisotropic:8,wrapS:Fi.Texture.REPEAT,wrapT:Fi.Texture.REPEAT});r.set({detailUvRepeat:w,detailUvOffset:I})}},Fi.updateVertexAnimation=function(e,r,c,f){var p=f.get("animation"),x=f.get("animationDurationUpdate"),w=f.get("animationEasingUpdate"),I=c.shadowDepthMaterial;if(p&&r&&x>0&&r.geometry.vertexCount===c.geometry.vertexCount){c.material.define("vertex","VERTEX_ANIMATION"),c.ignorePreZ=!0,I&&I.define("vertex","VERTEX_ANIMATION");for(var F=0;F<e.length;F++)c.geometry.attributes[e[F][0]].value=r.geometry.attributes[e[F][1]].value;c.geometry.dirty(),c.__percent=0,c.material.set("percent",0),c.stopAnimation(),c.animate().when(x,{__percent:1}).during(function(){c.material.set("percent",c.__percent),I&&I.set("percent",c.__percent)}).done(function(){c.ignorePreZ=!1,c.material.undefine("vertex","VERTEX_ANIMATION"),I&&I.undefine("vertex","VERTEX_ANIMATION")}).start(w)}else c.material.undefine("vertex","VERTEX_ANIMATION"),I&&I.undefine("vertex","VERTEX_ANIMATION")};const dn=Fi;var yh=E(8996),Va=function(e,r){this.id=e,this.zr=r;try{this.renderer=new no({clearBit:0,devicePixelRatio:r.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(r.painter.getWidth(),r.painter.getHeight())}catch(f){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(f)}this.onglobalout=this.onglobalout.bind(this),r.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var c=this.dom.style;c.position="absolute",c.left="0",c.top="0",this.views=[],this._picking=new _i({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new P.Q.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};function j0(e){var r=e.__zr;e.__zr=null,r&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(r)}Va.prototype.setUnpainted=function(){},Va.prototype.addView=function(e){if(e.layer!==this){var r=this._viewsToDispose.indexOf(e);r>=0&&this._viewsToDispose.splice(r,1),this.views.push(e),e.layer=this;var c=this.zr;e.scene.traverse(function(f){f.__zr=c,f.addAnimatorsToZr&&f.addAnimatorsToZr(c)})}},Va.prototype.removeView=function(e){if(e.layer===this){var r=this.views.indexOf(e);r>=0&&(this.views.splice(r,1),e.scene.traverse(j0,this),e.layer=null,this._viewsToDispose.push(e))}},Va.prototype.removeViewsAll=function(){this.views.forEach(function(e){e.scene.traverse(j0,this),e.layer=null,this._viewsToDispose.push(e)},this),this.views.length=0},Va.prototype.resize=function(e,r){this.renderer.resize(e,r)},Va.prototype.clear=function(){var e=this.renderer.gl,r=this._backgroundColor||[0,0,0,0];e.clearColor(r[0],r[1],r[2],r[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)},Va.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)},Va.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},Va.prototype.needsRefresh=function(){this.zr.refresh()},Va.prototype.refresh=function(e){this._backgroundColor=e?dn.parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var r=0;r<this.views.length;r++)this.views[r].prepareRender(this.renderer);for(this._doRender(!1),this._trackAndClean(),r=0;r<this._viewsToDispose.length;r++)this._viewsToDispose[r].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},Va.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)},Va.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var r=0;r<this.views.length;r++)this.views[r].render(this.renderer,e);this.renderer.restoreViewport()},Va.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var K0=1;function _h(e){for(var r=0;r<e.length;r++)e[r].__used__=0}function xh(e,r){for(var c=0;c<r.length;c++)r[c].__used__||r[c].dispose(e)}function bh(e,r){e.__used__=e.__used__||0,e.__used__++,1===e.__used__&&r.push(e)}function v4(e,r,c){var f,p;e.traverse(function(w){if(w.isRenderable()){var I=w.geometry,F=w.material;if(F!==f)for(var $=F.getTextureUniforms(),ue=0;ue<$.length;ue++){var Ze=F.uniforms[$[ue]].value;if(Ze)if(Ze instanceof Kr)bh(Ze,r);else if(Ze instanceof Array)for(var Ge=0;Ge<Ze.length;Ge++)Ze[Ge]instanceof Kr&&bh(Ze[Ge],r)}I!==p&&bh(I,c),f=F,p=I}});for(var x=0;x<e.lights.length;x++)e.lights[x].cubemap&&bh(e.lights[x].cubemap,r)}Va.prototype._startAccumulating=function(e){var r=this;this._stopAccumulating();for(var c=!1,f=0;f<this.views.length;f++)c=this.views[f].needsAccumulate()||c;function p(x){if(r._accumulatingId&&x===r._accumulatingId){for(var w=!0,I=0;I<r.views.length;I++)w=r.views[I].isAccumulateFinished()&&c;w||(r._doRender(!0),e?p(x):(0,yh.Z)(function(){p(x)}))}}c&&(this._accumulatingId=K0++,e?p(r._accumulatingId):this._accumulatingTimeout=setTimeout(function(){p(r._accumulatingId)},50))},Va.prototype._trackAndClean=function(){var e=[],r=[];this._textureList&&(_h(this._textureList),_h(this._geometriesList));for(var c=0;c<this.views.length;c++)v4(this.views[c].scene,e,r);this._textureList&&(xh(this.renderer,this._textureList),xh(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=r},Va.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(_h(this._textureList),_h(this._geometriesList),xh(this.renderer,this._textureList),xh(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)},Va.prototype.onmousedown=function(e){if(!e.target||!e.target.__isGLToZRProxy){var r=this.pickObject((e=e.event).offsetX,e.offsetY);r&&(this._dispatchEvent("mousedown",e,r),this._dispatchDataEvent("mousedown",e,r)),this._downX=e.offsetX,this._downY=e.offsetY}},Va.prototype.onmousemove=function(e){if(!e.target||!e.target.__isGLToZRProxy){var r=this.pickObject((e=e.event).offsetX,e.offsetY),c=r&&r.target,f=this._hovered;this._hovered=r,f&&c!==f.target&&(f.relatedTarget=c,this._dispatchEvent("mouseout",e,f),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,r),r&&(this.zr.setCursorStyle("pointer"),(!f||c!==f.target)&&this._dispatchEvent("mouseover",e,r)),this._dispatchDataEvent("mousemove",e,r)}},Va.prototype.onmouseup=function(e){if(!e.target||!e.target.__isGLToZRProxy){var r=this.pickObject((e=e.event).offsetX,e.offsetY);r&&(this._dispatchEvent("mouseup",e,r),this._dispatchDataEvent("mouseup",e,r)),this._upX=e.offsetX,this._upY=e.offsetY}},Va.prototype.onclick=Va.prototype.dblclick=function(e){if(!e.target||!e.target.__isGLToZRProxy){var r=this._upX-this._downX,c=this._upY-this._downY;if(!(Math.sqrt(r*r+c*c)>20)){var f=this.pickObject((e=e.event).offsetX,e.offsetY);f&&(this._dispatchEvent(e.type,e,f),this._dispatchDataEvent(e.type,e,f));var p=this._clickToSetFocusPoint(e);p&&p.view.setDOFFocusOnPoint(p.distance)&&this.zr.refresh()}}},Va.prototype._clickToSetFocusPoint=function(e){for(var r=this.renderer,c=r.viewport,f=this.views.length-1;f>=0;f--){var p=this.views[f];if(p.hasDOF()&&p.containPoint(e.offsetX,e.offsetY)){this._picking.scene=p.scene,this._picking.camera=p.camera,r.viewport=p.viewport;var x=this._picking.pick(e.offsetX,e.offsetY,!0);if(x)return x.view=p,x}}r.viewport=c},Va.prototype.onglobalout=function(e){var r=this._hovered;r&&this._dispatchEvent("mouseout",e,{target:r.target})},Va.prototype.pickObject=function(e,r){for(var c=[],f=this.renderer,p=f.viewport,x=0;x<this.views.length;x++){var w=this.views[x];w.containPoint(e,r)&&(this._picking.scene=w.scene,this._picking.camera=w.camera,f.viewport=w.viewport,this._picking.pickAll(e,r,c))}return f.viewport=p,c.sort(function(I,F){return I.distance-F.distance}),c[0]},Va.prototype._dispatchEvent=function(e,r,c){c||(c={});var f=c.target;for(c.cancelBubble=!1,c.event=r,c.type=e,c.offsetX=r.offsetX,c.offsetY=r.offsetY;f&&(f.trigger(e,c),f=f.getParent(),!c.cancelBubble););this._dispatchToView(e,c)},Va.prototype._dispatchDataEvent=function(e,r,c){var f=c&&c.target,p=f&&f.dataIndex,x=f&&f.seriesIndex,w=f&&f.eventData,I=!1,F=this._zrEventProxy;F.x=r.offsetX,F.y=r.offsetY,F.update();var $={target:F};const ue=P._y.getECData(F);"mousemove"===e&&(null!=p?p!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(ue.dataIndex=this._lastDataIndex,ue.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement($,"mouseout",r)),I=!0):null!=w&&w!==this._lastEventData&&(null!=this._lastEventData&&(ue.eventData=this._lastEventData,this.zr.handler.dispatchToElement($,"mouseout",r)),I=!0),this._lastEventData=w,this._lastDataIndex=p,this._lastSeriesIndex=x),ue.eventData=w,ue.dataIndex=p,ue.seriesIndex=x,(null!=w||parseInt(p,10)>=0&&parseInt(x,10)>=0)&&(this.zr.handler.dispatchToElement($,e,r),I&&this.zr.handler.dispatchToElement($,"mouseover",r))},Va.prototype._dispatchToView=function(e,r){for(var c=0;c<this.views.length;c++)this.views[c].containPoint(r.offsetX,r.offsetY)&&this.views[c].trigger(e,r)},Object.assign(Va.prototype,et);const p4=Va;var $0=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function ml(e,r){if(e&&e[r]&&(e[r].normal||e[r].emphasis)){var c=e[r].normal,f=e[r].emphasis;c&&(e[r]=c),f&&(e.emphasis=e.emphasis||{},e.emphasis[r]=f)}}function Fs(e){!e||(e instanceof Array||(e=[e]),P.D5.each(e,function(r){if(r.axisLabel){var c=r.axisLabel;Object.assign(c,c.textStyle),c.textStyle=null}}))}function j1(e){this._layers={},this._zr=e}j1.prototype.update=function(e,r){var c=this,f=r.getZr();if(f.getWidth()&&f.getHeight()){for(var w in this._layers)this._layers[w].removeViewsAll();e.eachComponent(function(I,F){if("series"!==I){var $=r.getViewOfComponentModel(F),ue=F.coordinateSystem;if($.__ecgl__){if(ue){if(!ue.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+F.id);Pe=ue.viewGL}else{if(!F.viewGL)return void console.error("Can't find viewGL of component "+F.id);Pe=ue.viewGL}var Pe=ue.viewGL,Ze=p(F);Ze.addView(Pe),$.afterRender&&$.afterRender(F,e,r,Ze),x($.groupGL,F.get("silent"))}}}),e.eachSeries(function(I){var F=r.getViewOfSeriesModel(I),$=I.coordinateSystem;if(F.__ecgl__){if($&&!$.viewGL&&!F.viewGL)return void console.error("Can't find viewGL of series "+F.id);var ue=$&&$.viewGL||F.viewGL,Pe=p(I);Pe.addView(ue),F.afterRender&&F.afterRender(I,e,r,Pe),x(F.groupGL,I.get("silent"))}})}else console.warn("Dom has no width or height");function p(I){var F;f.setSleepAfterStill(0),F=I.get("zlevel");var $=c._layers,ue=$[F];if(!ue){if(ue=$[F]=new p4("gl-"+F,f),f.painter.isSingleCanvas()){ue.virtual=!0;var Pe=new P.Q.Image({z:1e4,style:{image:ue.renderer.canvas},silent:!0});ue.__hostImage=Pe,f.add(Pe)}f.painter.insertLayer(F,ue)}return ue.__hostImage&&ue.__hostImage.setStyle({width:ue.renderer.getWidth(),height:ue.renderer.getHeight()}),ue}function x(I,F){I&&I.traverse(function($){$.isRenderable&&$.isRenderable()&&($.ignorePicking=null!=$.$ignorePicking?$.$ignorePicking:F)})}},P.sq(function(e){var r=e.getZr(),c=r.painter.dispose;r.painter.dispose=function(){this.eachOtherLayer(function(f){f instanceof p4&&f.dispose()}),c.call(this)},r.painter.getRenderedCanvas=function(f){if(f=f||{},this._singleCanvas)return this._layers[0].dom;var p=document.createElement("canvas"),x=f.pixelRatio||this.dpr;p.width=this.getWidth()*x,p.height=this.getHeight()*x;var w=p.getContext("2d");w.dpr=x,w.clearRect(0,0,p.width,p.height),f.backgroundColor&&(w.fillStyle=f.backgroundColor,w.fillRect(0,0,p.width,p.height));var $,I=this.storage.getDisplayList(!0),F={},ue=this;function Pe(st,Nt){var Bt=ue._zlevelList;null==st&&(st=-1/0);for(var an,nn=0;nn<Bt.length;nn++){var en=Bt[nn],Tn=ue._layers[en];if(!Tn.__builtin__&&en>st&&en<Nt){an=Tn;break}}an&&an.renderToCanvas&&(w.save(),an.renderToCanvas(w),w.restore())}for(var Ze={ctx:w},Ge=0;Ge<I.length;Ge++){var at=I[Ge];at.zlevel!==$&&(Pe($,at.zlevel),$=at.zlevel),this._doPaintEl(at,Ze,!0,null,F)}return Pe($,1/0),p}}),P.Br(function(e,r){var c=r.getZr();(c.__egl=c.__egl||new j1(c)).update(e,r)}),P.ds(function(e){P.D5.each(e.series,function(r){P.D5.indexOf($0,r.type)>=0&&(function(e){ml(e,"itemStyle"),ml(e,"lineStyle"),ml(e,"areaStyle"),ml(e,"label")}(r),"mapbox"===r.coordinateSystem&&(r.coordinateSystem="mapbox3D",e.mapbox3D=e.mapbox))}),Fs(e.xAxis3D),Fs(e.yAxis3D),Fs(e.zAxis3D),Fs(e.grid3D),ml(e.geo3D)});const Ic={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},null!=e.alpha&&(this.option.viewControl.alpha=e.alpha),null!=e.beta&&(this.option.viewControl.beta=e.beta),null!=e.distance&&(this.option.viewControl.distance=e.distance),null!=e.center&&(this.option.viewControl.center=e.center)}},Th={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},Ch={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}};var $1=P.tF.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});P.D5.merge($1.prototype,Ic),P.D5.merge($1.prototype,Th),P.D5.merge($1.prototype,Ch);const mu=$1;var yu=E(3884),Rc=Ki.firstNotNull,g4={left:0,middle:1,right:2};function X0(e){return e instanceof Array||(e=[e,e]),e}var Cd=gn.extend(function(){return{zr:null,viewGL:null,_center:new Tr,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new Zr,_panVelocity:new Zr,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach(function(e){this[e]=this[e].bind(this)},this)},{init:function(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update),e.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.dom.removeEventListener("contextmenu",this._contextMenuHandler),e.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,r){var c=(r=r||{}).baseDistance||0,f=r.baseOrthoSize||1,p=e.get("projection");"perspective"!==p&&"orthographic"!==p&&"isometric"!==p&&(p="perspective"),this._projection=p,this.viewGL.setProjection(p);var x=e.get("distance")+c,w=e.get("orthographicSize")+f;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach(function(Ze){this[Ze[0]]=Rc(e.get(Ze[0]),Ze[1])},this),this.minDistance+=c,this.maxDistance+=c,this.minOrthographicSize+=f,this.maxOrthographicSize+=f;var I=e.ecModel,F={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(Ze){F[Ze]=Rc(e.get(Ze),I&&I.get(Ze))});var $=Rc(r.alpha,e.get("alpha"))||0,ue=Rc(r.beta,e.get("beta"))||0,Pe=Rc(r.center,e.get("center"))||[0,0,0];F.animation&&F.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:$,beta:ue,center:Pe,distance:x,orthographicSize:w,easing:F.animationEasingUpdate,duration:F.animationDurationUpdate}):(this.setDistance(x),this.setAlpha($),this.setBeta(ue),this.setCenter(Pe),this.setOrthographicSize(w)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){},animateTo:function(e){var r=this.zr,c=this,f={},p={};return null!=e.distance&&(f.distance=this.getDistance(),p.distance=e.distance),null!=e.orthographicSize&&(f.orthographicSize=this.getOrthographicSize(),p.orthographicSize=e.orthographicSize),null!=e.alpha&&(f.alpha=this.getAlpha(),p.alpha=e.alpha),null!=e.beta&&(f.beta=this.getBeta(),p.beta=e.beta),null!=e.center&&(f.center=this.getCenter(),p.center=e.center),this._addAnimator(r.animation.animate(f).when(e.duration||1e3,p).during(function(){null!=f.alpha&&c.setAlpha(f.alpha),null!=f.beta&&c.setBeta(f.beta),null!=f.distance&&c.setDistance(f.distance),null!=f.center&&c.setCenter(f.center),null!=f.orthographicSize&&c.setOrthographicSize(f.orthographicSize),c._needsUpdate=!0})).start(e.easing||"linear")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var r=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=r*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(e){var r=this._rotateVelocity;this._phi=r.y*e/20+this._phi,this._theta=r.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(r,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var r=this.getCamera(),c=this._orthoSize,f=c/this.viewGL.viewport.height*this.viewGL.viewport.width;r.left=-f/2,r.right=f/2,r.top=c/2,r.bottom=-c/2},_updatePan:function(e){var r=this._panVelocity,c=this._distance,f=this.getCamera(),p=f.worldTransform.y;this._center.scaleAndAdd(f.worldTransform.x,-r.x*c/200).scaleAndAdd(p,-r.y*c/200),this._vectorDamping(r,0)},_updateTransform:function(){var e=this.getCamera(),r=new Tr,c=this._theta+Math.PI/2,f=this._phi+Math.PI/2,p=Math.sin(c);r.x=p*Math.cos(f),r.y=-Math.cos(c),r.z=p*Math.sin(f),e.position.copy(this._center).scaleAndAdd(r,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,r=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout(function(){r._rotating=!0},1e3*e))},_vectorDamping:function(e,r){var c=e.len();(c*=r)<1e-4&&(c=0),e.normalize().scale(c)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,r=Math.asin(e.y),c=Math.atan2(e.x,e.z);this._theta=r,this._phi=-c,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){e.target||this._isAnimating()||this.viewGL&&!this.viewGL.containPoint(e.offsetX,e.offsetY)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?1===e.event.targetTouches.length&&(this._mode="rotate"):this._mode=e.event.button===g4[this.rotateMouseButton]?"rotate":e.event.button===g4[this.panMouseButton]?"pan":"",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)},_mouseMoveHandler:function(e){if(!(e.target&&e.target.__isGLToZRProxy||this._isAnimating())){var r=X0(this.panSensitivity),c=X0(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*c[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*c[1]):"pan"===this._mode&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*r[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*r[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){this._isAnimating()||this._zoomHandler(e,e.event.wheelDelta||-e.event.detail)},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,r){var p;0!==r&&(this.viewGL&&!this.viewGL.containPoint(e.offsetX,e.offsetY)||(p="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(r>0?-1:1)*p*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),e.event.preventDefault()))},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var r=this._animators;return r.push(e),e.done(function(){var c=r.indexOf(e);c>=0&&r.splice(c,1)}),e}});Object.defineProperty(Cd.prototype,"autoRotate",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}});const Md=Cd,_u={convertToDynamicArray:function(e){e&&this.resetOffset();var r=this.attributes;for(var c in r)r[c].value=e||!r[c].value?[]:Array.prototype.slice.call(r[c].value);this.indices=e||!this.indices?[]:Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var r in e)e[r].value=e[r].value&&e[r].value.length>0?new Float32Array(e[r].value):null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},po={vec2:gr,vec3:Pn,vec4:zr,mat2:co,mat2d:To,mat3:Li,mat4:Ar,quat:ti};var xu=po.vec3,Mh=[[0,0],[1,1]],wd=ar.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new ar.Attribute("position","float",3,"POSITION"),positionPrev:new ar.Attribute("positionPrev","float",3),positionNext:new ar.Attribute("positionNext","float",3),prevPositionPrev:new ar.Attribute("prevPositionPrev","float",3),prevPosition:new ar.Attribute("prevPosition","float",3),prevPositionNext:new ar.Attribute("prevPositionNext","float",3),offset:new ar.Attribute("offset","float",1),color:new ar.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var r=this.attributes;this.vertexCount!==e&&(r.position.init(e),r.color.init(e),this.useNativeLine||(r.positionPrev.init(e),r.positionNext.init(e),r.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,r,c,f){return 1/(xu.dist(e,r)+xu.dist(c,r)+xu.dist(f,c)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,r,c,f){var p=this._getCubicCurveApproxStep(e,r,c,f),x=Math.ceil(1/p);return this.useNativeLine?2*x:2*x+2},getCubicCurveTriangleCount:function(e,r,c,f){var p=this._getCubicCurveApproxStep(e,r,c,f),x=Math.ceil(1/p);return this.useNativeLine?0:2*x},getLineVertexCount:function(){return this.getPolylineVertexCount(Mh)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(Mh)},getPolylineVertexCount:function(e){var r;return r="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/3,this.useNativeLine?2*(r-1):2*(r-1)+2},getPolylineTriangleCount:function(e){var r;return r="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/3,this.useNativeLine?0:2*Math.max(r-1,0)},addCubicCurve:function(e,r,c,f,p,x){null==x&&(x=1);var w=e[0],I=e[1],F=e[2],$=r[0],ue=r[1],Pe=r[2],Ze=c[0],Ge=c[1],at=c[2],st=f[0],Nt=f[1],Bt=f[2],an=this._getCubicCurveApproxStep(e,r,c,f),nn=an*an,en=nn*an,Tn=3*an,wn=3*nn,Zn=6*nn,Yn=6*en,nr=w-2*$+Ze,Pr=I-2*ue+Ge,cr=F-2*Pe+at,Lr=3*($-Ze)-w+st,Ir=3*(ue-Ge)-I+Nt,Cr=3*(Pe-at)-F+Bt,Br=w,Xr=I,mi=F,Gr=($-w)*Tn+nr*wn+Lr*en,Ta=(ue-I)*Tn+Pr*wn+Ir*en,ui=(Pe-F)*Tn+cr*wn+Cr*en,Ha=nr*Zn+Lr*Yn,Ma=Pr*Zn+Ir*Yn,ja=cr*Zn+Cr*Yn,Ka=Lr*Yn,da=Ir*Yn,_o=Cr*Yn,uo=0,Io=0,cs=Math.ceil(1/an),Yo=new Float32Array(3*(cs+1)),Go=(Yo=[],0);for(Io=0;Io<cs+1;Io++)Yo[Go++]=Br,Yo[Go++]=Xr,Yo[Go++]=mi,Br+=Gr,Xr+=Ta,mi+=ui,Gr+=Ha,Ta+=Ma,ui+=ja,Ha+=Ka,Ma+=da,ja+=_o,(uo+=an)>1&&(Br=Gr>0?Math.min(Br,st):Math.max(Br,st),Xr=Ta>0?Math.min(Xr,Nt):Math.max(Xr,Nt),mi=ui>0?Math.min(mi,Bt):Math.max(mi,Bt));return this.addPolyline(Yo,p,x)},addLine:function(e,r,c,f){return this.addPolyline([e,r],c,f)},addPolyline:function(e,r,c,f,p){if(e.length){var x="number"!=typeof e[0];if(null==p&&(p=x?e.length:e.length/3),!(p<2)){null==f&&(f=0),null==c&&(c=1),this._itemVertexOffsets.push(this._vertexOffset);var at,st,w=(x="number"!=typeof e[0])?"number"!=typeof r[0]:r.length/4===p,I=this.attributes.position,F=this.attributes.positionPrev,$=this.attributes.positionNext,ue=this.attributes.color,Pe=this.attributes.offset,Ze=this.indices,Ge=this._vertexOffset;c=Math.max(c,.01);for(var Nt=f;Nt<p;Nt++){if(x)at=e[Nt],st=w?r[Nt]:r;else{var Bt=3*Nt;if((at=at||[])[0]=e[Bt],at[1]=e[Bt+1],at[2]=e[Bt+2],w){var an=4*Nt;(st=st||[])[0]=r[an],st[1]=r[an+1],st[2]=r[an+2],st[3]=r[an+3]}else st=r}if(this.useNativeLine?Nt>1&&(I.copy(Ge,Ge-1),ue.copy(Ge,Ge-1),Ge++):(Nt<p-1&&(F.set(Ge+2,at),F.set(Ge+3,at)),Nt>0&&($.set(Ge-2,at),$.set(Ge-1,at)),I.set(Ge,at),I.set(Ge+1,at),ue.set(Ge,st),ue.set(Ge+1,st),Pe.set(Ge,c/2),Pe.set(Ge+1,-c/2),Ge+=2),this.useNativeLine)ue.set(Ge,st),I.set(Ge,at),Ge++;else if(Nt>0){var nn=3*this._triangleOffset;(Ze=this.indices)[nn]=Ge-4,Ze[nn+1]=Ge-3,Ze[nn+2]=Ge-2,Ze[nn+3]=Ge-3,Ze[nn+4]=Ge-1,Ze[nn+5]=Ge-2,this._triangleOffset+=2}}if(!this.useNativeLine){var en=this._vertexOffset,Tn=this._vertexOffset+2*p;F.copy(en,en+2),F.copy(en+1,en+3),$.copy(Tn-1,Tn-3),$.copy(Tn-2,Tn-4)}return this._vertexOffset=Ge,this._vertexOffset}}},setItemColor:function(e,r){for(var f=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,p=this._itemVertexOffsets[e];p<f;p++)this.attributes.color.set(p,r);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});P.D5.defaults(wd.prototype,_u);const Fl=wd;function Dd(e,r,c,f,p,x,w){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=f,this.height=p,this.offsetX=r,this.offsetY=c,this.dpr=w,this.gap=x}function go(e){(e=e||{}).width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=null==e.gap?2:e.gap;var r=document.createElement("canvas");r.width=e.width*e.devicePixelRatio,r.height=e.height*e.devicePixelRatio,this._canvas=r,this._texture=new Qr({image:r,flipY:!1});var c=this;this._zr=P.x_.init(r);var f=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){f.call(this),c._texture.dirty(),c.onupdate&&c.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new Dd(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}Dd.prototype={constructor:Dd,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,r,c){var f=e.getBoundingRect();null==r&&(r=f.width),null==c&&(c=f.height),this._fitElement(e,r*=this.dpr,c*=this.dpr);var p=this._x,x=this._y,w=this.width*this.dpr,I=this.height*this.dpr,F=this.gap;if(p+r+F>w&&(p=this._x=0,this._y=x+=this._rowHeight+F,this._rowHeight=0),this._x+=r+F,this._rowHeight=Math.max(this._rowHeight,c),x+c+F>I)return null;e.x+=this.offsetX*this.dpr+p,e.y+=this.offsetY*this.dpr+x,this._zr.add(e);var $=[this.offsetX/this.width,this.offsetY/this.height];return[[p/w+$[0],x/I+$[1]],[(p+r)/w+$[0],(x+c)/I+$[1]]]},_fitElement:function(e,r,c){var f=e.getBoundingRect(),p=r/f.width,x=c/f.height;e.x=-f.x*p,e.y=-f.y*x,e.scaleX=p,e.scaleY=x,e.update()}},go.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,c=this._textureAtlasNodes.length,f=c*this._nodeWidth%e,p=Math.floor(c*this._nodeWidth/e)*this._nodeHeight;if(!(p>=e)){var x=(f+this._nodeWidth)*this._dpr,w=(p+this._nodeHeight)*this._dpr;try{this._zr.resize({width:x,height:w})}catch(F){this._canvas.width=x,this._canvas.height=w}var I=new Dd(this._zr,f,p,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(I),I}},add:function(e,r,c){if(this._coords[e.id])return this._coords[e.id];var f=this._getCurrentNode().add(e,r,c);if(!f){var p=this._expand();if(!p)return;f=p.add(e,r,c)}return this._coords[e.id]=f,f},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]},dispose:function(){this._zr.dispose()}};const bu=go;function Nc(){}Nc.prototype={constructor:Nc,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new dn.DirectionalLight({shadowBias:.005}),this.ambientLight=new dn.AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var r=this.mainLight,c=this.ambientLight,f=e.getModel("light"),p=f.getModel("main"),x=f.getModel("ambient");r.intensity=p.get("intensity"),c.intensity=x.get("intensity"),r.color=dn.parseColor(p.get("color")).slice(0,3),c.color=dn.parseColor(x.get("color")).slice(0,3);var w=p.get("alpha")||0,I=p.get("beta")||0;r.position.setArray(dn.directionFromAlphaBeta(w,I)),r.lookAt(dn.Vector3.ZERO),r.castShadow=p.get("shadow"),r.shadowResolution=dn.getShadowResolution(p.get("shadowQuality"))},updateAmbientCubemap:function(e,r,c){var f=r.getModel("light.ambientCubemap"),p=f.get("texture");if(p){this._cubemapLightsCache=this._cubemapLightsCache||{};var x=this._cubemapLightsCache[p];if(!x){var w=this;x=this._cubemapLightsCache[p]=dn.createAmbientCubemap(f.option,e,c,function(){w._isSkyboxFromAmbientCubemap&&w._skybox.setEnvironmentMap(x.specular.cubemap),c.getZr().refresh()})}this._lightRoot.add(x.diffuse),this._lightRoot.add(x.specular),this._currentCubemapLights=x}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,r,c){var f=r.get("environment"),p=this,w=(p._skybox=p._skybox||new Ne,p._skybox);if(f&&"none"!==f)if("auto"===f)this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights?(w.setEnvironmentMap(this._currentCubemapLights.specular.cubemap),this._scene&&w.attachScene(this._scene),w.material.set("lod",3)):this._skybox&&this._skybox.detachScene();else if("object"==typeof f&&f.colorStops||"string"==typeof f&&P.$_.parse(f)){this._isSkyboxFromAmbientCubemap=!1;var F=new dn.Texture2D({anisotropic:8,flipY:!1});w.setEnvironmentMap(F);var $=F.image=document.createElement("canvas");$.width=$.height=16;var ue=$.getContext("2d"),Pe=new P.Q.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:f}});P.z$(ue,Pe),w.attachScene(this._scene)}else this._isSkyboxFromAmbientCubemap=!1,F=dn.loadTexture(f,c,{anisotropic:8,flipY:!1}),w.setEnvironmentMap(F),w.attachScene(this._scene);else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var Ze=r.coordinateSystem;if(this._skybox)if(!Ze||!Ze.viewGL||"auto"===f||f.match&&f.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var Ge=Ze.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[Ge]("fragment","SRGB_DECODE")}}};const kl=Nc;var yl=po.vec3,wh=ar.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new ar.Attribute("position","float",3,"POSITION"),normal:new ar.Attribute("normal","float",3,"NORMAL"),color:new ar.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var r=this.attributes,c=this.getQuadVertexCount()*e,f=this.getQuadTriangleCount()*e;this.vertexCount!==c&&(r.position.init(c),r.normal.init(c),r.color.init(c)),this.triangleCount!==f&&(this.indices=c>65535?new Uint32Array(3*f):new Uint16Array(3*f))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var e=yl.create(),r=yl.create(),c=yl.create(),f=[0,3,1,3,2,1];return function(p,x){var w=this.attributes.position,I=this.attributes.normal,F=this.attributes.color;yl.sub(e,p[1],p[0]),yl.sub(r,p[2],p[1]),yl.cross(c,e,r),yl.normalize(c,c);for(var $=0;$<4;$++)w.set(this._vertexOffset+$,p[$]),F.set(this._vertexOffset+$,x),I.set(this._vertexOffset+$,c);var ue=3*this._faceOffset;for($=0;$<6;$++)this.indices[ue+$]=f[$]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});P.D5.defaults(wh.prototype,_u);const m4=wh;var X1=Ki.firstNotNull,y4={x:0,y:2,z:1};function Q1(e,r,c){this.rootNode=new dn.Node;var f=new dn.Mesh({geometry:new Fl({useNativeLine:!1}),material:r,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),p=new dn.Mesh({geometry:new m4,material:c,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(p),this.rootNode.add(f),this.faceInfo=e,this.plane=new dn.Plane,this.linesMesh=f,this.quadsMesh=p}Q1.prototype.update=function(e,r,c){var f=e.coordinateSystem,p=[f.getAxis(this.faceInfo[0]),f.getAxis(this.faceInfo[1])],x=this.linesMesh.geometry,w=this.quadsMesh.geometry;x.convertToDynamicArray(!0),w.convertToDynamicArray(!0),this._updateSplitLines(x,p,e,c),this._udpateSplitAreas(w,p,e,c),x.convertToTypedArray(),w.convertToTypedArray();var I=f.getAxis(this.faceInfo[2]);!function(e,r,c,f){var p=[0,0,0],x=f<0?c.getExtentMin():c.getExtentMax();p[y4[c.dim]]=x,e.position.setArray(p),e.rotation.identity(),r.distance=-Math.abs(x),r.normal.set(0,0,0),"x"===c.dim?(e.rotation.rotateY(f*Math.PI/2),r.normal.x=-f):"z"===c.dim?(e.rotation.rotateX(-f*Math.PI/2),r.normal.y=-f):(f>0&&e.rotation.rotateY(Math.PI),r.normal.z=-f)}(this.rootNode,this.plane,I,this.faceInfo[3])},Q1.prototype._updateSplitLines=function(e,r,c,f){var p=f.getDevicePixelRatio();r.forEach(function(x,w){var I=x.model,F=r[1-w].getExtent();if(!x.scale.isBlank()){var $=I.getModel("splitLine",c.getModel("splitLine"));if($.get("show")){var ue=$.getModel("lineStyle"),Pe=ue.get("color"),Ze=X1(ue.get("opacity"),1),Ge=X1(ue.get("width"),1);Pe=P.D5.isArray(Pe)?Pe:[Pe];for(var at=x.getTicksCoords({tickModel:$}),st=0,Nt=0;Nt<at.length;Nt++){var Bt=at[Nt].coord,an=dn.parseColor(Pe[st%Pe.length]);an[3]*=Ze;var nn=[0,0,0],en=[0,0,0];nn[w]=en[w]=Bt,nn[1-w]=F[0],en[1-w]=F[1],e.addLine(nn,en,an,Ge*p),st++}}}})},Q1.prototype._udpateSplitAreas=function(e,r,c,f){r.forEach(function(p,x){var w=p.model,I=r[1-x].getExtent();if(!p.scale.isBlank()){var F=w.getModel("splitArea",c.getModel("splitArea"));if(F.get("show")){var $=F.getModel("areaStyle"),ue=$.get("color"),Pe=X1($.get("opacity"),1);ue=P.D5.isArray(ue)?ue:[ue];for(var Ze=p.getTicksCoords({tickModel:F,clamp:!0}),Ge=0,at=[0,0,0],st=[0,0,0],Nt=0;Nt<Ze.length;Nt++){var an=[0,0,0],nn=[0,0,0];if(an[x]=nn[x]=Ze[Nt].coord,an[1-x]=I[0],nn[1-x]=I[1],0!==Nt){var en=dn.parseColor(ue[Ge%ue.length]);en[3]*=Pe,e.addQuad([at,an,nn,st],en),at=an,st=nn,Ge++}else at=an,st=nn}}}})};const I3=Q1;var Su=[0,1,2,0,2,3],rs=ar.extend(function(){return{attributes:{position:new ar.Attribute("position","float",3,"POSITION"),texcoord:new ar.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new ar.Attribute("offset","float",2),color:new ar.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var r=4*e,c=2*e;this.vertexCount!==r&&(this.attributes.position.init(r),this.attributes.offset.init(r),this.attributes.color.init(r)),this.triangleCount!==c&&(this.indices=r>65535?new Uint32Array(3*c):new Uint16Array(3*c))},setSpriteAlign:function(e,r,c,f,p){var x,w,I,F;switch(null==c&&(c="left"),null==f&&(f="top"),p=p||0,c){case"left":x=p,I=r[0]+p;break;case"center":case"middle":x=-r[0]/2,I=r[0]/2;break;case"right":x=-r[0]-p,I=-p}switch(f){case"bottom":w=p,F=r[1]+p;break;case"middle":w=-r[1]/2,F=r[1]/2;break;case"top":w=-r[1]-p,F=-p}var $=4*e,ue=this.attributes.offset;ue.set($,[x,F]),ue.set($+1,[I,F]),ue.set($+2,[I,w]),ue.set($+3,[x,w])},addSprite:function(e,r,c,f,p,x){var w=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,r,c,f,p,x);for(var I=0;I<Su.length;I++)this.indices[3*this._faceOffset+I]=Su[I]+w;return this._faceOffset+=2,this._vertexOffset+=4,w/4},setSprite:function(e,r,c,f,p,x,w){for(var I=4*e,F=this.attributes,$=0;$<4;$++)F.position.set(I+$,r);var ue=F.texcoord;ue.set(I,[f[0][0],f[0][1]]),ue.set(I+1,[f[1][0],f[0][1]]),ue.set(I+2,[f[1][0],f[1][1]]),ue.set(I+3,[f[0][0],f[1][1]]),this.setSpriteAlign(e,c,p,x,w)}});P.D5.defaults(rs.prototype,_u);const Ed=rs;dn.Shader.import("@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end");const Eh=dn.Mesh.extend(function(){return{geometry:new Ed({dynamic:!0}),material:new dn.Material({shader:dn.createShader("ecgl.labels"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0}});var yo=Ki.firstNotNull,ks={x:0,y:2,z:1};function Tu(e,r){var c=new dn.Mesh({geometry:new Fl({useNativeLine:!1}),material:r,castShadow:!1,ignorePicking:!0,renderOrder:2}),f=new Eh;f.material.depthMask=!1;var p=new dn.Node;p.add(c),p.add(f),this.rootNode=p,this.dim=e,this.linesMesh=c,this.labelsMesh=f,this.axisLineCoords=null,this.labelElements=[]}var J1={x:"y",y:"x",z:"y"};Tu.prototype.update=function(e,r,c){var p=e.coordinateSystem.getAxis(this.dim),x=this.linesMesh.geometry,w=this.labelsMesh.geometry;x.convertToDynamicArray(!0),w.convertToDynamicArray(!0);var I=p.model,F=p.getExtent(),$=c.getDevicePixelRatio(),ue=I.getModel("axisLine",e.getModel("axisLine")),Pe=I.getModel("axisTick",e.getModel("axisTick")),Ze=I.getModel("axisLabel",e.getModel("axisLabel")),Ge=ue.get("lineStyle.color");if(ue.get("show")){var at=ue.getModel("lineStyle"),Nt=[0,0,0];(st=[0,0,0])[Bt=ks[p.dim]]=F[0],Nt[Bt]=F[1],this.axisLineCoords=[st,Nt];var an=dn.parseColor(Ge),nn=yo(at.get("width"),1),en=yo(at.get("opacity"),1);an[3]*=en,x.addLine(st,Nt,an,nn*$)}if(Pe.get("show")){var Tn=Pe.getModel("lineStyle"),wn=dn.parseColor(yo(Tn.get("color"),Ge));nn=yo(Tn.get("width"),1),wn[3]*=yo(Tn.get("opacity"),1);for(var Zn=p.getTicksCoords(),Yn=Pe.get("length"),nr=0;nr<Zn.length;nr++){var st,cr=ks[J1[p.dim]];(st=[0,0,0])[Bt=ks[p.dim]]=(Nt=[0,0,0])[Bt]=Pr=Zn[nr].coord,Nt[cr]=Yn,x.addLine(st,Nt,wn,nn*$)}}if(this.labelElements=[],$=c.getDevicePixelRatio(),Ze.get("show")){Zn=p.getTicksCoords();var Lr=I.get("data"),Ir=Ze.get("margin"),Cr=p.getViewLabels();for(nr=0;nr<Cr.length;nr++){var Br=Cr[nr].tickValue,Xr=Cr[nr].formattedLabel,mi=Cr[nr].rawLabel,Pr=p.dataToCoord(Br);cr=ks[J1[p.dim]],(Gr=[0,0,0])[Bt=ks[p.dim]]=Gr[Bt]=Pr,Gr[cr]=Ir;var Ta=Ze;Lr&&Lr[Br]&&Lr[Br].textStyle&&(Ta=new P.Hn(Lr[Br].textStyle,Ze,I.ecModel));var ui=yo(Ta.get("color"),Ge),Ha=new P.Q.Text({style:(0,yu.Lr)(Ta,{text:Xr,fill:"function"==typeof ui?ui("category"===p.type?mi:"value"===p.type?Br+"":Br,nr):ui,verticalAlign:"top",align:"left"})}),Ma=r.add(Ha),ja=Ha.getBoundingRect();w.addSprite(Gr,[ja.width*$,ja.height*$],Ma),this.labelElements.push(Ha)}}if(I.get("name")){var Ka=I.getModel("nameTextStyle"),Gr=[0,0,0],Bt=ks[p.dim],da=(cr=ks[J1[p.dim]],yo(Ka.get("color"),Ge)),_o=Ka.get("borderColor");nn=Ka.get("borderWidth"),Gr[Bt]=Gr[Bt]=(F[0]+F[1])/2,Gr[cr]=I.get("nameGap"),Ha=new P.Q.Text({style:(0,yu.Lr)(Ka,{text:I.get("name"),fill:da,stroke:_o,lineWidth:nn})}),Ma=r.add(Ha),ja=Ha.getBoundingRect(),w.addSprite(Gr,[ja.width*$,ja.height*$],Ma),Ha.__idx=this.labelElements.length,this.nameLabelElement=Ha}this.labelsMesh.material.set("textureAtlas",r.getTexture()),this.labelsMesh.material.set("uvScale",r.getCoordsScale()),x.convertToTypedArray(),w.convertToTypedArray()},Tu.prototype.setSpriteAlign=function(e,r,c){for(var f=c.getDevicePixelRatio(),p=this.labelsMesh.geometry,x=0;x<this.labelElements.length;x++){var I=this.labelElements[x].getBoundingRect();p.setSpriteAlign(x,[I.width*f,I.height*f],e,r)}var F=this.nameLabelElement;F&&(I=F.getBoundingRect(),p.setSpriteAlign(F.__idx,[I.width*f,I.height*f],e,r),p.dirty()),this.textAlign=e,this.textVerticalAlign=r};const q0=Tu,Ah="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end";var e2=Ki.firstNotNull;dn.Shader.import(Ah);var ys={x:0,y:2,z:1};const _4=P.Ir.extend({type:"grid3D",__ecgl__:!0,init:function(e,r){var p=new dn.Material({shader:dn.createShader("ecgl.color"),depthMask:!1,transparent:!0}),x=new dn.Material({shader:dn.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});p.define("fragment","DOUBLE_SIDED"),p.define("both","VERTEX_COLOR"),this.groupGL=new dn.Node,this._control=new Md({zr:r.getZr()}),this._control.init(),this._faces=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]].map(function(I){var F=new I3(I,x,p);return this.groupGL.add(F.rootNode),F},this),this._axes=["x","y","z"].map(function(I){var F=new q0(I,x);return this.groupGL.add(F.rootNode),F},this);var w=r.getDevicePixelRatio();this._axisLabelSurface=new bu({width:256,height:256,devicePixelRatio:w}),this._axisLabelSurface.onupdate=function(){r.getZr().refresh()},this._axisPointerLineMesh=new dn.Mesh({geometry:new Fl({useNativeLine:!1}),material:x,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new bu({width:128,height:128,devicePixelRatio:w}),this._axisPointerLabelsMesh=new Eh({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new dn.Node,this._sceneHelper=new kl,this._sceneHelper.initLight(this._lightRoot)},render:function(e,r,c){this._model=e,this._api=c;var f=e.coordinateSystem;f.viewGL.add(this._lightRoot),e.get("show")?f.viewGL.add(this.groupGL):f.viewGL.remove(this.groupGL);var p=this._control;p.setViewGL(f.viewGL);var x=e.getModel("viewControl");p.setFromViewControlModel(x,0),this._axisLabelSurface.clear(),p.off("update"),e.get("show")&&(this._faces.forEach(function(w){w.update(e,r,c)},this),this._axes.forEach(function(w){w.update(e,this._axisLabelSurface,c)},this)),p.on("update",this._onCameraChange.bind(this,e,c),this),this._sceneHelper.setScene(f.viewGL.scene),this._sceneHelper.updateLight(e),f.viewGL.setPostEffect(e.getModel("postEffect"),c),f.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e)},afterRender:function(e,r,c,f){var p=f.renderer;this._sceneHelper.updateAmbientCubemap(p,e,c),this._sceneHelper.updateSkybox(p,e,c)},showAxisPointer:function(e,r,c,f){this._doShowAxisPointer(),this._updateAxisPointer(f.value)},hideAxisPointer:function(e,r,c,f){this._doHideAxisPointer()},_initMouseHandler:function(e){var c=e.coordinateSystem.viewGL;e.get("show")&&e.get("axisPointer.show")?c.on("mousemove",this._updateAxisPointerOnMousePosition,this):c.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var x,c=this._model.coordinateSystem,f=c.viewGL,p=f.castRay(e.offsetX,e.offsetY,new dn.Ray),w=0;w<this._faces.length;w++){var I=this._faces[w];if(!I.rootNode.invisible){I.plane.normal.dot(f.camera.worldTransform.z)<0&&I.plane.normal.negate();var F=p.intersectPlane(I.plane);if(F){var $=c.getAxis(I.faceInfo[0]),ue=c.getAxis(I.faceInfo[1]),Ze=ys[I.faceInfo[1]];$.contain(F.array[ys[I.faceInfo[0]]])&&ue.contain(F.array[Ze])&&(x=F)}}}if(x){var Ge=c.pointToData(x.array,[],!0);this._updateAxisPointer(Ge),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,r){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var c=this._control;r.dispatchAction({type:"grid3DChangeCamera",alpha:c.getAlpha(),beta:c.getBeta(),distance:c.getDistance(),center:c.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),r=new dn.Vector3;e.update();for(var c=0;c<this._faces.length/2;c++){for(var f=[],p=0;p<2;p++)this._faces[2*c+p].rootNode.getWorldPosition(r),r.transformMat4(e.viewMatrix),f[p]=r.z;var w=f[0]>f[1]?0:1,F=this._faces[2*c+1-w];this._faces[2*c+w].rootNode.invisible=!0,F.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,r=e.getAxis("x"),c=e.getAxis("y"),f=e.getAxis("z"),p=f.getExtentMax(),x=f.getExtentMin(),w=r.getExtentMin(),I=r.getExtentMax(),F=c.getExtentMax(),$=c.getExtentMin(),ue=this._axes[0].rootNode,Pe=this._axes[1].rootNode,Ze=this._axes[2].rootNode,Ge=this._faces,at=Ge[4].rootNode.invisible?$:F,st=Ge[2].rootNode.invisible?p:x,Nt=Ge[0].rootNode.invisible?w:I,Bt=Ge[2].rootNode.invisible?p:x,an=Ge[0].rootNode.invisible?I:w,nn=Ge[4].rootNode.invisible?$:F;ue.rotation.identity(),Pe.rotation.identity(),Ze.rotation.identity(),Ge[4].rootNode.invisible&&(this._axes[0].flipped=!0,ue.rotation.rotateX(Math.PI)),Ge[0].rootNode.invisible&&(this._axes[1].flipped=!0,Pe.rotation.rotateZ(Math.PI)),Ge[4].rootNode.invisible&&(this._axes[2].flipped=!0,Ze.rotation.rotateY(Math.PI)),ue.position.set(0,st,at),Pe.position.set(Nt,Bt,0),Ze.position.set(an,0,nn),ue.update(),Pe.update(),Ze.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),r=[new dn.Vector4,new dn.Vector4],c=new dn.Vector4;this.groupGL.getWorldPosition(c),c.w=1,c.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),c.x/=c.w,c.y/=c.w,this._axes.forEach(function(f){for(var p=f.axisLineCoords,w=0;w<r.length;w++)r[w].setArray(p[w]),r[w].w=1,r[w].transformMat4(f.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),r[w].x/=r[w].w,r[w].y/=r[w].w;var Pe,Ze,$=(r[1].x+r[0].x)/2,ue=(r[1].y+r[0].y)/2;Math.abs((r[1].y-r[0].y)/(r[1].x-r[0].x))<.5?(Pe="center",Ze=ue>c.y?"bottom":"top"):(Ze="middle",Pe=$>c.x?"left":"right"),f.setSpriteAlign(Pe,Ze,this._api)},this)},_doShowAxisPointer:function(){!this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var r=this._model.coordinateSystem,c=r.dataToPoint(e),p=this._axisPointerLineMesh.geometry,x=this._model.getModel("axisPointer"),w=this._api.getDevicePixelRatio();function I(Yn){return Ki.firstNotNull(Yn.model.get("axisPointer.show"),x.get("show"))}function F(Yn){var Pr=Yn.model.getModel("axisPointer",x).getModel("lineStyle"),cr=dn.parseColor(Pr.get("color")),Lr=e2(Pr.get("width"),1),Ir=e2(Pr.get("opacity"),1);return cr[3]*=Ir,{color:cr,lineWidth:Lr}}p.convertToDynamicArray(!0);for(var $=0;$<this._faces.length;$++){var ue=this._faces[$];if(!ue.rootNode.invisible){for(var Pe=ue.faceInfo,Ze=Pe[3]<0?r.getAxis(Pe[2]).getExtentMin():r.getAxis(Pe[2]).getExtentMax(),Ge=ys[Pe[2]],at=0;at<2;at++){var st=Pe[at],Nt=Pe[1-at],Bt=r.getAxis(st),an=r.getAxis(Nt);if(I(Bt)){var Tn=ys[st],wn=ys[Nt];(nn=[0,0,0])[Tn]=(en=[0,0,0])[Tn]=c[Tn],nn[Ge]=en[Ge]=Ze,nn[wn]=an.getExtentMin(),en[wn]=an.getExtentMax();var Zn=F(Bt);p.addLine(nn,en,Zn.color,Zn.lineWidth*w)}}if(I(r.getAxis(Pe[2]))){var en,nn=c.slice();(en=c.slice())[Ge]=Ze,Zn=F(r.getAxis(Pe[2])),p.addLine(nn,en,Zn.color,Zn.lineWidth*w)}}}p.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var r=this._model,c=this._axisPointerLabelsMesh,f=this._axisPointerLabelsSurface,p=r.coordinateSystem,x=r.getModel("axisPointer");c.geometry.convertToDynamicArray(!0),f.clear();var w={x:"y",y:"x",z:"y"};this._axes.forEach(function(I,F){var $=p.getAxis(I.dim),Pe=$.model.getModel("axisPointer",x),Ze=Pe.getModel("label"),Ge=Pe.get("lineStyle.color");if(Ze.get("show")&&Pe.get("show")){var at=e[F],st=Ze.get("formatter"),Nt=$.scale.getLabel({value:at});if(null!=st)Nt=st(Nt,e);else if("interval"===$.scale.type||"log"===$.scale.type){var Bt=P.Rx.getPrecisionSafe($.scale.getTicks()[0]);Nt=at.toFixed(Bt+2)}var an=Ze.get("color"),nn=new P.Q.Text({style:(0,yu.Lr)(Ze,{text:Nt,fill:an||Ge,align:"left",verticalAlign:"top"})}),en=f.add(nn),Tn=nn.getBoundingRect(),wn=this._api.getDevicePixelRatio(),Zn=I.rootNode.position.toArray();Zn[ys[w[I.dim]]]+=(I.flipped?-1:1)*Ze.get("margin"),Zn[ys[I.dim]]=$.dataToCoord(e[F]),c.geometry.addSprite(Zn,[Tn.width*wn,Tn.height*wn],en,I.textAlign,I.textVerticalAlign)}},this),f.getZr().refreshImmediately(),c.material.set("uvScale",f.getCoordsScale()),c.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}});var Ad=E(6043);function Cu(e){Ad.Z.call(this,e),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}Cu.prototype={constructor:Cu,model:null,containPoint:function(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1])},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2])},dataToPoint:function(e,r,c){return(r=r||[])[0]=this.getAxis("x").dataToCoord(e[0],c),r[2]=this.getAxis("y").dataToCoord(e[1],c),r[1]=this.getAxis("z").dataToCoord(e[2],c),r},pointToData:function(e,r,c){return(r=r||[])[0]=this.getAxis("x").coordToData(e[0],c),r[1]=this.getAxis("y").coordToData(e[2],c),r[2]=this.getAxis("z").coordToData(e[1],c),r}},P.D5.inherits(Cu,Ad.Z);const q1=Cu;function Pd(e,r,c){P.RD.call(this,e,r,c)}Pd.prototype={constructor:Pd,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},P.D5.inherits(Pd,P.RD);const t2=Pd;var Mu=E(3180),Ld=function(){this._pool={},this._allocatedTextures=[]};Ld.prototype={constructor:Ld,get:function(e){var r=Ph(e);this._pool.hasOwnProperty(r)||(this._pool[r]=[]);var c=this._pool[r];if(!c.length){var f=new Qr(e);return this._allocatedTextures.push(f),f}return c.pop()},put:function(e){var r=Ph(e);this._pool.hasOwnProperty(r)||(this._pool[r]=[]),this._pool[r].push(e)},clear:function(e){for(var r=0;r<this._allocatedTextures.length;r++)this._allocatedTextures[r].dispose(e);this._pool={},this._allocatedTextures=[]}};var n2={width:512,height:512,type:5121,format:6408,wrapS:33071,wrapT:33071,minFilter:9987,magFilter:9729,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},ef=Object.keys(n2);function Ph(e){Wt.defaultsWithPropList(e,n2,ef),function(e){var r=function(e,r){return 0==(e&e-1)&&0==(r&r-1)}(e.width,e.height);6402===e.format&&(e.useMipmap=!1),(!r||!e.useMipmap)&&(9984==e.minFilter||9986==e.minFilter?e.minFilter=9728:(9987==e.minFilter||9985==e.minFilter)&&(e.minFilter=9729)),r||(e.wrapS=33071,e.wrapT=33071)}(e);for(var r="",c=0;c<ef.length;c++)r+=e[ef[c]].toString();return r}const tf=Ld;var sc=["px","nx","py","ny","pz","nz"];function nf(e,r,c){return"alphaMap"===c?e.material.get("diffuseMap"):"alphaCutoff"===c?e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")&&e.material.get("alphaCutoff")||0:"uvRepeat"===c?e.material.get("uvRepeat"):"uvOffset"===c?e.material.get("uvOffset"):r.get(c)}function a2(e,r){var c=e.material,f=r.material;return c.get("diffuseMap")!==f.get("diffuseMap")||(c.get("alphaCutoff")||0)!==(f.get("alphaCutoff")||0)}br.import("@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\nuniform vec2 uvOffset = vec2(0.0, 0.0);\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n v_ViewPosition = worldViewProjection * P;\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord * uvRepeat + uvOffset;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n #endif\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n #else\n depth += bias;\n #endif\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = worldViewProjection * P;\n v_WorldPosition = (world * P).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end");var is=gn.extend(function(){return{softShadow:is.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new Ni,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new tf}},function(){this._gaussianPassH=new oo({fragment:br.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new oo({fragment:br.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new oo({fragment:br.source("clay.sm.debug_depth")})},{render:function(e,r,c,f){c||(c=r.getMainCamera()),this.trigger("beforerender",this,e,r,c),this._renderShadowPass(e,r,c,f),this.trigger("afterrender",this,e,r,c)},renderDebug:function(e,r){e.saveClear();var c=e.viewport,f=0,x=r||c.width/4,w=x;for(var I in this.softShadow===is.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var F=this._textures[I];e.setViewport(f,0,x*F.width/F.height,w),this._outputDepthPass.setUniform("depthMap",F),this._outputDepthPass.render(e),f+=x*F.width/F.height}e.setViewport(c),e.restoreClear()},_updateReceivers:function(e,r){if(r.receiveShadow?(this._receivers.push(r),r.material.set("shadowEnabled",1),r.material.set("pcfKernel",this.kernelPCF)):r.material.set("shadowEnabled",0),this.softShadow===is.VSM)r.material.define("fragment","USE_VSM"),r.material.undefine("fragment","PCF_KERNEL_SIZE");else{r.material.undefine("fragment","USE_VSM");var c=this.kernelPCF;c&&c.length?r.material.define("fragment","PCF_KERNEL_SIZE",c.length/2):r.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(e,r){var c=this;r.traverse(function(x){x.isRenderable()&&c._updateReceivers(e,x)});for(var f=0;f<r.lights.length;f++){var p=r.lights[f];p.castShadow&&!p.invisible&&this._lightsCastShadow.push(p)}},_renderShadowPass:function(e,r,c,f){for(var p in this._shadowMapNumber)this._shadowMapNumber[p]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var x=e.gl;if(f||r.update(),c&&c.update(),r.updateLights(),this._update(e,r),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,x.enable(x.DEPTH_TEST),x.depthMask(!0),x.disable(x.BLEND),x.clearColor(1,1,1,1);for(var Ze,w=[],I=[],F=[],$=[],ue=[],Pe=[],Ge=0;Ge<this._lightsCastShadow.length;Ge++){var at=this._lightsCastShadow[Ge];if("DIRECTIONAL_LIGHT"===at.type){if(Ze){console.warn("Only one direectional light supported with shadow cascade");continue}if(at.shadowCascade>4){console.warn("Support at most 4 cascade");continue}at.shadowCascade>1&&(Ze=at),this.renderDirectionalLightShadow(e,r,c,at,ue,$,F)}else"SPOT_LIGHT"===at.type?this.renderSpotLightShadow(e,r,at,I,w):"POINT_LIGHT"===at.type&&this.renderPointLightShadow(e,r,at,Pe);this._shadowMapNumber[at.type]++}for(var st in this._shadowMapNumber){var Nt=this._shadowMapNumber[st],Bt=st+"_SHADOWMAP_COUNT";for(Ge=0;Ge<this._receivers.length;Ge++)(nn=this._receivers[Ge].material).fragmentDefines[Bt]!==Nt&&(Nt>0?nn.define("fragment",Bt,Nt):nn.isDefined("fragment",Bt)&&nn.undefine("fragment",Bt))}for(Ge=0;Ge<this._receivers.length;Ge++){var nn=this._receivers[Ge].material;Ze?nn.define("fragment","SHADOW_CASCADE",Ze.shadowCascade):nn.undefine("fragment","SHADOW_CASCADE")}var en=r.shadowUniforms;if(F.length>0){var wn=F.map(Tn);if(en.directionalLightShadowMaps={value:F,type:"tv"},en.directionalLightMatrices={value:$,type:"m4v"},en.directionalLightShadowMapSizes={value:wn,type:"1fv"},Ze){var Zn=ue.slice(),Yn=ue.slice();Zn.pop(),Yn.shift(),Zn.reverse(),Yn.reverse(),$.reverse(),en.shadowCascadeClipsNear={value:Zn,type:"1fv"},en.shadowCascadeClipsFar={value:Yn,type:"1fv"}}}if(w.length>0){var nr=w.map(Tn);(en=r.shadowUniforms).spotLightShadowMaps={value:w,type:"tv"},en.spotLightMatrices={value:I,type:"m4v"},en.spotLightShadowMapSizes={value:nr,type:"1fv"}}Pe.length>0&&(en.pointLightShadowMaps={value:Pe,type:"tv"})}function Tn(Pr){return Pr.height}},renderDirectionalLightShadow:function(){var e=new vs,r=new Er,c=new ae,f=new Er,p=new Er,x=new Er,w=new Er;return function(I,F,$,ue,Pe,Ze,Ge){var at=this._getDepthMaterial(ue),st={getMaterial:function(ja){return ja.shadowDepthMaterial||at},isMaterialChanged:a2,getUniform:nf,ifRender:function(ja){return ja.castShadow},sortCompare:no.opaqueSortCompare};if(!F.viewBoundingBoxLastFrame.isFinite()){var Nt=F.getBoundingBox();F.viewBoundingBoxLastFrame.copy(Nt).applyTransform($.viewMatrix)}var Bt=Math.min(-F.viewBoundingBoxLastFrame.min.z,$.far),an=Math.max(-F.viewBoundingBoxLastFrame.max.z,$.near),nn=this._getDirectionalLightCamera(ue,F,$),en=x.array;w.copy(nn.projectionMatrix),Ar.invert(p.array,nn.worldTransform.array),Ar.multiply(p.array,p.array,$.worldTransform.array),Ar.multiply(en,w.array,p.array);for(var Tn=[],wn=$ instanceof Mr,Zn=($.near+$.far)/($.near-$.far),Yn=2*$.near*$.far/($.near-$.far),nr=0;nr<=ue.shadowCascade;nr++){var Lr=an*Math.pow(Bt/an,nr/ue.shadowCascade)*ue.cascadeSplitLogFactor+(an+(Bt-an)*nr/ue.shadowCascade)*(1-ue.cascadeSplitLogFactor);Tn.push(Lr),Pe.push(-(-Lr*Zn+Yn)/-Lr)}var Ir=this._getTexture(ue,ue.shadowCascade);Ge.push(Ir);var Cr=I.viewport,Br=I.gl;for(this._frameBuffer.attach(Ir),this._frameBuffer.bind(I),Br.clear(Br.COLOR_BUFFER_BIT|Br.DEPTH_BUFFER_BIT),nr=0;nr<ue.shadowCascade;nr++){var Xr=Tn[nr],mi=Tn[nr+1];wn?Ar.perspective(r.array,$.fov/180*Math.PI,$.aspect,Xr,mi):Ar.ortho(r.array,$.left,$.right,$.bottom,$.top,Xr,mi),e.setFromProjection(r),e.getTransformedBoundingBox(c,p),c.applyProjection(w);var Gr=c.min.array,Ta=c.max.array;Gr[0]=Math.max(Gr[0],-1),Gr[1]=Math.max(Gr[1],-1),Ta[0]=Math.min(Ta[0],1),Ta[1]=Math.min(Ta[1],1),f.ortho(Gr[0],Ta[0],Gr[1],Ta[1],1,-1),nn.projectionMatrix.multiplyLeft(f);var ui=ue.shadowResolution||512;I.setViewport((ue.shadowCascade-nr-1)*ui,0,ui,ui,1);var Ha=F.updateRenderList(nn);I.renderPass(Ha.opaque,nn,st),this.softShadow===is.VSM&&this._gaussianFilter(I,Ir,Ir.width);var Ma=new Er;Ma.copy(nn.viewMatrix).multiplyLeft(nn.projectionMatrix),Ze.push(Ma.array),nn.projectionMatrix.copy(w)}this._frameBuffer.unbind(I),I.setViewport(Cr)}}(),renderSpotLightShadow:function(e,r,c,f,p){var x=this._getTexture(c),w=this._getSpotLightCamera(c),I=e.gl;this._frameBuffer.attach(x),this._frameBuffer.bind(e),I.clear(I.COLOR_BUFFER_BIT|I.DEPTH_BUFFER_BIT);var F=this._getDepthMaterial(c),$={getMaterial:function(Ze){return Ze.shadowDepthMaterial||F},isMaterialChanged:a2,getUniform:nf,ifRender:function(Ze){return Ze.castShadow},sortCompare:no.opaqueSortCompare},ue=r.updateRenderList(w);e.renderPass(ue.opaque,w,$),this._frameBuffer.unbind(e),this.softShadow===is.VSM&&this._gaussianFilter(e,x,x.width);var Pe=new Er;Pe.copy(w.worldTransform).invert().multiplyLeft(w.projectionMatrix),p.push(x),f.push(Pe.array)},renderPointLightShadow:function(e,r,c,f){var p=this._getTexture(c),x=e.gl;f.push(p);var w=this._getDepthMaterial(c),I={getMaterial:function(an){return an.shadowDepthMaterial||w},getUniform:nf,sortCompare:no.opaqueSortCompare},F={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},$=new ae,ue=c.getWorldPosition().array,Pe=new ae,Ze=c.range;Pe.min.setArray(ue),Pe.max.setArray(ue);var Ge=new Tr(Ze,Ze,Ze);Pe.max.add(Ge),Pe.min.sub(Ge);var at={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};r.traverse(function(an){if(an.isRenderable()&&an.castShadow){var nn=an.geometry;if(!nn.boundingBox){for(var en=0;en<sc.length;en++)F[sc[en]].push(an);return}if($.transformFrom(nn.boundingBox,an.worldTransform),!$.intersectBoundingBox(Pe))return;for($.updateVertices(),en=0;en<sc.length;en++)at[sc[en]]=!1;for(en=0;en<8;en++){var Tn=$.vertices[en],wn=Tn[0]-ue[0],Zn=Tn[1]-ue[1],Yn=Tn[2]-ue[2],nr=Math.abs(wn),Pr=Math.abs(Zn),cr=Math.abs(Yn);nr>Pr?nr>cr?at[wn>0?"px":"nx"]=!0:at[Yn>0?"pz":"nz"]=!0:Pr>cr?at[Zn>0?"py":"ny"]=!0:at[Yn>0?"pz":"nz"]=!0}for(en=0;en<sc.length;en++)at[sc[en]]&&F[sc[en]].push(an)}});for(var st=0;st<6;st++){var Nt=sc[st],Bt=this._getPointLightCamera(c,Nt);this._frameBuffer.attach(p,x.COLOR_ATTACHMENT0,x.TEXTURE_CUBE_MAP_POSITIVE_X+st),this._frameBuffer.bind(e),x.clear(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT),e.renderPass(F[Nt],Bt,I)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var r=this._lightMaterials[e.__uid__],c="POINT_LIGHT"===e.type;if(!r){var f=c?"clay.sm.distance.":"clay.sm.depth.";r=new Xn({precision:this.precision,shader:new br(br.source(f+"vertex"),br.source(f+"fragment"))}),this._lightMaterials[e.__uid__]=r}return null!=e.shadowSlopeScale&&r.setUniform("slopeScale",e.shadowSlopeScale),null!=e.shadowBias&&r.setUniform("bias",e.shadowBias),this.softShadow===is.VSM?r.define("fragment","USE_VSM"):r.undefine("fragment","USE_VSM"),c&&(r.set("lightPosition",e.getWorldPosition().array),r.set("range",e.range)),r},_gaussianFilter:function(e,r,c){var p=this._texturePool.get({width:c,height:c,type:Kr.FLOAT});this._frameBuffer.attach(p),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",r),this._gaussianPassH.setUniform("textureWidth",c),this._gaussianPassH.render(e),this._frameBuffer.attach(r),this._gaussianPassV.setUniform("texture",p),this._gaussianPassV.setUniform("textureHeight",c),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(p)},_getTexture:function(e,r){var c=e.__uid__,f=this._textures[c],p=e.shadowResolution||512;return r=r||1,f||((f="POINT_LIGHT"===e.type?new wr:new Qr).width=p*r,f.height=p,this.softShadow===is.VSM?(f.type=Kr.FLOAT,f.anisotropic=4):(f.minFilter=9728,f.magFilter=9728,f.useMipmap=!1),this._textures[c]=f),f},_getPointLightCamera:function(e,r){this._lightCameras.point||(this._lightCameras.point={px:new Mr,nx:new Mr,py:new Mr,ny:new Mr,pz:new Mr,nz:new Mr});var c=this._lightCameras.point[r];switch(c.far=e.range,c.fov=90,c.position.set(0,0,0),r){case"px":c.lookAt(Tr.POSITIVE_X,Tr.NEGATIVE_Y);break;case"nx":c.lookAt(Tr.NEGATIVE_X,Tr.NEGATIVE_Y);break;case"py":c.lookAt(Tr.POSITIVE_Y,Tr.POSITIVE_Z);break;case"ny":c.lookAt(Tr.NEGATIVE_Y,Tr.NEGATIVE_Z);break;case"pz":c.lookAt(Tr.POSITIVE_Z,Tr.NEGATIVE_Y);break;case"nz":c.lookAt(Tr.NEGATIVE_Z,Tr.NEGATIVE_Y)}return e.getWorldPosition(c.position),c.update(),c},_getDirectionalLightCamera:function(){var e=new Er,r=new ae,c=new ae;return function(f,p,x){this._lightCameras.directional||(this._lightCameras.directional=new Lc);var w=this._lightCameras.directional;r.copy(p.viewBoundingBoxLastFrame),r.intersection(x.frustum.boundingBox),w.position.copy(r.min).add(r.max).scale(.5).transformMat4(x.worldTransform),w.rotation.copy(f.rotation),w.scale.copy(f.scale),w.updateWorldTransform(),Er.invert(e,w.worldTransform),Er.multiply(e,e,x.worldTransform),c.copy(r).applyTransform(e);var I=c.min.array,F=c.max.array;return w.position.set((I[0]+F[0])/2,(I[1]+F[1])/2,F[2]).transformMat4(w.worldTransform),w.near=0,w.far=-I[2]+F[2],isNaN(this.lightFrustumBias)?w.far*=4:w.far+=this.lightFrustumBias,w.left=I[0],w.right=F[0],w.top=F[1],w.bottom=I[1],w.update(!0),w}}(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new Mr);var r=this._lightCameras.spot;return r.fov=2*e.penumbraAngle,r.far=e.range,r.worldTransform.copy(e.worldTransform),r.updateProjectionMatrix(),Ar.invert(r.viewMatrix.array,r.worldTransform.array),r},dispose:function(e){var r=e.gl||e;for(var c in this._frameBuffer&&this._frameBuffer.dispose(r),this._textures)this._textures[c].dispose(r);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var f=0;f<this._receivers.length;f++){var p=this._receivers[f];if(p.material){var x=p.material;x.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),x.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),x.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),x.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});is.VSM=1,is.PCF=2;const o2=is;var kc=gn.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(e,r){var w,I,c=this.outputs[e],f=c.parameters,p=c._parametersCopy;if(p||(p=c._parametersCopy={}),f)for(var x in f)"width"!==x&&"height"!==x&&(p[x]=f[x]);return w=f.width instanceof Function?f.width.call(this,r):f.width,I=f.height instanceof Function?f.height.call(this,r):f.height,(p.width!==w||p.height!==I)&&this._outputTextures[e]&&this._outputTextures[e].dispose(r.gl),p.width=w,p.height=I,p},setParameter:function(e,r){},getParameter:function(e){},setParameters:function(e){for(var r in e)this.setParameter(r,e[r])},render:function(){},getOutput:function(e,r){if(null==r)return this._outputTextures[r=e];var c=this.outputs[r];return c?this._rendered?c.outputLastFrame?this._prevOutputTextures[r]:this._outputTextures[r]:this._rendering?(this._prevOutputTextures[r]||(this._prevOutputTextures[r]=this._compositor.allocateTexture(c.parameters||{})),this._prevOutputTextures[r]):(this.render(e),this._outputTextures[r]):void 0},removeReference:function(e){this._outputReferences[e]--,0===this._outputReferences[e]&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},link:function(e,r,c){this.inputLinks[e]={node:r,pin:c},r.outputLinks[c]||(r.outputLinks[c]=[]),r.outputLinks[c].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){for(var r in this._rendering=!0,this.inputLinks){var c=this.inputLinks[r];c.node.updateReference(c.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){for(var e in this._rendered=!1,this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks)this._outputReferences[e]>0&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))}});const as=kc;var Du=gn.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){"string"==typeof e&&(e=this.getNodeByName(e));var r=this.nodes.indexOf(e);r>=0&&(this.nodes.splice(r,1),this._dirty=!0)},getNodeByName:function(e){for(var r=0;r<this.nodes.length;r++)if(this.nodes[r].name===e)return this.nodes[r]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(e=0;e<this.nodes.length;e++){var r=this.nodes[e];if(r.inputs)for(var c in r.inputs)if(r.inputs[c]){if(r.pass&&!r.pass.material.isUniformEnabled(c)){console.warn("Pin "+r.name+"."+c+" not used.");continue}var f=r.inputs[c],p=this.findPin(f);p?r.link(c,p.node,p.pin):console.warn("string"==typeof f?"Node "+f+" not exist":"Pin of "+f.node+"."+f.pin+" not exist")}}},findPin:function(e){var r;if(("string"==typeof e||e instanceof as)&&(e={node:e}),"string"==typeof e.node)for(var c=0;c<this.nodes.length;c++){var f=this.nodes[c];f.name===e.node&&(r=f)}else r=e.node;if(r){var p=e.pin;if(p||r.outputs&&(p=Object.keys(r.outputs)[0]),r.outputs[p])return{node:r,pin:p}}}});const s2=Du;var x4=s2.extend(function(){return{_outputs:[],_texturePool:new tf,_frameBuffer:new Ni({depthBuffer:!1})}},{addNode:function(e){s2.prototype.addNode.call(this,e),e._compositor=this},render:function(e,r){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var c=0;c<this.nodes.length;c++)this.nodes[c].outputs||this._outputs.push(this.nodes[c])}for(c=0;c<this.nodes.length;c++)this.nodes[c].beforeFrame();for(c=0;c<this._outputs.length;c++)this._outputs[c].updateReference();for(c=0;c<this._outputs.length;c++)this._outputs[c].render(e,r);for(c=0;c<this.nodes.length;c++)this.nodes[c].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}});const l2=x4;var Eu=as.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new Ni},{render:function(e){this._rendering=!0;var c,r=e.gl;if(this.trigger("beforerender"),this.outputs){var f=this.frameBuffer;for(var p in this.outputs){var x=this.updateParameter(p,e),w=this.outputs[p],I=this._compositor.allocateTexture(x);this._outputTextures[p]=I,"string"==typeof(F=w.attachment||r.COLOR_ATTACHMENT0)&&(F=r[F]),f.attach(I,F)}f.bind(e);var $=e.getGLExtension("EXT_draw_buffers");if($){var ue=[];for(var F in this.outputs)(F=parseInt(F))>=r.COLOR_ATTACHMENT0&&F<=r.COLOR_ATTACHMENT0+8&&ue.push(F);$.drawBuffersEXT(ue)}e.saveClear(),e.clearBit=16640,c=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),f.unbind(e)}else c=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",c),this._rendering=!1,this._rendered=!0}});const b4=Eu,rf=as.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(e,r){return this.texture},beforeFrame:function(){},afterFrame:function(){}});var Au=as.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var e=new oo({fragment:this.shader});this.pass=e},{render:function(e,r){this.trigger("beforerender",e),this._rendering=!0;var c=e.gl;for(var f in this.inputLinks){var x=(p=this.inputLinks[f]).node.getOutput(e,p.pin);this.pass.setUniform(f,x)}if(this.outputs){this.pass.outputs={};var w={};for(var I in this.outputs){var F=this.updateParameter(I,e);isNaN(F.width)&&this.updateParameter(I,e);var $=this.outputs[I],ue=this._compositor.allocateTexture(F);this._outputTextures[I]=ue,"string"==typeof(Pe=$.attachment||c.COLOR_ATTACHMENT0)&&(Pe=c[Pe]),w[Pe]=ue}for(var Pe in this._compositor.getFrameBuffer().bind(e),w)this._compositor.getFrameBuffer().attach(w[Pe],Pe);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,r);for(var f in this.inputLinks){var p;(p=this.inputLinks[f]).node.removeReference(p.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e)},updateParameter:function(e,r){var w,I,c=this.outputs[e],f=c.parameters,p=c._parametersCopy;if(p||(p=c._parametersCopy={}),f)for(var x in f)"width"!==x&&"height"!==x&&(p[x]=f[x]);return w="function"==typeof f.width?f.width.call(this,r):f.width,I="function"==typeof f.height?f.height.call(this,r):f.height,w=Math.ceil(w),I=Math.ceil(I),(p.width!==w||p.height!==I)&&this._outputTextures[e]&&this._outputTextures[e].dispose(r),p.width=w,p.height=I,p},setParameter:function(e,r){this.pass.setUniform(e,r)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var r in e)this.setParameter(r,e[r])},define:function(e,r){this.pass.material.define("fragment",e,r)},undefine:function(e){this.pass.material.undefine("fragment",e)},removeReference:function(e){this._outputReferences[e]--,0===this._outputReferences[e]&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},clear:function(){as.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});const _l=Au,Od="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n",Pu="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end",xl="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",Lu="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n",Id="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end",Rd="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end",zu="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",Ho="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end",Nd="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end";!function(e){e.import("@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end"),e.import(Od),e.import("@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end"),e.import(Pu),e.import("@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end"),e.import(xl),e.import(Lu),e.import(Id),e.import(Rd),e.import(zu),e.import("@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end"),e.import(Ho),e.import(Nd)}(br);var u2=/^#source\((.*?)\)/;function Ou(e,r,c){var p,x,w,Pe,f=e.type||"filter";if("filter"===f){var I=e.shader.trim(),F=u2.exec(I);if(F?p=br.source(F[1].trim()):"#"===I.charAt(0)&&(p=r.shaders[I.substr(1)]),p||(p=I),!p)return}if(e.inputs)for(var $ in x={},e.inputs)x[$]="string"==typeof e.inputs[$]?e.inputs[$]:{node:e.inputs[$].node,pin:e.inputs[$].pin};if(e.outputs)for(var $ in w={},e.outputs){var ue=e.outputs[$];w[$]={},null!=ue.attachment&&(w[$].attachment=ue.attachment),null!=ue.keepLastFrame&&(w[$].keepLastFrame=ue.keepLastFrame),null!=ue.outputLastFrame&&(w[$].outputLastFrame=ue.outputLastFrame),ue.parameters&&(w[$].parameters=zh(ue.parameters))}if(Pe="scene"===f?new b4({name:e.name,scene:c.scene,camera:c.camera,outputs:w}):"texture"===f?new rf({name:e.name,outputs:w}):new _l({name:e.name,shader:p,inputs:x,outputs:w})){if(e.parameters)for(var $ in e.parameters)"string"==typeof(Ze=e.parameters[$])?"#"===(Ze=Ze.trim()).charAt(0)?Ze=r.textures[Ze.substr(1)]:Pe.on("beforerender",sf($,Iu(Ze))):"function"==typeof Ze&&Pe.on("beforerender",Ze),Pe.setParameter($,Ze);if(e.defines&&Pe.pass)for(var $ in e.defines){var Ze;Pe.pass.material.define("fragment",$,Ze=e.defines[$])}}return Pe}function kd(e,r){return e}function h2(e,r){return r}function zh(e){var r={};if(!e)return r;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(f){var p=e[f];null!=p&&("string"==typeof p&&(p=Kr[p]),r[f]=p)});var c=e.scale||1;return["width","height"].forEach(function(f){if(null!=e[f]){var p=e[f];"string"==typeof p?(p=p.trim(),r[f]=function(e,r,c){return c=c||1,function(f){var p=f.getDevicePixelRatio(),x=f.getWidth()*c,w=f.getHeight()*c;return r(x,w,p)}}(0,Iu(p),c)):r[f]=p}}),r.width||(r.width=kd),r.height||(r.height=h2),null!=e.useMipmap&&(r.useMipmap=e.useMipmap),r}function sf(e,r){return function(c){var f=c.getDevicePixelRatio(),p=c.getWidth(),x=c.getHeight(),w=r(p,x,f);this.setParameter(e,w)}}function Iu(e){var r=/^expr\((.*)\)$/.exec(e);if(r)try{var c=new Function("width","height","dpr","return "+r[1]);return c(1,1),c}catch(f){throw new Error("Invalid expression.")}}const lc=function(e,r){for(var c=0,f=1/r,p=e;p>0;)c+=f*(p%r),p=Math.floor(p/r),f/=r;return c};function hf(e){for(var r=new Uint8Array(e*e*4),c=0,f=new Tr,p=0;p<e;p++)for(var x=0;x<e;x++)f.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),r[c++]=255*(.5*f.x+.5),r[c++]=255*(.5*f.y+.5),r[c++]=0,r[c++]=255;return r}function Bd(e){return new Qr({pixels:hf(e),wrapS:Kr.REPEAT,wrapT:Kr.REPEAT,width:e,height:e})}function C4(e,r,c){var f=new Float32Array(3*e);r=r||0;for(var p=0;p<e;p++){var x=lc(p+r,2)*(c?1:2)*Math.PI,w=lc(p+r,3)*Math.PI,I=Math.random(),F=Math.cos(x)*Math.sin(w)*I,$=Math.cos(w)*I,ue=Math.sin(x)*Math.sin(w)*I;f[3*p]=F,f[3*p+1]=$,f[3*p+2]=ue}return f}function bl(e){e=e||{},this._ssaoPass=new oo({fragment:br.source("ecgl.ssao.estimate")}),this._blurPass=new oo({fragment:br.source("ecgl.ssao.blur")}),this._framebuffer=new Ni({depthBuffer:!1}),this._ssaoTexture=new Qr,this._blurTexture=new Qr,this._blurTexture2=new Qr,this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),null!=e.radius&&this.setParameter("radius",e.radius),null!=e.power&&this.setParameter("power",e.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}br.import("@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n"),bl.prototype.setDepthTexture=function(e){this._depthTex=e},bl.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},bl.prototype.update=function(e,r,c){var f=e.getWidth(),p=e.getHeight(),x=this._ssaoPass,w=this._blurPass;x.setUniform("kernel",this._kernels[c%this._kernels.length]),x.setUniform("depthTex",this._depthTex),null!=this._normalTex&&x.setUniform("normalTex",this._normalTex),x.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var I=new Er;Er.transpose(I,r.worldTransform),x.setUniform("projection",r.projectionMatrix.array),x.setUniform("projectionInv",r.invProjectionMatrix.array),x.setUniform("viewInverseTranspose",I.array);var F=this._ssaoTexture,$=this._blurTexture,ue=this._blurTexture2;F.width=f/2,F.height=p/2,$.width=f,$.height=p,ue.width=f,ue.height=p,this._framebuffer.attach(F),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),x.render(e),w.setUniform("textureSize",[f/2,p/2]),w.setUniform("projection",r.projectionMatrix.array),this._framebuffer.attach($),w.setUniform("direction",0),w.setUniform("ssaoTexture",F),w.render(e),this._framebuffer.attach(ue),w.setUniform("textureSize",[f,p]),w.setUniform("direction",1),w.setUniform("ssaoTexture",$),w.render(e),this._framebuffer.unbind(e);var Pe=e.clearColor;e.gl.clearColor(Pe[0],Pe[1],Pe[2],Pe[3])},bl.prototype.getTargetTexture=function(){return this._blurTexture2},bl.prototype.setParameter=function(e,r){"noiseTexSize"===e?this.setNoiseSize(r):"kernelSize"===e?this.setKernelSize(r):"intensity"===e?this._ssaoPass.material.set("intensity",r):this._ssaoPass.setUniform(e,r)},bl.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var r=0;r<30;r++)this._kernels[r]=C4(e,r*e,!!this._normalTex)},bl.prototype.setNoiseSize=function(e){var r=this._ssaoPass.getUniform("noiseTex");r?(r.data=hf(e),r.width=r.height=e,r.dirty()):(r=Bd(e),this._ssaoPass.setUniform("noiseTex",Bd(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e])},bl.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)};const f2=bl;function _s(e){e=e||{},this._ssrPass=new oo({fragment:br.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new oo({fragment:br.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new oo({fragment:br.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new oo({fragment:br.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",e.normalTexture),this._ssrPass.setUniform("gBufferTexture2",e.depthTexture),this._blurPass1.setUniform("gBufferTexture1",e.normalTexture),this._blurPass1.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.setUniform("gBufferTexture1",e.normalTexture),this._blurPass2.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new Qr({type:Kr.HALF_FLOAT}),this._texture2=new Qr({type:Kr.HALF_FLOAT}),this._texture3=new Qr({type:Kr.HALF_FLOAT}),this._prevTexture=new Qr({type:Kr.HALF_FLOAT}),this._currentTexture=new Qr({type:Kr.HALF_FLOAT}),this._frameBuffer=new Ni({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}br.import("@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end"),_s.prototype.setAmbientCubemap=function(e,r){this._ssrPass.material.set("specularCubemap",e),this._ssrPass.material.set("specularIntensity",r),this._ssrPass.material[e&&r?"enableTexture":"disableTexture"]("specularCubemap")},_s.prototype.update=function(e,r,c,f){var p=e.getWidth(),x=e.getHeight(),w=this._ssrTexture,I=this._texture2,F=this._texture3;w.width=this._prevTexture.width=this._currentTexture.width=p/this._downScale,w.height=this._prevTexture.height=this._currentTexture.height=x/this._downScale,I.width=F.width=p,I.height=F.height=x;var $=this._frameBuffer,ue=this._ssrPass,Pe=this._blurPass1,Ze=this._blurPass2,Ge=this._blendPass,at=new Er,st=new Er;if(Er.transpose(at,r.worldTransform),Er.transpose(st,r.viewMatrix),ue.setUniform("sourceTexture",c),ue.setUniform("projection",r.projectionMatrix.array),ue.setUniform("projectionInv",r.invProjectionMatrix.array),ue.setUniform("toViewSpace",at.array),ue.setUniform("toWorldSpace",st.array),ue.setUniform("nearZ",r.near),ue.setUniform("jitterOffset",f/this._totalSamples*this._samplePerFrame),ue.setUniform("sampleOffset",f*this._samplePerFrame),Pe.setUniform("textureSize",[w.width,w.height]),Ze.setUniform("textureSize",[p,x]),Ze.setUniform("sourceTexture",c),Pe.setUniform("projection",r.projectionMatrix.array),Ze.setUniform("projection",r.projectionMatrix.array),$.attach(w),$.bind(e),ue.render(e),this._physicallyCorrect&&($.attach(this._currentTexture),Ge.setUniform("texture1",this._prevTexture),Ge.setUniform("texture2",w),Ge.material.set({weight1:f>=1?.95:0,weight2:f>=1?.05:1}),Ge.render(e)),$.attach(I),Pe.setUniform("texture",this._physicallyCorrect?this._currentTexture:w),Pe.render(e),$.attach(F),Ze.setUniform("texture",I),Ze.render(e),$.unbind(e),this._physicallyCorrect){var Bt=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=Bt}},_s.prototype.getTargetTexture=function(){return this._texture3},_s.prototype.setParameter=function(e,r){"maxIteration"===e?this._ssrPass.material.define("fragment","MAX_ITERATION",r):this._ssrPass.setUniform(e,r)},_s.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=pd.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=e},_s.prototype.setSSAOTexture=function(e){var r=this._blurPass2;e?(r.material.enableTexture("ssaoTex"),r.material.set("ssaoTex",e)):r.material.disableTexture("ssaoTex")},_s.prototype.isFinished=function(e){return!this._physicallyCorrect||e>this._totalSamples/this._samplePerFrame},_s.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)};const p2=_s,df=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925];function Ru(e,r,c,f,p){var x=e.gl;r.setUniform(x,"1i",c,p),x.activeTexture(x.TEXTURE0+p),f.isRenderable()?f.bind(e):f.unbind(e)}function M4(e,r,c,f,p){var x,w,I,F,$=e.gl;return function(ue,Pe,Ze){if(!F||F.material!==ue.material){var Ge=ue.material,at=ue.__program,st=Ge.get("roughness");null==st&&(st=1);var Nt=Ge.get("normalMap")||r,Bt=Ge.get("roughnessMap"),an=Ge.get("bumpMap"),nn=Ge.get("uvRepeat"),en=Ge.get("uvOffset"),Tn=Ge.get("detailUvRepeat"),wn=Ge.get("detailUvOffset"),Zn=!!an&&Ge.isTextureEnabled("bumpMap"),Yn=!!Bt&&Ge.isTextureEnabled("roughnessMap"),nr=Ge.isDefined("fragment","DOUBLE_SIDED");an=an||c,Bt=Bt||f,Ze!==Pe?(Pe.set("normalMap",Nt),Pe.set("bumpMap",an),Pe.set("roughnessMap",Bt),Pe.set("useBumpMap",Zn),Pe.set("useRoughnessMap",Yn),Pe.set("doubleSide",nr),null!=nn&&Pe.set("uvRepeat",nn),null!=en&&Pe.set("uvOffset",en),null!=Tn&&Pe.set("detailUvRepeat",Tn),null!=wn&&Pe.set("detailUvOffset",wn),Pe.set("roughness",st)):(at.setUniform($,"1f","roughness",st),x!==Nt&&Ru(e,at,"normalMap",Nt,0),w!==an&&an&&Ru(e,at,"bumpMap",an,1),I!==Bt&&Bt&&Ru(e,at,"roughnessMap",Bt,2),null!=nn&&at.setUniform($,"2f","uvRepeat",nn),null!=en&&at.setUniform($,"2f","uvOffset",en),null!=Tn&&at.setUniform($,"2f","detailUvRepeat",Tn),null!=wn&&at.setUniform($,"2f","detailUvOffset",wn),at.setUniform($,"1i","useBumpMap",+Zn),at.setUniform($,"1i","useRoughnessMap",+Yn),at.setUniform($,"1i","doubleSide",+nr)),x=Nt,w=an,I=Bt,F=ue}}}function cc(e){e=e||{},this._depthTex=new Qr({format:Kr.DEPTH_COMPONENT,type:Kr.UNSIGNED_INT}),this._normalTex=new Qr({type:Kr.HALF_FLOAT}),this._framebuffer=new Ni,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,Ni.DEPTH_ATTACHMENT),this._normalMaterial=new Xn({shader:new br(br.source("ecgl.normal.vertex"),br.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=Vo.createBlank("#000"),this._defaultBumpMap=Vo.createBlank("#000"),this._defaultRoughessMap=Vo.createBlank("#000"),this._debugPass=new oo({fragment:br.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}br.import("@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end"),cc.prototype.getDepthTexture=function(){return this._depthTex},cc.prototype.getNormalTexture=function(){return this._normalTex},cc.prototype.update=function(e,r,c){var f=e.getWidth(),p=e.getHeight(),x=this._depthTex,w=this._normalTex,I=this._normalMaterial;x.width=f,x.height=p,w.width=f,w.height=p;var F=r.getRenderList(c).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(F,c,{getMaterial:function(){return I},ifRender:function($){return $.renderNormal},beforeRender:M4(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)},cc.prototype.renderDebug=function(e){this._debugPass.render(e)},cc.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)};const ff=cc;function Nu(e){e=e||{},this._edgePass=new oo({fragment:br.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",e.normalTexture),this._edgePass.setUniform("depthTexture",e.depthTexture),this._targetTexture=new Qr({type:Kr.HALF_FLOAT}),this._frameBuffer=new Ni,this._frameBuffer.attach(this._targetTexture)}Nu.prototype.update=function(e,r,c,f){var p=e.getWidth(),x=e.getHeight(),w=this._targetTexture;w.width=p,w.height=x;var I=this._frameBuffer;I.bind(e),this._edgePass.setUniform("projectionInv",r.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[p,x]),this._edgePass.setUniform("texture",c),this._edgePass.render(e),I.unbind(e)},Nu.prototype.getTargetTexture=function(){return this._targetTexture},Nu.prototype.setParameter=function(e,r){this._edgePass.setUniform(e,r)},Nu.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)};const vf=Nu,m2={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]};function Oh(e,r){return{color:{parameters:{width:e,height:r}}}}br.import(Od),br.import(Pu),br.import(xl),br.import(Lu),br.import(Id),br.import(Rd),br.import(zu),br.import(Ho),br.import(Nd),br.import("@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end"),br.import("@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end");var uc=["composite","FXAA"];function ca(){this._sourceTexture=new Qr({type:Kr.HALF_FLOAT}),this._depthTexture=new Qr({format:Kr.DEPTH_COMPONENT,type:Kr.UNSIGNED_INT}),this._framebuffer=new Ni,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,Ni.DEPTH_ATTACHMENT),this._normalPass=new ff,this._compositor=function(e,r){var c=new l2;r=r||{};var f={textures:{},parameters:{}};for(var x in e.parameters)f.parameters[x]=zh(e.parameters[x]);return function(e,r,c,f){if(e.textures){var p={},x=0,w=!1,I=c.textureRootPath;Wt.each(e.textures,function(F,$){var ue,Pe=F.path,Ze=zh(F.parameters);if(Array.isArray(Pe)&&6===Pe.length)I&&(Pe=Pe.map(function(Ge){return Wt.relative2absolute(Ge,I)})),ue=new wr(Ze);else{if("string"!=typeof Pe)return;I&&(Pe=Wt.relative2absolute(Pe,I)),ue=new Qr(Ze)}ue.load(Pe),x++,ue.once("success",function(){p[$]=ue,0==--x&&(f(p),w=!0)})}),0===x&&!w&&f(p)}else f({})}(e,0,r,function(I){f.textures=I,function(I,F){for(var $=0;$<e.nodes.length;$++){var Pe=Ou(e.nodes[$],f,r);Pe&&c.addNode(Pe)}}()}),c}(m2);var e=this._compositor.getNodeByName("source");e.texture=this._sourceTexture;var r=this._compositor.getNodeByName("coc");this._sourceNode=e,this._cocNode=r,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(f){return this._compositor.getNodeByName(f)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=uc.map(function(f){return this._compositor.getNodeByName(f)},this);var c={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new f2(c),this._ssrPass=new p2(c),this._edgePass=new vf(c)}ca.prototype.resize=function(e,r,c){r*=c=c||1;var f=this._sourceTexture,p=this._depthTexture;f.width=e*=c,f.height=r,p.width=e,p.height=r;var x={getWidth:function(){return e},getHeight:function(){return r},getDevicePixelRatio:function(){return c}};function w(I,F){if("function"==typeof I[F]){var $=I[F].__original||I[F];I[F]=function(ue){return $.call(this,x)},I[F].__original=$}}this._compositor.nodes.forEach(function(I){for(var F in I.outputs){var $=I.outputs[F].parameters;$&&(w($,"width"),w($,"height"))}for(var ue in I.parameters)w(I.parameters,ue)}),this._width=e,this._height=r,this._dpr=c},ca.prototype.getWidth=function(){return this._width},ca.prototype.getHeight=function(){return this._height},ca.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},ca.prototype._getPrevNode=function(e){for(var r=uc.indexOf(e.name)-1,c=this._finalNodesChain[r];c&&!this._compositor.getNodeByName(c.name);)c=this._finalNodesChain[r-=1];return c},ca.prototype._getNextNode=function(e){for(var r=uc.indexOf(e.name)+1,c=this._finalNodesChain[r];c&&!this._compositor.getNodeByName(c.name);)c=this._finalNodesChain[r+=1];return c},ca.prototype._addChainNode=function(e){var r=this._getPrevNode(e),c=this._getNextNode(e);!r||(e.inputs.texture=r.name,c?(e.outputs=Oh(this.getWidth.bind(this),this.getHeight.bind(this)),c.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))},ca.prototype._removeChainNode=function(e){var r=this._getPrevNode(e),c=this._getNextNode(e);!r||(c?(r.outputs=Oh(this.getWidth.bind(this),this.getHeight.bind(this)),c.inputs.texture=r.name):r.outputs=null,this._compositor.removeNode(e))},ca.prototype.updateNormal=function(e,r,c,f){this._ifRenderNormalPass()&&this._normalPass.update(e,r,c)},ca.prototype.updateSSAO=function(e,r,c,f){this._ssaoPass.update(e,c,f)},ca.prototype.enableSSAO=function(){this._enableSSAO=!0},ca.prototype.disableSSAO=function(){this._enableSSAO=!1},ca.prototype.enableSSR=function(){this._enableSSR=!0},ca.prototype.disableSSR=function(){this._enableSSR=!1},ca.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},ca.prototype.getSourceFrameBuffer=function(){return this._framebuffer},ca.prototype.getSourceTexture=function(){return this._sourceTexture},ca.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},ca.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},ca.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},ca.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},ca.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},ca.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},ca.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},ca.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},ca.prototype.enableEdge=function(){this._enableEdge=!0},ca.prototype.disableEdge=function(){this._enableEdge=!1},ca.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e)},ca.prototype.setSSAOParameter=function(e,r){switch(e){case"quality":this._ssaoPass.setParameter("kernelSize",{low:6,medium:12,high:32,ultra:62}[r]||12);break;case"radius":this._ssaoPass.setParameter(e,r),this._ssaoPass.setParameter("bias",r/200);break;case"intensity":this._ssaoPass.setParameter(e,r)}},ca.prototype.setDOFParameter=function(e,r){switch(e){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(e,r);break;case"blurRadius":for(var c=0;c<this._dofBlurNodes.length;c++)this._dofBlurNodes[c].setParameter("blurRadius",r);break;case"quality":var f={low:4,medium:8,high:16,ultra:32}[r]||8;for(this._dofBlurKernelSize=f,c=0;c<this._dofBlurNodes.length;c++)this._dofBlurNodes[c].pass.material.define("POISSON_KERNEL_SIZE",f);this._dofBlurKernel=new Float32Array(2*f)}},ca.prototype.setSSRParameter=function(e,r){if(null!=r)switch(e){case"quality":var f={low:32,medium:16,high:8,ultra:4}[r]||16;this._ssrPass.setParameter("maxIteration",{low:10,medium:15,high:30,ultra:80}[r]||20),this._ssrPass.setParameter("pixelStride",f);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-r,1),0));break;case"physical":this.setPhysicallyCorrectSSR(r);break;default:console.warn("Unkown SSR parameter "+e)}},ca.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)},ca.prototype.setEdgeColor=function(e){var r=dn.parseColor(e);this._edgePass.setParameter("edgeColor",r)},ca.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e))},ca.prototype.setColorLookupTexture=function(e,r){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",r,{minFilter:dn.Texture.NEAREST,magFilter:dn.Texture.NEAREST,flipY:!1})},ca.prototype.setColorCorrection=function(e,r){this._compositeNode.setParameter(e,r)},ca.prototype.isSSREnabled=function(){return this._enableSSR},ca.prototype.composite=function(e,r,c,f,p){var x=this._sourceTexture,w=x;this._enableEdge&&(this._edgePass.update(e,c,x,p),x=w=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,c,x,p),w=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=w,this._cocNode.setParameter("depth",this._depthTexture);for(var I=this._dofBlurKernel,F=this._dofBlurKernelSize,ue=p%Math.floor(df.length/2/F),Pe=0;Pe<2*F;Pe++)I[Pe]=df[Pe+ue*F*2];for(Pe=0;Pe<this._dofBlurNodes.length;Pe++)this._dofBlurNodes[Pe].setParameter("percent",p/30),this._dofBlurNodes[Pe].setParameter("poissonKernel",I);this._cocNode.setParameter("zNear",c.near),this._cocNode.setParameter("zFar",c.far),this._compositor.render(e,f)},ca.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)};const Vc=ca;function hc(e){for(var r=[],c=0;c<30;c++)r.push([lc(c,2),lc(c,3)]);this._haltonSequence=r,this._frame=0,this._sourceTex=new Qr,this._sourceFb=new Ni,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new Qr,this._outputTex=new Qr;var f=this._blendPass=new oo({fragment:br.source("clay.compositor.blend")});f.material.disableTexturesAll(),f.material.enableTexture(["texture1","texture2"]),this._blendFb=new Ni({depthBuffer:!1}),this._outputPass=new oo({fragment:br.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(p){p.blendEquationSeparate(p.FUNC_ADD,p.FUNC_ADD),p.blendFuncSeparate(p.ONE,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA)}}hc.prototype={constructor:hc,jitterProjection:function(e,r){var c=e.viewport,f=c.devicePixelRatio||e.getDevicePixelRatio(),p=c.width*f,x=c.height*f,w=this._haltonSequence[this._frame%this._haltonSequence.length],I=new Er;I.array[12]=(2*w[0]-1)/p,I.array[13]=(2*w[1]-1)/x,Er.mul(r.projectionMatrix,I,r.projectionMatrix),Er.invert(r.invProjectionMatrix,r.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,r){this._prevFrameTex.width=e,this._prevFrameTex.height=r,this._outputTex.width=e,this._outputTex.height=r,this._sourceTex.width=e,this._sourceTex.height=r,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,r,c){var f=this._blendPass;0===this._frame?(f.setUniform("weight1",0),f.setUniform("weight2",1)):(f.setUniform("weight1",.9),f.setUniform("weight2",.1)),f.setUniform("texture1",this._prevFrameTex),f.setUniform("texture2",r||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),f.render(e),this._blendFb.unbind(e),c||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e));var p=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=p,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}};const w4=hc;function eo(e){e=e||"perspective",this.layer=null,this.scene=new qt,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new Vc,this._temporalSS=new w4,this._shadowMapPass=new o2;for(var r=[],c=0,f=0;f<30;f++){for(var p=[],x=0;x<6;x++)p.push(4*lc(c,2)-2),p.push(4*lc(c,3)-2),c++;r.push(p)}this._pcfKernels=r,this.scene.on("beforerender",function(w,I,F){this.needsTemporalSS()&&this._temporalSS.jitterProjection(w,F)},this)}eo.prototype.setProjection=function(e){var r=this.camera;r&&r.update(),"perspective"===e?this.camera instanceof Mr||(this.camera=new Mr,r&&this.camera.setLocalTransform(r.localTransform)):this.camera instanceof Lc||(this.camera=new Lc,r&&this.camera.setLocalTransform(r.localTransform)),this.camera.near=.1,this.camera.far=2e3},eo.prototype.setViewport=function(e,r,c,f,p){this.camera instanceof Mr&&(this.camera.aspect=c/f),p=p||1,this.viewport.x=e,this.viewport.y=r,this.viewport.width=c,this.viewport.height=f,this.viewport.devicePixelRatio=p,this._compositor.resize(c*p,f*p),this._temporalSS.resize(c*p,f*p)},eo.prototype.containPoint=function(e,r){var c=this.viewport;return r=this.layer.renderer.getHeight()-r,e>=c.x&&r>=c.y&&e<=c.x+c.width&&r<=c.y+c.height};var Hd=new Zr;eo.prototype.castRay=function(e,r,c){var f=this.layer.renderer,p=f.viewport;return f.viewport=this.viewport,f.screenToNDC(e,r,Hd),this.camera.castRay(Hd,c),f.viewport=p,c},eo.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var r=0;r<e.transparent.length;r++){var f=e.transparent[r].geometry;f.needsSortVerticesProgressively&&f.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),f.needsSortTrianglesProgressively&&f.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},eo.prototype.render=function(e,r){this._doRender(e,r,this._frame),this._frame++},eo.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},eo.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return"auto"===e&&(e=this._enablePostEffect),e},eo.prototype.hasDOF=function(){return this._enableDOF},eo.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},eo.prototype._doRender=function(e,r,c){var f=this.scene,p=this.camera;this._updateTransparent(e,f,p,c=c||0),r||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,f,p,!0)),this._updateShadowPCFKernel(c);var x=e.clearColor;if(e.gl.clearColor(x[0],x[1],x[2],x[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,p),this._compositor.updateNormal(e,f,p,this._temporalSS.getFrame())),this._updateSSAO(e,f,p,this._temporalSS.getFrame()),this._enablePostEffect)(w=this._compositor.getSourceFrameBuffer()).bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(f,p,!0,!0),w.unbind(e),this.needsTemporalSS()&&r?(this._compositor.composite(e,f,p,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,f,p,null,0));else if(this.needsTemporalSS()&&r){var w;(w=this._temporalSS.getSourceFrameBuffer()).bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(f,p,!0,!0),e.restoreClear(),w.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)}else e.setViewport(this.viewport),e.render(f,p,!0,!0)},eo.prototype._updateTransparent=function(e,r,c,f){for(var p=new Tr,x=new Er,w=c.getWorldPosition(),I=r.getRenderList(c).transparent,F=0;F<I.length;F++){var $=I[F],ue=$.geometry;Er.invert(x,$.worldTransform),Tr.transformMat4(p,w,x),ue.needsSortTriangles&&ue.needsSortTriangles()&&ue.doSortTriangles(p,f),ue.needsSortVertices&&ue.needsSortVertices()&&ue.doSortVertices(p,f)}},eo.prototype._updateSSAO=function(e,r,c){var f=this._enableSSAO&&this._enablePostEffect;f&&this._compositor.updateSSAO(e,r,c,this._temporalSS.getFrame());for(var p=r.getRenderList(c),x=0;x<p.opaque.length;x++){var w=p.opaque[x];w.renderNormal&&w.material[f?"enableTexture":"disableTexture"]("ssaoMap"),f&&w.material.set("ssaoMap",this._compositor.getSSAOTexture())}},eo.prototype._updateShadowPCFKernel=function(e){for(var r=this._pcfKernels[e%this._pcfKernels.length],f=this.scene.getRenderList(this.camera).opaque,p=0;p<f.length;p++)f[p].receiveShadow&&(f[p].material.set("pcfKernel",r),f[p].material.define("fragment","PCF_KERNEL_SIZE",r.length/2))},eo.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)},eo.prototype.setPostEffect=function(e,r){var c=this._compositor;this._enablePostEffect=e.get("enable");var f=e.getModel("bloom"),p=e.getModel("edge"),x=e.getModel("DOF",e.getModel("depthOfField")),w=e.getModel("SSAO",e.getModel("screenSpaceAmbientOcclusion")),I=e.getModel("SSR",e.getModel("screenSpaceReflection")),F=e.getModel("FXAA"),$=e.getModel("colorCorrection");f.get("enable")?c.enableBloom():c.disableBloom(),x.get("enable")?c.enableDOF():c.disableDOF(),I.get("enable")?c.enableSSR():c.disableSSR(),$.get("enable")?c.enableColorCorrection():c.disableColorCorrection(),p.get("enable")?c.enableEdge():c.disableEdge(),F.get("enable")?c.enableFXAA():c.disableFXAA(),this._enableDOF=x.get("enable"),this._enableSSAO=w.get("enable"),this._enableSSAO?c.enableSSAO():c.disableSSAO(),c.setBloomIntensity(f.get("intensity")),c.setEdgeColor(p.get("color")),c.setColorLookupTexture($.get("lookupTexture"),r),c.setExposure($.get("exposure")),["radius","quality","intensity"].forEach(function(ue){c.setSSAOParameter(ue,w.get(ue))}),["quality","maxRoughness","physical"].forEach(function(ue){c.setSSRParameter(ue,I.get(ue))}),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach(function(ue){c.setDOFParameter(ue,x.get(ue))}),["brightness","contrast","saturation"].forEach(function(ue){c.setColorCorrection(ue,$.get(ue))})},eo.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect)return e>this.camera.far||e<this.camera.near?void 0:(this._compositor.setDOFParameter("focalDistance",e),!0)},eo.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable")},eo.prototype.isLinearSpace=function(){return this._enablePostEffect},eo.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var r=this.rootNode.children(),c=0;c<r.length;c++)e.add(r[c]);e!==this.scene&&this.scene.add(e),this.rootNode=e}},eo.prototype.add=function(e){this.rootNode.add(e)},eo.prototype.remove=function(e){this.rootNode.remove(e)},eo.prototype.removeAll=function(e){this.rootNode.removeAll(e)},Object.assign(eo.prototype,et);const dc=eo;function y2(e,r){var c=e.getBoxLayoutParams(),f=(0,Mu.ME)(c,{width:r.getWidth(),height:r.getHeight()});f.y=r.getHeight()-f.y-f.height,this.viewGL.setViewport(f.x,f.y,f.width,f.height,r.getDevicePixelRatio());var p=e.get("boxWidth"),x=e.get("boxHeight"),w=e.get("boxDepth");this.getAxis("x").setExtent(-p/2,p/2),this.getAxis("y").setExtent(w/2,-w/2),this.getAxis("z").setExtent(-x/2,x/2),this.size=[p,x,w]}function Ih(e,r){var c={};e.eachSeries(function(p){if(p.coordinateSystem===this){var x=p.getData();["x","y","z"].forEach(function(w){x.mapDimensionsAll(w,!0).forEach(function(I){!function(p,x){c[p]=c[p]||[1/0,-1/0],c[p][0]=Math.min(x[0],c[p][0]),c[p][1]=Math.max(x[1],c[p][1])}(w,x.getDataExtent(I,!0))})})}},this),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(p){e.eachComponent(p,function(x){var w=p.charAt(0),I=x.getReferringComponents("grid3D").models[0],F=I.coordinateSystem;if(F===this){var $=F.getAxis(w);if(!$){var ue=P._y.createScale(c[w]||[1/0,-1/0],x);($=new t2(w,ue)).type=x.get("type"),$.onBand="category"===$.type&&x.get("boundaryGap"),$.inverse=x.get("inverse"),x.axis=$,$.model=x,$.getLabelModel=function(){return x.getModel("axisLabel",I.getModel("axisLabel"))},$.getTickModel=function(){return x.getModel("axisTick",I.getModel("axisTick"))},F.addAxis($)}}},this)},this),this.resize(this.model,r)}var pf={dimensions:q1.prototype.dimensions,create:function(e,r){var c=[];e.eachComponent("grid3D",function(x){x.__viewGL=x.__viewGL||new dc;var w=new q1;w.model=x,w.viewGL=x.__viewGL,x.coordinateSystem=w,c.push(w),w.resize=y2,w.update=Ih});var f=["xAxis3D","yAxis3D","zAxis3D"];return e.eachSeries(function(x){if("cartesian3D"===x.get("coordinateSystem")){if(null==(w=x.getReferringComponents("grid3D").models[0])){var I=function(x,w){return f.map(function(I){var F=x.getReferringComponents(I).models[0];return null==F&&(F=w.getComponent(I)),F})}(x,e),w=I[0].getCoordSysModel();I.forEach(function(ue){ue.getCoordSysModel()})}x.coordinateSystem=w.coordinateSystem}}),c}};const D4=pf;var gf=P.tF.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});P._y.mixinAxisModelCommonMethods(gf);const Rh=gf;var Hc={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},_2=P.D5.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},Hc),Nh=P.D5.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},Hc),qs=P.D5.defaults({scale:!0,min:"dataMin",max:"dataMax"},Nh),x2=P.D5.defaults({logBase:10},Nh);x2.scale=!0;const mf={categoryAxis3D:_2,valueAxis3D:Nh,timeAxis3D:qs,logAxis3D:x2};var Fu=E(6888),E4=["value","category","time","log"];function P4(e,r){return r.type||(r.data?"category":"value")}(0,P.D$)(function(e){e.registerComponentModel(mu),e.registerComponentView(_4),e.registerCoordinateSystem("grid3D",D4),["x","y","z"].forEach(function(r){!function(e,r,c,f,p){E4.forEach(function(x){var w=c.extend({type:r+"Axis3D."+x,__ordinalMeta:null,mergeDefaultAndTheme:function(I,F){var $=F.getTheme();P.D5.merge(I,$.get(x+"Axis3D")),P.D5.merge(I,this.getDefaultOption()),I.type=f(r,I)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Fu.Z.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:P.D5.merge(P.D5.clone(mf[x+"Axis3D"]),p||{},!0)});e.registerComponentModel(w)}),e.registerSubTypeDefaulter(r+"Axis3D",P.D5.curry(f,r))}(e,r,Rh,P4,{name:r.toUpperCase()});const c=e.ComponentView.extend({type:r+"Axis3D"});e.registerComponentView(c)}),e.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(r,c){c.eachComponent({mainType:"grid3D",query:r},function(f){f.setView(r)})}),e.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(r,c){}),e.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(r,c){})});const Uc={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},Ud={getFilledRegions:function(e,r){var f,c=(e||[]).slice();if("string"==typeof r?f=(r=P.FU(r))&&r.geoJson:r&&r.features&&(f=r),!f)return[];for(var p={},x=f.features,w=0;w<c.length;w++)p[c[w].name]=c[w];for(w=0;w<x.length;w++){var I=x[w].properties.name;p[I]||c.push({name:I})}return c},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}};var Yc=P.tF.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var r=P._y.createDimensions(e.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),c=new P.aV(r,this);c.initData(e.regions);var f={};c.each(function(p){var x=c.getName(p),w=c.getItemModel(p);f[x]=w}),this._regionModelMap=f,this._data=c},getData:function(){return this._data},getRegionModel:function(e){var r=this.getData().getName(e);return this._regionModelMap[r]||new P.Hn(null,this)},getRegionPolygonCoords:function(e){var r=this.getData().getName(e),c=this.coordinateSystem.getRegion(r);return c?c.geometries:[]},getFormattedLabel:function(e,r){var c=this._data.getName(e),f=this.getRegionModel(e),p=f.get("normal"===r?["label","formatter"]:["emphasis","label","formatter"]);null==p&&(p=f.get(["label","formatter"]));var x={name:c};if("function"==typeof p)return x.status=r,p(x);if("string"==typeof p){var w=x.seriesName;return p.replace("{a}",null!=w?w:"")}return c},defaultOption:{regions:[]}});P.D5.merge(Yc.prototype,Ud),P.D5.merge(Yc.prototype,Ic),P.D5.merge(Yc.prototype,Th),P.D5.merge(Yc.prototype,Ch),P.D5.merge(Yc.prototype,Uc);const aa=Yc,Yd=yf;function yf(e,r,c){c=c||2;var I,F,$,ue,Pe,Ze,Ge,f=r&&r.length,p=f?r[0]*c:e.length,x=Fh(e,0,p,c,!0),w=[];if(!x)return w;if(f&&(x=function(e,r,c,f){var x,w,$,p=[];for(x=0,w=r.length;x<w;x++)($=Fh(e,r[x]*f,x<w-1?r[x+1]*f:e.length,f,!1))===$.next&&($.steiner=!0),p.push(ku($));for(p.sort(bf),x=0;x<p.length;x++)R3(p[x],c),c=Qo(c,c.next);return c}(e,r,x,c)),e.length>80*c){I=$=e[0],F=ue=e[1];for(var at=c;at<p;at+=c)(Pe=e[at])<I&&(I=Pe),(Ze=e[at+1])<F&&(F=Ze),Pe>$&&($=Pe),Ze>ue&&(ue=Ze);Ge=Math.max($-I,ue-F)}return Gc(x,w,c,I,F,Ge),w}function Fh(e,r,c,f,p){var x,w;if(p===Zd(e,r,c,f)>0)for(x=r;x<c;x+=f)w=w2(x,e[x],e[x+1],w);else for(x=c-f;x>=r;x-=f)w=w2(x,e[x],e[x+1],w);return w&&Sl(w,w.next)&&(Wc(w),w=w.next),w}function Qo(e,r){if(!e)return e;r||(r=e);var f,c=e;do{if(f=!1,c.steiner||!Sl(c,c.next)&&0!==Lo(c.prev,c,c.next))c=c.next;else{if(Wc(c),(c=r=c.prev)===c.next)return null;f=!0}}while(f||c!==r);return r}function Gc(e,r,c,f,p,x,w){if(e){!w&&x&&function(e,r,c,f){var p=e;do{null===p.z&&(p.z=fc(p.x,p.y,r,c,f)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==e);p.prevZ.nextZ=null,p.prevZ=null,function(e){var r,c,f,p,x,w,I,F,$=1;do{for(c=e,e=null,x=null,w=0;c;){for(w++,f=c,I=0,r=0;r<$&&(I++,f=f.nextZ);r++);for(F=$;I>0||F>0&&f;)0!==I&&(0===F||!f||c.z<=f.z)?(p=c,c=c.nextZ,I--):(p=f,f=f.nextZ,F--),x?x.nextZ=p:e=p,p.prevZ=x,x=p;c=f}x.nextZ=null,$*=2}while(w>1)}(p)}(e,f,p,x);for(var F,$,I=e;e.prev!==e.next;)if(F=e.prev,$=e.next,x?_f(e,f,p,x):S2(e))r.push(F.i/c),r.push(e.i/c),r.push($.i/c),Wc(e),e=$.next,I=$.next;else if((e=$)===I){w?1===w?Gc(e=sl(e,r,c),r,c,f,p,x,2):2===w&&xf(e,r,c,f,p,x):Gc(Qo(e),r,c,f,p,x,1);break}}}function S2(e){var r=e.prev,c=e,f=e.next;if(Lo(r,c,f)>=0)return!1;for(var p=e.next.next;p!==e.prev;){if(vc(r.x,r.y,c.x,c.y,f.x,f.y,p.x,p.y)&&Lo(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function _f(e,r,c,f){var p=e.prev,x=e,w=e.next;if(Lo(p,x,w)>=0)return!1;for(var $=p.x>x.x?p.x>w.x?p.x:w.x:x.x>w.x?x.x:w.x,ue=p.y>x.y?p.y>w.y?p.y:w.y:x.y>w.y?x.y:w.y,Pe=fc(p.x<x.x?p.x<w.x?p.x:w.x:x.x<w.x?x.x:w.x,p.y<x.y?p.y<w.y?p.y:w.y:x.y<w.y?x.y:w.y,r,c,f),Ze=fc($,ue,r,c,f),Ge=e.nextZ;Ge&&Ge.z<=Ze;){if(Ge!==e.prev&&Ge!==e.next&&vc(p.x,p.y,x.x,x.y,w.x,w.y,Ge.x,Ge.y)&&Lo(Ge.prev,Ge,Ge.next)>=0)return!1;Ge=Ge.nextZ}for(Ge=e.prevZ;Ge&&Ge.z>=Pe;){if(Ge!==e.prev&&Ge!==e.next&&vc(p.x,p.y,x.x,x.y,w.x,w.y,Ge.x,Ge.y)&&Lo(Ge.prev,Ge,Ge.next)>=0)return!1;Ge=Ge.prevZ}return!0}function sl(e,r,c){var f=e;do{var p=f.prev,x=f.next.next;!Sl(p,x)&&C2(p,f,f.next,x)&&Bu(p,x)&&Bu(x,p)&&(r.push(p.i/c),r.push(f.i/c),r.push(x.i/c),Wc(f),Wc(f.next),f=e=x),f=f.next}while(f!==e);return f}function xf(e,r,c,f,p,x){var w=e;do{for(var I=w.next.next;I!==w.prev;){if(w.i!==I.i&&T2(w,I)){var F=Cf(w,I);return w=Qo(w,w.next),F=Qo(F,F.next),Gc(w,r,c,f,p,x),void Gc(F,r,c,f,p,x)}I=I.next}w=w.next}while(w!==e)}function bf(e,r){return e.x-r.x}function R3(e,r){if(r=function(e,r){var w,c=r,f=e.x,p=e.y,x=-1/0;do{if(p<=c.y&&p>=c.next.y&&c.next.y!==c.y){var I=c.x+(p-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(I<=f&&I>x){if(x=I,I===f){if(p===c.y)return c;if(p===c.next.y)return c.next}w=c.x<c.next.x?c:c.next}}c=c.next}while(c!==r);if(!w)return null;if(f===x)return w.prev;var Ze,F=w,$=w.x,ue=w.y,Pe=1/0;for(c=w.next;c!==F;)f>=c.x&&c.x>=$&&f!==c.x&&vc(p<ue?f:x,p,$,ue,p<ue?x:f,p,c.x,c.y)&&((Ze=Math.abs(p-c.y)/(f-c.x))<Pe||Ze===Pe&&c.x>w.x)&&Bu(c,e)&&(w=c,Pe=Ze),c=c.next;return w}(e,r),r){var c=Cf(r,e);Qo(c,c.next)}}function fc(e,r,c,f,p){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-c)/p)|e<<8))|e<<4))|e<<2))|e<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-f)/p)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function ku(e){var r=e,c=e;do{r.x<c.x&&(c=r),r=r.next}while(r!==e);return c}function vc(e,r,c,f,p,x,w,I){return(p-w)*(r-I)-(e-w)*(x-I)>=0&&(e-w)*(f-I)-(c-w)*(r-I)>=0&&(c-w)*(x-I)-(p-w)*(f-I)>=0}function T2(e,r){return e.next.i!==r.i&&e.prev.i!==r.i&&!function(e,r){var c=e;do{if(c.i!==e.i&&c.next.i!==e.i&&c.i!==r.i&&c.next.i!==r.i&&C2(c,c.next,e,r))return!0;c=c.next}while(c!==e);return!1}(e,r)&&Bu(e,r)&&Bu(r,e)&&function(e,r){var c=e,f=!1,p=(e.x+r.x)/2,x=(e.y+r.y)/2;do{c.y>x!=c.next.y>x&&c.next.y!==c.y&&p<(c.next.x-c.x)*(x-c.y)/(c.next.y-c.y)+c.x&&(f=!f),c=c.next}while(c!==e);return f}(e,r)}function Lo(e,r,c){return(r.y-e.y)*(c.x-r.x)-(r.x-e.x)*(c.y-r.y)}function Sl(e,r){return e.x===r.x&&e.y===r.y}function C2(e,r,c,f){return!!(Sl(e,r)&&Sl(c,f)||Sl(e,f)&&Sl(c,r))||Lo(e,r,c)>0!=Lo(e,r,f)>0&&Lo(c,f,e)>0!=Lo(c,f,r)>0}function Bu(e,r){return Lo(e.prev,e,e.next)<0?Lo(e,r,e.next)>=0&&Lo(e,e.prev,r)>=0:Lo(e,r,e.prev)<0||Lo(e,e.next,r)<0}function Cf(e,r){var c=new Wd(e.i,e.x,e.y),f=new Wd(r.i,r.x,r.y),p=e.next,x=r.prev;return e.next=r,r.prev=e,c.next=p,p.prev=c,f.next=c,c.prev=f,x.next=f,f.prev=x,f}function w2(e,r,c,f){var p=new Wd(e,r,c);return f?(p.next=f.next,p.prev=f,f.next.prev=p,f.next=p):(p.prev=p,p.next=p),p}function Wc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Wd(e,r,c){this.i=e,this.x=r,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Zd(e,r,c,f){for(var p=0,x=r,w=c-f;x<c;x+=f)p+=(e[w]-e[x])*(e[x+1]+e[w+1]),w=x;return p}function D2(e,r,c){var f=e[r];e[r]=e[c],e[c]=f}function z4(e,r,c,f,p){var x=c,w=e[r];D2(e,r,f);for(var I=c;I<f;I++)p(e[I],w)<0&&(D2(e,I,x),x++);return D2(e,f,x),x}function Mf(e,r,c,f){if(c<f){var x=z4(e,Math.floor((c+f)/2),c,f,r);Mf(e,r,c,x-1),Mf(e,r,x+1,f)}}function E2(){this._parts=[]}yf.deviation=function(e,r,c,f){var p=r&&r.length,w=Math.abs(Zd(e,0,p?r[0]*c:e.length,c));if(p)for(var I=0,F=r.length;I<F;I++)w-=Math.abs(Zd(e,r[I]*c,I<F-1?r[I+1]*c:e.length,c));var Pe=0;for(I=0;I<f.length;I+=3){var Ze=f[I]*c,Ge=f[I+1]*c,at=f[I+2]*c;Pe+=Math.abs((e[Ze]-e[at])*(e[Ge+1]-e[Ze+1])-(e[Ze]-e[Ge])*(e[at+1]-e[Ze+1]))}return 0===w&&0===Pe?0:Math.abs((Pe-w)/w)},E2.prototype.step=function(e,r,c){var f=e.length;if(0===c){this._parts=[],this._sorted=!1;var p=Math.floor(f/2);this._parts.push({pivot:p,left:0,right:f-1}),this._currentSortPartIdx=0}if(!this._sorted){var x=this._parts;if(0===x.length)return this._sorted=!0,!0;if(x.length<512){for(var w=0;w<x.length;w++)x[w].pivot=z4(e,x[w].pivot,x[w].left,x[w].right,r);var I=[];for(w=0;w<x.length;w++){var F,$;($=x[w].pivot-1)>(F=x[w].left)&&I.push({pivot:Math.floor(($+F)/2),left:F,right:$}),($=x[w].right)>(F=x[w].pivot+1)&&I.push({pivot:Math.floor(($+F)/2),left:F,right:$})}x=this._parts=I}else for(w=0;w<Math.floor(x.length/10);w++){var ue=x.length-1-this._currentSortPartIdx;if(Mf(e,r,x[ue].left,x[ue].right),this._currentSortPartIdx++,this._currentSortPartIdx===x.length)return this._sorted=!0,!0}return!1}},E2.sort=Mf;const wf=E2;var kh=po.vec3,O4=kh.create(),I4=kh.create(),R4=kh.create();const Bs={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,r){var c=this.indices;if(0===r){var f=this.attributes.position;e=e.array,(!this._triangleZList||this._triangleZList.length!==this.triangleCount)&&(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new c.constructor(c.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var x,p=0,w=0;w<c.length;){f.get(c[w++],O4),f.get(c[w++],I4),f.get(c[w++],R4);var I=kh.sqrDist(O4,e),F=kh.sqrDist(I4,e),$=kh.sqrDist(R4,e),ue=Math.min(I,F);ue=Math.min(ue,$),3===w?(x=ue,ue=0):ue-=x,this._triangleZList[p++]=ue}}var Pe=this._sortedTriangleIndices;for(w=0;w<Pe.length;w++)Pe[w]=w;if(this.triangleCount<2e4)0===r&&this._simpleSort(!0);else for(w=0;w<3;w++)this._progressiveQuickSort(3*r+w);var Ze=this._indicesTmp,Ge=this._triangleZListTmp,at=this._triangleZList;for(w=0;w<this.triangleCount;w++){var st=3*Pe[w],Nt=3*w;Ze[Nt++]=c[st++],Ze[Nt++]=c[st++],Ze[Nt]=c[st],Ge[w]=at[Pe[w]]}var Bt=this._indicesTmp;this._indicesTmp=this.indices,this.indices=Bt,Bt=this._triangleZListTmp,this._triangleZListTmp=this._triangleZList,this._triangleZList=Bt,this.dirtyIndices()},_simpleSort:function(e){var r=this._triangleZList,c=this._sortedTriangleIndices;function f(p,x){return r[x]-r[p]}e?Array.prototype.sort.call(c,f):wf.sort(c,f,0,c.length-1)},_progressiveQuickSort:function(e){var r=this._triangleZList,c=this._sortedTriangleIndices;this._quickSort=this._quickSort||new wf,this._quickSort.step(c,function(f,p){return r[p]-r[f]},e)}};function zo(e,r){const c=e.getItemVisual(r,"style");if(c)return c[e.getVisual("drawType")]}function Co(e,r){const c=e.getItemVisual(r,"style");return c&&c.opacity}function Zc(e,r,c){this._labelsMesh=new Eh,this._labelTextureSurface=new bu({width:512,height:512,devicePixelRatio:c.getDevicePixelRatio(),onupdate:function(){c.getZr().refresh()}}),this._api=c,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}Zc.prototype.getLabelPosition=function(e,r,c){return[0,0,0]},Zc.prototype.getLabelDistance=function(e,r,c){return 0},Zc.prototype.getMesh=function(){return this._labelsMesh},Zc.prototype.updateData=function(e,r,c){null==r&&(r=0),null==c&&(c=e.count()),(!this._labelsVisibilitiesBits||this._labelsVisibilitiesBits.length!==c-r)&&(this._labelsVisibilitiesBits=new Uint8Array(c-r));for(var f=["label","show"],p=["emphasis","label","show"],x=r;x<c;x++){var w=e.getItemModel(x),I=w.get(f),F=w.get(p);null==F&&(F=I),this._labelsVisibilitiesBits[x-r]=(I?1:0)|(F?2:0)}this._start=r,this._end=c,this._data=e},Zc.prototype.updateLabels=function(e){if(this._data){for(var r=(e=e||[]).length>0,c={},f=0;f<e.length;f++)c[e[f]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var p=["label"],x=["emphasis","label"],w=this._data.hostModel,I=this._data,F=w.getModel(p),$=w.getModel(x,F),ue={left:"right",right:"left",top:"center",bottom:"center"},Pe={left:"middle",right:"middle",top:"bottom",bottom:"top"},Ze=this._start;Ze<this._end;Ze++){var Ge=!1;if(r&&c[Ze]&&(Ge=!0),this._labelsVisibilitiesBits[Ze-this._start]&(Ge?2:1)){var Nt=I.getItemModel(Ze).getModel(Ge?x:p,Ge?$:F),Bt=Nt.get("distance")||0,an=Nt.get("position"),nn=this._api.getDevicePixelRatio(),en=w.getFormattedLabel(Ze,Ge?"emphasis":"normal");if(null==en||""===en)return;var Tn=new P.Q.Text({style:(0,yu.Lr)(Nt,{text:en,fill:Nt.get("color")||zo(I,Ze)||"#000",align:"left",verticalAlign:"top",opacity:Ki.firstNotNull(Nt.get("opacity"),Co(I,Ze),1)})}),wn=Tn.getBoundingRect();wn.height*=1.2;var Yn=this._labelTextureSurface.add(Tn),nr=ue[an]||"center",Pr=Pe[an]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(Ze,an,Bt),[wn.width*nn,wn.height*nn],Yn,nr,Pr,this.getLabelDistance(Ze,an,Bt)*nn)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},Zc.prototype.dispose=function(){this._labelTextureSurface.dispose()};const Tl=Zc;var xs=po.vec3;function Ef(e){this.rootNode=new dn.Node,this._triangulationResults={},this._shadersMap=dn.COMMON_SHADERS.filter(function(c){return"shadow"!==c}).reduce(function(c,f){return c[f]=dn.createShader("ecgl."+f),c},{}),this._linesShader=dn.createShader("ecgl.meshLines3D");var r={};dn.COMMON_SHADERS.forEach(function(c){r[c]=new dn.Material({shader:dn.createShader("ecgl."+c)})}),this._groundMaterials=r,this._groundMesh=new dn.Mesh({geometry:new dn.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new Tl(512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}dn.Shader.import(Ah),Ef.prototype={constructor:Ef,extrudeY:!0,update:function(e,r,c,f,p){var x=e.getData();null==f&&(f=0),null==p&&(p=x.count()),this._startIndex=f,this._endIndex=p-1,this._triangulation(e,f,p);var w=this._getShader(e.get("shading"));this._prepareMesh(e,w,c,f,p),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,c,f,p);var I=e.coordinateSystem;"geo3D"===I.type&&this._updateGroundPlane(e,I,c);var F=this;this._labelsBuilder.updateData(x,f,p),this._labelsBuilder.getLabelPosition=function($,ue,Pe){var Ze=x.getName($),at=Pe;if("geo3D"===I.type){var st=I.getRegion(Ze);return st?(Ge=st.getCenter(),I.dataToPoint([Ge[0],Ge[1],at])):[NaN,NaN,NaN]}var Bt=F._triangulationResults[$-F._startIndex],Ge=F.extrudeY?[(Bt.max[0]+Bt.min[0])/2,Bt.max[1]+at,(Bt.max[2]+Bt.min[2])/2]:[(Bt.max[0]+Bt.min[0])/2,(Bt.max[1]+Bt.min[1])/2,Bt.max[2]+at]},this._data=x,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var p,c=(p=new dn.Mesh({name:"Polygon",material:new dn.Material({shader:this._shadersMap.lambert}),geometry:new dn.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0}),Object.assign(p.geometry,Bs),p),f=new dn.Mesh({material:new dn.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new Fl({useNativeLine:!1})});this.rootNode.add(c),this.rootNode.add(f),c.material.define("both","VERTEX_COLOR"),c.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=c,this._linesMesh=f,this.rootNode.add(this._groundMesh)},_getShader:function(e){var r=this._shadersMap[e];return r||(r=this._shadersMap.lambert),r.__shading=e,r},_prepareMesh:function(e,r,c,f,p){for(var x=0,w=0,I=0,F=0,$=f;$<p;$++){var ue=this._getRegionPolygonInfo($),Pe=this._getRegionLinesInfo($,e,this._linesMesh.geometry);x+=ue.vertexCount,w+=ue.triangleCount,I+=Pe.vertexCount,F+=Pe.triangleCount}var Ze=this._polygonMesh,Ge=Ze.geometry;["position","normal","texcoord0","color"].forEach(function(at){Ge.attributes[at].init(x)}),Ge.indices=x>65535?new Uint32Array(3*w):new Uint16Array(3*w),Ze.material.shader!==r&&Ze.material.attachShader(r,!0),dn.setMaterialFromModel(r.__shading,Ze.material,e,c),I>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(I),this._linesMesh.geometry.setTriangleCount(F)),this._dataIndexOfVertex=new Uint32Array(x),this._vertexRangeOfDataIndex=new Uint32Array(2*(p-f))},_updateRegionMesh:function(e,r,c,f){for(var p=e.getData(),x=0,w=0,I=!1,F=this._polygonMesh,$=this._linesMesh,ue=c;ue<f;ue++){var Pe=e.getRegionModel(ue),Ze=Pe.getModel("itemStyle"),Ge=Ki.firstNotNull(zo(p,ue),Ze.get("color"),"#fff"),at=Ki.firstNotNull(Co(p,ue),1),st=dn.parseColor(Ge),Nt=dn.parseColor(Ze.get("borderColor"));st[3]*=at,Nt[3]*=at;var Bt=st[3]<.99;F.material.set("color",[1,1,1,1]),I=I||Bt;for(var an=Ki.firstNotNull(Pe.get("height",!0),e.get("regionHeight")),nn=this._updatePolygonGeometry(e,F.geometry,ue,an,x,w,st),en=x;en<nn.vertexOffset;en++)this._dataIndexOfVertex[en]=ue;this._vertexRangeOfDataIndex[2*(ue-c)]=x,this._vertexRangeOfDataIndex[2*(ue-c)+1]=nn.vertexOffset,x=nn.vertexOffset,w=nn.triangleOffset;var Tn=Ze.get("borderWidth"),wn=Tn>0;wn&&(Tn*=r.getDevicePixelRatio(),this._updateLinesGeometry($.geometry,e,ue,an,Tn,e.coordinateSystem.transform)),$.invisible=!wn,$.material.set({color:Nt})}(F=this._polygonMesh).material.transparent=I,F.material.depthMask=!I,F.geometry.updateBoundingBox(),F.frontFace=this.extrudeY?dn.Mesh.CCW:dn.Mesh.CW,F.material.get("normalMap")&&F.geometry.generateTangents(),F.seriesIndex=e.seriesIndex,F.on("mousemove",this._onmousemove,this),F.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(e){var r=e.getModel("debug.wireframe");if(r.get("show")){var c=dn.parseColor(r.get("lineStyle.color")||"rgba(0,0,0,0.5)"),f=Ki.firstNotNull(r.get("lineStyle.width"),1),p=this._polygonMesh;p.geometry.generateBarycentric(),p.material.define("both","WIREFRAME_TRIANGLE"),p.material.set("wireframeLineColor",c),p.material.set("wireframeLineWidth",f)}},_onmousemove:function(e){var r=this._dataIndexOfVertex[e.triangle[0]];null==r&&(r=-1),r!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(r),this._labelsBuilder.updateLabels([r])),this._lastHoverDataIndex=r,this._polygonMesh.dataIndex=r},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,r,c){var f=e.getModel("groundPlane",e);if(this._groundMesh.invisible=!f.get("show",!0),!this._groundMesh.invisible){var p=e.get("shading"),x=this._groundMaterials[p];x||(x=this._groundMaterials.lambert),dn.setMaterialFromModel(p,x,f,c),x.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=x,this._groundMesh.material.set("color",dn.parseColor(f.get("color"))),this._groundMesh.scale.set(r.size[0],r.size[2],1)}},_triangulation:function(e,r,c){this._triangulationResults=[];for(var f=[1/0,1/0,1/0],p=[-1/0,-1/0,-1/0],x=e.coordinateSystem,w=r;w<c;w++){for(var I=[],F=e.getRegionPolygonCoords(w),$=0;$<F.length;$++){var ue=F[$].exterior,Pe=F[$].interiors,Ze=[],Ge=[];if(!(ue.length<3)){for(var at=0,st=0;st<ue.length;st++)Ze[at++]=(Nt=ue[st])[0],Ze[at++]=Nt[1];for(st=0;st<Pe.length;st++)if(!(Pe[st].length<3)){for(var Bt=Ze.length/2,an=0;an<Pe[st].length;an++){var Nt;Ze.push((Nt=Pe[st][an])[0]),Ze.push(Nt[1])}Ge.push(Bt)}var nn=Yd(Ze,Ge),en=new Float64Array(Ze.length/2*3),Tn=[],wn=[1/0,1/0,1/0],Zn=[-1/0,-1/0,-1/0],Yn=0;for(st=0;st<Ze.length;)xs.set(Tn,Ze[st++],0,Ze[st++]),x&&x.transform&&xs.transformMat4(Tn,Tn,x.transform),xs.min(wn,wn,Tn),xs.max(Zn,Zn,Tn),en[Yn++]=Tn[0],en[Yn++]=Tn[1],en[Yn++]=Tn[2];xs.min(f,f,wn),xs.max(p,p,Zn),I.push({points:en,indices:nn,min:wn,max:Zn})}}this._triangulationResults.push(I)}this._geoBoundingBox=[f,p]},_getRegionPolygonInfo:function(e){for(var r=this._triangulationResults[e-this._startIndex],c=0,f=0,p=0;p<r.length;p++)c+=r[p].points.length/3,f+=r[p].indices.length/3;return{vertexCount:2*c+4*c,triangleCount:2*f+2*c}},_updatePolygonGeometry:function(e,r,c,f,p,x,w){var I=e.get("projectUVOnGround"),F=r.attributes.position,$=r.attributes.normal,ue=r.attributes.texcoord0,Pe=r.attributes.color,Ze=this._triangulationResults[c-this._startIndex],Ge=Pe.value&&w,at=r.indices,st=this.extrudeY?1:2,Nt=this.extrudeY?2:1,Bt=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],an=xs.mul([],this._geoBoundingBox[0],Bt),nn=xs.mul([],this._geoBoundingBox[1],Bt),en=Math.max(nn[0]-an[0],nn[2]-an[2]);function wn(Io,cs,Yo){var Go=p;!function(Io,cs,Yo){for(var Go=Io.points,x1=Go.length,ba=[],Ll=[],bs=0;bs<x1;bs+=3)ba[0]=Go[bs],ba[st]=cs,ba[Nt]=Go[bs+2],Ll[0]=(Go[bs]*Bt[0]-an[0])/en,Ll[1]=(Go[bs+2]*Bt[Nt]-an[2])/en,F.set(p,ba),Ge&&Pe.set(p,w),ue.set(p++,Ll)}(Io,cs);for(var x1=Io.indices.length,ba=0;ba<x1;ba++)at[3*x+ba]=Io.indices[ba]+Go;x+=Io.indices.length/3}for(var Zn=this.extrudeY?[0,1,0]:[0,0,1],Yn=xs.negate([],Zn),nr=0;nr<Ze.length;nr++){var Pr=p,cr=Ze[nr];wn(cr,0),wn(cr,f);for(var Lr=cr.points.length/3,Ir=0;Ir<Lr;Ir++)$.set(Pr+Ir,Yn),$.set(Pr+Ir+Lr,Zn);var Cr=[0,3,1,1,3,2],Br=[[],[],[],[]],Xr=[],mi=[],Gr=[],Ta=[],ui=0;for(Ir=0;Ir<Lr;Ir++){for(var Ha=(Ir+1)%Lr,Ma=(cr.points[3*Ha]-cr.points[3*Ir])*Bt[0],ja=(cr.points[3*Ha+2]-cr.points[3*Ir+2])*Bt[Nt],Ka=Math.sqrt(Ma*Ma+ja*ja),da=0;da<4;da++){var _o=0===da||3===da,uo=3*(_o?Ir:Ha);Br[da][0]=cr.points[uo],Br[da][st]=da>1?f:0,Br[da][Nt]=cr.points[uo+2],F.set(p+da,Br[da]),I?(Ta[0]=(cr.points[uo]*Bt[0]-an[0])/en,Ta[1]=(cr.points[uo+2]*Bt[Nt]-an[Nt])/en):(Ta[0]=(_o?ui:ui+Ka)/en,Ta[1]=(Br[da][st]*Bt[st]-an[st])/en),ue.set(p+da,Ta)}for(xs.sub(Xr,Br[1],Br[0]),xs.sub(mi,Br[3],Br[0]),xs.cross(Gr,Xr,mi),xs.normalize(Gr,Gr),da=0;da<4;da++)$.set(p+da,Gr),Ge&&Pe.set(p+da,w);for(da=0;da<6;da++)at[3*x+da]=Cr[da]+p;p+=4,x+=2,ui+=Ka}}return r.dirty(),{vertexOffset:p,triangleOffset:x}},_getRegionLinesInfo:function(e,r,c){var f=0,p=0;return r.getRegionModel(e).getModel("itemStyle").get("borderWidth")>0&&r.getRegionPolygonCoords(e).forEach(function($){var ue=$.exterior,Pe=$.interiors;f+=c.getPolylineVertexCount(ue),p+=c.getPolylineTriangleCount(ue);for(var Ze=0;Ze<Pe.length;Ze++)f+=c.getPolylineVertexCount(Pe[Ze]),p+=c.getPolylineTriangleCount(Pe[Ze])},this),{vertexCount:f,triangleCount:p}},_updateLinesGeometry:function(e,r,c,f,p,x){function w($){for(var ue=new Float64Array(3*$.length),Pe=0,Ze=[],Ge=0;Ge<$.length;Ge++)Ze[0]=$[Ge][0],Ze[1]=f+.1,Ze[2]=$[Ge][1],x&&xs.transformMat4(Ze,Ze,x),ue[Pe++]=Ze[0],ue[Pe++]=Ze[1],ue[Pe++]=Ze[2];return ue}var I=[1,1,1,1];r.getRegionPolygonCoords(c).forEach(function($){var Pe=$.interiors;e.addPolyline(w($.exterior),I,p);for(var Ze=0;Ze<Pe.length;Ze++)e.addPolyline(w(Pe[Ze]),I,p)})},highlight:function(e){var r=this._data;if(r){var f=r.getItemModel(e).getModel(["emphasis","itemStyle"]),p=f.get("color"),x=Ki.firstNotNull(f.get("opacity"),Co(r,e),1);if(null==p){var w=zo(r,e);p=P.$_.lift(w,-.4)}null==x&&(x=Co(r,e));var I=dn.parseColor(p);I[3]*=x,this._setColorOfDataIndex(r,e,I)}},downplay:function(e){var r=this._data;if(r){var c=Ki.firstNotNull(zo(r,e),r.getItemModel(e).get(["itemStyle","color"]),"#fff"),f=Ki.firstNotNull(Co(r,e),1),p=dn.parseColor(c);p[3]*=f,this._setColorOfDataIndex(r,e,p)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(e,r,c){if(!(r<this._startIndex&&r>this._endIndex)){for(var f=this._vertexRangeOfDataIndex[2*(r-=this._startIndex)];f<this._vertexRangeOfDataIndex[2*r+1];f++)this._polygonMesh.geometry.attributes.color.set(f,c);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};const Hu=Ef,F4=P.Ir.extend({type:"geo3D",__ecgl__:!0,init:function(e,r){this._geo3DBuilder=new Hu(r),this.groupGL=new dn.Node,this._lightRoot=new dn.Node,this._sceneHelper=new kl(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new Md({zr:r.getZr()}),this._control.init()},render:function(e,r,c){this.groupGL.add(this._geo3DBuilder.rootNode);var f=e.coordinateSystem;if(f&&f.viewGL){f.viewGL.add(this._lightRoot),e.get("show")?f.viewGL.add(this.groupGL):f.viewGL.remove(this.groupGL);var p=this._control;p.setViewGL(f.viewGL);var x=e.getModel("viewControl");p.setFromViewControlModel(x,0),this._sceneHelper.setScene(f.viewGL.scene),this._sceneHelper.updateLight(e),f.viewGL.setPostEffect(e.getModel("postEffect"),c),f.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,r,c,0,e.getData().count());var w=f.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(I){I.material&&I.material[w]("fragment","SRGB_DECODE")}),p.off("update"),p.on("update",function(){c.dispatchAction({type:"geo3DChangeCamera",alpha:p.getAlpha(),beta:p.getBeta(),distance:p.getDistance(),center:p.getCenter(),from:this.uid,geo3DId:e.id})}),p.update()}},afterRender:function(e,r,c,f){var p=f.renderer;this._sceneHelper.updateAmbientCubemap(p,e,c),this._sceneHelper.updateSkybox(p,e,c)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}});var A2=E(9768),k4=E(4588),B4=po.vec3,Cl=po.mat4,Uu=[A2.Z,k4.Z];function Bh(e,r,c,f,p){this.name=e,this.map=r,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(c,f,p),this.transform=Cl.identity(new Float64Array(16)),this.invTransform=Cl.identity(new Float64Array(16)),this.extrudeY=!0}Bh.prototype={constructor:Bh,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(e,r,c){var f=P.Nu||P.pQ;try{this.regions=e?f(e):[]}catch($){throw"Invalid geoJson format\n"+$}r=r||{},c=c||{};for(var p=this.regions,x={},w=0;w<p.length;w++){var I=p[w].name;p[w].name=I=c[I]||I,x[I]=p[w],this.addGeoCoord(I,p[w].getCenter());var F=r[I];F&&p[w].transformTo(F.left,F.top,F.width,F.height)}this._regionsMap=x,this._geoRect=null,Uu.forEach(function($){$(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,r=this.regions,c=0;c<r.length;c++){var f=r[c].getBoundingRect();(e=e||f.clone()).union(f)}return this._geoRect=e||new P.Q.BoundingRect(0,0,0,0)},addGeoCoord:function(e,r){this._nameCoordMap[e]=r},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var r=this.regions,c=0;c<r.length;c++)if(r[c].contain(e))return r[c]},setSize:function(e,r,c){this.size=[e,r,c];var f=this.getGeoBoundingRect(),p=e/f.width,x=-c/f.height,w=-e/2-f.x*p,I=c/2-f.y*x,F=this.extrudeY?[w,0,I]:[w,I,0],$=this.extrudeY?[p,1,x]:[p,x,1],ue=this.transform;Cl.identity(ue),Cl.translate(ue,ue,F),Cl.scale(ue,ue,$),Cl.invert(this.invTransform,ue)},dataToPoint:function(e,r){r=r||[];var c=this.extrudeY?1:2,f=this.extrudeY?2:1,p=e[2];return isNaN(p)&&(p=0),r[0]=e[0],r[f]=e[1],r[c]=this.altitudeAxis?this.altitudeAxis.dataToCoord(p):0,r[c]+=this.regionHeight,B4.transformMat4(r,r,this.transform),r},pointToData:function(e,r){}};const jc=Bh;function Vh(e,r){var c=e.getBoxLayoutParams(),f=(0,Mu.ME)(c,{width:r.getWidth(),height:r.getHeight()});f.y=r.getHeight()-f.y-f.height,this.viewGL.setViewport(f.x,f.y,f.width,f.height,r.getDevicePixelRatio());var p=this.getGeoBoundingRect(),x=p.width/p.height*(e.get("aspectScale")||.75),w=e.get("boxWidth"),I=e.get("boxDepth"),F=e.get("boxHeight");null==F&&(F=5),isNaN(w)&&isNaN(I)&&(w=100),isNaN(I)?I=w/x:isNaN(w)&&(w=I/x),this.setSize(w,F,I),this.regionHeight=e.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(F-this.regionHeight,0))}function Kc(e,r){var c=[1/0,-1/0];if(e.eachSeries(function(p){if(p.coordinateSystem===this&&"series.map3D"!==p.type){var x=p.getData(),w=p.coordDimToDataDim("alt"),I=w&&w[0];if(I){var F=x.getDataExtent(I,!0);c[0]=Math.min(c[0],F[0]),c[1]=Math.max(c[1],F[1])}}},this),c&&isFinite(c[1]-c[0])){var f=P._y.createScale(c,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new P.RD("altitude",f),this.resize(this.model,r)}}var Kd=0,Hh={dimensions:jc.prototype.dimensions,create:function(e,r){var c=[];if(!P.FU)throw new Error("geo3D component depends on geo component");function f(p,x){var w=Hh.createGeo3D(p);p.__viewGL=p.__viewGL||new dc,w.viewGL=p.__viewGL,p.coordinateSystem=w,w.model=p,c.push(w),w.resize=Vh,w.resize(p,r),w.update=Kc}return e.eachComponent("geo3D",function(p,x){f(p)}),e.eachSeriesByType("map3D",function(p,x){var w=p.get("coordinateSystem");null==w&&(w="geo3D"),"geo3D"===w&&f(p)}),e.eachSeries(function(p){if("geo3D"===p.get("coordinateSystem")){if("series.map3D"===p.type)return;var x=p.getReferringComponents("geo3D").models[0];if(x||(x=e.getComponent("geo3D")),!x)throw new Error('geo "'+Ki.firstNotNull(p.get("geo3DIndex"),p.get("geo3DId"),0)+'" not found');p.coordinateSystem=x.coordinateSystem}}),c},createGeo3D:function(e){var c,r=e.get("map");return"string"==typeof r?(c=r,r=P.FU(r)):r&&r.features&&(r={geoJson:r}),null==c&&(c="GEO_ANONYMOUS_"+Kd++),new jc(c+Kd++,c,r&&r.geoJson,r&&r.specialAreas,e.get("nameMap"))}};const $d=Hh;function Xd(e){e.registerComponentModel(aa),e.registerComponentView(F4),e.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(r,c){c.eachComponent({mainType:"geo3D",query:r},function(f){f.setView(r)})}),e.registerCoordinateSystem("geo3D",$d)}function Af(e,r){e.id=e.id||e.name||r+""}(0,P.D$)(Xd);var Ml=P.tF.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){Ml.superApply(this,"init",arguments),P.D5.each(this.option.layers,function(e,r){P.D5.merge(e,this.defaultLayerOption),Af(e,r)},this)},mergeOption:function(e){var r=this.option.layers;function c(w){return P.D5.reduce(w,function(I,F,$){return Af(F,$),I[F.id]=F,I},{})}if(this.option.layers=null,Ml.superApply(this,"mergeOption",arguments),r&&r.length){var f=c(e.layers),p=c(r);for(var x in f)p[x]?P.D5.merge(p[x],f[x],!0):r.push(e.layers[x]);this.option.layers=r}P.D5.each(this.option.layers,function(w){P.D5.merge(w,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,r,c){this.displacementData=e,this.displacementWidth=r,this.displacementHeight=c},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),r=this.get("displacementScale");return(!e||"none"===e)&&(r=0),r},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),r=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==r,this._displacementTexture=e,this._displacementScale=r},isDisplacementChanged:function(){return this._displacementChanged}});P.D5.merge(Ml.prototype,Ic),P.D5.merge(Ml.prototype,Th),P.D5.merge(Ml.prototype,Ch),P.D5.merge(Ml.prototype,Uc);const H4=Ml;var Pf=Math.PI,ll=Math.sin,wl=Math.cos,Lf=Math.tan,P2=Math.asin,zf=Math.atan2,$c=Pf/180,If=23.4397*$c;function L2(e,r){return zf(ll(e)*wl(If)-Lf(r)*ll(If),wl(e))}function F3(e,r){return P2(ll(r)*wl(If)+wl(r)*ll(If)*ll(e))}function G4(e,r,c){return zf(ll(e),wl(e)*ll(r)-Lf(c)*wl(r))}function Bl(e,r,c){return P2(ll(r)*ll(c)+wl(r)*wl(c)*wl(e))}var Jd={};Jd.getPosition=function(e,r,c){var f=$c*-c,p=$c*r,x=function(e){return function(e){return e.valueOf()/864e5-.5+2440588}(e)-2451545}(e),w=function(e){var r=function(e){return $c*(357.5291+.98560028*e)}(e),c=function(e){return e+$c*(1.9148*ll(e)+.02*ll(2*e)+3e-4*ll(3*e))+102.9372*$c+Pf}(r);return{dec:F3(c,0),ra:L2(c,0)}}(x),I=function(e,r){return $c*(280.16+360.9856235*e)-r}(x,f)-w.ra;return{azimuth:G4(I,p,w.dec),altitude:Bl(I,p,w.dec)}};const O2=Jd;dn.Shader.import(H0),dn.Shader.import("@export ecgl.atmosphere.vertex\nattribute vec3 position: POSITION;\nattribute vec3 normal : NORMAL;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n\n\n@export ecgl.atmosphere.fragment\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform float glowPower;\nuniform vec3 glowColor;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor = vec4(glowColor, intensity * intensity);\n}\n@end");const R2=P.Ir.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(e,r){this.groupGL=new dn.Node,this._sphereGeometry=new dn.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new dn.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new dn.PlaneGeometry,this._earthMesh=new dn.Mesh({renderNormal:!0}),this._atmosphereMesh=new dn.Mesh,this._atmosphereGeometry=new dn.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new dn.Material({shader:new dn.Shader(dn.Shader.source("ecgl.atmosphere.vertex"),dn.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=dn.Mesh.CW,this._lightRoot=new dn.Node,this._sceneHelper=new kl,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new Md({zr:r.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,r,c){var f=e.coordinateSystem,p=e.get("shading");f.viewGL.add(this._lightRoot),e.get("show")?f.viewGL.add(this.groupGL):f.viewGL.remove(this.groupGL),this._sceneHelper.setScene(f.viewGL.scene),f.viewGL.setPostEffect(e.getModel("postEffect"),c),f.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var x=this._earthMesh;x.geometry=this._sphereGeometry;var w="ecgl."+p;(!x.material||x.material.shader.name!==w)&&(x.material=dn.createMaterial(w)),dn.setMaterialFromModel(p,x.material,e,c),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach(function(Pe){var Ze=x.material.get(Pe);Ze&&(Ze.flipY=!1)}),x.material.set("color",dn.parseColor(e.get("baseColor")));var I=.99*f.radius;if(x.scale.set(I,I,I),e.get("atmosphere.show")){x.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:e.get("atmosphere.glowPower")||6,glowColor:e.get("atmosphere.color")||"#ffffff"}),x.material.setUniforms({glowPower:e.get("atmosphere.innerGlowPower")||2,glowColor:e.get("atmosphere.color")||"#ffffff"});var F=e.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(I+F,I+F,I+F)}else x.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var $=x.material.setTextureImage("diffuseMap",e.get("baseTexture"),c,{flipY:!1,anisotropic:8});$&&$.surface&&$.surface.attachToMesh(x);var ue=x.material.setTextureImage("bumpMap",e.get("heightTexture"),c,{flipY:!1,anisotropic:8});ue&&ue.surface&&ue.surface.attachToMesh(x),x.material[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,c),this._displaceVertices(e,c),this._updateViewControl(e,c),this._updateLayers(e,c)},afterRender:function(e,r,c,f){var p=f.renderer;this._sceneHelper.updateAmbientCubemap(p,e,c),this._sceneHelper.updateSkybox(p,e,c)},_updateLayers:function(e,r){var c=e.coordinateSystem,f=e.get("layers"),p=c.radius,x=[],w=[],I=[],F=[];P.D5.each(f,function(Ge){var at=new P.Hn(Ge),st=at.get("type"),Nt=dn.loadTexture(at.get("texture"),r,{flipY:!1,anisotropic:8});if(Nt.surface&&Nt.surface.attachToMesh(this._earthMesh),"blend"===st){var Bt=at.get("blendTo"),an=Ki.firstNotNull(at.get("intensity"),1);"emission"===Bt?(I.push(Nt),F.push(an)):(x.push(Nt),w.push(an))}else{var nn=at.get("id"),en=this._layerMeshes[nn];en||(en=this._layerMeshes[nn]=new dn.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0})),"lambert"===at.get("shading")?(en.material=en.__lambertMaterial||new dn.Material({autoUpdateTextureStatus:!1,shader:dn.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),en.__lambertMaterial=en.material):(en.material=en.__colorMaterial||new dn.Material({autoUpdateTextureStatus:!1,shader:dn.createShader("ecgl.color"),transparent:!0,depthMask:!1}),en.__colorMaterial=en.material),en.material.enableTexture("diffuseMap");var wn=at.get("distance"),Zn=p+(null==wn?c.radius/100:wn);en.scale.set(Zn,Zn,Zn),p=Zn;var Yn=this._blankTexture||(this._blankTexture=dn.createBlankTexture("rgba(255, 255, 255, 0)"));en.material.set("diffuseMap",Yn),dn.loadTexture(at.get("texture"),r,{flipY:!1,anisotropic:8},function(nr){nr.surface&&nr.surface.attachToMesh(en),en.material.set("diffuseMap",nr),r.getZr().refresh()}),at.get("show")?this.groupGL.add(en):this.groupGL.remove(en)}},this);var $=this._earthMesh.material;$.define("fragment","LAYER_DIFFUSEMAP_COUNT",x.length),$.define("fragment","LAYER_EMISSIVEMAP_COUNT",I.length),$.set("layerDiffuseMap",x),$.set("layerDiffuseIntensity",w),$.set("layerEmissiveMap",I),$.set("layerEmissionIntensity",F);var ue=e.getModel("debug.wireframe");if(ue.get("show")){$.define("both","WIREFRAME_TRIANGLE");var Pe=dn.parseColor(ue.get("lineStyle.color")||"rgba(0,0,0,0.5)"),Ze=Ki.firstNotNull(ue.get("lineStyle.width"),1);$.set("wireframeLineWidth",Ze),$.set("wireframeLineColor",Pe)}else $.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(e,r){var c=e.coordinateSystem,f=e.getModel("viewControl"),x=this,I=this._control;I.setViewGL(c.viewGL);var $,ue,F=f.get("targetCoord");null!=F&&(ue=F[0]+90,$=F[1]),I.setFromViewControlModel(f,{baseDistance:c.radius,alpha:$,beta:ue}),I.off("update"),I.on("update",function(){r.dispatchAction({type:"globeChangeCamera",alpha:I.getAlpha(),beta:I.getBeta(),distance:I.getDistance()-c.radius,center:I.getCenter(),from:x.uid,globeId:e.id})})},_displaceVertices:function(e,r){var c=e.get("displacementQuality"),f=e.get("debug.wireframe.show"),p=e.coordinateSystem;if(e.isDisplacementChanged()||c!==this._displacementQuality||f!==this._showDebugWireframe){this._displacementQuality=c,this._showDebugWireframe=f;var x=this._sphereGeometry,w={low:100,medium:200,high:400,ultra:800}[c]||200,I=w/2;(x.widthSegments!==w||f)&&(x.widthSegments=w,x.heightSegments=I,x.build()),this._doDisplaceVertices(x,p),f&&x.generateBarycentric()}},_doDisplaceVertices:function(e,r){var c=e.attributes.position.value,f=e.attributes.texcoord0.value,p=e.__originalPosition;(!p||p.length!==c.length)&&((p=new Float32Array(c.length)).set(c),e.__originalPosition=p);for(var x=r.displacementWidth,w=r.displacementHeight,I=r.displacementData,F=0;F<e.vertexCount;F++){var $=3*F,ue=2*F,Pe=p[$+1],Ze=p[$+2],Ge=p[$+3],at=f[ue++],st=f[ue++],Nt=Math.round(at*(x-1)),Bt=Math.round(st*(w-1)),nn=I?I[Bt*x+Nt]:0;c[$+1]=Pe+Pe*nn,c[$+2]=Ze+Ze*nn,c[$+3]=Ge+Ge*nn}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,r){var c=this._earthMesh;this._sceneHelper.updateLight(e);var f=this._sceneHelper.mainLight,p=e.get("light.main.time")||new Date,x=O2.getPosition(P.Rx.parseDate(p),0,0),w=Math.cos(x.altitude);f.position.y=-w*Math.cos(x.azimuth),f.position.x=Math.sin(x.altitude),f.position.z=w*Math.sin(x.azimuth),f.lookAt(c.getWorldPosition())},dispose:function(e,r){this.groupGL.removeAll(),this._control.dispose()}});var W4=po.vec3;function qd(e){this.radius=e,this.viewGL=null,this.displacementData=null}qd.prototype={constructor:qd,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(e,r,c){this.displacementData=e,this.displacementWidth=r,this.displacementHeight=c},_getDisplacementScale:function(e,r){var f=(90-r)/180*(this.displacementHeight-1),p=Math.round((e+180)/360*(this.displacementWidth-1))+Math.round(f)*this.displacementWidth;return this.displacementData[p]},dataToPoint:function(e,r){var c=e[0],f=e[1],p=e[2]||0,x=this.radius;this.displacementData&&(x*=1+this._getDisplacementScale(c,f)),this.altitudeAxis&&(x+=this.altitudeAxis.dataToCoord(p)),c=c*Math.PI/180,f=f*Math.PI/180;var w=Math.cos(f)*x;return(r=r||[])[0]=-w*Math.cos(c+Math.PI),r[1]=Math.sin(f)*x,r[2]=w*Math.sin(c+Math.PI),r},pointToData:function(e,r){var c=e[0],f=e[1],p=e[2],x=W4.len(e);c/=x,p/=x;var w=Math.asin(f/=x),I=Math.atan2(p,-c);I<0&&(I=2*Math.PI+I);var F=180*w/Math.PI,$=180*I/Math.PI-180;return(r=r||[])[0]=$,r[1]=F,r[2]=x-this.radius,this.altitudeAxis&&(r[2]=this.altitudeAxis.coordToData(r[2])),r}};const Gu=qd;function Dl(e,r){var c=e.getBoxLayoutParams(),f=(0,Mu.ME)(c,{width:r.getWidth(),height:r.getHeight()});f.y=r.getHeight()-f.y-f.height,this.viewGL.setViewport(f.x,f.y,f.width,f.height,r.getDevicePixelRatio()),this.radius=e.get("globeRadius");var p=e.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,p-this.radius)}function Nf(e,r){var c=[1/0,-1/0];if(e.eachSeries(function(p){if(p.coordinateSystem===this){var x=p.getData(),w=p.coordDimToDataDim("alt"),I=w&&w[0];if(I){var F=x.getDataExtent(I,!0);c[0]=Math.min(c[0],F[0]),c[1]=Math.max(c[1],F[1])}}},this),c&&isFinite(c[1]-c[0])){var f=P._y.createScale(c,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new P.RD("altitude",f),this.resize(this.model,r)}}var Z4={dimensions:Gu.prototype.dimensions,create:function(e,r){var c=[];return e.eachComponent("globe",function(f){f.__viewGL=f.__viewGL||new dc;var p=new Gu;p.viewGL=f.__viewGL,f.coordinateSystem=p,p.model=f,c.push(p),p.resize=Dl,p.resize(f,r),p.update=Nf}),e.eachSeries(function(f){if("globe"===f.get("coordinateSystem")){var p=f.getReferringComponents("globe").models[0];if(p||(p=e.getComponent("globe")),!p)throw new Error('globe "'+Ki.firstNotNull(f.get("globe3DIndex"),f.get("globe3DId"),0)+'" not found');f.coordinateSystem=p.coordinateSystem}}),e.eachComponent("globe",function(f,p){var x=f.coordinateSystem,w=f.getDisplacementTexture(),I=f.getDisplacemenScale();if(f.isDisplacementChanged()){if(f.hasDisplacement()){var F=!0;dn.loadTexture(w,r,function($){var Pe=function(e,r){var c=document.createElement("canvas"),f=c.getContext("2d"),p=e.width,x=e.height;c.width=p,c.height=x,f.drawImage(e,0,0,p,x);for(var w=f.getImageData(0,0,p,x).data,I=new Float32Array(w.length/4),F=0;F<w.length/4;F++)I[F]=w[4*F]/255*r;return{data:I,width:p,height:x}}($.image,I);f.setDisplacementData(Pe.data,Pe.width,Pe.height),F||r.dispatchAction({type:"globeUpdateDisplacment"})}),F=!1}else x.setDisplacementData(null,0,0);x.setDisplacementData(f.displacementData,f.displacementWidth,f.displacementHeight)}}),c}};const j4=Z4;(0,P.D$)(function(e){e.registerComponentModel(H4),e.registerComponentView(R2),e.registerCoordinateSystem("globe",j4),e.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(r,c){c.eachComponent({mainType:"globe",query:r},function(f){f.setView(r)})}),e.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},function(r,c){})});var e1=["zoom","center","pitch","bearing"],t1=P.tF.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var e=this;return e1.reduce(function(r,c){return r[c]=e.get(c),r},{})},setMapboxCameraOption:function(e){null!=e&&e1.forEach(function(r){null!=e[r]&&(this.option[r]=e[r])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});P.D5.merge(t1.prototype,Th),P.D5.merge(t1.prototype,Ch);const pc=t1;function tl(e,r){if(this.id=e,this.zr=r,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}tl.prototype.setUnpainted=function(){},tl.prototype.resize=function(){this._mapbox.resize()},tl.prototype.getMapbox=function(){return this._mapbox},tl.prototype.clear=function(){},tl.prototype.refresh=function(){this._mapbox.resize()};var Vl=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];tl.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(r){return r.preventDefault(),!1}},Vl.forEach(function(r){this._handlers[r]=function(c){var f={};for(var p in c)f[p]=c[p];f.bubbles=!1;var x=new c.constructor(c.type,f);e.dispatchEvent(x)},this.zr.dom.addEventListener(r,this._handlers[r])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},tl.prototype.dispose=function(){Vl.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this)};const K4=tl,F2="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end";dn.Shader.import(F2);const kf=P.Ir.extend({type:"mapbox3D",__ecgl__:!0,init:function(e,r){var c=r.getZr();this._zrLayer=new K4("mapbox3D",c),c.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new dn.Node,this._sceneHelper=new kl(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var f=this._zrLayer.getMapbox(),p=this._dispatchInteractAction.bind(this,r,f);["zoom","rotate","drag","pitch","rotate","move"].forEach(function(x){f.on(x,p)}),this._groundMesh=new dn.Mesh({geometry:new dn.PlaneGeometry,material:new dn.Material({shader:new dn.Shader({vertex:dn.Shader.source("ecgl.displayShadow.vertex"),fragment:dn.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,r,c){var f=this._zrLayer.getMapbox(),p=e.get("style"),x=JSON.stringify(p);x!==this._oldStyleStr&&p&&f.setStyle(p),this._oldStyleStr=x,f.setCenter(e.get("center")),f.setZoom(e.get("zoom")),f.setPitch(e.get("pitch")),f.setBearing(e.get("bearing")),e.setMapbox(f);var w=e.coordinateSystem;w.viewGL.scene.add(this._lightRoot),w.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(w.viewGL.scene),this._sceneHelper.updateLight(e),w.viewGL.setPostEffect(e.getModel("postEffect"),c),w.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._mapbox3DModel=e},afterRender:function(e,r,c,f){var p=f.renderer;this._sceneHelper.updateAmbientCubemap(p,e,c),this._sceneHelper.updateSkybox(p,e,c),e.coordinateSystem.viewGL.scene.traverse(function(x){x.material&&(x.material.define("fragment","NORMAL_UP_AXIS",2),x.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,r,c,f){e.coordinateSystem.setCameraOption(f),this._updateGroundMesh(),c.getZr().refresh()},_dispatchInteractAction:function(e,r,c){e.dispatchAction({type:"mapbox3DChangeCamera",pitch:r.getPitch(),zoom:r.getZoom(),center:r.getCenter().toArray(),bearing:r.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,r=e.dataToPoint(e.center);this._groundMesh.position.set(r[0],r[1],-.001);var c=new dn.Plane(new dn.Vector3(0,0,1),0),f=e.viewGL.camera.castRay(new dn.Vector2(-1,-1)),p=e.viewGL.camera.castRay(new dn.Vector2(1,1)),x=f.intersectPlane(c),w=p.intersectPlane(c),I=x.dist(w)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(I,I,1)}},dispose:function(e,r){this._zrLayer&&this._zrLayer.dispose(),r.getZr().painter.delLayer(-1e3)}});var Hl=po.mat4,Uh=.6435011087932844,os=Math.PI;function Bf(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.bearing=0,this.pitch=0,this.center=[0,0],this.zoom=0,this.maxPitch=60,this.zoomOffset=0}Bf.prototype={constructor:Bf,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,512)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(Uh/2)*this.height*.1,r=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,c=Uh/2,f=Math.PI/2+r,p=Math.sin(c)*e/Math.sin(Math.PI-f-c),w=1.1*(Math.cos(Math.PI/2-r)*p+e);this.pitch>50&&(w=1e3),Hl.perspective(I=[],Uh,this.width/this.height,1,w),this.viewGL.camera.projectionMatrix.setArray(I),this.viewGL.camera.decomposeProjectionMatrix();var I=Hl.identity([]),F=this.dataToPoint(this.center);Hl.scale(I,I,[1,-1,1]),Hl.translate(I,I,[0,0,-e]),Hl.rotateX(I,I,r),Hl.rotateZ(I,I,-this.bearing/180*Math.PI),Hl.translate(I,I,[-F[0]*this.getScale()*.1,-F[1]*this.getScale()*.1,0]),this.viewGL.camera.viewMatrix.array=I;var $=[];Hl.invert($,I),this.viewGL.camera.worldTransform.array=$,this.viewGL.camera.decomposeWorldTransform();var Pe,ue=512*this.getScale();Pe=this.altitudeExtent&&!isNaN(this.boxHeight)?this.boxHeight/(this.altitudeExtent[1]-this.altitudeExtent[0])*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset):ue/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*.1,this.viewGL.rootNode.scale.set(.1*this.getScale(),.1*this.getScale(),Pe)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,r){return this.projectOnTileWithScale(e,512*this.getScale(),r)},projectOnTileWithScale:function(e,r,c){var I=r*(e[0]*os/180+os)/(2*os),F=r*(os-Math.log(Math.tan(os/4+e[1]*os/180*.5)))/(2*os);return(c=c||[])[0]=I,c[1]=F,c},unprojectFromTile:function(e,r){return this.unprojectOnTileWithScale(e,512*this.getScale(),r)},unprojectOnTileWithScale:function(e,r,c){var x=e[0]/r*(2*os)-os,w=2*(Math.atan(Math.exp(os-e[1]/r*(2*os)))-os/4);return(c=c||[])[0]=180*x/os,c[1]=180*w/os,c},dataToPoint:function(e,r){return(r=this.projectOnTileWithScale(e,512,r))[0]-=this._origin[0],r[1]-=this._origin[1],r[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(r[2]=e[2],this.altitudeExtent&&(r[2]-=this.altitudeExtent[0])),r}};const Qc=Bf;function Yh(){Qc.apply(this,arguments)}function n1(e,r,c){function f(x,w){var I=w.getWidth(),F=w.getHeight(),$=w.getDevicePixelRatio();this.viewGL.setViewport(0,0,I,F,$),this.width=I,this.height=F,this.altitudeScale=x.get("altitudeScale"),this.boxHeight=x.get("boxHeight")}function p(x,w){if("auto"!==this.model.get("boxHeight")){var I=[1/0,-1/0];x.eachSeries(function(F){if(F.coordinateSystem===this){var $=F.getData(),ue=F.coordDimToDataDim("alt")[0];if(ue){var Pe=$.getDataExtent(ue,!0);I[0]=Math.min(I[0],Pe[0]),I[1]=Math.max(I[1],Pe[1])}}},this),I&&isFinite(I[1]-I[0])&&(this.altitudeExtent=I)}}return{dimensions:r.prototype.dimensions,create:function(x,w){var I=[];return x.eachComponent(e,function(F){var $=F.__viewGL;$||($=F.__viewGL=new dc).setRootNode(new dn.Node);var ue=new r;ue.viewGL=F.__viewGL,ue.resize=f,ue.resize(F,w),I.push(ue),F.coordinateSystem=ue,ue.model=F,ue.update=p}),x.eachSeries(function(F){if(F.get("coordinateSystem")===e){var $=F.getReferringComponents(e).models[0];if($||($=x.getComponent(e)),!$)throw new Error(e+' "'+Ki.firstNotNull(F.get(e+"Index"),F.get(e+"Id"),0)+'" not found');F.coordinateSystem=$.coordinateSystem}}),c&&c(I,x,w),I}}}(Yh.prototype=new Qc).constructor=Yh,Yh.prototype.type="mapbox3D";var r1=n1("mapbox3D",Yh,function(e){e.forEach(function(r){r.setCameraOption(r.model.getMapboxCameraOption())})});const a1=r1;(0,P.D$)(function(e){e.registerComponentModel(pc),e.registerComponentView(kf),e.registerCoordinateSystem("mapbox3D",a1),e.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},function(r,c){c.eachComponent({mainType:"mapbox3D",query:r},function(f){f.setMapboxCameraOption(r)})})});var s1=["zoom","center","pitch","bearing"],Hs=P.tF.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var e=this;return s1.reduce(function(r,c){return r[c]=e.get(c),r},{})},setMaptalksCameraOption:function(e){null!=e&&s1.forEach(function(r){null!=e[r]&&(this.option[r]=e[r])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});P.D5.merge(Hs.prototype,Th),P.D5.merge(Hs.prototype,Ch);const El=Hs;function gc(e,r,c,f){if(this.id=e,this.zr=r,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:c,zoom:f,doubleClickZoom:!1,fog:!1}),this._initEvents()}gc.prototype.setUnpainted=function(){},gc.prototype.resize=function(){this._maptalks.checkSize()},gc.prototype.getMaptalks=function(){return this._maptalks},gc.prototype.clear=function(){},gc.prototype.refresh=function(){this._maptalks.checkSize()};var Vf=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];gc.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(r){return r.preventDefault(),!1}},Vf.forEach(function(r){this._handlers[r]=function(c){var f={};for(var p in c)f[p]=c[p];f.bubbles=!1;var x=new c.constructor(c.type,f);"mousewheel"===r||"DOMMouseScroll"===r?e.dispatchEvent(x):e.firstElementChild.dispatchEvent(x)},this.zr.dom.addEventListener(r,this._handlers[r])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},gc.prototype.dispose=function(){Vf.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this),this._maptalks.remove()};const $4=gc;dn.Shader.import(F2);const Jc=P.Ir.extend({type:"maptalks3D",__ecgl__:!0,init:function(e,r){this._groundMesh=new dn.Mesh({geometry:new dn.PlaneGeometry,material:new dn.Material({shader:new dn.Shader({vertex:dn.Shader.source("ecgl.displayShadow.vertex"),fragment:dn.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,r){var c=r.getZr();this._zrLayer=new $4("maptalks3D",c,e.get("center"),e.get("zoom")),c.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new dn.Node,this._sceneHelper=new kl(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var f=this._zrLayer.getMaptalks(),p=this._dispatchInteractAction.bind(this,r,f);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach(function(x){f.on(x,p)})},render:function(e,r,c){this._zrLayer||this._initMaptalksLayer(e,c);var f=this._zrLayer.getMaptalks(),p=e.get("urlTemplate"),x=f.getBaseLayer();p!==this._oldUrlTemplate&&(x?x.setOptions({urlTemplate:p,attribution:e.get("attribution")}):(x=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:p,subdomains:["a","b","c"],attribution:e.get("attribution")}),f.setBaseLayer(x))),this._oldUrlTemplate=p,f.setCenter(e.get("center")),f.setZoom(e.get("zoom"),{animation:!1}),f.setPitch(e.get("pitch")),f.setBearing(e.get("bearing")),e.setMaptalks(f);var w=e.coordinateSystem;w.viewGL.scene.add(this._lightRoot),w.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(w.viewGL.scene),this._sceneHelper.updateLight(e),w.viewGL.setPostEffect(e.getModel("postEffect"),c),w.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._maptalks3DModel=e},afterRender:function(e,r,c,f){var p=f.renderer;this._sceneHelper.updateAmbientCubemap(p,e,c),this._sceneHelper.updateSkybox(p,e,c),e.coordinateSystem.viewGL.scene.traverse(function(x){x.material&&(x.material.define("fragment","NORMAL_UP_AXIS",2),x.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,r,c,f){e.coordinateSystem.setCameraOption(f),this._updateGroundMesh(),c.getZr().refresh()},_dispatchInteractAction:function(e,r,c){e.dispatchAction({type:"maptalks3DChangeCamera",pitch:r.getPitch(),zoom:Us(r.getResolution())+1,center:r.getCenter().toArray(),bearing:r.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,r=e.dataToPoint(e.center);this._groundMesh.position.set(r[0],r[1],-.001);var c=new dn.Plane(new dn.Vector3(0,0,1),0),f=e.viewGL.camera.castRay(new dn.Vector2(-1,-1)),p=e.viewGL.camera.castRay(new dn.Vector2(1,1)),x=f.intersectPlane(c),w=p.intersectPlane(c),I=x.dist(w)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(I,I,1)}},dispose:function(e,r){this._zrLayer&&this._zrLayer.dispose(),r.getZr().painter.delLayer(-1e3)}}),l1=12756274*Math.PI/(256*Math.pow(2,20));function Us(e){return 19-Math.log(e/l1)/Math.LN2}function cl(){Qc.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}(cl.prototype=new Qc).constructor=cl,cl.prototype.type="maptalks3D";var Hf=n1("maptalks3D",cl,function(e){e.forEach(function(r){r.setCameraOption(r.model.getMaptalksCameraOption())})});const c1=Hf;(0,P.D$)(function(e){e.registerComponentModel(El),e.registerComponentView(Jc),e.registerCoordinateSystem("maptalks3D",c1),e.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},function(r,c){c.eachComponent({mainType:"maptalks3D",query:r},function(f){f.setMaptalksCameraOption(r)})})});var Uf=po.vec3,J4=P._y.dataStack.isDimensionStacked;function h1(e,r,c){for(var f=e.getDataExtent(r),p=e.getDataExtent(c),x=f[1]-f[0]||f[0],w=p[1]-p[0]||p[0],F=new Uint8Array(2500),$=0;$<e.count();$++){var ue=e.get(r,$),Pe=e.get(c,$),Ze=Math.floor((ue-f[0])/x*49),at=50*Math.floor((Pe-p[0])/w*49)+Ze;F[at]=F[at]||1}var st=0;for($=0;$<F.length;$++)F[$]&&st++;return st/F.length}var Ul=po.vec3,d1=P._y.dataStack.isDimensionStacked;function f1(e,r){var c=d1(e,r[2]);return{dimension:c?e.getCalculationInfo("stackResultDimension"):r[2],isStacked:c}}function ep(e){e.registerLayout(function(r,c){r.eachSeriesByType("bar3D",function(f){var p=f.coordinateSystem,x=p&&p.type;"globe"===x?function(e,r){var c=e.getData(),f=e.get("minHeight")||0,p=e.get("barSize"),x=["lng","lat","alt"].map(function($){return e.coordDimToDataDim($)[0]});if(null==p){var w=r.radius*Math.PI,I=h1(c,x[0],x[1]);p=[w/Math.sqrt(c.count()/I),w/Math.sqrt(c.count()/I)]}else P.D5.isArray(p)||(p=[p,p]);var F=f1(c,x);c.each(x,function($,ue,Pe,Ze){var Ge=c.get(F.dimension,Ze),at=F.isStacked?Ge-Pe:r.altitudeAxis.scale.getExtent()[0],st=Math.max(r.altitudeAxis.dataToCoord(Pe),f),Nt=r.dataToPoint([$,ue,at]),Bt=r.dataToPoint([$,ue,Ge]),an=Ul.sub([],Bt,Nt);Ul.normalize(an,an),c.setItemLayout(Ze,[Nt,an,[p[0],st,p[1]]])}),c.setLayout("orient",Tr.UP.array)}(f,p):"cartesian3D"===x?function(e,r){var c=e.getData(),f=e.get("barSize");if(null==f){var x,w,p=r.size,I=r.getAxis("x"),F=r.getAxis("y");x="category"===I.type?.7*I.getBandWidth():.6*Math.round(p[0]/Math.sqrt(c.count())),w="category"===F.type?.7*F.getBandWidth():.6*Math.round(p[1]/Math.sqrt(c.count())),f=[x,w]}else P.D5.isArray(f)||(f=[f,f]);var $=r.getAxis("z").scale.getExtent(),ue=function(e){var r=e[0],c=e[1];return!(r>0&&c>0||r<0&&c<0)}($),Pe=["x","y","z"].map(function(at){return e.coordDimToDataDim(at)[0]}),Ze=J4(c,Pe[2]),Ge=Ze?c.getCalculationInfo("stackResultDimension"):Pe[2];c.each(Pe,function(at,st,Nt,Bt){var an=c.get(Ge,Bt),en=r.dataToPoint([at,st,Ze?an-Nt:ue?0:$[0]]),Tn=r.dataToPoint([at,st,an]),wn=Uf.dist(en,Tn),Zn=[0,Tn[1]<en[1]?-1:1,0];0===Math.abs(wn)&&(wn=.1),c.setItemLayout(Bt,[en,Zn,[f[0],wn,f[1]]])}),c.setLayout("orient",[1,0,0])}(f,p):"geo3D"===x?function(e,r){var c=e.getData(),f=e.get("barSize"),p=e.get("minHeight")||0,x=["lng","lat","alt"].map(function(ue){return e.coordDimToDataDim(ue)[0]});if(null==f){var w=Math.min(r.size[0],r.size[2]),I=h1(c,x[0],x[1]);f=[w/Math.sqrt(c.count()/I),w/Math.sqrt(c.count()/I)]}else P.D5.isArray(f)||(f=[f,f]);var F=[0,1,0],$=f1(c,x);c.each(x,function(ue,Pe,Ze,Ge){var at=c.get($.dimension,Ge),st=$.isStacked?at-Ze:r.altitudeAxis.scale.getExtent()[0],Nt=Math.max(r.altitudeAxis.dataToCoord(Ze),p),Bt=r.dataToPoint([ue,Pe,st]);c.setItemLayout(Ge,[Bt,F,[f[0],Nt,f[1]]])}),c.setLayout("orient",[1,0,0])}(f,p):("mapbox3D"===x||"maptalks3D"===x)&&function(e,r){var c=e.getData(),f=e.coordDimToDataDim("lng")[0],p=e.coordDimToDataDim("lat")[0],x=e.coordDimToDataDim("alt")[0],w=e.get("barSize"),I=e.get("minHeight")||0;if(null==w){var F=c.getDataExtent(f),$=c.getDataExtent(p),ue=r.dataToPoint([F[0],$[0]]),Pe=r.dataToPoint([F[1],$[1]]),Ze=Math.min(Math.abs(ue[0]-Pe[0]),Math.abs(ue[1]-Pe[1]))||1,Ge=h1(c,f,p);w=[Ze/Math.sqrt(c.count()/Ge),Ze/Math.sqrt(c.count()/Ge)]}else P.D5.isArray(w)||(w=[w,w]),w[0]/=r.getScale()/16,w[1]/=r.getScale()/16;var at=[0,0,1],st=[f,p,x],Nt=f1(c,st);c.each(st,function(Bt,an,nn,en){var Tn=c.get(Nt.dimension,en),Zn=r.dataToPoint([Bt,an,Nt.isStacked?Tn-nn:0]),Yn=r.dataToPoint([Bt,an,Tn]),nr=Math.max(Yn[2]-Zn[2],I);c.setItemLayout(en,[Zn,at,[w[0],nr,w[1]]])}),c.setLayout("orient",[1,0,0])}(f,p)})})}var ju={getFormattedLabel:function(e,r,c,f,p){c=c||"normal";var w=e.getData(f).getItemModel(r),I=e.getDataParams(r,f);null!=p&&I.value instanceof Array&&(I.value=I.value[p]);var $,F=w.get("normal"===c?["label","formatter"]:["emphasis","label","formatter"]);return null==F&&(F=w.get(["label","formatter"])),"function"==typeof F?(I.status=c,$=F(I)):"string"==typeof F&&($=P.WU.formatTpl(F,I)),$},normalizeToArray:function(e){return e instanceof Array?e:null==e?[]:[e]}};const qc=ju;function Ku(e,r,c){var p=e.getData(),x=e.getRawValue(r),w=P.D5.isArray(x)?function(Pe){var Ge=[],at=function(e,r){var c=[];return P.D5.each(e.dimensions,function(f){var p=e.getDimensionInfo(f),w=p.otherDims.tooltip;null!=w&&!1!==w&&(c[w]=p.name)}),c}(p);function st(Nt,Bt){var an=p.getDimensionInfo(Bt);if(an&&!1!==an.otherDims.tooltip){var nn=an.type,en="- "+(an.tooltipName||an.name)+": "+("ordinal"===nn?Nt+"":"time"===nn?c?"":P.WU.formatTime("yyyy/MM/dd hh:mm:ss",Nt):P.WU.addCommas(Nt));en&&Ge.push(P.WU.encodeHTML(en))}}return at.length?P.D5.each(at,function(Nt){st(p.get(Nt,r),Nt)}):P.D5.each(Pe,st),"<br/>"+Ge.join("<br/>")}(x):P.WU.encodeHTML(P.WU.addCommas(x)),I=p.getName(r),F=zo(p,r);P.D5.isObject(F)&&F.colorStops&&(F=(F.colorStops[0]||{}).color);var $=P.WU.getTooltipMarker(F=F||"transparent"),ue=e.name;return"\0-"===ue&&(ue=""),ue=ue?P.WU.encodeHTML(ue)+(c?": ":"<br/>"):"",c?$+ue+w:ue+$+(I?P.WU.encodeHTML(I)+": "+w:w)}function $u(e,r,c){c=c||e.getSource();var f=r||P.wL(e.get("coordinateSystem"))||["x","y","z"],p=P._y.createDimensions(c,{dimensionsDefine:c.dimensionsDefine||e.get("dimensions"),encodeDefine:c.encodeDefine||e.get("encode"),coordDimensions:f.map(function(I){var F=e.getReferringComponents(I+"Axis3D").models[0];return{type:F&&"category"===F.get("type")?"ordinal":"float",name:I}})});"cartesian3D"===e.get("coordinateSystem")&&p.forEach(function(I){if(f.indexOf(I.coordDim)>=0){var F=e.getReferringComponents(I.coordDim+"Axis3D").models[0];F&&"category"===F.get("type")&&(I.ordinalMeta=F.getOrdinalMeta())}});var x=P._y.dataStack.enableDataStack(e,p,{byIndex:!0,stackedCoordDimension:"z"}),w=new P.aV(p,e);return w.setCalculationInfo(x),w.initData(c),w}var to=P.wJ.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(e,r){return $u(this)},getFormattedLabel:function(e,r,c,f){var p=qc.getFormattedLabel(this,e,r,c,f);return null==p&&(p=this.getData().get("z",e)),p},formatTooltip:function(e){return Ku(this,e)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});P.D5.merge(to.prototype,Uc);const Gh=to;var Ia=po.vec3,Wf=po.mat3,Wh=ar.extend(function(){return{attributes:{position:new ar.Attribute("position","float",3,"POSITION"),normal:new ar.Attribute("normal","float",3,"NORMAL"),color:new ar.Attribute("color","float",4,"COLOR"),prevPosition:new ar.Attribute("prevPosition","float",3),prevNormal:new ar.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var r=this.enableNormal,c=this.getBarVertexCount()*e,f=this.getBarTriangleCount()*e;this.vertexCount!==c&&(this.attributes.position.init(c),r?this.attributes.normal.init(c):this.attributes.normal.value=null,this.attributes.color.init(c)),this.triangleCount!==f&&(this.indices=c>65535?new Uint32Array(3*f):new Uint16Array(3*f),this._dataIndices=new Uint32Array(c))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return 4*(e+1)*(e+1)*2},_getBevelBarTriangleCount:function(e){return(4*e+3+1)*(2*e+1)*2+4},setColor:function(e,r){for(var c=this.getBarVertexCount(),p=c*(e+1),x=c*e;x<p;x++)this.attributes.color.set(x,r);this.dirtyAttribute("color")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:function(){for(var e=Ia.create,r=Ia.scaleAndAdd,c=e(),f=e(),p=e(),x=e(),w=e(),I=e(),F=e(),$=[],ue=[],Pe=0;Pe<8;Pe++)$[Pe]=e();var Ze=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],Ge=[0,1,2,0,2,3],at=[];for(Pe=0;Pe<Ze.length;Pe++)for(var st=Ze[Pe],Nt=0;Nt<2;Nt++){for(var Bt=[],an=0;an<3;an++)Bt.push(st[Ge[3*Nt+an]]);at.push(Bt)}return function(nn,en,Tn,wn,Zn,Yn){var nr=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(nn,en,Tn,wn,this.bevelSize,this.bevelSegments,Zn);else{Ia.copy(p,en),Ia.normalize(p,p),Ia.cross(x,Tn,p),Ia.normalize(x,x),Ia.cross(f,p,x),Ia.normalize(x,x),Ia.negate(w,f),Ia.negate(I,p),Ia.negate(F,x),r($[0],nn,f,wn[0]/2),r($[0],$[0],x,wn[2]/2),r($[1],nn,f,wn[0]/2),r($[1],$[1],F,wn[2]/2),r($[2],nn,w,wn[0]/2),r($[2],$[2],F,wn[2]/2),r($[3],nn,w,wn[0]/2),r($[3],$[3],x,wn[2]/2),r(c,nn,p,wn[1]),r($[4],c,f,wn[0]/2),r($[4],$[4],x,wn[2]/2),r($[5],c,f,wn[0]/2),r($[5],$[5],F,wn[2]/2),r($[6],c,w,wn[0]/2),r($[6],$[6],F,wn[2]/2),r($[7],c,w,wn[0]/2),r($[7],$[7],x,wn[2]/2);var Pr=this.attributes;if(this.enableNormal){ue[0]=f,ue[1]=w,ue[2]=p,ue[3]=I,ue[4]=x,ue[5]=F;for(var cr=this._vertexOffset,Lr=0;Lr<Ze.length;Lr++){for(var Ir=3*this._triangleOffset,Cr=0;Cr<6;Cr++)this.indices[Ir++]=cr+Ge[Cr];cr+=4,this._triangleOffset+=2}for(Lr=0;Lr<Ze.length;Lr++){var Br=ue[Lr];for(Cr=0;Cr<4;Cr++)Pr.position.set(this._vertexOffset,$[Ze[Lr][Cr]]),Pr.normal.set(this._vertexOffset,Br),Pr.color.set(this._vertexOffset++,Zn)}}else{for(Lr=0;Lr<at.length;Lr++){for(Ir=3*this._triangleOffset,Cr=0;Cr<3;Cr++)this.indices[Ir+Cr]=at[Lr][Cr]+this._vertexOffset;this._triangleOffset++}for(Lr=0;Lr<$.length;Lr++)Pr.position.set(this._vertexOffset,$[Lr]),Pr.color.set(this._vertexOffset++,Zn)}}var mi=this._vertexOffset;for(Lr=nr;Lr<mi;Lr++)this._dataIndices[Lr]=Yn}}(),_addBevelBar:function(){var e=Ia.create(),r=Ia.create(),c=Ia.create(),f=Wf.create(),p=[],x=[1,-1,-1,1],w=[1,1,-1,-1],I=[2,0];return function(F,$,ue,Pe,Ze,Ge,at){Ia.copy(r,$),Ia.normalize(r,r),Ia.cross(c,ue,r),Ia.normalize(c,c),Ia.cross(e,r,c),Ia.normalize(c,c),f[0]=e[0],f[1]=e[1],f[2]=e[2],f[3]=r[0],f[4]=r[1],f[5]=r[2],f[6]=c[0],f[7]=c[1],f[8]=c[2],Ze=Math.min(Pe[0],Pe[2])/2*Ze;for(var st=0;st<3;st++)p[st]=Math.max(Pe[st]-2*Ze,0);var Nt=(Pe[0]-p[0])/2,Bt=(Pe[1]-p[1])/2,an=(Pe[2]-p[2])/2,nn=[],en=[],Tn=this._vertexOffset,wn=[];for(st=0;st<2;st++){wn[st]=wn[st]=[];for(var Zn=0;Zn<=Ge;Zn++)for(var Yn=0;Yn<4;Yn++){(0===Zn&&0===st||1===st&&Zn===Ge)&&wn[st].push(Tn);for(var nr=0;nr<=Ge;nr++){var Pr=nr/Ge*Math.PI/2+Math.PI/2*Yn,cr=Zn/Ge*Math.PI/2+Math.PI/2*st;en[0]=Nt*Math.cos(Pr)*Math.sin(cr),en[1]=Bt*Math.cos(cr),en[2]=an*Math.sin(Pr)*Math.sin(cr),nn[0]=en[0]+x[Yn]*p[0]/2,nn[1]=en[1]+Bt+I[st]*p[1]/2,nn[2]=en[2]+w[Yn]*p[2]/2,Math.abs(Nt-Bt)<1e-6&&Math.abs(Bt-an)<1e-6||(en[0]/=Nt*Nt,en[1]/=Bt*Bt,en[2]/=an*an),Ia.normalize(en,en),Ia.transformMat3(nn,nn,f),Ia.transformMat3(en,en,f),Ia.add(nn,nn,F),this.attributes.position.set(Tn,nn),this.enableNormal&&this.attributes.normal.set(Tn,en),this.attributes.color.set(Tn,at),Tn++}}}var Lr=4*Ge+3,Ir=2*Ge+1,Cr=Lr+1;for(Yn=0;Yn<Ir;Yn++)for(st=0;st<=Lr;st++){var Br=Yn*Cr+st+this._vertexOffset,Xr=Yn*Cr+(st+1)%Cr+this._vertexOffset,mi=(Yn+1)*Cr+(st+1)%Cr+this._vertexOffset,Gr=(Yn+1)*Cr+st+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[mi,Br,Xr]),this.setTriangleIndices(this._triangleOffset++,[mi,Gr,Br])}this.setTriangleIndices(this._triangleOffset++,[wn[0][0],wn[0][2],wn[0][1]]),this.setTriangleIndices(this._triangleOffset++,[wn[0][0],wn[0][3],wn[0][2]]),this.setTriangleIndices(this._triangleOffset++,[wn[1][0],wn[1][1],wn[1][2]]),this.setTriangleIndices(this._triangleOffset++,[wn[1][0],wn[1][2],wn[1][3]]),this._vertexOffset=Tn}}()});P.D5.defaults(Wh.prototype,_u),P.D5.defaults(Wh.prototype,Bs);const tp=Wh;var np=po.vec3;const H2=P.TA.extend({type:"bar3D",__ecgl__:!0,init:function(e,r){this.groupGL=new dn.Node,this._api=r,this._labelsBuilder=new Tl(256,256,r);var c=this;this._labelsBuilder.getLabelPosition=function(f,p,x){if(c._data){var w=c._data.getItemLayout(f);return np.scaleAndAdd([],w[0],w[1],x+w[2][1])}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,r,c){var f=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=f,this._barMesh||(this._barMesh=new dn.Mesh({geometry:new tp,shadowDepthMaterial:new dn.Material({shader:new dn.Shader(dn.Shader.source("ecgl.sm.depth.vertex"),dn.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===e.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var p=e.coordinateSystem;if(this._doRender(e,c),p&&p.viewGL){p.viewGL.add(this.groupGL);var x=p.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[x]("fragment","SRGB_DECODE")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){dn.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,r){var c=e.getData(),f=e.get("shading"),p="color"!==f,x=this,w=this._barMesh,I="ecgl."+f;(!w.material||w.material.shader.name!==I)&&(w.material=dn.createMaterial(I,["VERTEX_COLOR"])),dn.setMaterialFromModel(f,w.material,e,r),w.geometry.enableNormal=p,w.geometry.resetOffset();var F=e.get("bevelSize"),$=e.get("bevelSmoothness");w.geometry.bevelSegments=$,w.geometry.bevelSize=F;var ue=[],Pe=new Float32Array(4*c.count()),Ze=0,Ge=0,at=!1;c.each(function(an){if(c.hasValue(an)){var nn=zo(c,an),en=Co(c,an);null==en&&(en=1),dn.parseColor(nn,ue),ue[3]*=en,Pe[Ze++]=ue[0],Pe[Ze++]=ue[1],Pe[Ze++]=ue[2],Pe[Ze++]=ue[3],ue[3]>0&&(Ge++,ue[3]<.99&&(at=!0))}}),w.geometry.setBarCount(Ge);var st=c.getLayout("orient"),Nt=this._barIndexOfData=new Int32Array(c.count());Ge=0,c.each(function(an){if(c.hasValue(an)){var nn=c.getItemLayout(an),en=nn[0],Tn=nn[1],wn=nn[2],Zn=4*an;ue[0]=Pe[Zn++],ue[1]=Pe[Zn++],ue[2]=Pe[Zn++],ue[3]=Pe[Zn++],ue[3]>0&&(x._barMesh.geometry.addBar(en,Tn,st,wn,ue,an),Nt[an]=Ge++)}else Nt[an]=-1}),w.geometry.dirty(),w.geometry.updateBoundingBox();var Bt=w.material;Bt.transparent=at,Bt.depthMask=!at,w.geometry.sortTriangles=at,this._initHandler(e,r)},_initHandler:function(e,r){var c=e.getData(),f=this._barMesh,p="cartesian3D"===e.coordinateSystem.type;f.seriesIndex=e.seriesIndex;var x=-1;f.off("mousemove"),f.off("mouseout"),f.on("mousemove",function(w){var I=f.geometry.getDataIndexOfVertex(w.triangle[0]);I!==x&&(this._downplay(x),this._highlight(I),this._labelsBuilder.updateLabels([I]),p&&r.dispatchAction({type:"grid3DShowAxisPointer",value:[c.get("x",I),c.get("y",I),c.get("z",I,!0)]})),x=I,f.dataIndex=I},this),f.on("mouseout",function(w){this._downplay(x),this._labelsBuilder.updateLabels(),x=-1,f.dataIndex=-1,p&&r.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_highlight:function(e){var r=this._data;if(r){var c=this._barIndexOfData[e];if(!(c<0)){var p=r.getItemModel(e).getModel("emphasis.itemStyle"),x=p.get("color"),w=p.get("opacity");if(null==x){var I=zo(r,e);x=P.$_.lift(I,-.4)}null==w&&(w=Co(r,e));var F=dn.parseColor(x);F[3]*=w,this._barMesh.geometry.setColor(c,F),this._api.getZr().refresh()}}},_downplay:function(e){var r=this._data;if(r){var c=this._barIndexOfData[e];if(!(c<0)){var f=zo(r,e),p=Co(r,e),x=dn.parseColor(f);x[3]*=p,this._barMesh.geometry.setColor(c,x),this._api.getZr().refresh()}}},highlight:function(e,r,c,f){this._toggleStatus("highlight",e,r,c,f)},downplay:function(e,r,c,f){this._toggleStatus("downplay",e,r,c,f)},_toggleStatus:function(e,r,c,f,p){var x=r.getData(),w=Ki.queryDataIndex(x,p),I=this;null!=w?P.D5.each(qc.normalizeToArray(w),function(F){"highlight"===e?this._highlight(F):this._downplay(F)},this):x.each(function(F){"highlight"===e?I._highlight(F):I._downplay(F)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});(0,P.D$)(function(e){e.registerChartView(H2),e.registerSeriesModel(Gh),ep(e),e.registerProcessor(function(r,c){r.eachSeriesByType("bar3d",function(f){var p=f.getData();p.filterSelf(function(x){return p.hasValue(x)})})})});var Y2=P.wJ.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,r){return $u(this)},formatTooltip:function(e){return Ku(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}});const G2=Y2;var W2=E(8074),rp=po.vec3;dn.Shader.import(Ah);const Zh=P.TA.extend({type:"line3D",__ecgl__:!0,init:function(e,r){this.groupGL=new dn.Node,this._api=r},render:function(e,r,c){var f=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=f,this._line3DMesh||(this._line3DMesh=new dn.Mesh({geometry:new Fl({useNativeLine:!1,sortTriangles:!0}),material:new dn.Material({shader:dn.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var p=e.coordinateSystem;if(p&&p.viewGL){p.viewGL.add(this.groupGL);var x=p.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[x]("fragment","SRGB_DECODE")}this._doRender(e,c),this._data=e.getData(),this._camera=p.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,r){var c=e.getData(),f=this._line3DMesh;f.geometry.resetOffset();var p=c.getLayout("points"),x=[],w=new Float32Array(p.length/3*4),I=0,F=!1;c.each(function(Pe){var Ze=zo(c,Pe),Ge=Co(c,Pe);null==Ge&&(Ge=1),dn.parseColor(Ze,x),x[3]*=Ge,w[I++]=x[0],w[I++]=x[1],w[I++]=x[2],w[I++]=x[3],x[3]<.99&&(F=!0)}),f.geometry.setVertexCount(f.geometry.getPolylineVertexCount(p)),f.geometry.setTriangleCount(f.geometry.getPolylineTriangleCount(p)),f.geometry.addPolyline(p,w,Ki.firstNotNull(e.get("lineStyle.width"),1)),f.geometry.dirty(),f.geometry.updateBoundingBox();var $=f.material;$.transparent=F,$.depthMask=!F;var ue=e.getModel("debug.wireframe");ue.get("show")?(f.geometry.createAttribute("barycentric","float",3),f.geometry.generateBarycentric(),f.material.set("both","WIREFRAME_TRIANGLE"),f.material.set("wireframeLineColor",dn.parseColor(ue.get("lineStyle.color")||"rgba(0,0,0,0.5)")),f.material.set("wireframeLineWidth",Ki.firstNotNull(ue.get("lineStyle.width"),1))):f.material.set("both","WIREFRAME_TRIANGLE"),this._points=p,this._initHandler(e,r)},_updateAnimation:function(e){dn.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,r){var c=e.getData(),f=e.coordinateSystem,p=this._line3DMesh,x=-1;p.seriesIndex=e.seriesIndex,p.off("mousemove"),p.off("mouseout"),p.on("mousemove",function(w){var I=f.pointToData(w.point.array),F=c.indicesOfNearest("x",I[0])[0];F!==x&&(r.dispatchAction({type:"grid3DShowAxisPointer",value:[c.get("x",F),c.get("y",F),c.get("z",F)]}),p.dataIndex=F),x=F},this),p.on("mouseout",function(w){x=-1,p.dataIndex=-1,r.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateNDCPosition:function(){var e=new Er,r=this._camera;Er.multiply(e,r.projectionMatrix,r.viewMatrix);var c=this._positionNDC,f=this._points,p=f.length/3;(!c||c.length/2!==p)&&(c=this._positionNDC=new Float32Array(2*p));for(var x=[],w=0;w<p;w++){var I=3*w,F=2*w;x[0]=f[I],x[1]=f[I+1],x[2]=f[I+2],x[3]=1,rp.transformMat4(x,x,e.array),c[F]=x[0]/x[3],c[F+1]=x[1]/x[3]}},_pick:function(e,r,c,f,p,x){var w=this._positionNDC,F=this._data.hostModel.get("lineStyle.width"),$=-1,Ze=.5*c.viewport.width,Ge=.5*c.viewport.height;e=(e+1)*Ze,r=(r+1)*Ge;for(var at=1;at<w.length/2;at++){var st=(w[2*(at-1)]+1)*Ze,Nt=(w[2*(at-1)+1]+1)*Ge,Bt=(w[2*at]+1)*Ze,an=(w[2*at+1]+1)*Ge;W2.m(st,Nt,Bt,an,F,e,r)&&($=(st-e)*(st-e)+(Nt-r)*(Nt-r)<(Bt-e)*(Bt-e)+(an-r)*(an-r)?at-1:at)}if($>=0){var Tn=3*$,wn=new Tr(this._points[Tn],this._points[Tn+1],this._points[Tn+2]);x.push({dataIndex:$,point:wn,pointWorld:wn.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(wn)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});(0,P.D$)(function(e){e.registerChartView(Zh),e.registerSeriesModel(G2),e.registerLayout(function(r,c){r.eachSeriesByType("line3D",function(f){var p=f.getData(),x=f.coordinateSystem;if(x){if("cartesian3D"!==x.type)return;var w=new Float32Array(3*p.count()),I=[],F=[],ue=x.dimensions.map(function(Pe){return f.coordDimToDataDim(Pe)[0]});x&&p.each(ue,function(Pe,Ze,Ge,at){I[0]=Pe,I[1]=Ze,I[2]=Ge,x.dataToPoint(I,F),w[3*at]=F[0],w[3*at+1]=F[1],w[3*at+2]=F[2]}),p.setLayout("points",w)}})})});const Z2=P.wJ.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(e,r){return $u(this)},getFormattedLabel:function(e,r,c,f){var p=qc.getFormattedLabel(this,e,r,c,f);if(null==p){var x=this.getData();p=x.get(x.dimensions[x.dimensions.length-1],e)}return p},formatTooltip:function(e){return Ku(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function jh(e,r,c){(r=r||document.createElement("canvas")).width=e,r.height=e;var f=r.getContext("2d");return c&&c(f),r}var Kf={getMarginByStyle:function(e){var r=e.minMargin||0,c=0;e.stroke&&"none"!==e.stroke&&(c=null==e.lineWidth?1:e.lineWidth);var f=e.shadowBlur||0,p=e.shadowOffsetX||0,x=e.shadowOffsetY||0,w={};return w.left=Math.max(c/2,-p+f,r),w.right=Math.max(c/2,p+f,r),w.top=Math.max(c/2,-x+f,r),w.bottom=Math.max(c/2,x+f,r),w},createSymbolSprite:function(e,r,c,f){var p=function(e,r,c,f){P.D5.isArray(r)||(r=[r,r]);var p=Kf.getMarginByStyle(c,void 0),x=r[0]+p.left+p.right,w=r[1]+p.top+p.bottom,I=P._y.createSymbol(e,0,0,r[0],r[1]),F=Math.max(x,w);I.x=p.left,I.y=p.top,x>w?I.y+=(F-w)/2:I.x+=(F-x)/2;var $=I.getBoundingRect();return I.x-=$.x,I.y-=$.y,I.setStyle(c),I.update(),I.__size=F,I}(e,r,c),x=Kf.getMarginByStyle(c);return{image:jh(p.__size,f,function(w){P.z$(w,p)}),margin:x}},createSDFFromCanvas:function(e,r,c,f){return jh(r,f,function(p){var w=e.getContext("2d").getImageData(0,0,e.width,e.height);p.putImageData(function(e,r,c){var f=r.width,p=r.height,x=e.canvas.width,w=e.canvas.height,I=f/x,F=p/w;function $(Bt){return Bt<128?1:-1}function ue(Bt,an){var nn=1/0;Bt=Math.floor(Bt*I),an=Math.floor(an*F);for(var wn=$(r.data[4*(an*f+Bt)]),Zn=Math.max(an-c,0);Zn<Math.min(an+c,p);Zn++)for(var Yn=Math.max(Bt-c,0);Yn<Math.min(Bt+c,f);Yn++){var cr=Yn-Bt,Lr=Zn-an;if(wn!==$(r.data[4*(Zn*f+Yn)])){var Ir=cr*cr+Lr*Lr;Ir<nn&&(nn=Ir)}}return wn*Math.sqrt(nn)}for(var Pe=e.createImageData(x,w),Ze=0;Ze<w;Ze++)for(var Ge=0;Ge<x;Ge++){var st=ue(Ge,Ze)/c*.5+.5,Nt=4*(Ze*x+Ge);Pe.data[Nt++]=255*(1-st),Pe.data[Nt++]=255*(1-st),Pe.data[Nt++]=255*(1-st),Pe.data[Nt++]=255}return Pe}(p,w,c),0,0)})},createSimpleSprite:function(e,r){return jh(e,r,function(c){var f=e/2;c.beginPath(),c.arc(f,f,60,0,2*Math.PI,!1),c.closePath();var p=c.createRadialGradient(f,f,0,f,f,f);p.addColorStop(0,"rgba(255, 255, 255, 1)"),p.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),p.addColorStop(1,"rgba(255, 255, 255, 0)"),c.fillStyle=p,c.fill()})}};const K2=Kf;var $2=po.vec3;const ip={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,r){var c=this.indices,f=$2.create();if(!c){c=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var p=0;p<c.length;p++)c[p]=p}if(0===r){var I,x=this.attributes.position,w=(e=e.array,0);for((!this._zList||this._zList.length!==this.vertexCount)&&(this._zList=new Float32Array(this.vertexCount)),p=0;p<this.vertexCount;p++){x.get(p,f);var F=$2.sqrDist(f,e);isNaN(F)&&(F=1e7,w++),0===p?(I=F,F=0):F-=I,this._zList[p]=F}this._noneCount=w}if(this.vertexCount<2e4)0===r&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(p=0;p<3;p++)this._progressiveQuickSort(3*r+p);this.dirtyIndices()},_simpleSort:function(e){var r=this._zList,c=this.indices;function f(p,x){return r[x]-r[p]}e?Array.prototype.sort.call(c,f):wf.sort(c,f,0,c.length-1)},_progressiveQuickSort:function(e){var r=this._zList,c=this.indices;this._quickSort=this._quickSort||new wf,this._quickSort.step(c,function(f,p){return r[p]-r[f]},e)}};var Q2=po.vec4;dn.Shader.import("@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end");var $f=dn.Mesh.extend(function(){var e=new dn.Geometry({dynamic:!0,attributes:{color:new dn.Geometry.Attribute("color","float",4,"COLOR"),position:new dn.Geometry.Attribute("position","float",3,"POSITION"),size:new dn.Geometry.Attribute("size","float",1),prevPosition:new dn.Geometry.Attribute("prevPosition","float",3),prevSize:new dn.Geometry.Attribute("prevSize","float",1)}});Object.assign(e,ip);var r=new dn.Material({shader:dn.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});r.enableTexture("sprite"),r.define("both","VERTEX_COLOR"),r.define("both","VERTEX_SIZE");var c=new dn.Texture2D({image:document.createElement("canvas"),flipY:!1});return r.set("sprite",c),e.pick=this._pick.bind(this),{geometry:e,material:r,mode:dn.Mesh.POINTS,sizeScale:1}},{_pick:function(e,r,c,f,p,x){var w=this._positionNDC;if(w)for(var I=c.viewport,F=2/I.width,$=2/I.height,ue=this.geometry.vertexCount-1;ue>=0;ue--){var Pe,Ze=w[2*(Pe=this.geometry.indices?this.geometry.indices[ue]:ue)],Ge=w[2*Pe+1],st=this.geometry.attributes.size.get(Pe)/this.sizeScale/2;if(e>Ze-st*F&&e<Ze+st*F&&r>Ge-st*$&&r<Ge+st*$){var Nt=new dn.Vector3,Bt=new dn.Vector3;this.geometry.attributes.position.get(Pe,Nt.array),dn.Vector3.transformMat4(Bt,Nt,this.worldTransform),x.push({vertexIndex:Pe,point:Nt,pointWorld:Bt,target:this,distance:Bt.distance(f.getWorldPosition())})}}},updateNDCPosition:function(e,r,c){var f=this._positionNDC,p=this.geometry;(!f||f.length/2!==p.vertexCount)&&(f=this._positionNDC=new Float32Array(2*p.vertexCount));for(var x=Q2.create(),w=0;w<p.vertexCount;w++)p.attributes.position.get(w,x),x[3]=1,Q2.transformMat4(x,x,e.array),Q2.scale(x,x,1/x[3]),f[2*w]=x[0],f[2*w+1]=x[1]}});const ap=$f;function Kh(e,r){this.rootNode=new dn.Node,this.is2D=e,this._labelsBuilder=new Tl(256,256,r),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=r,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}Kh.prototype={constructor:Kh,highlightOnMouseover:!0,update:function(e,r,c,f,p){var x=this._prevMesh;this._prevMesh=this._mesh,this._mesh=x;var w=e.getData();if(null==f&&(f=0),null==p&&(p=w.count()),this._startDataIndex=f,this._endDataIndex=p-1,!this._mesh){var I=this._prevMesh&&this._prevMesh.material;this._mesh=new ap({renderOrder:10,frustumCulling:!1}),I&&(this._mesh.material=I)}I=this._mesh.material;var F=this._mesh.geometry,$=F.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var ue=this._getSymbolInfo(e,f,p),Pe=c.getDevicePixelRatio(),Ze=e.getModel("itemStyle").getItemStyle(),Ge=e.get("large"),at=1;ue.maxSize>2?(at=this._updateSymbolSprite(e,Ze,ue,Pe),I.enableTexture("sprite")):I.disableTexture("sprite"),$.position.init(p-f);var st=[];if(Ge){I.undefine("VERTEX_SIZE"),I.undefine("VERTEX_COLOR");var Nt=function(e){const r=e.getVisual("style");if(r)return r[e.getVisual("drawType")]}(w),Bt=function(e){return e.getVisual("style").opacity}(w);dn.parseColor(Nt,st),st[3]*=Bt,I.set({color:st,u_Size:ue.maxSize*this._sizeScale})}else I.set({color:[1,1,1,1]}),I.define("VERTEX_SIZE"),I.define("VERTEX_COLOR"),$.size.init(p-f),$.color.init(p-f),this._originalOpacity=new Float32Array(p-f);for(var an=w.getLayout("points"),nn=$.position.value,Tn=0;Tn<p-f;Tn++){var wn=3*Tn,Zn=2*Tn;if(this.is2D?(nn[wn]=an[Zn],nn[wn+1]=an[Zn+1],nn[wn+2]=-10):(nn[wn]=an[wn],nn[wn+1]=an[wn+1],nn[wn+2]=an[wn+2]),!Ge){Nt=zo(w,Tn),Bt=Co(w,Tn),dn.parseColor(Nt,st),st[3]*=Bt,$.color.set(Tn,st);var Yn=w.getItemVisual(Tn,"symbolSize");Yn=Yn instanceof Array?Math.max(Yn[0],Yn[1]):Yn,isNaN(Yn)&&(Yn=0),$.size.value[Tn]=Yn*at*this._sizeScale,this._originalOpacity[Tn]=st[3]}}this._mesh.sizeScale=at,F.updateBoundingBox(),F.dirty(),this._updateMaterial(e,Ze);var nr=e.coordinateSystem;nr&&nr.viewGL&&I[nr.viewGL.isLinearSpace()?"define":"undefine"]("fragment","SRGB_DECODE"),Ge||this._updateLabelBuilder(e,f,p),this._updateHandler(e,r,c),this._updateAnimation(e),this._api=c},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(e,r,c,f){c.maxSize=Math.min(2*c.maxSize,200);var p=[];return c.aspect>1?(p[0]=c.maxSize,p[1]=c.maxSize/c.aspect):(p[1]=c.maxSize,p[0]=c.maxSize*c.aspect),p[0]=p[0]||1,p[1]=p[1]||1,(this._symbolType!==c.type||!function(e,r){return e&&r&&e[0]===r[0]&&e[1]===r[1]}(this._symbolSize,p)||this._lineWidth!==r.lineWidth)&&(K2.createSymbolSprite(c.type,p,{fill:"#fff",lineWidth:r.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(p[0]/2,10)},this._spriteImageCanvas),K2.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),20,this._mesh.material.get("sprite").image),this._symbolType=c.type,this._symbolSize=p,this._lineWidth=r.lineWidth),this._spriteImageCanvas.width/c.maxSize*f},_updateMaterial:function(e,r){var c="lighter"===e.get("blendMode")?dn.additiveBlend:null,f=this._mesh.material;f.blend=c,f.set("lineWidth",r.lineWidth/20);var p=dn.parseColor(r.stroke);f.set("strokeColor",p),f.transparent=!0,f.depthMask=!1,f.depthTest=!this.is2D,f.sortVertices=!this.is2D},_updateLabelBuilder:function(e,r,c){var f=e.getData(),p=this._mesh.geometry,x=p.attributes.position.value,w=this._mesh.sizeScale;this._labelsBuilder.updateData(f,r=this._startDataIndex,c),this._labelsBuilder.getLabelPosition=function(I,F,$){var ue=3*(I-r);return[x[ue],x[ue+1],x[ue+2]]},this._labelsBuilder.getLabelDistance=function(I,F,$){return p.attributes.size.get(I-r)/w/2+$},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){dn.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,r,c){var F,f=e.getData(),p=this._mesh,x=this,w=-1,I=e.coordinateSystem&&"cartesian3D"===e.coordinateSystem.type;I&&(F=e.coordinateSystem.model),p.seriesIndex=e.seriesIndex,p.off("mousemove"),p.off("mouseout"),p.on("mousemove",function($){var ue=$.vertexIndex+x._startDataIndex;ue!==w&&(this.highlightOnMouseover&&(this.downplay(f,w),this.highlight(f,ue),this._labelsBuilder.updateLabels([ue])),I&&c.dispatchAction({type:"grid3DShowAxisPointer",value:[f.get(e.coordDimToDataDim("x")[0],ue),f.get(e.coordDimToDataDim("y")[0],ue),f.get(e.coordDimToDataDim("z")[0],ue)],grid3DIndex:F.componentIndex})),p.dataIndex=ue,w=ue},this),p.on("mouseout",function($){this.highlightOnMouseover&&(this.downplay(f,$.vertexIndex+x._startDataIndex),this._labelsBuilder.updateLabels()),w=-1,p.dataIndex=-1,I&&c.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:F.componentIndex})},this)},updateLayout:function(e,r,c){var f=e.getData();if(this._mesh){var p=this._mesh.geometry.attributes.position.value,x=f.getLayout("points");if(this.is2D)for(var w=0;w<x.length/2;w++){var I=3*w,F=2*w;p[I]=x[F],p[I+1]=x[F+1],p[I+2]=-10}else for(w=0;w<x.length;w++)p[w]=x[w];this._mesh.geometry.dirty(),c.getZr().refresh()}},updateView:function(e){if(this._mesh){var r=new Er;Er.mul(r,e.viewMatrix,this._mesh.worldTransform),Er.mul(r,e.projectionMatrix,r),this._mesh.updateNDCPosition(r,this.is2D,this._api)}},highlight:function(e,r){if(!(r>this._endDataIndex||r<this._startDataIndex)){var f=e.getItemModel(r).getModel("emphasis.itemStyle"),p=f.get("color"),x=f.get("opacity");if(null==p){var w=zo(e,r);p=P.$_.lift(w,-.4)}null==x&&(x=Co(e,r));var I=dn.parseColor(p);I[3]*=x,this._mesh.geometry.attributes.color.set(r-this._startDataIndex,I),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(e,r){if(!(r>this._endDataIndex||r<this._startDataIndex)){var c=zo(e,r),f=Co(e,r),p=dn.parseColor(c);p[3]*=f,this._mesh.geometry.attributes.color.set(r-this._startDataIndex,p),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var r=this._mesh.geometry,c=0;c<r.vertexCount;c++)r.attributes.color.value[4*c+3]=this._originalOpacity[c]*e;r.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var r=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",r/this._sizeScale*e);var c=this._mesh.geometry.attributes;if(c.size.value)for(var f=0;f<c.size.value.length;f++)c.size.value[f]=c.size.value[f]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,r){r&&e.material.set("positionTexture",r),e.material[r?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(e,r,c){if(e.get("large"))return(f=Ki.firstNotNull(e.get("symbolSize"),1))instanceof Array?($=Math.max(f[0],f[1]),x=f[0]/f[1]):($=f,x=1),{maxSize:f,type:e.get("symbol"),aspect:x};for(var x,p=e.getData(),I=p.getItemVisual(0,"symbol")||"circle",$=0,ue=r;ue<c;ue++){var Ze,f=p.getItemVisual(ue,"symbolSize"),Pe=p.getItemVisual(ue,"symbol");if(f instanceof Array)Ze=f[0]/f[1],$=Math.max(Math.max(f[0],f[1]),$);else{if(isNaN(f))continue;Ze=1,$=Math.max(f,$)}I=Pe,x=Ze}return{maxSize:$,type:I,aspect:x}}};const $h=Kh,v1=P.TA.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(e,r){this.groupGL=new dn.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,r,c){if(this.groupGL.removeAll(),e.getData().count()){var f=e.coordinateSystem;if(f&&f.viewGL){f.viewGL.add(this.groupGL),this._camera=f.viewGL.camera;var p=this._pointsBuilderList[0];p||(p=this._pointsBuilderList[0]=new $h(!1,c)),this._pointsBuilderList.length=1,this.groupGL.add(p.rootNode),p.update(e,r,c),p.updateView(f.viewGL.camera)}}},incrementalPrepareRender:function(e,r,c){var f=e.coordinateSystem;f&&f.viewGL&&(f.viewGL.add(this.groupGL),this._camera=f.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,r,c,f){if(!(e.end<=e.start)){var p=this._pointsBuilderList[this._currentStep];p||(p=new $h(!1,f),this._pointsBuilderList[this._currentStep]=p),this.groupGL.add(p.rootNode),p.update(r,c,f,e.start,e.end),p.updateView(r.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach(function(e){e.updateView(this._camera)},this)},highlight:function(e,r,c,f){this._toggleStatus("highlight",e,r,c,f)},downplay:function(e,r,c,f){this._toggleStatus("downplay",e,r,c,f)},_toggleStatus:function(e,r,c,f,p){var x=r.getData(),w=Ki.queryDataIndex(x,p),I="highlight"===e;null!=w?P.D5.each(qc.normalizeToArray(w),function(F){for(var $=0;$<this._pointsBuilderList.length;$++){var ue=this._pointsBuilderList[$];I?ue.highlight(x,F):ue.downplay(x,F)}},this):x.each(function(F){for(var $=0;$<this._pointsBuilderList.length;$++){var ue=this._pointsBuilderList[$];I?ue.highlight(x,F):ue.downplay(x,F)}})},dispose:function(){this._pointsBuilderList.forEach(function(e){e.dispose()}),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});(0,P.D$)(function(e){e.registerChartView(v1),e.registerSeriesModel(Z2),e.registerLayout({seriesType:"scatter3D",reset:function(r){var c=r.coordinateSystem;if(c){var f=c.dimensions;if(f.length<3)return;var p=f.map(function(I){return r.coordDimToDataDim(I)[0]}),x=[],w=[];return{progress:function(I,F){for(var $=new Float32Array(3*(I.end-I.start)),ue=I.start;ue<I.end;ue++){var Pe=3*(ue-I.start);x[0]=F.get(p[0],ue),x[1]=F.get(p[1],ue),x[2]=F.get(p[2],ue),c.dataToPoint(x,w),$[Pe]=w[0],$[Pe+1]=w[1],$[Pe+2]=w[2]}F.setLayout("points",$)}}}}})});var Uo=po.vec3,nl=po.vec2,mc=Uo.normalize,Xf=Uo.cross,Al=Uo.sub,eu=Uo.add,ss=Uo.create,yc=ss(),ul=ss(),Yl=ss(),tu=ss(),p1=[],Xh=[];function ev(e,r){nl.copy(p1,e[0]),nl.copy(Xh,e[1]);var c=[],f=c[0]=ss(),p=c[1]=ss(),x=c[2]=ss(),w=c[3]=ss();r.dataToPoint(p1,f),r.dataToPoint(Xh,w),mc(yc,f),Al(ul,w,f),mc(ul,ul),Xf(Yl,ul,yc),mc(Yl,Yl),Xf(ul,yc,Yl),eu(p,yc,ul),mc(p,p),mc(yc,w),Al(ul,f,w),mc(ul,ul),Xf(Yl,ul,yc),mc(Yl,Yl),Xf(ul,yc,Yl),eu(x,yc,ul),mc(x,x),eu(tu,f,w),mc(tu,tu);var I=Uo.dot(f,tu),F=Uo.dot(tu,p),$=(Math.max(Uo.len(f),Uo.len(w))-I)/F*2;return Uo.scaleAndAdd(p,f,p,$),Uo.scaleAndAdd(x,w,x,$),c}function tv(e,r){for(var c=new Float32Array(3*e.length),f=0,p=[],x=0;x<e.length;x++)r.dataToPoint(e[x],p),c[f++]=p[0],c[f++]=p[1],c[f++]=p[2];return c}function Qf(e){var r=[];return e.each(function(c){var f=e.getItemModel(c),p=f.option instanceof Array?f.option:f.getShallow("coords",!0);r.push(p)}),{coordsList:r}}function Jf(e,r,c){var f=e.getData(),p=e.get("polyline"),x=Qf(f);f.setLayout("lineType",p?"polyline":"cubicBezier"),f.each(function(w){var I=x.coordsList[w],F=p?tv(I,r):function(e,r,c){var f=[],p=f[0]=Uo.create(),x=f[1]=Uo.create(),w=f[2]=Uo.create(),I=f[3]=Uo.create();r.dataToPoint(e[0],p),r.dataToPoint(e[1],I);var F=Uo.dist(p,I);return Uo.lerp(x,p,I,.3),Uo.lerp(w,p,I,.3),Uo.scaleAndAdd(x,x,c,Math.min(.1*F,10)),Uo.scaleAndAdd(w,w,c,Math.min(.1*F,10)),f}(I,r,c);f.setItemLayout(w,F)})}function g1(e,r){e.eachSeriesByType("lines3D",function(c){var f=c.coordinateSystem;"globe"===f.type?function(e,r){var c=e.getData(),f=e.get("polyline");c.setLayout("lineType",f?"polyline":"cubicBezier");var p=Qf(c);c.each(function(x){c.setItemLayout(x,(f?tv:ev)(p.coordsList[x],r))})}(c,f):"geo3D"===f.type?Jf(c,f,[0,1,0]):("mapbox3D"===f.type||"maptalks3D"===f.type)&&Jf(c,f,[0,0,1])})}const Qh=P.wJ.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,r){var c=new P.aV(["value"],this);return c.hasItemOption=!1,c.initData(e.data,[],function(f,p,x,w){if(f instanceof Array)return NaN;c.hasItemOption=!0;var I=f.value;return null!=I?I instanceof Array?I[w]:I:void 0}),c},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}});var Jh=po.vec3;function m1(e){return e>0?1:-1}dn.Shader.import("@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end");const V3=dn.Mesh.extend(function(){var e=new dn.Material({shader:new dn.Shader(dn.Shader.source("ecgl.trail2.vertex"),dn.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),r=new Fl({dynamic:!0});return r.createAttribute("dist","float",1),r.createAttribute("distAll","float",1),r.createAttribute("start","float",1),{geometry:r,material:e,culling:!1,$ignorePicking:!0}},{updateData:function(e,r,c){var f=e.hostModel,p=this.geometry,x=f.getModel("effect"),w=x.get("trailWidth")*r.getDevicePixelRatio(),I=x.get("trailLength"),F=f.get("effect.constantSpeed"),$=1e3*f.get("effect.period"),ue=null!=F;ue?this.material.set("speed",F/1e3):this.material.set("period",$),this.material[ue?"define":"undefine"]("vertex","CONSTANT_SPEED");var Pe=f.get("polyline");p.trailLength=I,this.material.set("trailLength",I),p.resetOffset(),["position","positionPrev","positionNext"].forEach(function(Zn){p.attributes[Zn].value=c.attributes[Zn].value}),["dist","distAll","start","offset","color"].forEach(function(Zn){p.attributes[Zn].init(p.vertexCount)}),p.indices=c.indices;var Ge=[],at=x.get("trailColor"),st=x.get("trailOpacity"),Nt=null!=at,Bt=null!=st;this.updateWorldTransform();var an=this.worldTransform.x.len(),nn=this.worldTransform.y.len(),en=this.worldTransform.z.len(),Tn=0,wn=0;e.each(function(Zn){var Yn=e.getItemLayout(Zn),nr=Bt?st:Co(e,Zn),Pr=zo(e,Zn);null==nr&&(nr=1),(Ge=dn.parseColor(Nt?at:Pr,Ge))[3]*=nr;for(var cr=Pe?c.getPolylineVertexCount(Yn):c.getCubicCurveVertexCount(Yn[0],Yn[1],Yn[2],Yn[3]),Lr=0,Ir=[],Cr=[],Br=Tn;Br<Tn+cr;Br++)p.attributes.position.get(Br,Ir),Ir[0]*=an,Ir[1]*=nn,Ir[2]*=en,Br>Tn&&(Lr+=Jh.dist(Ir,Cr)),p.attributes.dist.set(Br,Lr),Jh.copy(Cr,Ir);wn=Math.max(wn,Lr);var Xr=Math.random()*(ue?Lr:$);for(Br=Tn;Br<Tn+cr;Br++)p.attributes.distAll.set(Br,Lr),p.attributes.start.set(Br,Xr),p.attributes.offset.set(Br,m1(c.attributes.offset.get(Br))*w/2),p.attributes.color.set(Br,Ge);Tn+=cr}),this.material.set("spotSize",.1*wn*I),this.material.set("spotIntensity",x.get("spotIntensity")),p.dirty()},setAnimationTime:function(e){this.material.set("time",e)}});dn.Shader.import(Ah);const Gl=P.TA.extend({type:"lines3D",__ecgl__:!0,init:function(e,r){this.groupGL=new dn.Node,this._meshLinesMaterial=new dn.Material({shader:dn.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new dn.Mesh({geometry:new Fl,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new V3},render:function(e,r,c){this.groupGL.add(this._linesMesh);var f=e.coordinateSystem,p=e.getData();if(f&&f.viewGL){f.viewGL.add(this.groupGL),this._updateLines(e,r,c);var w=f.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[w]("fragment","SRGB_DECODE"),this._trailMesh.material[w]("fragment","SRGB_DECODE")}var I=this._trailMesh;if(I.stopAnimation(),e.get("effect.show")){this.groupGL.add(I),I.updateData(p,c,this._linesMesh.geometry),I.__time=I.__time||0;var F=36e5;this._curveEffectsAnimator=I.animate("",{loop:!0}).when(F,{__time:F}).during(function(){I.setAnimationTime(I.__time)}).start()}else this.groupGL.remove(I),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===e.get("blendMode")?dn.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,r,c){var f=e.getData(),p=e.coordinateSystem,x=this._linesMesh.geometry,w=e.get("polyline");x.expandLine=!0;var I=function(e){return null!=e.radius?e.radius:null!=e.size?Math.max(e.size[0],e.size[1],e.size[2]):100}(p);x.segmentScale=I/20;var F="lineStyle.width".split("."),$=c.getDevicePixelRatio(),ue=0;f.each(function(at){var Nt=f.getItemModel(at).get(F);null==Nt&&(Nt=1),f.setItemVisual(at,"lineWidth",Nt),ue=Math.max(Nt,ue)}),x.useNativeLine=!1;var Pe=0,Ze=0;f.each(function(at){var st=f.getItemLayout(at);w?(Pe+=x.getPolylineVertexCount(st),Ze+=x.getPolylineTriangleCount(st)):(Pe+=x.getCubicCurveVertexCount(st[0],st[1],st[2],st[3]),Ze+=x.getCubicCurveTriangleCount(st[0],st[1],st[2],st[3]))}),x.setVertexCount(Pe),x.setTriangleCount(Ze),x.resetOffset();var Ge=[];f.each(function(at){var st=f.getItemLayout(at),Nt=zo(f,at),Bt=Co(f,at),an=f.getItemVisual(at,"lineWidth")*$;null==Bt&&(Bt=1),(Ge=dn.parseColor(Nt,Ge))[3]*=Bt,w?x.addPolyline(st,Ge,an):x.addCubicCurve(st[0],st[1],st[2],st[3],Ge,an)}),x.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function ls(e,r){for(var c=[],f=0;f<r.length;f++)c.push(e.dataToPoint(r[f]));return c}(0,P.D$)(function(e){e.registerChartView(Gl),e.registerSeriesModel(Qh),e.registerLayout(g1),e.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),e.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),e.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){})});var Ya=P.wJ.extend({type:"series.polygons3D",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var r=this.coordinateSystem,c=this.getData().getItemModel(e),f=c.option instanceof Array?c.option:c.getShallow("coords");c.get("multiPolygon")||(f=[f]);for(var p=[],x=0;x<f.length;x++){for(var w=[],I=1;I<f[x].length;I++)w.push(ls(r,f[x][I]));p.push({exterior:ls(r,f[x][0]),interiors:w})}return p},getInitialData:function(e){var r=new P.aV(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(c,f,p,x){if(c instanceof Array)return NaN;r.hasItemOption=!0;var w=c.value;return null!=w?w instanceof Array?w[x]:w:void 0}),r},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});P.D5.merge(Ya.prototype,Uc);const qh=Ya,hl=P.TA.extend({type:"polygons3D",__ecgl__:!0,init:function(e,r){this.groupGL=new dn.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,r,c){this.groupGL.removeAll();var f=e.coordinateSystem;f&&f.viewGL&&f.viewGL.add(this.groupGL);var p=this._geo3DBuilderList[0];p||((p=new Hu(c)).extrudeY="mapbox3D"!==f.type&&"maptalks3D"!==f.type,this._geo3DBuilderList[0]=p),this._updateShaderDefines(f,p),p.update(e,r,c),this._geo3DBuilderList.length=1,this.groupGL.add(p.rootNode)},incrementalPrepareRender:function(e,r,c){this.groupGL.removeAll();var f=e.coordinateSystem;f&&f.viewGL&&f.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,r,c,f){var p=this._geo3DBuilderList[this._currentStep],x=r.coordinateSystem;p||((p=new Hu(f)).extrudeY="mapbox3D"!==x.type&&"maptalks3D"!==x.type,this._geo3DBuilderList[this._currentStep]=p),p.update(r,c,f,e.start,e.end),this.groupGL.add(p.rootNode),this._updateShaderDefines(x,p),this._currentStep++},_updateShaderDefines:function(e,r){var c=e.viewGL.isLinearSpace()?"define":"undefine";r.rootNode.traverse(function(f){f.material&&(f.material[c]("fragment","SRGB_DECODE"),("mapbox3D"===e.type||"maptalks3D"===e.type)&&(f.material.define("fragment","NORMAL_UP_AXIS",2),f.material.define("fragment","NORMAL_FRONT_AXIS",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach(function(e){e.dispose()})}});(0,P.D$)(function(e){e.registerChartView(hl),e.registerSeriesModel(qh)});var Xu=P.wJ.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(e){return Ku(this,e)},getInitialData:function(e,r){var c=e.data;function f(mi){return!(isNaN(mi.min)||isNaN(mi.max)||isNaN(mi.step))}function p(mi){var Gr=P.Rx.getPrecisionSafe;return Math.max(Gr(mi.min),Gr(mi.max),Gr(mi.step))+1}if(!c)if(e.parametric){var en=e.parametricEquation||{},Tn=en.u||{},wn=en.v||{};["u","v"].forEach(function(Gr){f(en[Gr])}),["x","y","z"].forEach(function(Gr){});var Zn=Math.floor((Tn.max+Tn.step-Tn.min)/Tn.step),Yn=Math.floor((wn.max+wn.step-wn.min)/wn.step);c=new Float32Array(Zn*Yn*5);for(var nr=p(Tn),Pr=p(wn),Ze=0,Ge=0;Ge<Yn;Ge++)for(var at=0;at<Zn;at++){var Lr=Ge*wn.step+wn.min,Ir=P.Rx.round(Math.min(at*Tn.step+Tn.min,Tn.max),nr),Cr=P.Rx.round(Math.min(Lr,wn.max),Pr),st=en.x(Ir,Cr),Nt=en.y(Ir,Cr),nn=en.z(Ir,Cr);c[Ze++]=st,c[Ze++]=Nt,c[Ze++]=nn,c[Ze++]=Ir,c[Ze++]=Cr}}else{var x=e.equation||{},w=x.x||{},I=x.y||{};if(["x","y"].forEach(function(mi){f(x[mi])}),"function"!=typeof x.z)return;var F=Math.floor((w.max+w.step-w.min)/w.step),$=Math.floor((I.max+I.step-I.min)/I.step);c=new Float32Array(F*$*3);var ue=p(w),Pe=p(I);for(Ze=0,Ge=0;Ge<$;Ge++)for(at=0;at<F;at++){st=at*w.step+w.min,Nt=Ge*I.step+I.min;var Bt=P.Rx.round(Math.min(st,w.max),ue),an=P.Rx.round(Math.min(Nt,I.max),Pe);nn=x.z(Bt,an),c[Ze++]=Bt,c[Ze++]=an,c[Ze++]=nn}}var Br=["x","y","z"];return e.parametric&&Br.push("u","v"),$u(this,Br,c)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});P.D5.merge(Xu.prototype,Uc);const ed=Xu;var dl=po.vec3;function td(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])}const nu=P.TA.extend({type:"surface",__ecgl__:!0,init:function(e,r){this.groupGL=new dn.Node},render:function(e,r,c){var f=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=f,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var p=e.coordinateSystem,x=e.get("shading"),w=e.getData(),I="ecgl."+x;if((!this._surfaceMesh.material||this._surfaceMesh.material.shader.name!==I)&&(this._surfaceMesh.material=dn.createMaterial(I,["VERTEX_COLOR","DOUBLE_SIDED"])),dn.setMaterialFromModel(x,this._surfaceMesh.material,e,c),p&&p.viewGL){p.viewGL.add(this.groupGL);var F=p.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[F]("fragment","SRGB_DECODE")}var $=e.get("parametric"),ue=e.get("dataShape");ue||(ue=this._getDataShape(w,$));var Pe=e.getModel("wireframe"),Ze=Pe.get("lineStyle.width"),Ge=Pe.get("show")&&Ze>0;this._updateSurfaceMesh(this._surfaceMesh,e,ue,Ge);var at=this._surfaceMesh.material;Ge?(at.define("WIREFRAME_QUAD"),at.set("wireframeLineWidth",Ze),at.set("wireframeLineColor",dn.parseColor(Pe.get("lineStyle.color")))):at.undefine("WIREFRAME_QUAD"),this._initHandler(e,c),this._updateAnimation(e)},_updateAnimation:function(e){dn.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new dn.Mesh({geometry:new dn.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new dn.Material({shader:new dn.Shader(dn.Shader.source("ecgl.sm.depth.vertex"),dn.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),Object.assign(e.geometry,Bs),e},_initHandler:function(e,r){var c=e.getData(),f=this._surfaceMesh,p=e.coordinateSystem;f.seriesIndex=e.seriesIndex;var w=-1;f.off("mousemove"),f.off("mouseout"),f.on("mousemove",function(I){var F=function(I,F){for(var $=1/0,ue=-1,Pe=[],Ze=0;Ze<I.length;Ze++){f.geometry.attributes.position.get(I[Ze],Pe);var Ge=dl.dist(F.array,Pe);Ge<$&&($=Ge,ue=I[Ze])}return ue}(I.triangle,I.point);if(F>=0){var $=[];f.geometry.attributes.position.get(F,$);for(var ue=p.pointToData($),Pe=1/0,Ze=-1,Ge=[],at=0;at<c.count();at++){Ge[0]=c.get("x",at),Ge[1]=c.get("y",at),Ge[2]=c.get("z",at);var st=dl.squaredDistance(Ge,ue);st<Pe&&(Ze=at,Pe=st)}Ze!==w&&r.dispatchAction({type:"grid3DShowAxisPointer",value:ue}),w=Ze,f.dataIndex=Ze}else f.dataIndex=-1},this),f.on("mouseout",function(I){w=-1,f.dataIndex=-1,r.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateSurfaceMesh:function(e,r,c,f){var p=e.geometry,x=r.getData(),w=x.getLayout("points"),I=0;x.each(function(ba){x.hasValue(ba)||I++});var F=I||f,$=p.attributes.position,ue=p.attributes.normal,Pe=p.attributes.texcoord0,Ze=p.attributes.barycentric,Ge=p.attributes.color,at=c[0],st=c[1],Bt="color"!==r.get("shading");if(F){var an=(at-1)*(st-1)*4;$.init(an),f&&Ze.init(an)}else $.value=new Float32Array(w);Ge.init(p.vertexCount),Pe.init(p.vertexCount);var nn=[0,3,1,1,3,2],en=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],Tn=p.indices=new(p.vertexCount>65535?Uint32Array:Uint16Array)((at-1)*(st-1)*6),wn=function(ba,Ll,bs){bs[1]=ba*st+Ll,bs[0]=ba*st+Ll+1,bs[3]=(ba+1)*st+Ll+1,bs[2]=(ba+1)*st+Ll},Zn=!1;if(F){var Yn=[],nr=[],Pr=0;Bt?ue.init(p.vertexCount):ue.value=null;for(var cr=[[],[],[]],Lr=[],Ir=[],Cr=dl.create(),Br=function(ba,Ll,bs){var s0=3*Ll;return bs[0]=ba[s0],bs[1]=ba[s0+1],bs[2]=ba[s0+2],bs},Xr=new Float32Array(w.length),mi=new Float32Array(w.length/3*4),Gr=0;Gr<x.count();Gr++)if(x.hasValue(Gr)){var Yo=dn.parseColor(zo(x,Gr));null!=(Ta=Co(x,Gr))&&(Yo[3]*=Ta),Yo[3]<.99&&(Zn=!0);for(var ui=0;ui<4;ui++)mi[4*Gr+ui]=Yo[ui]}var Ha=[1e7,1e7,1e7];for(Gr=0;Gr<at-1;Gr++)for(var Ma=0;Ma<st-1;Ma++){var Ka=4*(Gr*(st-1)+Ma);wn(Gr,Ma,Yn);var da=!1;for(ui=0;ui<4;ui++)Br(w,Yn[ui],nr),td(nr)&&(da=!0);for(ui=0;ui<4;ui++)da?$.set(Ka+ui,Ha):(Br(w,Yn[ui],nr),$.set(Ka+ui,nr)),f&&Ze.set(Ka+ui,en[ui]);for(ui=0;ui<6;ui++)Tn[Pr++]=nn[ui]+Ka;if(Bt&&!da)for(ui=0;ui<2;ui++){for(var _o=3*ui,uo=0;uo<3;uo++)Br(w,Io=Yn[nn[_o]+uo],cr[uo]);for(dl.sub(Lr,cr[0],cr[1]),dl.sub(Ir,cr[1],cr[2]),dl.cross(Cr,Lr,Ir),uo=0;uo<3;uo++){var cs=3*Yn[nn[_o]+uo];Xr[cs]=Xr[cs]+Cr[0],Xr[cs+1]=Xr[cs+1]+Cr[1],Xr[cs+2]=Xr[cs+2]+Cr[2]}}}if(Bt)for(Gr=0;Gr<Xr.length/3;Gr++)Br(Xr,Gr,Cr),dl.normalize(Cr,Cr),Xr[3*Gr]=Cr[0],Xr[3*Gr+1]=Cr[1],Xr[3*Gr+2]=Cr[2];Yo=[];var Go=[];for(Gr=0;Gr<at-1;Gr++)for(Ma=0;Ma<st-1;Ma++)for(Ka=4*(Gr*(st-1)+Ma),wn(Gr,Ma,Yn),ui=0;ui<4;ui++){for(uo=0;uo<4;uo++)Yo[uo]=mi[4*Yn[ui]+uo];var Io;Ge.set(Ka+ui,Yo),Bt&&(Br(Xr,Yn[ui],Cr),ue.set(Ka+ui,Cr)),Go[0]=(Io=Yn[ui])%st/(st-1),Go[1]=Math.floor(Io/st)/(at-1),Pe.set(Ka+ui,Go)}}else{for(Go=[],Gr=0;Gr<x.count();Gr++){var Ta;Go[0]=Gr%st/(st-1),Go[1]=Math.floor(Gr/st)/(at-1),Yo=dn.parseColor(zo(x,Gr)),null!=(Ta=Co(x,Gr))&&(Yo[3]*=Ta),Yo[3]<.99&&(Zn=!0),Ge.set(Gr,Yo),Pe.set(Gr,Go)}Yn=[];var x1=0;for(Gr=0;Gr<at-1;Gr++)for(Ma=0;Ma<st-1;Ma++)for(wn(Gr,Ma,Yn),ui=0;ui<6;ui++)Tn[x1++]=Yn[nn[ui]];Bt?p.generateVertexNormals():ue.value=null}e.material.get("normalMap")&&p.generateTangents(),p.updateBoundingBox(),p.dirty(),e.material.transparent=Zn,e.material.depthMask=!Zn},_getDataShape:function(e,r){for(var c=-1/0,f=0,p=0,w=!1,I=r?"u":"x",F=e.count(),$=0;$<F;$++){var ue=e.get(I,$);ue<c&&(p=0,f++),c=ue,p++}if((!f||1===p)&&(w=!0),!w)return[f+1,p];for(var Pe=Math.floor(Math.sqrt(F));Pe>0;){if(Math.floor(F/Pe)===F/Pe)return[Pe,F/Pe];Pe--}return[Pe=Math.floor(Math.sqrt(F)),Pe]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function _c(e,r){for(var c=[],f=0;f<r.length;f++)c.push(e.dataToPoint(r[f]));return c}(0,P.D$)(function(e){e.registerChartView(nu),e.registerSeriesModel(ed),e.registerLayout(function(r,c){r.eachSeriesByType("surface",function(f){var p=f.coordinateSystem,x=f.getData(),w=new Float32Array(3*x.count()),I=[NaN,NaN,NaN];if(p&&"cartesian3D"===p.type){var $=p.dimensions.map(function(ue){return f.coordDimToDataDim(ue)[0]});x.each($,function(ue,Pe,Ze,Ge){var at;at=x.hasValue(Ge)?p.dataToPoint([ue,Pe,Ze]):I,w[3*Ge]=at[0],w[3*Ge+1]=at[1],w[3*Ge+2]=at[2]})}x.setLayout("points",w)})})});var Pl=P.wJ.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(e){e=e||{};var r=this.get("coordinateSystem");null!=r&&"geo3D"!==r&&(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var r=P._y.createDimensions(e.data,{coordDimensions:["value"]}),c=new P.aV(r,this);c.initData(e.data);var f={};return c.each(function(p){var x=c.getName(p),w=c.getItemModel(p);f[x]=w}),this._regionModelMap=f,c},formatTooltip:function(e){return Ku(this,e)},getRegionModel:function(e){var r=this.getData().getName(e);return this._regionModelMap[r]||new P.Hn(null,this)},getRegionPolygonCoords:function(e){var r=this.coordinateSystem,c=this.getData().getName(e);if(r.transform)return(f=r.getRegion(c))?f.geometries:[];this._geo||(this._geo=$d.createGeo3D(this));for(var f=this._geo.getRegion(c),p=[],x=0;x<f.geometries.length;x++){var w=f.geometries[x],I=[],F=_c(r,w.exterior);if(I&&I.length)for(var $=0;$<w.interiors.length;$++)I.push(_c(r,I[$]));p.push({interiors:I,exterior:F})}return p},getFormattedLabel:function(e,r){var c=qc.getFormattedLabel(this,e,r);return null==c&&(c=this.getData().getName(e)),c},defaultOption:{coordinateSystem:"geo3D",data:null}});P.D5.merge(Pl.prototype,Ud),P.D5.merge(Pl.prototype,Ic),P.D5.merge(Pl.prototype,Th),P.D5.merge(Pl.prototype,Ch),P.D5.merge(Pl.prototype,Uc);const nd=Pl,av=P.TA.extend({type:"map3D",__ecgl__:!0,init:function(e,r){this._geo3DBuilder=new Hu(r),this.groupGL=new dn.Node},render:function(e,r,c){var f=e.coordinateSystem;if(f&&f.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),f.viewGL.add(this.groupGL),"geo3D"===f.type){this._sceneHelper||(this._sceneHelper=new kl,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(f.viewGL.scene),this._sceneHelper.updateLight(e),f.viewGL.setPostEffect(e.getModel("postEffect"),c),f.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var x=this._control;x||(x=this._control=new Md({zr:c.getZr()}),this._control.init());var w=e.getModel("viewControl");x.setViewGL(f.viewGL),x.setFromViewControlModel(w,0),x.off("update"),x.on("update",function(){c.dispatchAction({type:"map3DChangeCamera",alpha:x.getAlpha(),beta:x.getBeta(),distance:x.getDistance(),from:this.uid,map3DId:e.id})}),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,r,c,0,e.getData().count());var I=f.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(F){F.material&&F.material[I]("fragment","SRGB_DECODE")})}},afterRender:function(e,r,c,f){var p=f.renderer,x=e.coordinateSystem;x&&"geo3D"===x.type&&(this._sceneHelper.updateAmbientCubemap(p,e,c),this._sceneHelper.updateSkybox(p,e,c))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});(0,P.D$)(function(e){Xd(e),e.registerChartView(av),e.registerSeriesModel(nd),e.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(r,c){c.eachComponent({mainType:"series",subType:"map3D",query:r},function(f){f.setView(r)})})});const sv=P.wJ.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return P._y.createList(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});var lv=E(926),qf=E(7322);function xc(e){this.viewGL=e}xc.prototype.reset=function(e,r){this._updateCamera(r.getWidth(),r.getHeight(),r.getDevicePixelRatio()),this._viewTransform=lv.create(),this.updateTransform(e,r)},xc.prototype.updateTransform=function(e,r){var c=e.coordinateSystem;c.getRoamTransform&&(lv.invert(this._viewTransform,c.getRoamTransform()),this._setCameraTransform(this._viewTransform),r.getZr().refresh())},xc.prototype.dataToPoint=function(e,r,c){c=e.dataToPoint(r,null,c);var f=this._viewTransform;f&&qf.applyTransform(c,c,f)},xc.prototype.removeTransformInPoint=function(e){return this._viewTransform&&qf.applyTransform(e,e,this._viewTransform),e},xc.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1},xc.prototype._setCameraTransform=function(e){var r=this.viewGL.camera;r.position.set(e[4],e[5],0),r.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)},xc.prototype._updateCamera=function(e,r,c){this.viewGL.setViewport(0,0,e,r,c);var f=this.viewGL.camera;f.left=f.top=0,f.bottom=r,f.right=e,f.near=0,f.far=100};const cv=xc,cp=P.TA.extend({type:"scatterGL",__ecgl__:!0,init:function(e,r){this.groupGL=new dn.Node,this.viewGL=new dc("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new cv(this.viewGL)},render:function(e,r,c){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,c),e.getData().count()){var f=this._pointsBuilderList[0];f||(f=this._pointsBuilderList[0]=new $h(!0,c)),this._pointsBuilderList.length=1,this.groupGL.add(f.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),f.update(e,r,c),this.viewGL.setPostEffect(e.getModel("postEffect"),c)}},incrementalPrepareRender:function(e,r,c){this.groupGL.removeAll(),this._glViewHelper.reset(e,c),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),c)},incrementalRender:function(e,r,c,f){if(!(e.end<=e.start)){var p=this._pointsBuilderList[this._currentStep];p||(p=new $h(!0,f),this._pointsBuilderList[this._currentStep]=p),this.groupGL.add(p.rootNode),this._removeTransformInPoints(r.getData().getLayout("points")),p.setSizeScale(this._sizeScale),p.update(r,c,f,e.start,e.end),f.getZr().refresh(),this._currentStep++}},updateTransform:function(e,r,c){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,c);var f=this._glViewHelper.getZoom(),p=Math.max((e.get("zoomScale")||0)*(f-1)+1,0);this._sizeScale=p,this._pointsBuilderList.forEach(function(x){x.setSizeScale(p)})}},_removeTransformInPoints:function(e){if(e)for(var r=[],c=0;c<e.length;c+=2)r[0]=e[c],r[1]=e[c+1],this._glViewHelper.removeTransformInPoint(r),e[c]=r[0],e[c+1]=r[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach(function(e){e.dispose()})},remove:function(){this.groupGL.removeAll()}});(0,P.D$)(function(e){e.registerChartView(cp),e.registerSeriesModel(sv),e.registerLayout({seriesType:"scatterGL",reset:function(r){var p,c=r.coordinateSystem,f=r.getData();if(c){var x=c.dimensions.map(function(I){return f.mapDimension(I)}).slice(0,2),w=[];1===x.length?p=function(I){for(var F=new Float32Array(2*(I.end-I.start)),$=I.start;$<I.end;$++){var ue=2*($-I.start),Pe=f.get(x[0],$),Ze=c.dataToPoint(Pe);F[ue]=Ze[0],F[ue+1]=Ze[1]}f.setLayout("points",F)}:2===x.length&&(p=function(I){for(var F=new Float32Array(2*(I.end-I.start)),$=I.start;$<I.end;$++){var ue=2*($-I.start),Pe=f.get(x[0],$),Ze=f.get(x[1],$);w[0]=Pe,w[1]=Ze,w=c.dataToPoint(w),F[ue]=w[0],F[ue+1]=w[1]}f.setLayout("points",F)})}return{progress:p}}})});var H3=E(6381);const U3=E(4100).Z;var rd=P.wJ.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(e){rd.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){rd.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,r,c,f){var p=qc.getFormattedLabel(this,e,r,c,f);if(null==p){var x=this.getData();p=x.get(x.dimensions[x.dimensions.length-1],e)}return p},getInitialData:function(e,r){var c=e.edges||e.links||[],f=e.data||e.nodes||[],p=this;if(f&&c)return function(e,r,c,f,p){for(var x=new H3.ZP(!0),w=0;w<e.length;w++)x.addNode(Ki.firstNotNull(e[w].id,e[w].name,w),w);var I=[],F=[],$=0;for(w=0;w<r.length;w++){var ue=r[w],Pe=ue.source,Ze=ue.target;x.addEdge(Pe,Ze,$)&&(F.push(ue),I.push(Ki.firstNotNull(ue.id,Pe+" > "+Ze)),$++)}var Ge,at=P._y.createDimensions(e,{coordDimensions:["value"]});(Ge=new P.aV(at,c)).initData(e);var st=new P.aV(["value"],c);return st.initData(F,I),p&&p(Ge,st),U3({mainData:Ge,struct:x,structAttr:"graph",datas:{node:Ge,edge:st},datasAttr:{node:"data",edge:"edgeData"}}),x.update(),x}(f,c,this,0,function(w,I){w.wrapMethod("getItemModel",function(Pe){const at=p._categoriesModels[Pe.getShallow("category")];return at&&(at.parentModel=Pe.parentModel,Pe.parentModel=at),Pe});const F=r.getModel([]).getModel;function $(Pe,Ze){const Ge=F.call(this,Pe,Ze);return Ge.resolveParentPath=ue,Ge}function ue(Pe){if(Pe&&("label"===Pe[0]||"label"===Pe[1])){const Ze=Pe.slice();return"label"===Pe[0]?Ze[0]="edgeLabel":"label"===Pe[1]&&(Ze[1]="edgeLabel"),Ze}return Pe}I.wrapMethod("getItemModel",function(Pe){return Pe.resolveParentPath=ue,Pe.getModel=$,Pe})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,r,c){if("edge"===c){var f=this.getData(),p=this.getDataParams(e,c),x=f.graph.getEdgeByIndex(e),w=f.getName(x.node1.dataIndex),I=f.getName(x.node2.dataIndex),F=[];return null!=w&&F.push(w),null!=I&&F.push(I),F=P.WU.encodeHTML(F.join(" > ")),p.value&&(F+=" : "+P.WU.encodeHTML(p.value)),F}return rd.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map(function(c){return null!=c.value?c:Object.assign({value:0},c)}),r=new P.aV(["value"],this);r.initData(e),this._categoriesData=r,this._categoriesModels=r.mapArray(function(c){return r.getItemModel(c,!0)})},setView:function(e){null!=e.zoom&&(this.option.zoom=e.zoom),null!=e.offset&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var r=0;r<e.length/2;r++){var c=e[2*r],f=e[2*r+1],p=this.getData().getRawDataItem(r);p.x=c,p.y=f}},isAnimationEnabled:function(){return rd.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}});const Y3=rd;var Oo=po.vec2,uv=[[0,0],[1,1]],fp=ar.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new ar.Attribute("position","float",2,"POSITION"),normal:new ar.Attribute("normal","float",2),offset:new ar.Attribute("offset","float",1),color:new ar.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var r=this.attributes;this.vertexCount!==e&&(r.position.init(e),r.color.init(e),this.useNativeLine||(r.offset.init(e),r.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,r,c,f){return 1/(Oo.dist(e,r)+Oo.dist(c,r)+Oo.dist(f,c)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,r,c,f){var p=this._getCubicCurveApproxStep(e,r,c,f),x=Math.ceil(1/p);return this.useNativeLine?2*x:2*x+2},getCubicCurveTriangleCount:function(e,r,c,f){var p=this._getCubicCurveApproxStep(e,r,c,f),x=Math.ceil(1/p);return this.useNativeLine?0:2*x},getLineVertexCount:function(){return this.getPolylineVertexCount(uv)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(uv)},getPolylineVertexCount:function(e){var r;return r="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/2,this.useNativeLine?2*(r-1):2*(r-1)+2},getPolylineTriangleCount:function(e){var r;return r="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/2,this.useNativeLine?0:2*(r-1)},addCubicCurve:function(e,r,c,f,p,x){null==x&&(x=1);var w=e[0],I=e[1],F=r[0],$=r[1],ue=c[0],Pe=c[1],Ze=f[0],Ge=f[1],at=this._getCubicCurveApproxStep(e,r,c,f),st=at*at,Nt=st*at,Bt=3*at,an=3*st,nn=6*st,en=6*Nt,Tn=w-2*F+ue,wn=I-2*$+Pe,Zn=3*(F-ue)-w+Ze,Yn=3*($-Pe)-I+Ge,nr=w,Pr=I,cr=(F-w)*Bt+Tn*an+Zn*Nt,Lr=($-I)*Bt+wn*an+Yn*Nt,Ir=Tn*nn+Zn*en,Cr=wn*nn+Yn*en,Br=Zn*en,Xr=Yn*en,mi=0,Gr=0,Ta=Math.ceil(1/at),ui=new Float32Array(3*(Ta+1)),Ha=(ui=[],0);for(Gr=0;Gr<Ta+1;Gr++)ui[Ha++]=nr,ui[Ha++]=Pr,nr+=cr,Pr+=Lr,cr+=Ir,Lr+=Cr,Ir+=Br,Cr+=Xr,(mi+=at)>1&&(nr=cr>0?Math.min(nr,Ze):Math.max(nr,Ze),Pr=Lr>0?Math.min(Pr,Ge):Math.max(Pr,Ge));this.addPolyline(ui,p,x)},addLine:function(e,r,c,f){this.addPolyline([e,r],c,f)},addPolyline:function(){var e=Oo.create(),r=Oo.create(),c=Oo.create(),f=Oo.create(),p=[],x=[],w=[];return function(I,F,$,ue,Pe){if(I.length){var Ze="number"!=typeof I[0];if(null==Pe&&(Pe=Ze?I.length:I.length/2),!(Pe<2)){null==ue&&(ue=0),null==$&&($=1),this._itemVertexOffsets.push(this._vertexOffset);for(var en,Ge=Ze?"number"!=typeof F[0]:F.length/4===Pe,at=this.attributes.position,st=this.attributes.color,Nt=this.attributes.offset,Bt=this.attributes.normal,an=this.indices,nn=this._vertexOffset,Tn=0;Tn<Pe;Tn++){if(Ze)p=I[Tn+ue],en=Ge?F[Tn+ue]:F;else if((p=p||[])[0]=I[wn=2*Tn+ue],p[1]=I[wn+1],Ge){var Zn=4*Tn+ue;(en=en||[])[0]=F[Zn],en[1]=F[Zn+1],en[2]=F[Zn+2],en[3]=F[Zn+3]}else en=F;if(this.useNativeLine)Tn>1&&(at.copy(nn,nn-1),st.copy(nn,nn-1),nn++);else{var Yn,wn;if(Tn<Pe-1)if(Ze?Oo.copy(x,I[Tn+1]):((x=x||[])[0]=I[wn=2*(Tn+1)+ue],x[1]=I[wn+1]),Tn>0){Oo.sub(e,p,w),Oo.sub(r,x,p),Oo.normalize(e,e),Oo.normalize(r,r),Oo.add(f,e,r),Oo.normalize(f,f);var nr=$/2*Math.min(1/Oo.dot(e,f),2);c[0]=-f[1],c[1]=f[0],Yn=nr}else Oo.sub(e,x,p),Oo.normalize(e,e),c[0]=-e[1],c[1]=e[0],Yn=$/2;else Oo.sub(e,p,w),Oo.normalize(e,e),c[0]=-e[1],c[1]=e[0],Yn=$/2;Bt.set(nn,c),Bt.set(nn+1,c),Nt.set(nn,Yn),Nt.set(nn+1,-Yn),Oo.copy(w,p),at.set(nn,p),at.set(nn+1,p),st.set(nn,en),st.set(nn+1,en),nn+=2}if(this.useNativeLine)st.set(nn,en),at.set(nn,p),nn++;else if(Tn>0){var Pr=3*this._faceOffset;(an=this.indices)[Pr]=nn-4,an[Pr+1]=nn-3,an[Pr+2]=nn-2,an[Pr+3]=nn-3,an[Pr+4]=nn-1,an[Pr+5]=nn-2,this._faceOffset+=2}}this._vertexOffset=nn}}}}(),setItemColor:function(e,r){for(var f=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,p=this._itemVertexOffsets[e];p<f;p++)this.attributes.color.set(p,r);this.dirty("color")}});P.D5.defaults(fp.prototype,_u);const hv=fp;dn.Shader.import("@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end");var dv={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function Jo(e){var r={type:dn.Texture.FLOAT,minFilter:dn.Texture.NEAREST,magFilter:dn.Texture.NEAREST};this._positionSourceTex=new dn.Texture2D(r),this._positionSourceTex.flipY=!1,this._positionTex=new dn.Texture2D(r),this._positionPrevTex=new dn.Texture2D(r),this._forceTex=new dn.Texture2D(r),this._forcePrevTex=new dn.Texture2D(r),this._weightedSumTex=new dn.Texture2D(r),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new dn.Texture2D(r),this._globalSpeedPrevTex=new dn.Texture2D(r),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new oo({fragment:dn.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new oo({fragment:dn.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new oo({fragment:dn.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new oo({fragment:dn.Shader.source("clay.compositor.output")});var c=function(f){f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE)};this._edgeForceMesh=new dn.Mesh({geometry:new dn.Geometry({attributes:{node1:new dn.Geometry.Attribute("node1","float",2),node2:new dn.Geometry.Attribute("node2","float",2),weight:new dn.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new dn.Material({transparent:!0,shader:dn.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:c,depthMask:!1,depthText:!1}),mode:dn.Mesh.POINTS}),this._weightedSumMesh=new dn.Mesh({geometry:new dn.Geometry({attributes:{node:new dn.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new dn.Material({transparent:!0,shader:dn.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:c,depthMask:!1,depthText:!1}),mode:dn.Mesh.POINTS}),this._framebuffer=new Ni({depthBuffer:!1}),this._dummyCamera=new dn.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}Jo.prototype.updateOption=function(e){for(var r in dv)this[r]=dv[r];var c=this._nodes.length;if(this.jitterTolerence=c>5e4?10:c>5e3?1:.1,this.scaling=c>100?2:10,e)for(var r in dv)null!=e[r]&&(this[r]=e[r]);if(this.repulsionByDegree)for(var f=this._positionSourceTex.pixels,p=0;p<this._nodes.length;p++)f[4*p+2]=(this._nodes[p].degree||0)+1},Jo.prototype._updateGravityCenter=function(e){var r=this._nodes,c=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var f=[1/0,1/0],p=[-1/0,-1/0],x=0;x<r.length;x++)f[0]=Math.min(r[x].x,f[0]),f[1]=Math.min(r[x].y,f[1]),p[0]=Math.max(r[x].x,p[0]),p[1]=Math.max(r[x].y,p[1]);this._gravityCenter=[.5*(f[0]+p[0]),.5*(f[1]+p[1])]}for(x=0;x<c.length;x++){var w=c[x].node1,I=c[x].node2;r[w].degree=(r[w].degree||0)+1,r[I].degree=(r[I].degree||0)+1}},Jo.prototype.initData=function(e,r){this._nodes=e,this._edges=r,this._updateGravityCenter();var c=Math.ceil(Math.sqrt(e.length)),f=c,p=new Float32Array(c*f*4);this._resize(c,f);for(var x=0,w=0;w<e.length;w++){var I=e[w];p[x++]=I.x||0,p[x++]=I.y||0,p[x++]=I.mass||1,p[x++]=I.size||1}this._positionSourceTex.pixels=p;var F=this._edgeForceMesh.geometry,$=r.length;F.attributes.node1.init(2*$),F.attributes.node2.init(2*$),F.attributes.weight.init(2*$);var ue=[];for(w=0;w<r.length;w++){var Pe=F.attributes,Ze=r[w].weight;null==Ze&&(Ze=1),Pe.node1.set(w,this.getNodeUV(r[w].node1,ue)),Pe.node2.set(w,this.getNodeUV(r[w].node2,ue)),Pe.weight.set(w,Ze),Pe.node1.set(w+$,this.getNodeUV(r[w].node2,ue)),Pe.node2.set(w+$,this.getNodeUV(r[w].node1,ue)),Pe.weight.set(w+$,Ze)}var Ge=this._weightedSumMesh.geometry;for(Ge.attributes.node.init(e.length),w=0;w<e.length;w++)Ge.attributes.node.set(w,this.getNodeUV(w,ue));F.dirty(),Ge.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[c,f]),this._inited=!1,this._frame=0},Jo.prototype.getNodes=function(){return this._nodes},Jo.prototype.getEdges=function(){return this._edges},Jo.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var r=this._nodeRepulsionPass;r.setUniform("strongGravityMode",this.strongGravityMode),r.setUniform("gravity",this.gravity),r.setUniform("gravityCenter",this._gravityCenter),r.setUniform("scaling",this.scaling),r.setUniform("preventOverlap",this.preventOverlap),r.setUniform("positionTex",this._positionPrevTex),r.render(e);var c=this._edgeForceMesh;c.material.set("linLogMode",this.linLogMode),c.material.set("edgeWeightInfluence",this.edgeWeightInfluence),c.material.set("preventOverlap",this.preventOverlap),c.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([c],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var f=this._weightedSumMesh;f.material.set("positionTex",this._positionPrevTex),f.material.set("forceTex",this._forceTex),f.material.set("forcePrevTex",this._forcePrevTex),e.renderPass([f],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var p=this._globalSpeedPass;p.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),p.setUniform("weightedSumTex",this._weightedSumTex),p.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),p.render(e);var x=this._positionPass;this._framebuffer.attach(this._positionTex),x.setUniform("globalSpeedTex",this._globalSpeedTex),x.setUniform("positionTex",this._positionPrevTex),x.setUniform("forceTex",this._forceTex),x.setUniform("forcePrevTex",this._forcePrevTex),x.render(e),this._framebuffer.unbind(e),this._swapTexture()},Jo.prototype.update=function(e,r,c){null==r&&(r=1),r=Math.max(r,1);for(var f=0;f<r;f++)this.step(e);c&&c()},Jo.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},Jo.prototype.getNodeUV=function(e,r){var c=this._positionTex.width,f=this._positionTex.height;return(r=r||[])[0]=e%c/(c-1),r[1]=Math.floor(e/c)/(f-1)||0,r},Jo.prototype.getNodePosition=function(e,r){var c=this._positionArr,f=this._positionTex.width,p=this._positionTex.height,x=f*p;(!c||c.length!==4*x)&&(c=this._positionArr=new Float32Array(4*x)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,f,p,e.gl.RGBA,e.gl.FLOAT,c),this._framebuffer.unbind(e),r||(r=new Float32Array(2*this._nodes.length));for(var w=0;w<this._nodes.length;w++)r[2*w]=c[4*w],r[2*w+1]=c[4*w+1];return r},Jo.prototype.getTextureData=function(e,r){var c=this["_"+r+"Tex"],f=c.width,p=c.height;this._framebuffer.bind(e),this._framebuffer.attach(c);var x=new Float32Array(f*p*4);return e.gl.readPixels(0,0,f,p,e.gl.RGBA,e.gl.FLOAT,x),this._framebuffer.unbind(e),x},Jo.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},Jo.prototype.isFinished=function(e){return this._frame>e},Jo.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e,e=this._forcePrevTex,this._forcePrevTex=this._forceTex,this._forceTex=e,e=this._globalSpeedPrevTex,this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e},Jo.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)},Jo.prototype._resize=function(e,r){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(c){this[c].width=e,this[c].height=r,this[c].dirty()},this)},Jo.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)};const e0=Jo;var _1=function(){var e_create=function(){return new Float32Array(2)},e_dist=function(F,$){var ue=$[0]-F[0],Pe=$[1]-F[1];return Math.sqrt(ue*ue+Pe*Pe)},e_len=function(F){var $=F[0],ue=F[1];return Math.sqrt($*$+ue*ue)},e_scaleAndAdd=function(F,$,ue,Pe){return F[0]=$[0]+ue[0]*Pe,F[1]=$[1]+ue[1]*Pe,F},e_add=function(F,$,ue){return F[0]=$[0]+ue[0],F[1]=$[1]+ue[1],F},e_sub=function(F,$,ue){return F[0]=$[0]-ue[0],F[1]=$[1]-ue[1],F},e_copy=function(F,$){return F[0]=$[0],F[1]=$[1],F},e_set=function(F,$,ue){return F[0]=$,F[1]=ue,F};function r(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var c=r.prototype;function f(){this.position=new Float32Array(2),this.force=e_create(),this.forcePrev=e_create(),this.mass=1,this.inDegree=0,this.outDegree=0}function p(F,$){this.source=F,this.target=$,this.weight=1}function x(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new r,this.rootRegion.centerOfMass=e_create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}c.beforeUpdate=function(){for(var F=0;F<this.nSubRegions;F++)this.subRegions[F].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},c.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var F=0;F<this.nSubRegions;F++)this.subRegions[F].afterUpdate()},c.addNode=function(F){if(0===this.nSubRegions){if(null==this.node)return void(this.node=F);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(F),this._updateCenterOfMass(F)},c.findSubRegion=function(F,$){for(var ue=0;ue<this.nSubRegions;ue++){var Pe=this.subRegions[ue];if(Pe.contain(F,$))return Pe}},c.contain=function(F,$){return this.bbox[0]<=F&&this.bbox[2]>=F&&this.bbox[1]<=$&&this.bbox[3]>=$},c.setBBox=function(F,$,ue,Pe){this.bbox[0]=F,this.bbox[1]=$,this.bbox[2]=ue,this.bbox[3]=Pe,this.size=(ue-F+Pe-$)/2},c._newSubRegion=function(){var F=this.subRegions[this.nSubRegions];return F||(F=new r,this.subRegions[this.nSubRegions]=F),this.nSubRegions++,F},c._addNodeToSubRegion=function(F){var $=this.findSubRegion(F.position[0],F.position[1]),ue=this.bbox;if(!$){var Ge=(ue[2]-ue[0])/2,at=(ue[3]-ue[1])/2,st=F.position[0]>=(ue[0]+ue[2])/2?1:0,Nt=F.position[1]>=(ue[1]+ue[3])/2?1:0;($=this._newSubRegion()).setBBox(st*Ge+ue[0],Nt*at+ue[1],(st+1)*Ge+ue[0],(Nt+1)*at+ue[1])}$.addNode(F)},c._updateCenterOfMass=function(F){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var $=this.centerOfMass[0]*this.mass,ue=this.centerOfMass[1]*this.mass;$+=F.position[0]*F.mass,ue+=F.position[1]*F.mass,this.mass+=F.mass,this.centerOfMass[0]=$/this.mass,this.centerOfMass[1]=ue/this.mass};var F,w=x.prototype;w.initNodes=function(F,$,ue){var Pe=$.length;this.nodes.length=0;for(var Ze=void 0!==ue,Ge=0;Ge<Pe;Ge++){var at=new f;at.position[0]=F[2*Ge],at.position[1]=F[2*Ge+1],at.mass=$[Ge],Ze&&(at.size=ue[Ge]),this.nodes.push(at)}this._massArr=$,this._swingingArr=new Float32Array(Pe),Ze&&(this._sizeArr=ue)},w.initEdges=function(F,$){var ue=F.length/2;this.edges.length=0;for(var Pe=0;Pe<ue;Pe++){var at=this.nodes[F[2*Pe]],st=this.nodes[F[2*Pe+1]];if(!at||!st)return void console.error("Node not exists, try initNodes before initEdges");at.outDegree++,st.inDegree++;var Nt=new p(at,st);$&&(Nt.weight=$[Pe]),this.edges.push(Nt)}},w.updateSettings=function(){if(this.repulsionByDegree)for(var F=0;F<this.nodes.length;F++)($=this.nodes[F]).mass=$.inDegree+$.outDegree+1;else for(F=0;F<this.nodes.length;F++){var $;($=this.nodes[F]).mass=this._massArr[F]}},w.update=function(){var F=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var $=0;$<F;$++)this.rootRegion.addNode(this.nodes[$]);this.rootRegion.afterUpdate()}for($=0;$<F;$++)e_copy((ue=this.nodes[$]).forcePrev,ue.force),e_set(ue.force,0,0);for($=0;$<F;$++){var Pe=this.nodes[$];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,Pe);else for(var Ze=$+1;Ze<F;Ze++)this.applyNodeToNodeRepulsion(Pe,this.nodes[Ze],!1);this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(Pe):this.applyNodeGravity(Pe))}for($=0;$<this.edges.length;$++)this.applyEdgeAttraction(this.edges[$]);var at=0,st=0,Nt=e_create();for($=0;$<F;$++)at+=(Bt=e_dist((ue=this.nodes[$]).force,ue.forcePrev))*ue.mass,e_add(Nt,ue.force,ue.forcePrev),st+=.5*e_len(Nt)*ue.mass,this._swingingArr[$]=Bt;var nn=this.jitterTolerence*this.jitterTolerence*st/at;for(this._globalSpeed>0&&(nn=Math.min(nn/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=nn,$=0;$<F;$++){var ue=this.nodes[$],Bt=this._swingingArr[$],en=.1*nn/(1+nn*Math.sqrt(Bt)),Tn=e_len(ue.force);Tn>0&&(en=Math.min(Tn*en,10)/Tn,e_scaleAndAdd(ue.position,ue.position,ue.force,en))}},w.applyRegionToNodeRepulsion=(F=e_create(),function(ue,Pe){if(ue.node)this.applyNodeToNodeRepulsion(ue.node,Pe,!0);else{e_sub(F,Pe.position,ue.centerOfMass);var Ze=F[0]*F[0]+F[1]*F[1];if(Ze>this.barnesHutTheta*ue.size*ue.size)e_scaleAndAdd(Pe.force,Pe.force,F,this.scaling*Pe.mass*ue.mass/Ze);else for(var at=0;at<ue.nSubRegions;at++)this.applyRegionToNodeRepulsion(ue.subRegions[at],Pe)}}),w.applyNodeToNodeRepulsion=function(){var F=e_create();return function(ue,Pe,Ze){if(ue!=Pe){e_sub(F,ue.position,Pe.position);var Ge=F[0]*F[0]+F[1]*F[1];if(0!==Ge){var at;if(this.preventOverlap){var st=Math.sqrt(Ge);if((st=st-ue.size-Pe.size)>0)at=this.scaling*ue.mass*Pe.mass/(st*st);else{if(!(st<0))return;at=100*this.scaling*ue.mass*Pe.mass}}else at=this.scaling*ue.mass*Pe.mass/Ge;e_scaleAndAdd(ue.force,ue.force,F,at),e_scaleAndAdd(Pe.force,Pe.force,F,-at)}}}}(),w.applyEdgeAttraction=function(){var F=e_create();return function(ue){var Pe=ue.source,Ze=ue.target;e_sub(F,Pe.position,Ze.position);var at,st,Ge=e_len(F);at=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?ue.weight:Math.pow(ue.weight,this.edgeWeightInfluence),this.preventOverlap&&(Ge=Ge-Pe.size-Ze.size)<=0||(st=this.linLogMode?-at*Math.log(Ge+1)/(Ge+1):-at,e_scaleAndAdd(Pe.force,Pe.force,F,st),e_scaleAndAdd(Ze.force,Ze.force,F,-st))}}(),w.applyNodeGravity=function(){var F=e_create();return function($){e_sub(F,this.gravityCenter,$.position);var ue=e_len(F);e_scaleAndAdd($.force,$.force,F,this.gravity*$.mass/(ue+1))}}(),w.applyNodeStrongGravity=function(){var F=e_create();return function($){e_sub(F,this.gravityCenter,$.position),e_scaleAndAdd($.force,$.force,F,this.gravity*$.mass)}}(),w.updateBBox=function(){for(var F=1/0,$=1/0,ue=-1/0,Pe=-1/0,Ze=0;Ze<this.nodes.length;Ze++){var Ge=this.nodes[Ze].position;F=Math.min(F,Ge[0]),$=Math.min($,Ge[1]),ue=Math.max(ue,Ge[0]),Pe=Math.max(Pe,Ge[1])}this.bbox[0]=F,this.bbox[1]=$,this.bbox[2]=ue,this.bbox[3]=Pe},w.getGlobalSpeed=function(){return this._globalSpeed};var I=null;self.onmessage=function(F){switch(F.data.cmd){case"init":(I=new x).initNodes(F.data.nodesPosition,F.data.nodesMass,F.data.nodesSize),I.initEdges(F.data.edges,F.data.edgesWeight);break;case"updateConfig":if(I)for(var $ in F.data.config)I[$]=F.data.config[$];break;case"update":var ue=F.data.steps;if(I){for(var Pe=0;Pe<ue;Pe++)I.update();var Ze=I.nodes.length,Ge=new Float32Array(2*Ze);for(Pe=0;Pe<Ze;Pe++){var at=I.nodes[Pe];Ge[2*Pe]=at.position[0],Ge[2*Pe+1]=at.position[1]}self.postMessage({buffer:Ge.buffer,globalSpeed:I.getGlobalSpeed()},[Ge.buffer])}else{var st=new Float32Array;self.postMessage({buffer:st.buffer,globalSpeed:I.getGlobalSpeed()},[st.buffer])}}}}.toString();_1=_1.slice(_1.indexOf("{")+1,_1.lastIndexOf("}"));var t0={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},rl=function(e){for(var r in t0)this[r]=t0[r];if(e)for(var r in e)this[r]=e[r];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new Qr({type:Kr.FLOAT,flipY:!1,minFilter:Kr.NEAREST,magFilter:Kr.NEAREST})};rl.prototype.initData=function(e,r){var c=new Blob([_1]),f=window.URL.createObjectURL(c);this._worker=new Worker(f),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=r,this._frame=0;for(var p=e.length,x=r.length,w=new Float32Array(2*p),I=new Float32Array(p),F=new Float32Array(p),$=new Float32Array(2*x),ue=new Float32Array(x),Pe=0;Pe<e.length;Pe++){var Ze=e[Pe];w[2*Pe]=Ze.x,w[2*Pe+1]=Ze.y,I[Pe]=null==Ze.mass?1:Ze.mass,F[Pe]=null==Ze.size?1:Ze.size}for(Pe=0;Pe<r.length;Pe++){var Ge=r[Pe],st=Ge.node2;$[2*Pe]=Ge.node1,$[2*Pe+1]=st,ue[Pe]=null==Ge.weight?1:Ge.weight}var Nt=Math.ceil(Math.sqrt(e.length)),Bt=Nt,an=new Float32Array(Nt*Bt*4),nn=this._positionTex;nn.width=Nt,nn.height=Bt,nn.pixels=an,this._worker.postMessage({cmd:"init",nodesPosition:w,nodesMass:I,nodesSize:F,edges:$,edgesWeight:ue}),this._globalSpeed=1/0},rl.prototype.updateOption=function(e){var r={};for(var c in t0)r[c]=t0[c];var f=this._nodes,p=this._edges,x=f.length;if(r.jitterTolerence=x>5e4?10:x>5e3?1:.1,r.scaling=x>100?2:10,r.barnesHutOptimize=x>1e3,e)for(var c in t0)null!=e[c]&&(r[c]=e[c]);if(!r.gravityCenter){for(var w=[1/0,1/0],I=[-1/0,-1/0],F=0;F<f.length;F++)w[0]=Math.min(f[F].x,w[0]),w[1]=Math.min(f[F].y,w[1]),I[0]=Math.max(f[F].x,I[0]),I[1]=Math.max(f[F].y,I[1]);r.gravityCenter=[.5*(w[0]+I[0]),.5*(w[1]+I[1])]}for(F=0;F<p.length;F++){var $=p[F].node1,ue=p[F].node2;f[$].degree=(f[$].degree||0)+1,f[ue].degree=(f[ue].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:r})},rl.prototype.update=function(e,r,c){null==r&&(r=1),r=Math.max(r,1),this._frame+=r,this._onupdate=c,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(r)})},rl.prototype._$onupdate=function(e){if(!this._disposed){var r=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=r,this._updateTexture(r),this._onupdate&&this._onupdate()}},rl.prototype.getNodePositionTexture=function(){return this._positionTex},rl.prototype.getNodeUV=function(e,r){var c=this._positionTex.width,f=this._positionTex.height;return(r=r||[])[0]=e%c/(c-1),r[1]=Math.floor(e/c)/(f-1),r},rl.prototype.getNodes=function(){return this._nodes},rl.prototype.getEdges=function(){return this._edges},rl.prototype.isFinished=function(e){return this._frame>e},rl.prototype.getNodePosition=function(e,r){if(r||(r=new Float32Array(2*this._nodes.length)),this._positionArr)for(var c=0;c<this._positionArr.length;c++)r[c]=this._positionArr[c];return r},rl.prototype._updateTexture=function(e){for(var r=this._positionTex.pixels,c=0,f=0;f<e.length;)r[c++]=e[f++],r[c++]=e[f++],r[c++]=1,r[c++]=1;this._positionTex.dirty()},rl.prototype.dispose=function(e){this._disposed=!0,this._worker=null};const fv=rl;var vv=gn.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,r=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(r,r,r),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var r=e.offsetX,c=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(r,c)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var f=this._convertPos(r,c);this._x=f.x,this._y=f.y}}},_convertPos:function(e,r){var c=this.viewGL.camera,f=this.viewGL.viewport;return{x:(e-f.x)/f.width*(c.right-c.left)+c.left,y:(r-f.y)/f.height*(c.bottom-c.top)+c.top}},_mouseMoveHandler:function(e){var r=this._convertPos(e.offsetX,e.offsetY);this._dx+=r.x-this._x,this._dy+=r.y-this._y,this._x=r.x,this._y=r.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){var r=(e=e.event).wheelDelta||-e.detail;if(0!==r){var c=e.offsetX,f=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(c,f)){var p=r>0?1.1:.9,x=Math.max(Math.min(this._zoom*p,this.maxZoom),this.minZoom);p=x/this._zoom;var w=this._convertPos(c,f),F=(w.y-this._dy)*(p-1);this._dx-=(w.x-this._dx)*(p-1),this._dy-=F,this._zoom=x,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)}});const n0=vv;var pv=po.vec2;dn.Shader.import("@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end");var W3=1;const X8=P.TA.extend({type:"graphGL",__ecgl__:!0,init:function(e,r){this.groupGL=new dn.Node,this.viewGL=new dc("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new $h(!0,r),this._forceEdgesMesh=new dn.Mesh({material:new dn.Material({shader:dn.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new dn.Geometry({attributes:{node:new dn.Geometry.Attribute("node","float",2),color:new dn.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:dn.Mesh.LINES}),this._edgesMesh=new dn.Mesh({material:new dn.Material({shader:dn.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new hv({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new n0({zr:r.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,r,c){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=c,this._initLayout(e,r,c),this._pointsBuilder.update(e,r,c),this._forceLayoutInstance instanceof e0||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,c),this._control.off("update"),this._control.on("update",function(){c.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(Ki.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);var f=this._pointsBuilder.getPointsMesh();if(f.off("mousemove",this._mousemoveHandler),f.off("mouseout",this._mouseOutHandler,this),c.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get("focusNodeAdjacency")){var p=e.get("focusNodeAdjacencyOn");"click"===p?c.getZr().on("click",this._clickHandler):"mouseover"===p&&(f.on("mousemove",this._mousemoveHandler,this),f.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var r=this._pointsBuilder.getPointsMesh().dataIndex;this._api.dispatchAction(r>=0?{type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:r}:{type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var r=this._pointsBuilder.getPointsMesh().dataIndex;r>=0?r!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:r}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=r}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,r){var c=this._forceEdgesMesh.geometry,f=r.getEdgeData(),p=0,x=this._forceLayoutInstance,w=2*f.count();c.attributes.node.init(w),c.attributes.color.init(w),f.each(function(I){var F=e[I];c.attributes.node.set(p,x.getNodeUV(F.node1)),c.attributes.node.set(p+1,x.getNodeUV(F.node2));var $=zo(f,F.dataIndex),ue=dn.parseColor($);ue[3]*=Ki.firstNotNull(Co(f,F.dataIndex),1),c.attributes.color.set(p,ue),c.attributes.color.set(p+1,ue),p+=2}),c.dirty()},_updateMeshLinesGeometry:function(){var e=this._model.getEdgeData(),r=this._edgesMesh.geometry,c=(e=this._model.getEdgeData(),this._model.getData().getLayout("points"));r.resetOffset(),r.setVertexCount(e.count()*r.getLineVertexCount()),r.setTriangleCount(e.count()*r.getLineTriangleCount());var f=[],p=[],x=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*e.count()),this._edgeIndicesMap=new Float32Array(e.count()),e.each(function(w){var I=e.graph.getEdgeByIndex(w),F=2*I.node1.dataIndex,$=2*I.node2.dataIndex;f[0]=c[F],f[1]=c[F+1],p[0]=c[$],p[1]=c[$+1];var ue=zo(e,I.dataIndex),Pe=dn.parseColor(ue);Pe[3]*=Ki.firstNotNull(Co(e,I.dataIndex),1);var Ze=e.getItemModel(I.dataIndex),Ge=Ki.firstNotNull(Ze.get(x),1)*this._api.getDevicePixelRatio();r.addLine(f,p,Pe,Ge);for(var at=0;at<4;at++)this._originalEdgeColors[4*I.dataIndex+at]=Pe[at];this._edgeIndicesMap[I.dataIndex]=w},this),r.dirty()},_updateForceNodesGeometry:function(e){for(var r=this._pointsBuilder.getPointsMesh(),c=[],f=0;f<e.count();f++)this._forceLayoutInstance.getNodeUV(f,c),r.geometry.attributes.position.set(f,c);r.geometry.dirty("position")},_initLayout:function(e,r,c){var f=e.get("layout"),p=e.getGraph(),x=e.getBoxLayoutParams(),w=(0,Mu.ME)(x,{width:c.getWidth(),height:c.getHeight()});"force"===f&&(f="forceAtlas2"),this.stopLayout(e,r,c,{beforeLayout:!0});var I=e.getData(),F=e.getData();if("forceAtlas2"===f){var $=e.getModel("forceAtlas2"),ue=this._forceLayoutInstance,Pe=[],Ze=[],Ge=I.getDataExtent("value"),at=F.getDataExtent("value"),st=Ki.firstNotNull($.get("edgeWeight"),1),Nt=Ki.firstNotNull($.get("nodeWeight"),1);"number"==typeof st&&(st=[st,st]),"number"==typeof Nt&&(Nt=[Nt,Nt]);var Bt=0,an={},nn=new Float32Array(2*I.count());if(p.eachNode(function(Tn){var Yn,nr,wn=Tn.dataIndex,Zn=I.get("value",wn);if(I.hasItemOption){var Pr=I.getItemModel(wn);Yn=Pr.get("x"),nr=Pr.get("y")}null==Yn&&(Yn=w.x+Math.random()*w.width,nr=w.y+Math.random()*w.height),nn[2*Bt]=Yn,nn[2*Bt+1]=nr,an[Tn.id]=Bt++;var cr=P.Rx.linearMap(Zn,Ge,Nt);isNaN(cr)&&(cr=isNaN(Nt[0])?1:Nt[0]),Pe.push({x:Yn,y:nr,mass:cr,size:I.getItemVisual(wn,"symbolSize")})}),I.setLayout("points",nn),p.eachEdge(function(Tn){var wn=Tn.dataIndex,Zn=I.get("value",wn),Yn=P.Rx.linearMap(Zn,at,st);isNaN(Yn)&&(Yn=isNaN(st[0])?1:st[0]),Ze.push({node1:an[Tn.node1.id],node2:an[Tn.node2.id],weight:Yn,dataIndex:wn})}),!ue){var en=$.get("GPU");this._forceLayoutInstance&&(en&&!(this._forceLayoutInstance instanceof e0)||!en&&!(this._forceLayoutInstance instanceof fv))&&(this._forceLayoutInstanceToDispose=this._forceLayoutInstance),ue=this._forceLayoutInstance=en?new e0:new fv}ue.initData(Pe,Ze),ue.updateOption($.option),this._updateForceEdgesGeometry(ue.getEdges(),e),this._updatePositionTexture(),c.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else nn=new Float32Array(2*I.count()),Bt=0,p.eachNode(function(Zn){var nr,Pr;if(I.hasItemOption){var cr=I.getItemModel(Zn.dataIndex);nr=cr.get("x"),Pr=cr.get("y")}nn[Bt++]=nr,nn[Bt++]=Pr}),I.setLayout("points",nn),this._updateAfterLayout(e,r,c)},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e)},startLayout:function(e,r,c,f){if(!f||null==f.from||f.from===this.uid){var p=this.viewGL,x=(c=this._api,this._forceLayoutInstance),w=this._model.getData(),I=this._model.getModel("forceAtlas2");if(x&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance)){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var F=this,$=this._layoutId=W3++,ue=I.getShallow("maxSteps"),Pe=I.getShallow("steps"),Ze=0,Ge=Math.max(2*Pe,20),at=function(st){if(st===F._layoutId){if(x.isFinished(ue))return c.dispatchAction({type:"graphGLStopLayout",from:F.uid}),void c.dispatchAction({type:"graphGLFinishLayout",points:w.getLayout("points"),from:F.uid});x.update(p.layer.renderer,Pe,function(){F._updatePositionTexture(),(Ze+=Pe)>=Ge&&(F._syncNodePosition(e),Ze=0),c.getZr().refresh(),(0,yh.Z)(function(){at(st)})})}};(0,yh.Z)(function(){F._forceLayoutInstanceToDispose&&(F._forceLayoutInstanceToDispose.dispose(p.layer.renderer),F._forceLayoutInstanceToDispose=null),at($)}),this._layouting=!0}}},stopLayout:function(e,r,c,f){f&&null!=f.from&&f.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&(!this.viewGL.layer||(f&&f.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,r,c)),this._api.getZr().refresh(),this._layouting=!1)))},_syncNodePosition:function(e){var r=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout("points",r),e.setNodePosition(r)},_updateAfterLayout:function(e,r,c){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,r,c),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,r,c,f){var p=this._model.getData();this._downplayAll();var I=[],F=p.graph.getNodeByIndex(f.dataIndex);I.push(F),F.edges.forEach(function(ue){ue.dataIndex<0||(ue.node1!==F&&I.push(ue.node1),ue.node2!==F&&I.push(ue.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),I.forEach(function(ue){this._pointsBuilder.highlight(p,ue.dataIndex)},this),this._pointsBuilder.updateLabels(I.map(function(ue){return ue.dataIndex}));var $=[];F.edges.forEach(function(ue){ue.dataIndex>=0&&(this._highlightEdge(ue.dataIndex),$.push(ue))},this),this._focusNodes=I,this._focusEdges=$},unfocusNodeAdjacency:function(e,r,c,f){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var r=this._model.getEdgeData().getItemModel(e),c=dn.parseColor(r.get("emphasis.lineStyle.color")||r.get("lineStyle.color")),f=Ki.firstNotNull(r.get("emphasis.lineStyle.opacity"),r.get("lineStyle.opacity"),1);c[3]*=f,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],c)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(e){this._downplayEdge(e.dataIndex)},this)},_downplayEdge:function(e){var r=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],r)},_setEdgeFade:function(){var e=[];return function(r,c){this._getColor(r,e),e[3]*=c,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[r],e)}}(),_getColor:function(e,r){for(var c=0;c<4;c++)r[c]=this._originalEdgeColors[4*e+c];return r},_fadeOutEdgesAll:function(e){this._model.getData().graph.eachEdge(function(c){this._setEdgeFade(c.dataIndex,e)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,r){this.viewGL.setViewport(0,0,r.getWidth(),r.getHeight(),r.getDevicePixelRatio());for(var c=this.viewGL.camera,p=e.getData().getLayout("points"),x=pv.create(1/0,1/0),w=pv.create(-1/0,-1/0),I=[],F=0;F<p.length;)I[0]=p[F++],I[1]=p[F++],pv.min(x,x,I),pv.max(w,w,I);var $=(w[1]+x[1])/2,ue=(w[0]+x[0])/2;if(!(ue>c.left&&ue<c.right&&$<c.bottom&&$>c.top)){var Pe=Math.max(w[0]-x[0],10),Ze=Pe/r.getWidth()*r.getHeight();Ze*=1.4,x[0]-=.2*(Pe*=1.4),c.left=x[0],c.top=$-Ze/2,c.bottom=$+Ze/2,c.right=Pe+x[0],c.near=0,c.far=100}},dispose:function(){this._forceLayoutInstance&&this._forceLayoutInstance.dispose(this.viewGL.layer.renderer),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function r0(e){return e instanceof Array||(e=[e,e]),e}(0,P.D$)(function(e){function r(){}e.registerChartView(X8),e.registerSeriesModel(Y3),e.registerVisual(function(c){const f={};c.eachSeriesByType("graphGL",function(p){var x=p.getCategoriesData(),w=p.getData(),I={};x.each(function(F){var $=x.getName(F);I["ec-"+$]=F;var ue=x.getItemModel(F),Pe=ue.getModel("itemStyle").getItemStyle();Pe.fill||(Pe.fill=p.getColorFromPalette($,f)),x.setItemVisual(F,"style",Pe);var Ze=["symbol","symbolSize","symbolKeepAspect"];for(let at=0;at<Ze.length;at++){var Ge=ue.getShallow(Ze[at],!0);null!=Ge&&x.setItemVisual(F,Ze[at],Ge)}}),x.count()&&w.each(function(F){let ue=w.getItemModel(F).getShallow("category");if(null!=ue){"string"==typeof ue&&(ue=I["ec-"+ue]);var Pe=x.getItemVisual(ue,"style"),Ze=w.ensureUniqueItemVisual(F,"style");P.D5.extend(Ze,Pe);var Ge=["symbol","symbolSize","symbolKeepAspect"];for(let at=0;at<Ge.length;at++)w.setItemVisual(F,Ge[at],x.getItemVisual(ue,Ge[at]))}})})}),e.registerVisual(function(c){c.eachSeriesByType("graphGL",function(f){var p=f.getGraph(),x=f.getEdgeData(),w=r0(f.get("edgeSymbol")),I=r0(f.get("edgeSymbolSize"));x.setVisual("drawType","stroke"),x.setVisual("fromSymbol",w&&w[0]),x.setVisual("toSymbol",w&&w[1]),x.setVisual("fromSymbolSize",I&&I[0]),x.setVisual("toSymbolSize",I&&I[1]),x.setVisual("style",f.getModel("lineStyle").getLineStyle()),x.each(function(F){var $=x.getItemModel(F),ue=p.getEdgeByIndex(F),Pe=r0($.getShallow("symbol",!0)),Ze=r0($.getShallow("symbolSize",!0)),Ge=$.getModel("lineStyle").getLineStyle(),at=x.ensureUniqueItemVisual(F,"style");switch(P.D5.extend(at,Ge),at.stroke){case"source":var st=ue.node1.getVisual("style");at.stroke=st&&st.fill;break;case"target":st=ue.node2.getVisual("style"),at.stroke=st&&st.fill}Pe[0]&&ue.setVisual("fromSymbol",Pe[0]),Pe[1]&&ue.setVisual("toSymbol",Pe[1]),Ze[0]&&ue.setVisual("fromSymbolSize",Ze[0]),Ze[1]&&ue.setVisual("toSymbolSize",Ze[1])})})}),e.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(c,f){f.eachComponent({mainType:"series",query:c},function(p){p.setView(c)})}),e.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},r),e.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},r),e.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},r),e.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},r)});const Q8=P.wJ.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(e,r){var c=this.get("coordinateSystem"),f="geo"===c?["lng","lat"]:P.wL(c)||["x","y"];f.push("vx","vy");var p=P._y.createDimensions(this.getSource(),{coordDimensions:f,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),x=new P.aV(p,this);return x.initData(this.getSource()),x},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}});var Z3=ar.extend(function(){return{dynamic:!0,attributes:{position:new ar.Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var c=4*e,f=2*e;this.vertexCount!==c&&this.attributes.position.init(c),this.triangleCount!==f&&(this.indices=0===f?null:this.vertexCount>65535?new Uint32Array(3*f):new Uint16Array(3*f))},addLine:function(e){var r=this._vertexOffset;this.attributes.position.set(r,[e[0],e[1],1]),this.attributes.position.set(r+1,[e[0],e[1],-1]),this.attributes.position.set(r+2,[e[0],e[1],2]),this.attributes.position.set(r+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[r,r+1,r+2]),this.setTriangleIndices(this._faceOffset++,[r+1,r+2,r+3]),this._vertexOffset+=4}});const id=Z3;br.import("@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n");var mv=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new Qr({type:Kr.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};mv.prototype={constructor:mv,init:function(){var e={type:Kr.FLOAT,minFilter:Kr.NEAREST,magFilter:Kr.NEAREST,useMipmap:!1};this._spawnTexture=new Qr(e),this._particleTexture0=new Qr(e),this._particleTexture1=new Qr(e),this._frameBuffer=new Ni({depthBuffer:!1}),this._particlePass=new oo({fragment:br.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new oo({fragment:br.source("clay.compositor.downsample")});var r=new ia({renderOrder:10,material:new Xn({shader:new br(br.source("ecgl.vfParticle.renderPoints.vertex"),br.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:ia.POINTS,geometry:new ar({dynamic:!0,mainAttribute:"texcoord0"})}),c=new ia({renderOrder:10,material:new Xn({shader:new br(br.source("ecgl.vfParticle.renderLines.vertex"),br.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new id,culling:!1}),f=new ia({material:new Xn({shader:new br(br.source("ecgl.color.vertex"),br.source("ecgl.color.fragment"))}),geometry:new Os});f.material.enableTexture("diffuseMap"),this._particlePointsMesh=r,this._particleLinesMesh=c,this._lastFrameFullQuadMesh=f,this._camera=new Lc,this._thisFrameTexture=new Qr,this._lastFrameTexture=new Qr},setParticleDensity:function(e,r){for(var f=new Float32Array(e*r*4),p=0,x=this.particleLife,w=0;w<e;w++)for(var I=0;I<r;I++,p++){f[4*p]=Math.random(),f[4*p+1]=Math.random(),f[4*p+2]=Math.random();var F=(x[1]-x[0])*Math.random()+x[0];f[4*p+3]=F}"line"===this._particleType?this._setLineGeometry(e,r):this._setPointsGeometry(e,r),this._spawnTexture.width=e,this._spawnTexture.height=r,this._spawnTexture.pixels=f,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=r,this._particlePass.setUniform("textureSize",[e,r])},_setPointsGeometry:function(e,r){var f=this._particlePointsMesh.geometry,p=f.attributes;p.texcoord0.init(e*r);for(var x=0,w=0;w<e;w++)for(var I=0;I<r;I++,x++)p.texcoord0.value[2*x]=w/e,p.texcoord0.value[2*x+1]=I/r;f.dirty()},_setLineGeometry:function(e,r){var c=e*r,f=this._getParticleMesh().geometry;f.setLineCount(c),f.resetOffset();for(var p=0;p<e;p++)for(var x=0;x<r;x++)f.addLine([p/e,x/r]);f.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(e,r,c,f){var p=this._getParticleMesh(),x=this._frameBuffer,w=this._particlePass;f&&this._updateDownsampleTextures(e,r),p.material.set("size",this._particleSize*this._supersampling),p.material.set("color",this.particleColor),w.setUniform("speedScaling",this.particleSpeedScaling),x.attach(this._particleTexture1),w.setUniform("firstFrameTime",f?(this.particleLife[1]+this.particleLife[0])/2:0),w.setUniform("particleTexture",this._particleTexture0),w.setUniform("deltaTime",c),w.setUniform("elapsedTime",this._elapsedTime),w.render(e,x),p.material.set("particleTexture",this._particleTexture1),p.material.set("prevParticleTexture",this._particleTexture0),x.attach(this._thisFrameTexture),x.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var I=this._lastFrameFullQuadMesh;I.material.set("diffuseMap",this._lastFrameTexture),I.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([I,p],this._camera),x.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=c},_downsample:function(e){var r=this._downsampleTextures;if(0!==r.length)for(var c=0,f=this._thisFrameTexture,p=r[c];p;)this._frameBuffer.attach(p),this._downsamplePass.setUniform("texture",f),this._downsamplePass.setUniform("textureSize",[f.width,f.height]),this._downsamplePass.render(e,this._frameBuffer),f=p,p=r[++c]},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform("region",e)},resize:function(e,r){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=r*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=r*this._supersampling,this._width=e,this._height=r},setParticleSize:function(e){var r=this._getParticleMesh();if(e<=2)return r.material.disableTexture("spriteTexture"),void(r.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new Qr),(!this._spriteTexture.image||this._spriteTexture.image.width!==e)&&(this._spriteTexture.image=function(e){var r=document.createElement("canvas");r.width=r.height=e;var c=r.getContext("2d");return c.fillStyle="#fff",c.arc(e/2,e/2,e/2,0,2*Math.PI),c.fill(),r}(e),this._spriteTexture.dirty()),r.material.transparent=!0,r.material.enableTexture("spriteTexture"),r.material.set("spriteTexture",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var r=this._getParticleMesh().material;r[e?"enableTexture":"disableTexture"]("gradientTexture"),r.setUniform("gradientTexture",e)},setColorTextureImage:function(e,r){this._getParticleMesh().material.setTextureImage("colorTexture",e,r,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var r=this._frameBuffer;r.attach(this._lastFrameTexture),r.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),r.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,r){for(var c=this._downsampleTextures,f=Math.max(Math.floor(Math.log(this._supersampling/r.getDevicePixelRatio())/Math.log(2)),0),p=2,x=this._width*this._supersampling,w=this._height*this._supersampling,I=0;I<f;I++)c[I]=c[I]||new Qr,c[I].width=x/p,c[I].height=w/p,p*=2;for(;I<c.length;I++)c[I].dispose(e);c.length=f},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e,e=this._thisFrameTexture,this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach(function(r){r.dispose(e)})}};const mp=mv,a0=P.TA.extend({type:"flowGL",__ecgl__:!0,init:function(e,r){this.viewGL=new dc("orthographic"),this.groupGL=new dn.Node,this.viewGL.add(this.groupGL),this._particleSurface=new mp;var c=new dn.Mesh({geometry:new dn.PlaneGeometry,material:new dn.Material({shader:new dn.Shader({vertex:dn.Shader.source("ecgl.color.vertex"),fragment:dn.Shader.source("ecgl.color.fragment")}),transparent:!0})});c.material.enableTexture("diffuseMap"),this.groupGL.add(c),this._planeMesh=c},render:function(e,r,c){var f=this._particleSurface;f.setParticleType(e.get("particleType")),f.setSupersampling(e.get("supersampling")),this._updateData(e,c),this._updateCamera(c.getWidth(),c.getHeight(),c.getDevicePixelRatio());var p=Ki.firstNotNull(e.get("particleDensity"),128);f.setParticleDensity(p,p);var x=this._planeMesh,w=+new Date,I=this,F=!0;x.__percent=0,x.stopAnimation(),x.animate("",{loop:!0}).when(1e5,{__percent:1}).during(function(){var Pe=+new Date,Ze=Math.min(Pe-w,20);w+=Ze,I._renderer&&(f.update(I._renderer,c,Ze/1e3,F),x.material.set("diffuseMap",f.getSurfaceTexture())),F=!1}).start();var $=e.getModel("itemStyle"),ue=dn.parseColor($.get("color"));ue[3]*=Ki.firstNotNull($.get("opacity"),1),x.material.set("color",ue),f.setColorTextureImage(e.get("colorTexture"),c),f.setParticleSize(e.get("particleSize")),f.particleSpeedScaling=e.get("particleSpeed"),f.motionBlurFactor=1-Math.pow(.1,e.get("particleTrail"))},updateTransform:function(e,r,c){this._updateData(e,c)},afterRender:function(e,r,c,f){this._renderer=f.renderer},_updateData:function(e,r){var c=e.coordinateSystem,f=c.dimensions.map(function(an){return e.coordDimToDataDim(an)[0]}),p=e.getData(),x=p.getDataExtent(f[0]),w=p.getDataExtent(f[1]),I=e.get("gridWidth"),F=e.get("gridHeight");null!=I&&"auto"!==I||(I=Math.round(Math.sqrt((x[1]-x[0])/(w[1]-w[0])*p.count()))),(null==F||"auto"===F)&&(F=Math.ceil(p.count()/I));var ue=this._particleSurface.vectorFieldTexture,Pe=ue.pixels;if(Pe&&Pe.length===F*I*4)for(var Ze=0;Ze<Pe.length;Ze++)Pe[Ze]=0;else Pe=ue.pixels=new Float32Array(I*F*4);var Ge=0,at=1/0,st=new Float32Array(2*p.count()),Nt=0,Bt=[[1/0,1/0],[-1/0,-1/0]];p.each([f[0],f[1],"vx","vy"],function(an,nn,en,Tn){var wn=c.dataToPoint([an,nn]);st[Nt++]=wn[0],st[Nt++]=wn[1],Bt[0][0]=Math.min(wn[0],Bt[0][0]),Bt[0][1]=Math.min(wn[1],Bt[0][1]),Bt[1][0]=Math.max(wn[0],Bt[1][0]),Bt[1][1]=Math.max(wn[1],Bt[1][1]);var Zn=Math.sqrt(en*en+Tn*Tn);Ge=Math.max(Ge,Zn),at=Math.min(at,Zn)}),p.each(["vx","vy"],function(an,nn,en){var Tn=Math.round((st[2*en]-Bt[0][0])/(Bt[1][0]-Bt[0][0])*(I-1)),Zn=4*((F-1-Math.round((st[2*en+1]-Bt[0][1])/(Bt[1][1]-Bt[0][1])*(F-1)))*I+Tn);Pe[Zn]=an/Ge*.5+.5,Pe[Zn+1]=nn/Ge*.5+.5,Pe[Zn+3]=1}),ue.width=I,ue.height=F,"bmap"===e.get("coordinateSystem")&&this._fillEmptyPixels(ue),ue.dirty(),this._updatePlanePosition(Bt[0],Bt[1],e,r),this._updateGradientTexture(p.getVisual("visualMeta"),[at,Ge])},_fillEmptyPixels:function(e){var r=e.pixels,c=e.width,f=e.height;function p(st,Nt,Bt){st=Math.max(Math.min(st,c-1),0);var an=4*((Nt=Math.max(Math.min(Nt,f-1),0))*(c-1)+st);return 0!==r[an+3]&&(Bt[0]=r[an],Bt[1]=r[an+1],!0)}function x(st,Nt,Bt){Bt[0]=st[0]+Nt[0],Bt[1]=st[1]+Nt[1]}for(var w=[],I=[],F=[],$=[],ue=[],Pe=0,Ze=0;Ze<f;Ze++)for(var Ge=0;Ge<c;Ge++){var at=4*(Ze*(c-1)+Ge);0===r[at+3]&&(Pe=w[0]=w[1]=0,p(Ge-1,Ze,I)&&(Pe++,x(I,w,w)),p(Ge+1,Ze,F)&&(Pe++,x(F,w,w)),p(Ge,Ze-1,$)&&(Pe++,x($,w,w)),p(Ge,Ze+1,ue)&&(Pe++,x(ue,w,w)),w[0]/=Pe,w[1]/=Pe,r[at]=w[0],r[at+1]=w[1]),r[at+3]=1}},_updateGradientTexture:function(e,r){if(e&&e.length){this._gradientTexture=this._gradientTexture||new dn.Texture2D({image:document.createElement("canvas")});var c=this._gradientTexture,f=c.image;f.width=200,f.height=1;var p=f.getContext("2d"),x=p.createLinearGradient(0,.5,f.width,.5);e[0].stops.forEach(function(w){var I;r[1]===r[0]?I=0:(I=w.value/r[1],I=Math.min(Math.max(I,0),1)),x.addColorStop(I,w.color)}),p.fillStyle=x,p.fillRect(0,0,f.width,f.height),c.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(e,r,c,f){var p=this._limitInViewportAndFullFill(e,r,c,f);e=p.leftTop,r=p.rightBottom,this._particleSurface.setRegion(p.region),this._planeMesh.position.set((e[0]+r[0])/2,f.getHeight()-(e[1]+r[1])/2,0);var x=r[0]-e[0],w=r[1]-e[1];this._planeMesh.scale.set(x/2,w/2,1),this._particleSurface.resize(Math.max(Math.min(x,2048),1),Math.max(Math.min(w,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,r,c,f){var p=[Math.max(e[0],0),Math.max(e[1],0)],x=[Math.min(r[0],f.getWidth()),Math.min(r[1],f.getHeight())];if("bmap"===c.get("coordinateSystem")){var w=c.getData().getDataExtent(c.coordDimToDataDim("lng")[0]);Math.floor(w[1]-w[0])>=359&&(p[0]>0&&(p[0]=0),x[0]<f.getWidth()&&(x[0]=f.getWidth()))}var F=r[0]-e[0],$=r[1]-e[1],Pe=x[1]-p[1];return{leftTop:p,rightBottom:x,region:[(p[0]-e[0])/F,1-Pe/$-(p[1]-e[1])/$,(x[0]-p[0])/F,Pe/$]}},_updateCamera:function(e,r,c){this.viewGL.setViewport(0,0,e,r,c);var f=this.viewGL.camera;f.left=f.bottom=0,f.top=r,f.right=e,f.near=0,f.far=100,f.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});(0,P.D$)(function(e){e.registerChartView(a0),e.registerSeriesModel(Q8)});var yv=E(284),_v=P.wJ.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(e){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count)),_v.superApply(this,"init",arguments)},mergeOption:function(e){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count)),_v.superApply(this,"mergeOption",arguments)},appendData:function(e){var r=this._processFlatCoordsArray(e.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=(0,yv.concatArray)(this._flatCoords,r.flatCoords),this._flatCoordsOffset=(0,yv.concatArray)(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),e.data=new Float32Array(r.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var r=this.getData().getItemModel(e);return r.option instanceof Array?r.option:r.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,r){if(this._flatCoordsOffset){for(var c=this._flatCoordsOffset[2*e],f=this._flatCoordsOffset[2*e+1],p=0;p<f;p++)r[p]=r[p]||[],r[p][0]=this._flatCoords[c+2*p],r[p][1]=this._flatCoords[c+2*p+1];return f}var x=this._getCoordsFromItemModel(e);for(p=0;p<x.length;p++)r[p]=r[p]||[],r[p][0]=x[p][0],r[p][1]=x[p][1];return x.length},_processFlatCoordsArray:function(e){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),"number"==typeof e[0]){for(var c=e.length,f=new Uint32Array(c),p=new Float64Array(c),x=0,w=0,I=0,F=0;F<c;){I++;var $=e[F++];f[w++]=x+r,f[w++]=$;for(var ue=0;ue<$;ue++){var Pe=e[F++],Ze=e[F++];p[x++]=Pe,p[x++]=Ze}}return{flatCoordsOffset:new Uint32Array(f.buffer,0,w),flatCoords:p,count:I}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,r){var c=new P.aV(["value"],this);return c.hasItemOption=!1,c.initData(e.data,[],function(f,p,x,w){if(f instanceof Array)return NaN;c.hasItemOption=!0;var I=f.value;return null!=I?I instanceof Array?I[w]:I:void 0}),c},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});const o0=_v,j3=P.TA.extend({type:"linesGL",__ecgl__:!0,init:function(e,r){this.groupGL=new dn.Node,this.viewGL=new dc("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new cv(this.viewGL),this._nativeLinesShader=dn.createShader("ecgl.lines3D"),this._meshLinesShader=dn.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(e,r,c){this.groupGL.removeAll(),this._glViewHelper.reset(e,c);var f=this._linesMeshes[0];f||(f=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(f),this._updateLinesMesh(e,f,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel("postEffect"),c)},incrementalPrepareRender:function(e,r,c){this.groupGL.removeAll(),this._glViewHelper.reset(e,c),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),c)},incrementalRender:function(e,r,c,f){var p=this._linesMeshes[this._currentStep];p||(p=this._createLinesMesh(r),this._linesMeshes[this._currentStep]=p),this._updateLinesMesh(r,p,e.start,e.end),this.groupGL.add(p),f.getZr().refresh(),this._currentStep++},updateTransform:function(e,r,c){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,c)},_createLinesMesh:function(e){return new dn.Mesh({$ignorePicking:!0,material:new dn.Material({shader:dn.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new hv({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:dn.Mesh.LINES,culling:!1})},_updateLinesMesh:function(e,r,c,f){var p=e.getData();r.material.blend="lighter"===e.get("blendMode")?dn.additiveBlend:null;var x=e.get("lineStyle.curveness")||0,w=e.get("polyline"),I=r.geometry,F=e.coordinateSystem,$=Ki.firstNotNull(e.get("lineStyle.width"),1);$>1?(r.material.shader!==this._meshLinesShader&&r.material.attachShader(this._meshLinesShader),r.mode=dn.Mesh.TRIANGLES):(r.material.shader!==this._nativeLinesShader&&r.material.attachShader(this._nativeLinesShader),r.mode=dn.Mesh.LINES),c=c||0,f=f||p.count(),I.resetOffset();var ue=0,Pe=0,Ze=[],Ge=[],at=[],st=[],Nt=[];function nn(){Ge[0]=.7*Ze[0]+.3*st[0]-(Ze[1]-st[1])*x,Ge[1]=.7*Ze[1]+.3*st[1]-(st[0]-Ze[0])*x,at[0]=.3*Ze[0]+.7*st[0]-(Ze[1]-st[1])*x,at[1]=.3*Ze[1]+.7*st[1]-(st[0]-Ze[0])*x}if(w||0!==x)for(var en=c;en<f;en++)if(w){var Tn=e.getLineCoordsCount(en);ue+=I.getPolylineVertexCount(Tn),Pe+=I.getPolylineTriangleCount(Tn)}else e.getLineCoords(en,Nt),this._glViewHelper.dataToPoint(F,Nt[0],Ze),this._glViewHelper.dataToPoint(F,Nt[1],st),nn(),ue+=I.getCubicCurveVertexCount(Ze,Ge,at,st),Pe+=I.getCubicCurveTriangleCount(Ze,Ge,at,st);else{var wn=f-c;ue+=wn*I.getLineVertexCount(),Pe+=wn*I.getLineVertexCount()}I.setVertexCount(ue),I.setTriangleCount(Pe);var Zn=c,Yn=[];for(en=c;en<f;en++){dn.parseColor(zo(p,Zn),Yn);var nr=Ki.firstNotNull(Co(p,Zn),1);Yn[3]*=nr,Tn=e.getLineCoords(en,Nt);for(var Pr=0;Pr<Tn;Pr++)this._glViewHelper.dataToPoint(F,Nt[Pr],Nt[Pr]);w?I.addPolyline(Nt,Yn,$,0,Tn):0!==x?(Ze=Nt[0],st=Nt[1],nn(),I.addCubicCurve(Ze,Ge,at,st,Yn,$)):I.addPolyline(Nt,Yn,$,0,2),Zn++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});(0,P.D$)(function(e){e.registerChartView(j3),e.registerSeriesModel(o0)}),E(7590),(0,ce.qS)(H);let _p=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275mod=R.oAB({type:e,bootstrap:[A]}),e.\u0275inj=R.cJS({providers:[{provide:ce.S$,useClass:ce.Do}],imports:[[m.b2,C,xe,Se.u5,Y.y,k.JP.forRoot(),le.JF,y.PW,V.Ns.forRoot({echarts:()=>Promise.resolve().then(E.bind(E,7217))})]]}),e})();(0,R.G48)(),m.q6().bootstrapModule(_p).catch(e=>console.error(e))},5845:(un,ot,E)=>{"use strict";E.d(ot,{ZT:()=>R,pi:()=>k,ev:()=>Q});var m=function(D,A){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,C){M.__proto__=C}||function(M,C){for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(M[P]=C[P])})(D,A)};function R(D,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function M(){this.constructor=D}m(D,A),D.prototype=null===A?Object.create(A):(M.prototype=A.prototype,new M)}var k=function(){return k=Object.assign||function(A){for(var M,C=1,P=arguments.length;C<P;C++)for(var N in M=arguments[C])Object.prototype.hasOwnProperty.call(M,N)&&(A[N]=M[N]);return A},k.apply(this,arguments)};function Q(D,A,M){if(M||2===arguments.length)for(var N,C=0,P=A.length;C<P;C++)(N||!(C in A))&&(N||(N=Array.prototype.slice.call(A,0,C)),N[C]=A[C]);return D.concat(N||A)}},4762:(un,ot,E)=>{"use strict";function le(D,A,M,C){var ee,P=arguments.length,N=P<3?A:null===C?C=Object.getOwnPropertyDescriptor(A,M):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(D,A,M,C);else for(var ye=D.length-1;ye>=0;ye--)(ee=D[ye])&&(N=(P<3?ee(N):P>3?ee(A,M,N):ee(A,M))||N);return P>3&&N&&Object.defineProperty(A,M,N),N}E.d(ot,{gn:()=>le})},908:(un,ot,E)=>{"use strict";E.d(ot,{ZT:()=>R});var m=function(D,A){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,C){M.__proto__=C}||function(M,C){for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(M[P]=C[P])})(D,A)};function R(D,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function M(){this.constructor=D}m(D,A),D.prototype=null===A?Object.create(A):(M.prototype=A.prototype,new M)}},3705:(un,ot,E)=>{"use strict";function m(Z,U,W,L,D,A,M){try{var C=Z[A](M),P=C.value}catch(N){return void W(N)}C.done?U(P):Promise.resolve(P).then(L,D)}function R(Z){return function(){var U=this,W=arguments;return new Promise(function(L,D){var A=Z.apply(U,W);function M(P){m(A,L,D,M,C,"next",P)}function C(P){m(A,L,D,M,C,"throw",P)}M(void 0)})}}E.d(ot,{_w:()=>de,Ns:()=>oe});var k=E(3668),Se=E(2411),le=E(172),y=E(3405),ce=E(8178),q=E(5548),K=E(4168);const H={leading:!0,trailing:!1};class xe{constructor(U,W,L,D){this.duration=U,this.scheduler=W,this.leading=L,this.trailing=D}call(U,W){return W.subscribe(new Q(U,this.duration,this.scheduler,this.leading,this.trailing))}}class Q extends K.L{constructor(U,W,L,D,A){super(U),this.duration=W,this.scheduler=L,this.leading=D,this.trailing=A,this._hasTrailingValue=!1,this._trailingValue=null}_next(U){this.throttled?this.trailing&&(this._trailingValue=U,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(fe,this.duration,{subscriber:this})),this.leading?this.destination.next(U):this.trailing&&(this._trailingValue=U,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const U=this.throttled;U&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),U.unsubscribe(),this.remove(U),this.throttled=null)}}function fe(Z){const{subscriber:U}=Z;U.clearThrottle()}var re=E(9204);class ie{constructor(U){this.changes=U}static of(U){return new ie(U)}notEmpty(U){if(this.changes[U]){const W=this.changes[U].currentValue;if(null!=W)return(0,Se.of)(W)}return le.E}has(U){return this.changes[U]?(0,Se.of)(this.changes[U].currentValue):le.E}notFirst(U){return this.changes[U]&&!this.changes[U].isFirstChange()?(0,Se.of)(this.changes[U].currentValue):le.E}notFirstAndEmpty(U){if(this.changes[U]&&!this.changes[U].isFirstChange()){const W=this.changes[U].currentValue;if(null!=W)return(0,Se.of)(W)}return le.E}}const ne=new k.OlP("NGX_ECHARTS_CONFIG");let de=(()=>{class Z{constructor(W,L,D){this.el=L,this.ngZone=D,this.autoResize=!0,this.loadingType="default",this.chartInit=new k.vpe,this.optionsError=new k.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.resize$=new y.xQ,this.echarts=W.echarts}ngOnChanges(W){const L=ie.of(W);L.notFirstAndEmpty("options").subscribe(D=>this.onOptionsChange(D)),L.notFirstAndEmpty("merge").subscribe(D=>this.setOption(D)),L.has("loading").subscribe(D=>this.toggleLoading(!!D)),L.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(function(Z,U=ce.P,W=H){return L=>L.lift(new xe(Z,U,W.leading,W.trailing))}(100,ce.P,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement))}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(W){this.chart&&(W?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(W,L){if(this.chart)try{this.chart.setOption(W,L)}catch(D){console.error(D),this.optionsError.emit(D)}}refreshChart(){var W=this;return R(function*(){W.dispose(),yield W.initChart()})()}createChart(){const W=this.el.nativeElement;if(window&&window.getComputedStyle){const L=window.getComputedStyle(W,null).getPropertyValue("height");(!L||"0px"===L)&&(!W.style.height||"0px"===W.style.height)&&(W.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:D})=>D(W,this.theme,this.initOpts)))}initChart(){var W=this;return R(function*(){yield W.onOptionsChange(W.options),W.merge&&W.chart&&W.setOption(W.merge)})()}onOptionsChange(W){var L=this;return R(function*(){!W||(L.chart||(L.chart=yield L.createChart(),L.chartInit.emit(L.chart)),L.setOption(L.options,!0))})()}createLazyEvent(W){return this.chartInit.pipe((0,re.w)(L=>new q.y(D=>(L.on(W,A=>this.ngZone.run(()=>D.next(A))),()=>{this.chart&&(this.chart.isDisposed()||L.off(W))}))))}}return Z.\u0275fac=function(W){return new(W||Z)(k.Y36(ne),k.Y36(k.SBq),k.Y36(k.R0b))},Z.\u0275dir=k.lG2({type:Z,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[k.TTD]}),Z})(),oe=(()=>{class Z{static forRoot(W){return{ngModule:Z,providers:[{provide:ne,useValue:W}]}}static forChild(){return{ngModule:Z}}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275mod=k.oAB({type:Z}),Z.\u0275inj=k.cJS({imports:[[]]}),Z})()},9814:(un,ot,E)=>{"use strict";E.d(ot,{l3:()=>k,_j:()=>m,LC:()=>R,ZN:()=>re,jt:()=>le,IO:()=>xe,vP:()=>ce,EY:()=>Q,SB:()=>K,oB:()=>q,eR:()=>Y,X$:()=>Se,ZE:()=>ie,k1:()=>ne});class m{}class R{}const k="*";function Se(de,oe){return{type:7,name:de,definitions:oe,options:{}}}function le(de,oe=null){return{type:4,styles:oe,timings:de}}function ce(de,oe=null){return{type:2,steps:de,options:oe}}function q(de){return{type:6,styles:de,offset:null}}function K(de,oe,Z){return{type:0,name:de,styles:oe,options:Z}}function Y(de,oe,Z=null){return{type:1,expr:de,animation:oe,options:Z}}function xe(de,oe,Z=null){return{type:11,selector:de,animation:oe,options:Z}}function Q(de,oe){return{type:12,timings:de,animation:oe}}function fe(de){Promise.resolve(null).then(de)}class re{constructor(oe=0,Z=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=oe+Z}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}onStart(oe){this._onStartFns.push(oe)}onDone(oe){this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(oe=>oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(oe){this._position=this.totalTime?oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(oe){const Z="start"==oe?this._onStartFns:this._onDoneFns;Z.forEach(U=>U()),Z.length=0}}class ie{constructor(oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=oe;let Z=0,U=0,W=0;const L=this.players.length;0==L?fe(()=>this._onFinish()):this.players.forEach(D=>{D.onDone(()=>{++Z==L&&this._onFinish()}),D.onDestroy(()=>{++U==L&&this._onDestroy()}),D.onStart(()=>{++W==L&&this._onStart()})}),this.totalTime=this.players.reduce((D,A)=>Math.max(D,A.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}init(){this.players.forEach(oe=>oe.init())}onStart(oe){this._onStartFns.push(oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(oe=>oe()),this._onStartFns=[])}onDone(oe){this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(oe=>oe.play())}pause(){this.players.forEach(oe=>oe.pause())}restart(){this.players.forEach(oe=>oe.restart())}finish(){this._onFinish(),this.players.forEach(oe=>oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(oe=>oe.destroy()),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this.players.forEach(oe=>oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(oe){const Z=oe*this.totalTime;this.players.forEach(U=>{const W=U.totalTime?Math.min(1,Z/U.totalTime):1;U.setPosition(W)})}getPosition(){const oe=this.players.reduce((Z,U)=>null===Z||U.totalTime>Z.totalTime?U:Z,null);return null!=oe?oe.getPosition():0}beforeDestroy(){this.players.forEach(oe=>{oe.beforeDestroy&&oe.beforeDestroy()})}triggerCallback(oe){const Z="start"==oe?this._onStartFns:this._onDoneFns;Z.forEach(U=>U()),Z.length=0}}const ne="!"},6019:(un,ot,E)=>{"use strict";E.d(ot,{mr:()=>ie,Ov:()=>Pn,ez:()=>Tr,K0:()=>ce,Do:()=>de,V_:()=>H,Ye:()=>oe,S$:()=>fe,mk:()=>sa,sg:()=>tn,O5:()=>Kn,PC:()=>xr,RF:()=>Fr,n9:()=>ri,ED:()=>Oi,tP:()=>Ii,b0:()=>ne,lw:()=>q,EM:()=>Ri,JF:()=>ho,NF:()=>zr,qS:()=>di,w_:()=>y,bD:()=>Pa,q:()=>k,Mx:()=>fr,HT:()=>le});var m=E(3668);let R=null;function k(){return R}function le(nt){R||(R=nt)}class y{}const ce=new m.OlP("DocumentToken");let q=(()=>{class nt{historyGo(Ce){throw new Error("Not implemented")}}return nt.\u0275fac=function(Ce){return new(Ce||nt)},nt.\u0275prov=m.Yz7({token:nt,factory:function(){return(0,m.LFG)(Y)},providedIn:"platform"}),nt})();const H=new m.OlP("Location Initialized");let Y=(()=>{class nt extends q{constructor(Ce){super(),this._doc=Ce,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(Ce){const He=k().getGlobalEventTarget(this._doc,"window");return He.addEventListener("popstate",Ce,!1),()=>He.removeEventListener("popstate",Ce)}onHashChange(Ce){const He=k().getGlobalEventTarget(this._doc,"window");return He.addEventListener("hashchange",Ce,!1),()=>He.removeEventListener("hashchange",Ce)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Ce){this.location.pathname=Ce}pushState(Ce,He,_e){V()?this._history.pushState(Ce,He,_e):this.location.hash=_e}replaceState(Ce,He,_e){V()?this._history.replaceState(Ce,He,_e):this.location.hash=_e}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ce=0){this._history.go(Ce)}getState(){return this._history.state}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.LFG(ce))},nt.\u0275prov=m.Yz7({token:nt,factory:function(){return new Y((0,m.LFG)(ce))},providedIn:"platform"}),nt})();function V(){return!!window.history.pushState}function X(nt,Ot){if(0==nt.length)return Ot;if(0==Ot.length)return nt;let Ce=0;return nt.endsWith("/")&&Ce++,Ot.startsWith("/")&&Ce++,2==Ce?nt+Ot.substring(1):1==Ce?nt+Ot:nt+"/"+Ot}function xe(nt){const Ot=nt.match(/#|\?|$/),Ce=Ot&&Ot.index||nt.length;return nt.slice(0,Ce-("/"===nt[Ce-1]?1:0))+nt.slice(Ce)}function Q(nt){return nt&&"?"!==nt[0]?"?"+nt:nt}let fe=(()=>{class nt{historyGo(Ce){throw new Error("Not implemented")}}return nt.\u0275fac=function(Ce){return new(Ce||nt)},nt.\u0275prov=m.Yz7({token:nt,factory:function(){return function(nt){const Ot=(0,m.LFG)(ce).location;return new ne((0,m.LFG)(q),Ot&&Ot.origin||"")}()},providedIn:"root"}),nt})();const ie=new m.OlP("appBaseHref");let ne=(()=>{class nt extends fe{constructor(Ce,He){if(super(),this._platformLocation=Ce,this._removeListenerFns=[],null==He&&(He=this._platformLocation.getBaseHrefFromDOM()),null==He)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=He}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ce){return X(this._baseHref,Ce)}path(Ce=!1){const He=this._platformLocation.pathname+Q(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&Ce?`${He}${_e}`:He}pushState(Ce,He,_e,ae){const ge=this.prepareExternalUrl(_e+Q(ae));this._platformLocation.pushState(Ce,He,ge)}replaceState(Ce,He,_e,ae){const ge=this.prepareExternalUrl(_e+Q(ae));this._platformLocation.replaceState(Ce,He,ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Ce=0){var He,_e;null==(_e=(He=this._platformLocation).historyGo)||_e.call(He,Ce)}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.LFG(q),m.LFG(ie,8))},nt.\u0275prov=m.Yz7({token:nt,factory:nt.\u0275fac}),nt})(),de=(()=>{class nt extends fe{constructor(Ce,He){super(),this._platformLocation=Ce,this._baseHref="",this._removeListenerFns=[],null!=He&&(this._baseHref=He)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}path(Ce=!1){let He=this._platformLocation.hash;return null==He&&(He="#"),He.length>0?He.substring(1):He}prepareExternalUrl(Ce){const He=X(this._baseHref,Ce);return He.length>0?"#"+He:He}pushState(Ce,He,_e,ae){let ge=this.prepareExternalUrl(_e+Q(ae));0==ge.length&&(ge=this._platformLocation.pathname),this._platformLocation.pushState(Ce,He,ge)}replaceState(Ce,He,_e,ae){let ge=this.prepareExternalUrl(_e+Q(ae));0==ge.length&&(ge=this._platformLocation.pathname),this._platformLocation.replaceState(Ce,He,ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Ce=0){var He,_e;null==(_e=(He=this._platformLocation).historyGo)||_e.call(He,Ce)}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.LFG(q),m.LFG(ie,8))},nt.\u0275prov=m.Yz7({token:nt,factory:nt.\u0275fac}),nt})(),oe=(()=>{class nt{constructor(Ce,He){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=Ce;const _e=this._platformStrategy.getBaseHref();this._platformLocation=He,this._baseHref=xe(W(_e)),this._platformStrategy.onPopState(ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:ae.state,type:ae.type})})}path(Ce=!1){return this.normalize(this._platformStrategy.path(Ce))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Ce,He=""){return this.path()==this.normalize(Ce+Q(He))}normalize(Ce){return nt.stripTrailingSlash(function(nt,Ot){return nt&&Ot.startsWith(nt)?Ot.substring(nt.length):Ot}(this._baseHref,W(Ce)))}prepareExternalUrl(Ce){return Ce&&"/"!==Ce[0]&&(Ce="/"+Ce),this._platformStrategy.prepareExternalUrl(Ce)}go(Ce,He="",_e=null){this._platformStrategy.pushState(_e,"",Ce,He),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+Q(He)),_e)}replaceState(Ce,He="",_e=null){this._platformStrategy.replaceState(_e,"",Ce,He),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+Q(He)),_e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Ce=0){var He,_e;null==(_e=(He=this._platformStrategy).historyGo)||_e.call(He,Ce)}onUrlChange(Ce){this._urlChangeListeners.push(Ce),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(He=>{this._notifyUrlChangeListeners(He.url,He.state)}))}_notifyUrlChangeListeners(Ce="",He){this._urlChangeListeners.forEach(_e=>_e(Ce,He))}subscribe(Ce,He,_e){return this._subject.subscribe({next:Ce,error:He,complete:_e})}}return nt.normalizeQueryParams=Q,nt.joinWithSlash=X,nt.stripTrailingSlash=xe,nt.\u0275fac=function(Ce){return new(Ce||nt)(m.LFG(fe),m.LFG(q))},nt.\u0275prov=m.Yz7({token:nt,factory:function(){return new oe((0,m.LFG)(fe),(0,m.LFG)(q))},providedIn:"root"}),nt})();function W(nt){return nt.replace(/\/index.html$/,"")}var A=(()=>((A=A||{})[A.Zero=0]="Zero",A[A.One=1]="One",A[A.Two=2]="Two",A[A.Few=3]="Few",A[A.Many=4]="Many",A[A.Other=5]="Other",A))();const Qt=m.kL8;class Wi{}let Hi=(()=>{class nt extends Wi{constructor(Ce){super(),this.locale=Ce}getPluralCategory(Ce,He){switch(Qt(He||this.locale)(Ce)){case A.Zero:return"zero";case A.One:return"one";case A.Two:return"two";case A.Few:return"few";case A.Many:return"many";default:return"other"}}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.LFG(m.soG))},nt.\u0275prov=m.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function di(nt,Ot,Ce){return(0,m.dwT)(nt,Ot,Ce)}function fr(nt,Ot){Ot=encodeURIComponent(Ot);for(const Ce of nt.split(";")){const He=Ce.indexOf("="),[_e,ae]=-1==He?[Ce,""]:[Ce.slice(0,He),Ce.slice(He+1)];if(_e.trim()===Ot)return decodeURIComponent(ae)}return null}let sa=(()=>{class nt{constructor(Ce,He,_e,ae){this._iterableDiffers=Ce,this._keyValueDiffers=He,this._ngEl=_e,this._renderer=ae,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Ce){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Ce?Ce.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Ce){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Ce?Ce.split(/\s+/):Ce,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Ce=this._iterableDiffer.diff(this._rawClass);Ce&&this._applyIterableChanges(Ce)}else if(this._keyValueDiffer){const Ce=this._keyValueDiffer.diff(this._rawClass);Ce&&this._applyKeyValueChanges(Ce)}}_applyKeyValueChanges(Ce){Ce.forEachAddedItem(He=>this._toggleClass(He.key,He.currentValue)),Ce.forEachChangedItem(He=>this._toggleClass(He.key,He.currentValue)),Ce.forEachRemovedItem(He=>{He.previousValue&&this._toggleClass(He.key,!1)})}_applyIterableChanges(Ce){Ce.forEachAddedItem(He=>{if("string"!=typeof He.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(He.item)}`);this._toggleClass(He.item,!0)}),Ce.forEachRemovedItem(He=>this._toggleClass(He.item,!1))}_applyClasses(Ce){Ce&&(Array.isArray(Ce)||Ce instanceof Set?Ce.forEach(He=>this._toggleClass(He,!0)):Object.keys(Ce).forEach(He=>this._toggleClass(He,!!Ce[He])))}_removeClasses(Ce){Ce&&(Array.isArray(Ce)||Ce instanceof Set?Ce.forEach(He=>this._toggleClass(He,!1)):Object.keys(Ce).forEach(He=>this._toggleClass(He,!1)))}_toggleClass(Ce,He){(Ce=Ce.trim())&&Ce.split(/\s+/g).forEach(_e=>{He?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},nt.\u0275dir=m.lG2({type:nt,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),nt})();class kt{constructor(Ot,Ce,He,_e){this.$implicit=Ot,this.ngForOf=Ce,this.index=He,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tn=(()=>{class nt{constructor(Ce,He,_e){this._viewContainer=Ce,this._template=He,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Ce){this._ngForOf=Ce,this._ngForOfDirty=!0}set ngForTrackBy(Ce){this._trackByFn=Ce}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Ce){Ce&&(this._template=Ce)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ce=this._ngForOf;if(!this._differ&&Ce)try{this._differ=this._differs.find(Ce).create(this.ngForTrackBy)}catch(He){throw new Error(`Cannot find a differ supporting object '${Ce}' of type '${function(nt){return nt.name||typeof nt}(Ce)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const Ce=this._differ.diff(this._ngForOf);Ce&&this._applyChanges(Ce)}}_applyChanges(Ce){const He=[];Ce.forEachOperation((_e,ae,ge)=>{if(null==_e.previousIndex){const De=this._viewContainer.createEmbeddedView(this._template,new kt(null,this._ngForOf,-1,-1),null===ge?void 0:ge),gt=new St(_e,De);He.push(gt)}else if(null==ge)this._viewContainer.remove(null===ae?void 0:ae);else if(null!==ae){const De=this._viewContainer.get(ae);this._viewContainer.move(De,ge);const gt=new St(_e,De);He.push(gt)}});for(let _e=0;_e<He.length;_e++)this._perViewChange(He[_e].view,He[_e].record);for(let _e=0,ae=this._viewContainer.length;_e<ae;_e++){const ge=this._viewContainer.get(_e);ge.context.index=_e,ge.context.count=ae,ge.context.ngForOf=this._ngForOf}Ce.forEachIdentityChange(_e=>{this._viewContainer.get(_e.currentIndex).context.$implicit=_e.item})}_perViewChange(Ce,He){Ce.context.$implicit=He.item}static ngTemplateContextGuard(Ce,He){return!0}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},nt.\u0275dir=m.lG2({type:nt,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),nt})();class St{constructor(Ot,Ce){this.record=Ot,this.view=Ce}}let Kn=(()=>{class nt{constructor(Ce,He){this._viewContainer=Ce,this._context=new sr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=He}set ngIf(Ce){this._context.$implicit=this._context.ngIf=Ce,this._updateView()}set ngIfThen(Ce){Rr("ngIfThen",Ce),this._thenTemplateRef=Ce,this._thenViewRef=null,this._updateView()}set ngIfElse(Ce){Rr("ngIfElse",Ce),this._elseTemplateRef=Ce,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ce,He){return!0}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.Y36(m.s_b),m.Y36(m.Rgc))},nt.\u0275dir=m.lG2({type:nt,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),nt})();class sr{constructor(){this.$implicit=null,this.ngIf=null}}function Rr(nt,Ot){if(Ot&&!Ot.createEmbeddedView)throw new Error(`${nt} must be a TemplateRef, but received '${(0,m.AaK)(Ot)}'.`)}class kr{constructor(Ot,Ce){this._viewContainerRef=Ot,this._templateRef=Ce,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Ot){Ot&&!this._created?this.create():!Ot&&this._created&&this.destroy()}}let Fr=(()=>{class nt{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ce){this._ngSwitch=Ce,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ce){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Ce)}_matchCase(Ce){const He=Ce==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||He,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),He}_updateDefaultCases(Ce){if(this._defaultViews&&Ce!==this._defaultUsed){this._defaultUsed=Ce;for(let He=0;He<this._defaultViews.length;He++)this._defaultViews[He].enforceState(Ce)}}}return nt.\u0275fac=function(Ce){return new(Ce||nt)},nt.\u0275dir=m.lG2({type:nt,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),nt})(),ri=(()=>{class nt{constructor(Ce,He,_e){this.ngSwitch=_e,_e._addCase(),this._view=new kr(Ce,He)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Fr,9))},nt.\u0275dir=m.lG2({type:nt,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),nt})(),Oi=(()=>{class nt{constructor(Ce,He,_e){_e._addDefault(new kr(Ce,He))}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Fr,9))},nt.\u0275dir=m.lG2({type:nt,selectors:[["","ngSwitchDefault",""]]}),nt})(),xr=(()=>{class nt{constructor(Ce,He,_e){this._ngEl=Ce,this._differs=He,this._renderer=_e,this._ngStyle=null,this._differ=null}set ngStyle(Ce){this._ngStyle=Ce,!this._differ&&Ce&&(this._differ=this._differs.find(Ce).create())}ngDoCheck(){if(this._differ){const Ce=this._differ.diff(this._ngStyle);Ce&&this._applyChanges(Ce)}}_setStyle(Ce,He){const[_e,ae]=Ce.split(".");null!=(He=null!=He&&ae?`${He}${ae}`:He)?this._renderer.setStyle(this._ngEl.nativeElement,_e,He):this._renderer.removeStyle(this._ngEl.nativeElement,_e)}_applyChanges(Ce){Ce.forEachRemovedItem(He=>this._setStyle(He.key,null)),Ce.forEachAddedItem(He=>this._setStyle(He.key,He.currentValue)),Ce.forEachChangedItem(He=>this._setStyle(He.key,He.currentValue))}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.Y36(m.SBq),m.Y36(m.aQg),m.Y36(m.Qsj))},nt.\u0275dir=m.lG2({type:nt,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),nt})(),Ii=(()=>{class nt{constructor(Ce){this._viewContainerRef=Ce,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(Ce){if(Ce.ngTemplateOutlet){const He=this._viewContainerRef;this._viewRef&&He.remove(He.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?He.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&Ce.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.Y36(m.s_b))},nt.\u0275dir=m.lG2({type:nt,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[m.TTD]}),nt})();class xo{createSubscription(Ot,Ce){return Ot.subscribe({next:Ce,error:He=>{throw He}})}dispose(Ot){Ot.unsubscribe()}onDestroy(Ot){Ot.unsubscribe()}}class qi{createSubscription(Ot,Ce){return Ot.then(Ce,He=>{throw He})}dispose(Ot){}onDestroy(Ot){}}const Ar=new qi,ii=new xo;let Pn=(()=>{class nt{constructor(Ce){this._ref=Ce,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(Ce){return this._obj?Ce!==this._obj?(this._dispose(),this.transform(Ce)):this._latestValue:(Ce&&this._subscribe(Ce),this._latestValue)}_subscribe(Ce){this._obj=Ce,this._strategy=this._selectStrategy(Ce),this._subscription=this._strategy.createSubscription(Ce,He=>this._updateLatestValue(Ce,He))}_selectStrategy(Ce){if((0,m.QGY)(Ce))return Ar;if((0,m.F4k)(Ce))return ii;throw function(nt,Ot){return Error(`InvalidPipeArgument: '${Ot}' for pipe '${(0,m.AaK)(nt)}'`)}(nt,Ce)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ce,He){Ce===this._obj&&(this._latestValue=He,this._ref.markForCheck())}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(m.Y36(m.sBO,16))},nt.\u0275pipe=m.Yjl({name:"async",type:nt,pure:!1}),nt})(),Tr=(()=>{class nt{}return nt.\u0275fac=function(Ce){return new(Ce||nt)},nt.\u0275mod=m.oAB({type:nt}),nt.\u0275inj=m.cJS({providers:[{provide:Wi,useClass:Hi}]}),nt})();const Pa="browser";function zr(nt){return nt===Pa}let Ri=(()=>{class nt{}return nt.\u0275prov=(0,m.Yz7)({token:nt,providedIn:"root",factory:()=>new qa((0,m.LFG)(ce),window)}),nt})();class qa{constructor(Ot,Ce){this.document=Ot,this.window=Ce,this.offset=()=>[0,0]}setOffset(Ot){this.offset=Array.isArray(Ot)?()=>Ot:Ot}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ot){this.supportsScrolling()&&this.window.scrollTo(Ot[0],Ot[1])}scrollToAnchor(Ot){if(!this.supportsScrolling())return;const Ce=function(nt,Ot){const Ce=nt.getElementById(Ot)||nt.getElementsByName(Ot)[0];if(Ce)return Ce;if("function"==typeof nt.createTreeWalker&&nt.body&&(nt.body.createShadowRoot||nt.body.attachShadow)){const He=nt.createTreeWalker(nt.body,NodeFilter.SHOW_ELEMENT);let _e=He.currentNode;for(;_e;){const ae=_e.shadowRoot;if(ae){const ge=ae.getElementById(Ot)||ae.querySelector(`[name="${Ot}"]`);if(ge)return ge}_e=He.nextNode()}}return null}(this.document,Ot);Ce&&(this.scrollToElement(Ce),this.attemptFocus(Ce))}setHistoryScrollRestoration(Ot){if(this.supportScrollRestoration()){const Ce=this.window.history;Ce&&Ce.scrollRestoration&&(Ce.scrollRestoration=Ot)}}scrollToElement(Ot){const Ce=Ot.getBoundingClientRect(),He=Ce.left+this.window.pageXOffset,_e=Ce.top+this.window.pageYOffset,ae=this.offset();this.window.scrollTo(He-ae[0],_e-ae[1])}attemptFocus(Ot){return Ot.focus(),this.document.activeElement===Ot}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Ot=wo(this.window.history)||wo(Object.getPrototypeOf(this.window.history));return!(!Ot||!Ot.writable&&!Ot.set)}catch(Ot){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ot){return!1}}}function wo(nt){return Object.getOwnPropertyDescriptor(nt,"scrollRestoration")}class ho{}},4522:(un,ot,E)=>{"use strict";E.d(ot,{jN:()=>K,eN:()=>N,JF:()=>sn});var m=E(6019),R=E(3668),k=E(2411),Se=E(5548),le=E(6700),y=E(8735),ce=E(8053);class q{}class K{}class H{constructor(ke){this.normalizedNames=new Map,this.lazyUpdate=null,ke?this.lazyInit="string"==typeof ke?()=>{this.headers=new Map,ke.split("\n").forEach(je=>{const yt=je.indexOf(":");if(yt>0){const Et=je.slice(0,yt),$t=Et.toLowerCase(),cn=je.slice(yt+1).trim();this.maybeSetNormalizedName(Et,$t),this.headers.has($t)?this.headers.get($t).push(cn):this.headers.set($t,[cn])}})}:()=>{this.headers=new Map,Object.keys(ke).forEach(je=>{let yt=ke[je];const Et=je.toLowerCase();"string"==typeof yt&&(yt=[yt]),yt.length>0&&(this.headers.set(Et,yt),this.maybeSetNormalizedName(je,Et))})}:this.headers=new Map}has(ke){return this.init(),this.headers.has(ke.toLowerCase())}get(ke){this.init();const je=this.headers.get(ke.toLowerCase());return je&&je.length>0?je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ke){return this.init(),this.headers.get(ke.toLowerCase())||null}append(ke,je){return this.clone({name:ke,value:je,op:"a"})}set(ke,je){return this.clone({name:ke,value:je,op:"s"})}delete(ke,je){return this.clone({name:ke,value:je,op:"d"})}maybeSetNormalizedName(ke,je){this.normalizedNames.has(je)||this.normalizedNames.set(je,ke)}init(){this.lazyInit&&(this.lazyInit instanceof H?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ke=>this.applyUpdate(ke)),this.lazyUpdate=null))}copyFrom(ke){ke.init(),Array.from(ke.headers.keys()).forEach(je=>{this.headers.set(je,ke.headers.get(je)),this.normalizedNames.set(je,ke.normalizedNames.get(je))})}clone(ke){const je=new H;return je.lazyInit=this.lazyInit&&this.lazyInit instanceof H?this.lazyInit:this,je.lazyUpdate=(this.lazyUpdate||[]).concat([ke]),je}applyUpdate(ke){const je=ke.name.toLowerCase();switch(ke.op){case"a":case"s":let yt=ke.value;if("string"==typeof yt&&(yt=[yt]),0===yt.length)return;this.maybeSetNormalizedName(ke.name,je);const Et=("a"===ke.op?this.headers.get(je):void 0)||[];Et.push(...yt),this.headers.set(je,Et);break;case"d":const $t=ke.value;if($t){let cn=this.headers.get(je);if(!cn)return;cn=cn.filter(ct=>-1===$t.indexOf(ct)),0===cn.length?(this.headers.delete(je),this.normalizedNames.delete(je)):this.headers.set(je,cn)}else this.headers.delete(je),this.normalizedNames.delete(je)}}forEach(ke){this.init(),Array.from(this.normalizedNames.keys()).forEach(je=>ke(this.normalizedNames.get(je),this.headers.get(je)))}}class Y{encodeKey(ke){return xe(ke)}encodeValue(ke){return xe(ke)}decodeKey(ke){return decodeURIComponent(ke)}decodeValue(ke){return decodeURIComponent(ke)}}const j=/%(\d[a-f0-9])/gi,X={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function xe(wt){return encodeURIComponent(wt).replace(j,(ke,je)=>{var yt;return null!=(yt=X[je])?yt:ke})}function Q(wt){return`${wt}`}class fe{constructor(ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ke.encoder||new Y,ke.fromString){if(ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(wt,ke){const je=new Map;return wt.length>0&&wt.replace(/^\?/,"").split("&").forEach(Et=>{const $t=Et.indexOf("="),[cn,ct]=-1==$t?[ke.decodeKey(Et),""]:[ke.decodeKey(Et.slice(0,$t)),ke.decodeValue(Et.slice($t+1))],tt=je.get(cn)||[];tt.push(ct),je.set(cn,tt)}),je}(ke.fromString,this.encoder)}else ke.fromObject?(this.map=new Map,Object.keys(ke.fromObject).forEach(je=>{const yt=ke.fromObject[je];this.map.set(je,Array.isArray(yt)?yt:[yt])})):this.map=null}has(ke){return this.init(),this.map.has(ke)}get(ke){this.init();const je=this.map.get(ke);return je?je[0]:null}getAll(ke){return this.init(),this.map.get(ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ke,je){return this.clone({param:ke,value:je,op:"a"})}appendAll(ke){const je=[];return Object.keys(ke).forEach(yt=>{const Et=ke[yt];Array.isArray(Et)?Et.forEach($t=>{je.push({param:yt,value:$t,op:"a"})}):je.push({param:yt,value:Et,op:"a"})}),this.clone(je)}set(ke,je){return this.clone({param:ke,value:je,op:"s"})}delete(ke,je){return this.clone({param:ke,value:je,op:"d"})}toString(){return this.init(),this.keys().map(ke=>{const je=this.encoder.encodeKey(ke);return this.map.get(ke).map(yt=>je+"="+this.encoder.encodeValue(yt)).join("&")}).filter(ke=>""!==ke).join("&")}clone(ke){const je=new fe({encoder:this.encoder});return je.cloneFrom=this.cloneFrom||this,je.updates=(this.updates||[]).concat(ke),je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ke=>this.map.set(ke,this.cloneFrom.map.get(ke))),this.updates.forEach(ke=>{switch(ke.op){case"a":case"s":const je=("a"===ke.op?this.map.get(ke.param):void 0)||[];je.push(Q(ke.value)),this.map.set(ke.param,je);break;case"d":if(void 0===ke.value){this.map.delete(ke.param);break}{let yt=this.map.get(ke.param)||[];const Et=yt.indexOf(Q(ke.value));-1!==Et&&yt.splice(Et,1),yt.length>0?this.map.set(ke.param,yt):this.map.delete(ke.param)}}}),this.cloneFrom=this.updates=null)}}class ie{constructor(){this.map=new Map}set(ke,je){return this.map.set(ke,je),this}get(ke){return this.map.has(ke)||this.map.set(ke,ke.defaultValue()),this.map.get(ke)}delete(ke){return this.map.delete(ke),this}keys(){return this.map.keys()}}function de(wt){return"undefined"!=typeof ArrayBuffer&&wt instanceof ArrayBuffer}function oe(wt){return"undefined"!=typeof Blob&&wt instanceof Blob}function Z(wt){return"undefined"!=typeof FormData&&wt instanceof FormData}class W{constructor(ke,je,yt,Et){let $t;if(this.url=je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ke.toUpperCase(),function(wt){switch(wt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Et?(this.body=void 0!==yt?yt:null,$t=Et):$t=yt,$t&&(this.reportProgress=!!$t.reportProgress,this.withCredentials=!!$t.withCredentials,$t.responseType&&(this.responseType=$t.responseType),$t.headers&&(this.headers=$t.headers),$t.context&&(this.context=$t.context),$t.params&&(this.params=$t.params)),this.headers||(this.headers=new H),this.context||(this.context=new ie),this.params){const cn=this.params.toString();if(0===cn.length)this.urlWithParams=je;else{const ct=je.indexOf("?");this.urlWithParams=je+(-1===ct?"?":ct<je.length-1?"&":"")+cn}}else this.params=new fe,this.urlWithParams=je}serializeBody(){return null===this.body?null:de(this.body)||oe(this.body)||Z(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Z(this.body)?null:oe(this.body)?this.body.type||null:de(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ke={}){var Ft;const je=ke.method||this.method,yt=ke.url||this.url,Et=ke.responseType||this.responseType,$t=void 0!==ke.body?ke.body:this.body,cn=void 0!==ke.withCredentials?ke.withCredentials:this.withCredentials,ct=void 0!==ke.reportProgress?ke.reportProgress:this.reportProgress;let tt=ke.headers||this.headers,_t=ke.params||this.params;const zt=null!=(Ft=ke.context)?Ft:this.context;return void 0!==ke.setHeaders&&(tt=Object.keys(ke.setHeaders).reduce((ft,Ye)=>ft.set(Ye,ke.setHeaders[Ye]),tt)),ke.setParams&&(_t=Object.keys(ke.setParams).reduce((ft,Ye)=>ft.set(Ye,ke.setParams[Ye]),_t)),new W(je,yt,$t,{params:_t,headers:tt,context:zt,reportProgress:ct,responseType:Et,withCredentials:cn})}}var L=(()=>((L=L||{})[L.Sent=0]="Sent",L[L.UploadProgress=1]="UploadProgress",L[L.ResponseHeader=2]="ResponseHeader",L[L.DownloadProgress=3]="DownloadProgress",L[L.Response=4]="Response",L[L.User=5]="User",L))();class D{constructor(ke,je=200,yt="OK"){this.headers=ke.headers||new H,this.status=void 0!==ke.status?ke.status:je,this.statusText=ke.statusText||yt,this.url=ke.url||null,this.ok=this.status>=200&&this.status<300}}class A extends D{constructor(ke={}){super(ke),this.type=L.ResponseHeader}clone(ke={}){return new A({headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class M extends D{constructor(ke={}){super(ke),this.type=L.Response,this.body=void 0!==ke.body?ke.body:null}clone(ke={}){return new M({body:void 0!==ke.body?ke.body:this.body,headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class C extends D{constructor(ke){super(ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ke.url||"(unknown url)"}`:`Http failure response for ${ke.url||"(unknown url)"}: ${ke.status} ${ke.statusText}`,this.error=ke.error||null}}function P(wt,ke){return{body:ke,headers:wt.headers,context:wt.context,observe:wt.observe,params:wt.params,reportProgress:wt.reportProgress,responseType:wt.responseType,withCredentials:wt.withCredentials}}let N=(()=>{class wt{constructor(je){this.handler=je}request(je,yt,Et={}){let $t;if(je instanceof W)$t=je;else{let tt,_t;tt=Et.headers instanceof H?Et.headers:new H(Et.headers),Et.params&&(_t=Et.params instanceof fe?Et.params:new fe({fromObject:Et.params})),$t=new W(je,yt,void 0!==Et.body?Et.body:null,{headers:tt,context:Et.context,params:_t,reportProgress:Et.reportProgress,responseType:Et.responseType||"json",withCredentials:Et.withCredentials})}const cn=(0,k.of)($t).pipe((0,le.b)(tt=>this.handler.handle(tt)));if(je instanceof W||"events"===Et.observe)return cn;const ct=cn.pipe((0,y.h)(tt=>tt instanceof M));switch(Et.observe||"body"){case"body":switch($t.responseType){case"arraybuffer":return ct.pipe((0,ce.U)(tt=>{if(null!==tt.body&&!(tt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return tt.body}));case"blob":return ct.pipe((0,ce.U)(tt=>{if(null!==tt.body&&!(tt.body instanceof Blob))throw new Error("Response is not a Blob.");return tt.body}));case"text":return ct.pipe((0,ce.U)(tt=>{if(null!==tt.body&&"string"!=typeof tt.body)throw new Error("Response is not a string.");return tt.body}));default:return ct.pipe((0,ce.U)(tt=>tt.body))}case"response":return ct;default:throw new Error(`Unreachable: unhandled observe type ${Et.observe}}`)}}delete(je,yt={}){return this.request("DELETE",je,yt)}get(je,yt={}){return this.request("GET",je,yt)}head(je,yt={}){return this.request("HEAD",je,yt)}jsonp(je,yt){return this.request("JSONP",je,{params:(new fe).append(yt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(je,yt={}){return this.request("OPTIONS",je,yt)}patch(je,yt,Et={}){return this.request("PATCH",je,P(Et,yt))}post(je,yt,Et={}){return this.request("POST",je,P(Et,yt))}put(je,yt,Et={}){return this.request("PUT",je,P(Et,yt))}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(q))},wt.\u0275prov=R.Yz7({token:wt,factory:wt.\u0275fac}),wt})();class ee{constructor(ke,je){this.next=ke,this.interceptor=je}handle(ke){return this.interceptor.intercept(ke,this.next)}}const ye=new R.OlP("HTTP_INTERCEPTORS");let Te=(()=>{class wt{intercept(je,yt){return yt.handle(je)}}return wt.\u0275fac=function(je){return new(je||wt)},wt.\u0275prov=R.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const Fe=/^\)\]\}',?\n/;let Ue=(()=>{class wt{constructor(je){this.xhrFactory=je}handle(je){if("JSONP"===je.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Se.y(yt=>{const Et=this.xhrFactory.build();if(Et.open(je.method,je.urlWithParams),je.withCredentials&&(Et.withCredentials=!0),je.headers.forEach((Ye,Ke)=>Et.setRequestHeader(Ye,Ke.join(","))),je.headers.has("Accept")||Et.setRequestHeader("Accept","application/json, text/plain, */*"),!je.headers.has("Content-Type")){const Ye=je.detectContentTypeHeader();null!==Ye&&Et.setRequestHeader("Content-Type",Ye)}if(je.responseType){const Ye=je.responseType.toLowerCase();Et.responseType="json"!==Ye?Ye:"text"}const $t=je.serializeBody();let cn=null;const ct=()=>{if(null!==cn)return cn;const Ye=1223===Et.status?204:Et.status,Ke=Et.statusText||"OK",we=new H(Et.getAllResponseHeaders()),Me=function(wt){return"responseURL"in wt&&wt.responseURL?wt.responseURL:/^X-Request-URL:/m.test(wt.getAllResponseHeaders())?wt.getResponseHeader("X-Request-URL"):null}(Et)||je.url;return cn=new A({headers:we,status:Ye,statusText:Ke,url:Me}),cn},tt=()=>{let{headers:Ye,status:Ke,statusText:we,url:Me}=ct(),qe=null;204!==Ke&&(qe=void 0===Et.response?Et.responseText:Et.response),0===Ke&&(Ke=qe?200:0);let lt=Ke>=200&&Ke<300;if("json"===je.responseType&&"string"==typeof qe){const Lt=qe;qe=qe.replace(Fe,"");try{qe=""!==qe?JSON.parse(qe):null}catch(Kt){qe=Lt,lt&&(lt=!1,qe={error:Kt,text:qe})}}lt?(yt.next(new M({body:qe,headers:Ye,status:Ke,statusText:we,url:Me||void 0})),yt.complete()):yt.error(new C({error:qe,headers:Ye,status:Ke,statusText:we,url:Me||void 0}))},_t=Ye=>{const{url:Ke}=ct(),we=new C({error:Ye,status:Et.status||0,statusText:Et.statusText||"Unknown Error",url:Ke||void 0});yt.error(we)};let zt=!1;const Ft=Ye=>{zt||(yt.next(ct()),zt=!0);let Ke={type:L.DownloadProgress,loaded:Ye.loaded};Ye.lengthComputable&&(Ke.total=Ye.total),"text"===je.responseType&&!!Et.responseText&&(Ke.partialText=Et.responseText),yt.next(Ke)},ft=Ye=>{let Ke={type:L.UploadProgress,loaded:Ye.loaded};Ye.lengthComputable&&(Ke.total=Ye.total),yt.next(Ke)};return Et.addEventListener("load",tt),Et.addEventListener("error",_t),Et.addEventListener("timeout",_t),Et.addEventListener("abort",_t),je.reportProgress&&(Et.addEventListener("progress",Ft),null!==$t&&Et.upload&&Et.upload.addEventListener("progress",ft)),Et.send($t),yt.next({type:L.Sent}),()=>{Et.removeEventListener("error",_t),Et.removeEventListener("abort",_t),Et.removeEventListener("load",tt),Et.removeEventListener("timeout",_t),je.reportProgress&&(Et.removeEventListener("progress",Ft),null!==$t&&Et.upload&&Et.upload.removeEventListener("progress",ft)),Et.readyState!==Et.DONE&&Et.abort()}})}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(m.JF))},wt.\u0275prov=R.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const xt=new R.OlP("XSRF_COOKIE_NAME"),It=new R.OlP("XSRF_HEADER_NAME");class Pt{}let Wt=(()=>{class wt{constructor(je,yt,Et){this.doc=je,this.platform=yt,this.cookieName=Et,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const je=this.doc.cookie||"";return je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,m.Mx)(je,this.cookieName),this.lastCookieString=je),this.lastToken}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(m.K0),R.LFG(R.Lbi),R.LFG(xt))},wt.\u0275prov=R.Yz7({token:wt,factory:wt.\u0275fac}),wt})(),Qt=(()=>{class wt{constructor(je,yt){this.tokenService=je,this.headerName=yt}intercept(je,yt){const Et=je.url.toLowerCase();if("GET"===je.method||"HEAD"===je.method||Et.startsWith("http://")||Et.startsWith("https://"))return yt.handle(je);const $t=this.tokenService.getToken();return null!==$t&&!je.headers.has(this.headerName)&&(je=je.clone({headers:je.headers.set(this.headerName,$t)})),yt.handle(je)}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(Pt),R.LFG(It))},wt.\u0275prov=R.Yz7({token:wt,factory:wt.\u0275fac}),wt})(),gn=(()=>{class wt{constructor(je,yt){this.backend=je,this.injector=yt,this.chain=null}handle(je){if(null===this.chain){const yt=this.injector.get(ye,[]);this.chain=yt.reduceRight((Et,$t)=>new ee(Et,$t),this.backend)}return this.chain.handle(je)}}return wt.\u0275fac=function(je){return new(je||wt)(R.LFG(K),R.LFG(R.zs3))},wt.\u0275prov=R.Yz7({token:wt,factory:wt.\u0275fac}),wt})(),Yt=(()=>{class wt{static disable(){return{ngModule:wt,providers:[{provide:Qt,useClass:Te}]}}static withOptions(je={}){return{ngModule:wt,providers:[je.cookieName?{provide:xt,useValue:je.cookieName}:[],je.headerName?{provide:It,useValue:je.headerName}:[]]}}}return wt.\u0275fac=function(je){return new(je||wt)},wt.\u0275mod=R.oAB({type:wt}),wt.\u0275inj=R.cJS({providers:[Qt,{provide:ye,useExisting:Qt,multi:!0},{provide:Pt,useClass:Wt},{provide:xt,useValue:"XSRF-TOKEN"},{provide:It,useValue:"X-XSRF-TOKEN"}]}),wt})(),sn=(()=>{class wt{}return wt.\u0275fac=function(je){return new(je||wt)},wt.\u0275mod=R.oAB({type:wt}),wt.\u0275inj=R.cJS({providers:[N,{provide:q,useClass:gn},Ue,{provide:K,useExisting:Ue}],imports:[[Yt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),wt})()},3668:(un,ot,E)=>{"use strict";E.d(ot,{deG:()=>a4,tb:()=>Qm,AFp:()=>jm,ip1:()=>Jp,CZH:()=>y0,hGG:()=>Q7,z2F:()=>Uv,sBO:()=>I7,Sil:()=>i8,_Vd:()=>d0,EJc:()=>n8,SBq:()=>iu,qLn:()=>Fc,vpe:()=>Tc,gxx:()=>Jc,tBr:()=>fu,XFs:()=>Yt,OlP:()=>fo,zs3:()=>to,ZZ4:()=>c3,aQg:()=>Wv,soG:()=>Cc,YKP:()=>lm,h0i:()=>th,PXZ:()=>P7,R0b:()=>fl,FiY:()=>Qs,Lbi:()=>Xm,g9A:()=>$m,n_E:()=>zv,Qsj:()=>t_,FYo:()=>Np,JOm:()=>Ds,Tiy:()=>Ig,q3G:()=>go,tp0:()=>ws,Rgc:()=>Ov,dDg:()=>a5,GfV:()=>om,s_b:()=>Yp,ifc:()=>cn,eFA:()=>d8,G48:()=>T7,Gpc:()=>Y,f3M:()=>V1,X6Q:()=>u8,_c5:()=>E8,VLi:()=>S7,c2e:()=>Jm,zSh:()=>Us,wAp:()=>Ui,vHH:()=>xe,EiD:()=>wd,mCW:()=>ml,qzn:()=>pu,JVY:()=>Z0,pB0:()=>j0,eBb:()=>yh,L6k:()=>dn,LAX:()=>Va,cg1:()=>hg,Tjo:()=>B7,kL8:()=>Dp,yhl:()=>Td,dqk:()=>Ft,sIi:()=>Jh,CqO:()=>Zn,QGY:()=>Tn,F4k:()=>wn,dwT:()=>x6,RDi:()=>Ri,AaK:()=>q,z3N:()=>Js,qOj:()=>tu,TTD:()=>Gi,_Bn:()=>tm,xp6:()=>Yd,uIk:()=>iv,ekj:()=>Q3,Suo:()=>Em,Xpm:()=>er,lG2:()=>Xn,Yz7:()=>Ve,cJS:()=>et,oAB:()=>ni,Yjl:()=>wi,Y36:()=>I,_UZ:()=>at,BQk:()=>an,ynx:()=>Bt,qZA:()=>Ge,TgZ:()=>Ze,EpF:()=>en,n5z:()=>ec,LFG:()=>So,$8M:()=>vl,$Z:()=>F,NdJ:()=>Yn,CRH:()=>Zp,oxw:()=>Cr,ALo:()=>vm,lcZ:()=>g0,xi3:()=>gm,Hsn:()=>mi,F$t:()=>Xr,Q6J:()=>$,DdM:()=>um,iGM:()=>Dm,MAs:()=>dp,CHM:()=>js,oJD:()=>bu,LSH:()=>kl,kYT:()=>lr,Udp:()=>bp,d8E:()=>y6,YNc:()=>hp,W1O:()=>zm,_uU:()=>tg,Oqu:()=>s6,hij:()=>Sp,HOy:()=>Ju,Gf:()=>Rv});var m=E(3405),R=E(1346),k=E(5548),Se=E(8526),le=E(6669);function y(o){for(let s in o)if(o[s]===y)return s;throw Error("Could not find renamed property on target object.")}function ce(o,s){for(const h in s)s.hasOwnProperty(h)&&!o.hasOwnProperty(h)&&(o[h]=s[h])}function q(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(q).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const h=s.indexOf("\n");return-1===h?s:s.substring(0,h)}function K(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const H=y({__forward_ref__:y});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return q(this())},o}function V(o){return j(o)?o():o}function j(o){return"function"==typeof o&&o.hasOwnProperty(H)&&o.__forward_ref__===Y}class xe extends Error{constructor(s,h){super(function(o,s){return`${o?`NG0${o}: `:""}${s}`}(s,h)),this.code=s}}function re(o){return"string"==typeof o?o:null==o?"":String(o)}function ie(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():re(o)}function Z(o,s){const h=s?` in ${s}`:"";throw new xe("201",`No provider for ${ie(o)} found${h}`)}function me(o,s){null==o&&function(o,s,h,g){throw new Error(`ASSERTION ERROR: ${o}`+(null==g?"":` [Expected=> ${h} ${g} ${s} <=Actual]`))}(s,o,null,"!=")}function Ve(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function et(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ue(o){return xt(o,Qt)||xt(o,In)}function xt(o,s){return o.hasOwnProperty(s)?o[s]:null}function Wt(o){return o&&(o.hasOwnProperty(gn)||o.hasOwnProperty(Dn))?o[gn]:null}const Qt=y({\u0275prov:y}),gn=y({\u0275inj:y}),In=y({ngInjectableDef:y}),Dn=y({ngInjectorDef:y});var Yt=(()=>((Yt=Yt||{})[Yt.Default=0]="Default",Yt[Yt.Host=1]="Host",Yt[Yt.Self=2]="Self",Yt[Yt.SkipSelf=4]="SkipSelf",Yt[Yt.Optional=8]="Optional",Yt))();let sn;function vn(o){const s=sn;return sn=o,s}function wt(o,s,h){const g=Ue(o);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:h&Yt.Optional?null:void 0!==s?s:void Z(q(o),"Injector")}function je(o){return{toString:o}.toString()}var yt=(()=>((yt=yt||{})[yt.OnPush=0]="OnPush",yt[yt.Default=1]="Default",yt))(),cn=(()=>{return(o=cn||(cn={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",cn;var o})();const ct="undefined"!=typeof globalThis&&globalThis,tt="undefined"!=typeof window&&window,_t="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=ct||"undefined"!=typeof global&&global||tt||_t,Ke={},we=[],Me=y({\u0275cmp:y}),qe=y({\u0275dir:y}),lt=y({\u0275pipe:y}),Lt=y({\u0275mod:y}),Kt=y({\u0275fac:y}),Mn=y({__NG_ELEMENT_ID__:y});let Zt=0;function er(o){return je(()=>{const h={},g={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===yt.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||we,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||cn.Emulated,id:"c",styles:o.styles||we,_:null,setInput:null,schemas:o.schemas||null,tView:null},S=o.directives,O=o.features,J=o.pipes;return g.id+=Zt++,g.inputs=Hr(o.inputs,h),g.outputs=Hr(o.outputs),O&&O.forEach(ve=>ve(g)),g.directiveDefs=S?()=>("function"==typeof S?S():S).map(dr):null,g.pipeDefs=J?()=>("function"==typeof J?J():J).map(pr):null,g})}function dr(o){return yr(o)||function(o){return o[qe]||null}(o)}function pr(o){return function(o){return o[lt]||null}(o)}const si={};function ni(o){return je(()=>{const s={type:o.type,bootstrap:o.bootstrap||we,declarations:o.declarations||we,imports:o.imports||we,exports:o.exports||we,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(si[o.id]=o.type),s})}function lr(o,s){return je(()=>{const h=gr(o,!0);h.declarations=s.declarations||we,h.imports=s.imports||we,h.exports=s.exports||we})}function Hr(o,s){if(null==o)return Ke;const h={};for(const g in o)if(o.hasOwnProperty(g)){let S=o[g],O=S;Array.isArray(S)&&(O=S[1],S=S[0]),h[S]=g,s&&(s[S]=O)}return h}const Xn=er;function wi(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function yr(o){return o[Me]||null}function gr(o,s){const h=o[Lt]||null;if(!h&&!0===s)throw new Error(`Type ${q(o)} does not have '\u0275mod' property.`);return h}function ri(o){return Array.isArray(o)&&"object"==typeof o[1]}function Oi(o){return Array.isArray(o)&&!0===o[1]}function Xt(o){return 0!=(8&o.flags)}function Or(o){return 2==(2&o.flags)}function Qn(o){return 1==(1&o.flags)}function xr(o){return null!==o.template}function Ii(o){return 0!=(512&o[2])}function ro(o,s){return o.hasOwnProperty(Kt)?o[Kt]:null}class Ua{constructor(s,h,g){this.previousValue=s,this.currentValue=h,this.firstChange=g}isFirstChange(){return this.firstChange}}function Gi(){return Ga}function Ga(o){return o.type.prototype.ngOnChanges&&(o.setInput=Tr),$a}function $a(){const o=_a(this),s=null==o?void 0:o.current;if(s){const h=o.previous;if(h===Ke)o.previous=s;else for(let g in s)h[g]=s[g];o.current=null,this.ngOnChanges(s)}}function Tr(o,s,h,g){const S=_a(o)||function(o,s){return o[Pa]=s}(o,{previous:Ke,current:null}),O=S.current||(S.current={}),J=S.previous,ve=this.declaredInputs[h],Ie=J[ve];O[ve]=new Ua(Ie&&Ie.currentValue,s,J===Ke),o[g]=s}Gi.ngInherit=!0;const Pa="__ngSimpleChanges__";function _a(o){return o[Pa]||null}let ti;function Ri(o){ti=o}function qa(){return void 0!==ti?ti:"undefined"!=typeof document?document:void 0}function Er(o){return!!o.listen}const Bi={createRenderer:(o,s)=>qa()};function nt(o){for(;Array.isArray(o);)o=o[0];return o}function He(o,s){return nt(s[o])}function _e(o,s){return nt(s[o.index])}function ge(o,s){return o.data[s]}function De(o,s){return o[s]}function gt(o,s){const h=s[o];return ri(h)?h:h[0]}function En(o){return 4==(4&o[2])}function or(o){return 128==(128&o[2])}function _i(o,s){return null==s?null:o[s]}function Di(o){o[18]=0}function Vi(o,s){o[5]+=s;let h=o,g=o[3];for(;null!==g&&(1===s&&1===h[5]||-1===s&&0===h[5]);)g[5]+=s,h=g,g=g[3]}const qr={lFrame:ko(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function io(){return qr.bindingsEnabled}function ur(){return qr.lFrame.lView}function na(){return qr.lFrame.tView}function js(o){return qr.lFrame.contextLView=o,o[8]}function Qr(){let o=Mi();for(;null!==o&&64===o.type;)o=o.parent;return o}function Mi(){return qr.lFrame.currentTNode}function bt(o,s){const h=qr.lFrame;h.currentTNode=o,h.isParent=s}function pe(){return qr.lFrame.isParent}function be(){qr.lFrame.isParent=!1}function Ht(){return qr.isInCheckNoChangesMode}function hn(o){qr.isInCheckNoChangesMode=o}function _n(){const o=qr.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function ar(){return qr.lFrame.bindingIndex++}function $r(o){const s=qr.lFrame,h=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,h}function ai(o,s){const h=qr.lFrame;h.bindingIndex=h.bindingRootIndex=o,oi(s)}function oi(o){qr.lFrame.currentDirectiveIndex=o}function ka(o){const s=qr.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function za(){return qr.lFrame.currentQueryIndex}function ji(o){qr.lFrame.currentQueryIndex=o}function xa(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Fo(o,s,h){if(h&Yt.SkipSelf){let S=s,O=o;for(;!(S=S.parent,null!==S||h&Yt.Host||(S=xa(O),null===S||(O=O[15],10&S.type))););if(null===S)return!1;s=S,o=O}const g=qr.lFrame=Wa();return g.currentTNode=s,g.lView=o,!0}function la(o){const s=Wa(),h=o[1];qr.lFrame=s,s.currentTNode=h.firstChild,s.lView=o,s.tView=h,s.contextLView=o,s.bindingIndex=h.bindingStartIndex,s.inI18n=!1}function Wa(){const o=qr.lFrame,s=null===o?null:o.child;return null===s?ko(o):s}function ko(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Bo(){const o=qr.lFrame;return qr.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const jo=Bo;function Ks(){const o=Bo();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Rt(){return qr.lFrame.selectedIndex}function ht(o){qr.lFrame.selectedIndex=o}function Tt(){const o=qr.lFrame;return ge(o.tView,o.selectedIndex)}function Cn(o,s){for(let h=s.directiveStart,g=s.directiveEnd;h<g;h++){const O=o.data[h].type.prototype,{ngAfterContentInit:J,ngAfterContentChecked:ve,ngAfterViewInit:Ie,ngAfterViewChecked:Qe,ngOnDestroy:pt}=O;J&&(o.contentHooks||(o.contentHooks=[])).push(-h,J),ve&&((o.contentHooks||(o.contentHooks=[])).push(h,ve),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(h,ve)),Ie&&(o.viewHooks||(o.viewHooks=[])).push(-h,Ie),Qe&&((o.viewHooks||(o.viewHooks=[])).push(h,Qe),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(h,Qe)),null!=pt&&(o.destroyHooks||(o.destroyHooks=[])).push(h,pt)}}function fn(o,s,h){mr(o,s,3,h)}function Hn(o,s,h,g){(3&o[2])===h&&mr(o,s,h,g)}function Gn(o,s){let h=o[2];(3&h)===s&&(h&=2047,h+=1,o[2]=h)}function mr(o,s,h,g){const O=null!=g?g:-1,J=s.length-1;let ve=0;for(let Ie=void 0!==g?65535&o[18]:0;Ie<J;Ie++)if("number"==typeof s[Ie+1]){if(ve=s[Ie],null!=g&&ve>=g)break}else s[Ie]<0&&(o[18]+=65536),(ve<O||-1==O)&&(wr(o,h,s,Ie),o[18]=(4294901760&o[18])+Ie+2),Ie++}function wr(o,s,h,g){const S=h[g]<0,O=h[g+1],ve=o[S?-h[g]:h[g]];if(S){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{O.call(ve)}finally{}}}else try{O.call(ve)}finally{}}class Mr{constructor(s,h,g){this.factory=s,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=g}}function Da(o,s,h){const g=Er(o);let S=0;for(;S<h.length;){const O=h[S];if("number"==typeof O){if(0!==O)break;S++;const J=h[S++],ve=h[S++],Ie=h[S++];g?o.setAttribute(s,ve,Ie,J):s.setAttributeNS(J,ve,Ie)}else{const J=O,ve=h[++S];Do(J)?g&&o.setProperty(s,J,ve):g?o.setAttribute(s,J,ve):s.setAttribute(J,ve),S++}}return S}function ao(o){return 3===o||4===o||6===o}function Do(o){return 64===o.charCodeAt(0)}function Ni(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let h=-1;for(let g=0;g<s.length;g++){const S=s[g];"number"==typeof S?h=S:0===h||pi(o,h,S,null,-1===h||2===h?s[++g]:null)}}return o}function pi(o,s,h,g,S){let O=0,J=o.length;if(-1===s)J=-1;else for(;O<o.length;){const ve=o[O++];if("number"==typeof ve){if(ve===s){J=-1;break}if(ve>s){J=O-1;break}}}for(;O<o.length;){const ve=o[O];if("number"==typeof ve)break;if(ve===h){if(null===g)return void(null!==S&&(o[O+1]=S));if(g===o[O+1])return void(o[O+2]=S)}O++,null!==g&&O++,null!==S&&O++}-1!==J&&(o.splice(J,0,s),O=J+1),o.splice(O++,0,h),null!==g&&o.splice(O++,0,g),null!==S&&o.splice(O++,0,S)}function Ql(o){return-1!==o}function zs(o){return 32767&o}function Os(o,s){let h=function(o){return o>>16}(o),g=s;for(;h>0;)g=g[15],h--;return g}let ma=!0;function ou(o){const s=ma;return ma=o,s}let $e=0;function Ee(o,s){const h=dt(o,s);if(-1!==h)return h;const g=s[1];g.firstCreatePass&&(o.injectorIndex=s.length,rt(g.data,o),rt(s,null),rt(g.blueprint,null));const S=Vt(o,s),O=o.injectorIndex;if(Ql(S)){const J=zs(S),ve=Os(S,s),Ie=ve[1].data;for(let Qe=0;Qe<8;Qe++)s[O+Qe]=ve[J+Qe]|Ie[J+Qe]}return s[O+8]=S,O}function rt(o,s){o.push(0,0,0,0,0,0,0,0,s)}function dt(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Vt(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let h=0,g=null,S=s;for(;null!==S;){const O=S[1],J=O.type;if(g=2===J?O.declTNode:1===J?S[6]:null,null===g)return-1;if(h++,S=S[15],-1!==g.injectorIndex)return g.injectorIndex|h<<16}return-1}function mn(o,s,h){!function(o,s,h){let g;"string"==typeof h?g=h.charCodeAt(0)||0:h.hasOwnProperty(Mn)&&(g=h[Mn]),null==g&&(g=h[Mn]=$e++);const S=255&g;s.data[o+(S>>5)]|=1<<S}(o,s,h)}function tr(o,s,h){if(h&Yt.Optional)return o;Z(s,"NodeInjector")}function Yr(o,s,h,g){if(h&Yt.Optional&&void 0===g&&(g=null),0==(h&(Yt.Self|Yt.Host))){const S=o[9],O=vn(void 0);try{return S?S.get(s,g,h&Yt.Optional):wt(s,g,h&Yt.Optional)}finally{vn(O)}}return tr(g,s,h)}function ha(o,s,h,g=Yt.Default,S){if(null!==o){const O=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Mn)?o[Mn]:void 0;return"number"==typeof s?s>=0?255&s:Oa:s}(h);if("function"==typeof O){if(!Fo(s,o,g))return g&Yt.Host?tr(S,h,g):Yr(s,h,g,S);try{const J=O(g);if(null!=J||g&Yt.Optional)return J;Z(h)}finally{jo()}}else if("number"==typeof O){let J=null,ve=dt(o,s),Ie=-1,Qe=g&Yt.Host?s[16][6]:null;for((-1===ve||g&Yt.SkipSelf)&&(Ie=-1===ve?Vt(o,s):s[ve+8],-1!==Ie&&ql(g,!1)?(J=s[1],ve=zs(Ie),s=Os(Ie,s)):ve=-1);-1!==ve;){const pt=s[1];if(Ol(O,ve,pt.data)){const Ut=Ba(ve,s,h,J,g,Qe);if(Ut!==Si)return Ut}Ie=s[ve+8],-1!==Ie&&ql(g,s[1].data[ve+8]===Qe)&&Ol(O,ve,s)?(J=pt,ve=zs(Ie),s=Os(Ie,s)):ve=-1}}}return Yr(s,h,g,S)}const Si={};function Oa(){return new $s(Qr(),ur())}function Ba(o,s,h,g,S,O){const J=s[1],ve=J.data[o+8],pt=Is(ve,J,h,null==g?Or(ve)&&ma:g!=J&&0!=(3&ve.type),S&Yt.Host&&O===ve);return null!==pt?lo(s,J,pt,ve):Si}function Is(o,s,h,g,S){const O=o.providerIndexes,J=s.data,ve=1048575&O,Ie=o.directiveStart,pt=O>>20,Jt=S?ve+pt:o.directiveEnd;for(let Sn=g?ve:ve+pt;Sn<Jt;Sn++){const Nn=J[Sn];if(Sn<Ie&&h===Nn||Sn>=Ie&&Nn.type===h)return Sn}if(S){const Sn=J[Ie];if(Sn&&xr(Sn)&&Sn.type===h)return Ie}return null}function lo(o,s,h,g){let S=o[h];const O=s.data;if(function(o){return o instanceof Mr}(S)){const J=S;J.resolving&&function(o,s){throw new xe("200",`Circular dependency in DI detected for ${o}`)}(ie(O[h]));const ve=ou(J.canSeeViewProviders);J.resolving=!0;const Ie=J.injectImpl?vn(J.injectImpl):null;Fo(o,g,Yt.Default);try{S=o[h]=J.factory(void 0,O,o,g),s.firstCreatePass&&h>=g.directiveStart&&function(o,s,h){const{ngOnChanges:g,ngOnInit:S,ngDoCheck:O}=s.type.prototype;if(g){const J=Ga(s);(h.preOrderHooks||(h.preOrderHooks=[])).push(o,J),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(o,J)}S&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-o,S),O&&((h.preOrderHooks||(h.preOrderHooks=[])).push(o,O),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(o,O))}(h,O[h],s)}finally{null!==Ie&&vn(Ie),ou(ve),J.resolving=!1,jo()}}return S}function Ol(o,s,h){return!!(h[s+(o>>5)]&1<<o)}function ql(o,s){return!(o&Yt.Self||o&Yt.Host&&s)}class $s{constructor(s,h){this._tNode=s,this._lView=h}get(s,h,g){return ha(this._tNode,this._lView,s,g,h)}}function ec(o){return je(()=>{const s=o.prototype.constructor,h=s[Kt]||sh(s),g=Object.prototype;let S=Object.getPrototypeOf(o.prototype).constructor;for(;S&&S!==g;){const O=S[Kt]||sh(S);if(O&&O!==h)return O;S=Object.getPrototypeOf(S)}return O=>new O})}function sh(o){return j(o)?()=>{const s=sh(V(o));return s&&s()}:ro(o)}function vl(o){return function(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const h=o.attrs;if(h){const g=h.length;let S=0;for(;S<g;){const O=h[S];if(ao(O))break;if(0===O)S+=2;else if("number"==typeof O)for(S++;S<g&&"string"==typeof h[S];)S++;else{if(O===s)return h[S+1];S+=2}}}return null}(Qr(),o)}const ch="__parameters__";function tc(o,s,h){return je(()=>{const g=function(o){return function(...h){if(o){const g=o(...h);for(const S in g)this[S]=g[S]}}}(s);function S(...O){if(this instanceof S)return g.apply(this,O),this;const J=new S(...O);return ve.annotation=J,ve;function ve(Ie,Qe,pt){const Ut=Ie.hasOwnProperty(ch)?Ie[ch]:Object.defineProperty(Ie,ch,{value:[]})[ch];for(;Ut.length<=pt;)Ut.push(null);return(Ut[pt]=Ut[pt]||[]).push(J),Ie}}return h&&(S.prototype=Object.create(h.prototype)),S.prototype.ngMetadataName=o,S.annotationCls=S,S})}class fo{constructor(s,h){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=Ve({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}toString(){return`InjectionToken ${this._desc}`}}const a4=new fo("AnalyzeForEntryComponents");function ns(o,s){void 0===s&&(s=o);for(let h=0;h<o.length;h++){let g=o[h];Array.isArray(g)?(s===o&&(s=o.slice(0,h)),ns(g,s)):s!==o&&s.push(g)}return s}function pl(o,s){o.forEach(h=>Array.isArray(h)?pl(h,s):s(h))}function vd(o,s,h){s>=o.length?o.push(h):o.splice(s,0,h)}function nc(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Il(o,s){const h=[];for(let g=0;g<o;g++)h.push(s);return h}function Vo(o,s,h){let g=ol(o,s);return g>=0?o[1|g]=h:(g=~g,function(o,s,h,g){let S=o.length;if(S==s)o.push(h,g);else if(1===S)o.push(g,o[0]),o[0]=h;else{for(S--,o.push(o[S-1],o[S]);S>s;)o[S]=o[S-2],S--;o[s]=h,o[s+1]=g}}(o,g,s,h)),g}function Rl(o,s){const h=ol(o,s);if(h>=0)return o[1|h]}function ol(o,s){return function(o,s,h){let g=0,S=o.length>>h;for(;S!==g;){const O=g+(S-g>>1),J=o[O<<h];if(s===J)return O<<h;J>s?S=O:g=O+1}return~(S<<h)}(o,s,1)}const fh={},gl="__NG_DI_FLAG__",rc="ngTempTokenPath",B0=/\n/gm,hu="__source",gd=y({provide:String,useValue:y});let du;function Xs(o){const s=du;return du=o,s}function h4(o,s=Yt.Default){if(void 0===du)throw new Error("inject() must be called from an injection context");return null===du?wt(o,void 0,s):du.get(o,s&Yt.Optional?null:void 0,s)}function So(o,s=Yt.Default){return(sn||h4)(V(o),s)}const V1=So;function ic(o){const s=[];for(let h=0;h<o.length;h++){const g=V(o[h]);if(Array.isArray(g)){if(0===g.length)throw new Error("Arguments array must have arguments.");let S,O=Yt.Default;for(let J=0;J<g.length;J++){const ve=g[J],Ie=Ki(ve);"number"==typeof Ie?-1===Ie?S=ve.token:O|=Ie:S=ve}s.push(So(S,O))}else s.push(So(g))}return s}function ac(o,s){return o[gl]=s,o.prototype[gl]=s,o}function Ki(o){return o[gl]}function md(o,s,h,g){const S=o[rc];throw s[hu]&&S.unshift(s[hu]),o.message=function(o,s,h,g=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let S=q(s);if(Array.isArray(s))S=s.map(q).join(" -> ");else if("object"==typeof s){let O=[];for(let J in s)if(s.hasOwnProperty(J)){let ve=s[J];O.push(J+":"+("string"==typeof ve?JSON.stringify(ve):q(ve)))}S=`{${O.join(", ")}}`}return`${h}${g?"("+g+")":""}[${S}]: ${o.replace(B0,"\n  ")}`}("\n"+o.message,S,h,g),o.ngTokenPath=S,o[rc]=null,o}const fu=ac(tc("Inject",o=>({token:o})),-1),Qs=ac(tc("Optional"),8),ws=ac(tc("SkipSelf"),4);let bd,mh;function vu(o){var s;return(null==(s=function(){if(void 0===bd&&(bd=null,Ft.trustedTypes))try{bd=Ft.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return bd}())?void 0:s.createHTML(o))||o}function W1(o){var s;return(null==(s=function(){if(void 0===mh&&(mh=null,Ft.trustedTypes))try{mh=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return mh}())?void 0:s.createHTML(o))||o}class oc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Z1 extends oc{getTypeName(){return"HTML"}}class Y0 extends oc{getTypeName(){return"Style"}}class G0 extends oc{getTypeName(){return"Script"}}class W0 extends oc{getTypeName(){return"URL"}}class Fi extends oc{getTypeName(){return"ResourceURL"}}function Js(o){return o instanceof oc?o.changingThisBreaksApplicationSecurity:o}function pu(o,s){const h=Td(o);if(null!=h&&h!==s){if("ResourceURL"===h&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${h} (see https://g.co/ng/security#xss)`)}return h===s}function Td(o){return o instanceof oc&&o.getTypeName()||null}function Z0(o){return new Z1(o)}function dn(o){return new Y0(o)}function yh(o){return new G0(o)}function Va(o){return new W0(o)}function j0(o){return new Fi(o)}class _h{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const h=(new window.DOMParser).parseFromString(vu(s),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(s):(h.removeChild(h.firstChild),h)}catch(h){return null}}}class xh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const g=this.inertDocument.createElement("body");h.appendChild(g)}}getInertBodyElement(s){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=vu(s),h;const g=this.inertDocument.createElement("body");return g.innerHTML=vu(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(g),g}stripCustomNsAttrs(s){const h=s.attributes;for(let S=h.length-1;0<S;S--){const J=h.item(S).name;("xmlns:ns1"===J||0===J.indexOf("ns1:"))&&s.removeAttribute(J)}let g=s.firstChild;for(;g;)g.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(g),g=g.nextSibling}}const v4=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ml(o){return(o=String(o)).match(v4)||o.match($0)?o:"unsafe:"+o}function Fs(o){const s={};for(const h of o.split(","))s[h]=!0;return s}function Sh(...o){const s={};for(const h of o)for(const g in h)h.hasOwnProperty(g)&&(s[g]=!0);return s}const j1=Fs("area,br,col,hr,img,wbr"),K1=Fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ic=Fs("rp,rt"),mu=Sh(j1,Sh(K1,Fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sh(Ic,Fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sh(Ic,K1)),yu=Fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rc=Fs("srcset"),Cd=Sh(yu,Rc,Fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Md=Fs("script,style,template");class _u{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let h=s.firstChild,g=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?g=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,g&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let S=this.checkClobberedElement(h,h.nextSibling);if(S){h=S;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(s){const h=s.nodeName.toLowerCase();if(!mu.hasOwnProperty(h))return this.sanitizedSomething=!0,!Md.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const g=s.attributes;for(let S=0;S<g.length;S++){const O=g.item(S),J=O.name,ve=J.toLowerCase();if(!Cd.hasOwnProperty(ve)){this.sanitizedSomething=!0;continue}let Ie=O.value;yu[ve]&&(Ie=ml(Ie)),Rc[ve]&&(o=Ie,Ie=(o=String(o)).split(",").map(s=>ml(s.trim())).join(", ")),this.buf.push(" ",J,'="',xu(Ie),'"')}var o;return this.buf.push(">"),!0}endElement(s){const h=s.nodeName.toLowerCase();mu.hasOwnProperty(h)&&!j1.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(s){this.buf.push(xu(s))}checkClobberedElement(s,h){if(h&&(s.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return h}}const Q0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,po=/([^\#-~ |!])/g;function xu(o){return o.replace(/&/g,"&amp;").replace(Q0,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(po,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mh;function wd(o,s){let h=null;try{Mh=Mh||function(o){const s=new xh(o);return function(){try{return!!(new window.DOMParser).parseFromString(vu(""),"text/html")}catch(o){return!1}}()?new _h(s):s}(o);let g=s?String(s):"";h=Mh.getInertBodyElement(g);let S=5,O=g;do{if(0===S)throw new Error("Failed to sanitize html because the input is unstable");S--,g=O,O=h.innerHTML,h=Mh.getInertBodyElement(g)}while(g!==O);return vu((new _u).sanitizeChildren(Fl(h)||h))}finally{if(h){const g=Fl(h)||h;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function Fl(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var go=(()=>((go=go||{})[go.NONE=0]="NONE",go[go.HTML=1]="HTML",go[go.STYLE=2]="STYLE",go[go.SCRIPT=3]="SCRIPT",go[go.URL=4]="URL",go[go.RESOURCE_URL=5]="RESOURCE_URL",go))();function bu(o){const s=Su();return s?W1(s.sanitize(go.HTML,o)||""):pu(o,"HTML")?W1(Js(o)):wd(qa(),re(o))}function kl(o){const s=Su();return s?s.sanitize(go.URL,o)||"":pu(o,"URL")?Js(o):ml(re(o))}function Su(){const o=ur();return o&&o[12]}const Eh="__ngContext__";function yo(o,s){o[Eh]=s}function Tu(o){const s=function(o){return o[Eh]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function wu(o){return o.ngOriginalError}function tf(o,...s){o.error(...s)}class Fc{constructor(){this._console=console}handleError(s){const h=this._findOriginalError(s),g=this._findContext(s),S=(o=s)&&o.ngErrorLogger||tf;var o;S(this._console,"ERROR",s),h&&S(this._console,"ORIGINAL ERROR",h),g&&S(this._console,"ERROR CONTEXT",g)}_findContext(s){return s?s.ngDebugContext||this._findContext(wu(s)):null}_findOriginalError(s){let h=s&&wu(s);for(;h&&wu(h);)h=wu(h);return h||null}}const Eu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function _l(o){return o instanceof Function?o():o}var Ds=(()=>((Ds=Ds||{})[Ds.Important=1]="Important",Ds[Ds.DashCase=2]="DashCase",Ds))();function Lu(o,s){return undefined(o,s)}function zu(o){const s=o[3];return Oi(s)?s[3]:s}function Nd(o){return u2(o[13])}function Fd(o){return u2(o[4])}function u2(o){for(;null!==o&&!Oi(o);)o=o[4];return o}function Ou(o,s,h,g,S){if(null!=g){let O,J=!1;Oi(g)?O=g:ri(g)&&(J=!0,g=g[0]);const ve=nt(g);0===o&&null!==h?null==S?p2(s,h,ve):_s(s,h,ve,S||null,!0):1===o&&null!==h?_s(s,h,ve,S||null,!0):2===o?function(o,s,h){const g=Ru(o,s);g&&function(o,s,h,g){Er(o)?o.removeChild(s,h,g):s.removeChild(h)}(o,g,s,h)}(s,ve,J):3===o&&s.destroyNode(ve),null!=O&&function(o,s,h,g,S){const O=h[7];O!==nt(h)&&Ou(s,o,g,O,S);for(let ve=10;ve<h.length;ve++){const Ie=h[ve];hc(Ie[1],Ie,o,s,g,O)}}(s,o,O,h,S)}}function of(o,s,h){return Er(o)?o.createElement(s,h):null===h?o.createElement(s):o.createElementNS(h,s)}function lc(o,s){const h=o[9],g=h.indexOf(s),S=s[3];1024&s[2]&&(s[2]&=-1025,Vi(S,-1)),h.splice(g,1)}function uf(o,s){if(o.length<=10)return;const h=10+s,g=o[h];if(g){const S=g[17];null!==S&&S!==o&&lc(S,g),s>0&&(o[h-1][4]=g[4]);const O=nc(o,10+s);!function(o,s){hc(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(g[1],g);const J=O[19];null!==J&&J.detachView(O[1]),g[3]=null,g[4]=null,g[2]&=-129}return g}function hf(o,s){if(!(256&s[2])){const h=s[11];Er(h)&&h.destroyNode&&hc(o,s,h,3,null,null),function(o){let s=o[13];if(!s)return Bd(o[1],o);for(;s;){let h=null;if(ri(s))h=s[13];else{const g=s[10];g&&(h=g)}if(!h){for(;s&&!s[4]&&s!==o;)ri(s)&&Bd(s[1],s),s=s[3];null===s&&(s=o),ri(s)&&Bd(s[1],s),h=s&&s[4]}s=h}}(s)}}function Bd(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(o,s){let h;if(null!=o&&null!=(h=o.destroyHooks))for(let g=0;g<h.length;g+=2){const S=s[h[g]];if(!(S instanceof Mr)){const O=h[g+1];if(Array.isArray(O))for(let J=0;J<O.length;J+=2){const ve=S[O[J]],Ie=O[J+1];try{Ie.call(ve)}finally{}}else try{O.call(S)}finally{}}}}(o,s),function(o,s){const h=o.cleanup,g=s[7];let S=-1;if(null!==h)for(let O=0;O<h.length-1;O+=2)if("string"==typeof h[O]){const J=h[O+1],ve="function"==typeof J?J(s):nt(s[J]),Ie=g[S=h[O+2]],Qe=h[O+3];"boolean"==typeof Qe?ve.removeEventListener(h[O],Ie,Qe):Qe>=0?g[S=Qe]():g[S=-Qe].unsubscribe(),O+=2}else{const J=g[S=h[O+1]];h[O].call(J)}if(null!==g){for(let O=S+1;O<g.length;O++)g[O]();s[7]=null}}(o,s),1===s[1].type&&Er(s[11])&&s[11].destroy();const h=s[17];if(null!==h&&Oi(s[3])){h!==s[3]&&lc(h,s);const g=s[19];null!==g&&g.detachView(o)}}}function f2(o,s,h){return function(o,s,h){let g=s;for(;null!==g&&40&g.type;)g=(s=g).parent;if(null===g)return h[0];if(2&g.flags){const S=o.data[g.directiveStart].encapsulation;if(S===cn.None||S===cn.Emulated)return null}return _e(g,h)}(o,s.parent,h)}function _s(o,s,h,g,S){Er(o)?o.insertBefore(s,h,g,S):s.insertBefore(h,g,S)}function p2(o,s,h){Er(o)?o.appendChild(s,h):s.appendChild(h)}function df(o,s,h,g,S){null!==g?_s(o,s,h,g,S):p2(o,s,h)}function Ru(o,s){return Er(o)?o.parentNode(s):s.parentNode}function cc(o,s,h){return Nu(o,s,h)}let Nu=function(o,s,h){return 40&o.type?_e(o,h):null};function Bc(o,s,h,g){const S=f2(o,g,s),O=s[11],ve=cc(g.parent||s[6],g,s);if(null!=S)if(Array.isArray(h))for(let Ie=0;Ie<h.length;Ie++)df(O,S,h[Ie],ve,!1);else df(O,S,h,ve,!1)}function Vd(o,s){if(null!==s){const h=s.type;if(3&h)return _e(s,o);if(4&h)return uc(-1,o[s.index]);if(8&h){const g=s.child;if(null!==g)return Vd(o,g);{const S=o[s.index];return Oi(S)?uc(-1,S):nt(S)}}if(32&h)return Lu(s,o)()||nt(o[s.index]);{const g=Oh(o,s);return null!==g?Array.isArray(g)?g[0]:Vd(zu(o[16]),g):Vd(o,s.next)}}return null}function Oh(o,s){return null!==s?o[16][6].projection[s.projection]:null}function uc(o,s){const h=10+o+1;if(h<s.length){const g=s[h],S=g[1].firstChild;if(null!==S)return Vd(g,S)}return s[7]}function Vc(o,s,h,g,S,O,J){for(;null!=h;){const ve=g[h.index],Ie=h.type;if(J&&0===s&&(ve&&yo(nt(ve),g),h.flags|=4),64!=(64&h.flags))if(8&Ie)Vc(o,s,h.child,g,S,O,!1),Ou(s,o,S,ve,O);else if(32&Ie){const Qe=Lu(h,g);let pt;for(;pt=Qe();)Ou(s,o,S,pt,O);Ou(s,o,S,ve,O)}else 16&Ie?eo(o,s,g,h,S,O):Ou(s,o,S,ve,O);h=J?h.projectionNext:h.next}}function hc(o,s,h,g,S,O){Vc(h,g,o.firstChild,s,S,O,!1)}function eo(o,s,h,g,S,O){const J=h[16],Ie=J[6].projection[g.projection];if(Array.isArray(Ie))for(let Qe=0;Qe<Ie.length;Qe++)Ou(s,o,S,Ie[Qe],O);else Vc(o,s,Ie,J[3],S,O,!0)}function y2(o,s,h){Er(o)?o.setAttribute(s,"style",h):s.style.cssText=h}function Ih(o,s,h){Er(o)?""===h?o.removeAttribute(s,"class"):o.setAttribute(s,"class",h):s.className=h}function pf(o,s,h){let g=o.length;for(;;){const S=o.indexOf(s,h);if(-1===S)return S;if(0===S||o.charCodeAt(S-1)<=32){const O=s.length;if(S+O===g||o.charCodeAt(S+O)<=32)return S}h=S+1}}const gf="ng-template";function Rh(o,s,h){let g=0;for(;g<o.length;){let S=o[g++];if(h&&"class"===S){if(S=o[g],-1!==pf(S.toLowerCase(),s,0))return!0}else if(1===S){for(;g<o.length&&"string"==typeof(S=o[g++]);)if(S.toLowerCase()===s)return!0;return!1}}return!1}function Hc(o){return 4===o.type&&o.value!==gf}function _2(o,s,h){return s===(4!==o.type||h?o.value:gf)}function Nh(o,s,h){let g=4;const S=o.attrs||[],O=function(o){for(let s=0;s<o.length;s++)if(ao(o[s]))return s;return o.length}(S);let J=!1;for(let ve=0;ve<s.length;ve++){const Ie=s[ve];if("number"!=typeof Ie){if(!J)if(4&g){if(g=2|1&g,""!==Ie&&!_2(o,Ie,h)||""===Ie&&1===s.length){if(qs(g))return!1;J=!0}}else{const Qe=8&g?Ie:s[++ve];if(8&g&&null!==o.attrs){if(!Rh(o.attrs,Qe,h)){if(qs(g))return!1;J=!0}continue}const Ut=x2(8&g?"class":Ie,S,Hc(o),h);if(-1===Ut){if(qs(g))return!1;J=!0;continue}if(""!==Qe){let Jt;Jt=Ut>O?"":S[Ut+1].toLowerCase();const Sn=8&g?Jt:null;if(Sn&&-1!==pf(Sn,Qe,0)||2&g&&Qe!==Jt){if(qs(g))return!1;J=!0}}}}else{if(!J&&!qs(g)&&!qs(Ie))return!1;if(J&&qs(Ie))continue;J=!1,g=Ie|1&g}}return qs(g)||J}function qs(o){return 0==(1&o)}function x2(o,s,h,g){if(null===s)return-1;let S=0;if(g||!h){let O=!1;for(;S<s.length;){const J=s[S];if(J===o)return S;if(3===J||6===J)O=!0;else{if(1===J||2===J){let ve=s[++S];for(;"string"==typeof ve;)ve=s[++S];continue}if(4===J)break;if(0===J){S+=4;continue}}S+=O?1:2}return-1}return function(o,s){let h=o.indexOf(4);if(h>-1)for(h++;h<o.length;){const g=o[h];if("number"==typeof g)return-1;if(g===s)return h;h++}return-1}(s,o)}function mf(o,s,h=!1){for(let g=0;g<s.length;g++)if(Nh(o,s[g],h))return!0;return!1}function P4(o,s){e:for(let h=0;h<s.length;h++){const g=s[h];if(o.length===g.length){for(let S=0;S<o.length;S++)if(o[S]!==g[S])continue e;return!0}}return!1}function b2(o,s){return o?":not("+s.trim()+")":s}function Uc(o){let s=o[0],h=1,g=2,S="",O=!1;for(;h<o.length;){let J=o[h];if("string"==typeof J)if(2&g){const ve=o[++h];S+="["+J+(ve.length>0?'="'+ve+'"':"")+"]"}else 8&g?S+="."+J:4&g&&(S+=" "+J);else""!==S&&!qs(J)&&(s+=b2(O,S),S=""),g=J,O=O||!qs(g);h++}return""!==S&&(s+=b2(O,S)),s}const aa={};function Yd(o){yf(na(),ur(),Rt()+o,Ht())}function yf(o,s,h,g){if(!g)if(3==(3&s[2])){const O=o.preOrderCheckHooks;null!==O&&fn(s,O,h)}else{const O=o.preOrderHooks;null!==O&&Hn(s,O,0,h)}ht(h)}function Fh(o,s){return o<<17|s<<2}function Qo(o){return o>>17&32767}function _f(o){return 2|o}function sl(o){return(131068&o)>>2}function xf(o,s){return-131069&o|s<<2}function bf(o){return 1|o}function A2(o,s){const h=o.contentQueries;if(null!==h)for(let g=0;g<h.length;g+=2){const S=h[g],O=h[g+1];if(-1!==O){const J=o.data[O];ji(S),J.contentQueries(2,s[O],O)}}}function Cl(o,s,h,g,S,O,J,ve,Ie,Qe){const pt=s.blueprint.slice();return pt[0]=S,pt[2]=140|g,Di(pt),pt[3]=pt[15]=o,pt[8]=h,pt[10]=J||o&&o[10],pt[11]=ve||o&&o[11],pt[12]=Ie||o&&o[12]||null,pt[9]=Qe||o&&o[9]||null,pt[6]=O,pt[16]=2==s.type?o[16]:pt,pt}function Uu(o,s,h,g,S){let O=o.data[s];if(null===O)O=function(o,s,h,g,S){const O=Mi(),J=pe(),Ie=o.data[s]=function(o,s,h,g,S,O){return{type:h,index:g,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:S,attrs:O,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,J?O:O&&O.parent,h,s,g,S);return null===o.firstChild&&(o.firstChild=Ie),null!==O&&(J?null==O.child&&null!==Ie.parent&&(O.child=Ie):null===O.next&&(O.next=Ie)),Ie}(o,s,h,g,S),qr.lFrame.inI18n&&(O.flags|=64);else if(64&O.type){O.type=h,O.value=g,O.attrs=S;const J=function(){const o=qr.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();O.injectorIndex=null===J?-1:J.injectorIndex}return bt(O,!0),O}function jc(o,s,h,g){if(0===h)return-1;const S=s.length;for(let O=0;O<h;O++)s.push(g),o.blueprint.push(g),o.data.push(null);return S}function Vh(o,s,h){la(s);try{const g=o.viewQuery;null!==g&&Qc(1,g,h);const S=o.template;null!==S&&Kd(o,s,S,1,h),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&A2(o,s),o.staticViewQueries&&Qc(2,o.viewQuery,h);const O=o.components;null!==O&&function(o,s){for(let h=0;h<s.length;h++)K4(o,s[h])}(s,O)}catch(g){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),g}finally{s[2]&=-5,Ks()}}function Kc(o,s,h,g){const S=s[2];if(256==(256&S))return;la(s);const O=Ht();try{Di(s),function(o){qr.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==h&&Kd(o,s,h,2,g);const J=3==(3&S);if(!O)if(J){const Qe=o.preOrderCheckHooks;null!==Qe&&fn(s,Qe,null)}else{const Qe=o.preOrderHooks;null!==Qe&&Hn(s,Qe,0,null),Gn(s,0)}if(function(o){for(let s=Nd(o);null!==s;s=Fd(s)){if(!s[2])continue;const h=s[9];for(let g=0;g<h.length;g++){const S=h[g],O=S[3];0==(1024&S[2])&&Vi(O,1),S[2]|=1024}}}(s),function(o){for(let s=Nd(o);null!==s;s=Fd(s))for(let h=10;h<s.length;h++){const g=s[h],S=g[1];or(g)&&Kc(S,g,S.template,g[8])}}(s),null!==o.contentQueries&&A2(o,s),!O)if(J){const Qe=o.contentCheckHooks;null!==Qe&&fn(s,Qe)}else{const Qe=o.contentHooks;null!==Qe&&Hn(s,Qe,1),Gn(s,1)}!function(o,s){const h=o.hostBindingOpCodes;if(null!==h)try{for(let g=0;g<h.length;g++){const S=h[g];if(S<0)ht(~S);else{const O=S,J=h[++g],ve=h[++g];ai(J,O),ve(2,s[O])}}}finally{ht(-1)}}(o,s);const ve=o.components;null!==ve&&function(o,s){for(let h=0;h<s.length;h++)tl(o,s[h])}(s,ve);const Ie=o.viewQuery;if(null!==Ie&&Qc(2,Ie,g),!O)if(J){const Qe=o.viewCheckHooks;null!==Qe&&fn(s,Qe)}else{const Qe=o.viewHooks;null!==Qe&&Hn(s,Qe,2),Gn(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),O||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Vi(s[3],-1))}finally{Ks()}}function V4(o,s,h,g){const S=s[10],O=!Ht(),J=En(s);try{O&&!J&&S.begin&&S.begin(),J&&Vh(o,s,g),Kc(o,s,h,g)}finally{O&&!J&&S.end&&S.end()}}function Kd(o,s,h,g,S){const O=Rt(),J=2&g;try{ht(-1),J&&s.length>20&&yf(o,s,20,Ht()),h(g,S)}finally{ht(O)}}function Hh(o,s,h){if(Xt(s)){const S=s.directiveEnd;for(let O=s.directiveStart;O<S;O++){const J=o.data[O];J.contentQueries&&J.contentQueries(1,h[O],O)}}}function $d(o,s,h){!io()||(function(o,s,h,g){const S=h.directiveStart,O=h.directiveEnd;o.firstCreatePass||Ee(h,s),yo(g,s);const J=h.initialInputs;for(let ve=S;ve<O;ve++){const Ie=o.data[ve],Qe=xr(Ie);Qe&&N2(s,h,Ie);const pt=lo(s,o,ve,h);yo(pt,s),null!==J&&Z4(0,ve-S,pt,Ie,0,J),Qe&&(gt(h.index,s)[8]=pt)}}(o,s,h,_e(h,s)),128==(128&h.flags)&&function(o,s,h){const g=h.directiveStart,S=h.directiveEnd,J=h.index,ve=qr.lFrame.currentDirectiveIndex;try{ht(J);for(let Ie=g;Ie<S;Ie++){const Qe=o.data[Ie],pt=s[Ie];oi(Ie),(null!==Qe.hostBindings||0!==Qe.hostVars||null!==Qe.hostAttrs)&&Jd(Qe,pt)}}finally{ht(-1),oi(ve)}}(o,s,h))}function Xd(o,s,h=_e){const g=s.localNames;if(null!==g){let S=s.index+1;for(let O=0;O<g.length;O+=2){const J=g[O+1],ve=-1===J?h(s,o):o[J];o[S++]=ve}}}function Af(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Ml(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Ml(o,s,h,g,S,O,J,ve,Ie,Qe){const pt=20+g,Ut=pt+S,Jt=function(o,s){const h=[];for(let g=0;g<s;g++)h.push(g<o?null:aa);return h}(pt,Ut),Sn="function"==typeof Qe?Qe():Qe;return Jt[1]={type:o,blueprint:Jt,template:h,queries:null,viewQuery:ve,declTNode:s,data:Jt.slice().fill(null,pt),bindingStartIndex:pt,expandoStartIndex:Ut,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof O?O():O,pipeRegistry:"function"==typeof J?J():J,firstChild:null,schemas:Ie,consts:Sn,incompleteFirstPass:!1}}function Lf(o,s,h,g){const S=n1(s);null===h?S.push(g):(S.push(h),o.firstCreatePass&&r1(o).push(g,S.length-1))}function zf(o,s,h){for(let g in o)if(o.hasOwnProperty(g)){const S=o[g];(h=null===h?{}:h).hasOwnProperty(g)?h[g].push(s,S):h[g]=[s,S]}return h}function Vs(o,s,h,g,S,O,J,ve){const Ie=_e(s,h);let pt,Qe=s.inputs;!ve&&null!=Qe&&(pt=Qe[g])?(s1(o,h,pt,g,S),Or(s)&&function(o,s){const h=gt(s,o);16&h[2]||(h[2]|=64)}(h,s.index)):3&s.type&&(g=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(g),S=null!=J?J(S,s.value||"",g):S,Er(O)?O.setProperty(Ie,g,S):Do(g)||(Ie.setProperty?Ie.setProperty(g,S):Ie[g]=S))}function Bl(o,s,h,g){let S=!1;if(io()){const O=function(o,s,h){const g=o.directiveRegistry;let S=null;if(g)for(let O=0;O<g.length;O++){const J=g[O];mf(h,J.selectors,!1)&&(S||(S=[]),mn(Ee(h,s),o,J.type),xr(J)?(I2(o,h),S.unshift(J)):S.push(J))}return S}(o,s,h),J=null===g?null:{"":-1};if(null!==O){S=!0,qd(h,o.data.length,O.length);for(let pt=0;pt<O.length;pt++){const Ut=O[pt];Ut.providersResolver&&Ut.providersResolver(Ut)}let ve=!1,Ie=!1,Qe=jc(o,s,O.length,null);for(let pt=0;pt<O.length;pt++){const Ut=O[pt];h.mergedAttrs=Ni(h.mergedAttrs,Ut.hostAttrs),Gu(o,h,s,Qe,Ut),W4(Qe,Ut,J),null!==Ut.contentQueries&&(h.flags|=8),(null!==Ut.hostBindings||null!==Ut.hostAttrs||0!==Ut.hostVars)&&(h.flags|=128);const Jt=Ut.type.prototype;!ve&&(Jt.ngOnChanges||Jt.ngOnInit||Jt.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(h.index),ve=!0),!Ie&&(Jt.ngOnChanges||Jt.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(h.index),Ie=!0),Qe++}!function(o,s){const g=s.directiveEnd,S=o.data,O=s.attrs,J=[];let ve=null,Ie=null;for(let Qe=s.directiveStart;Qe<g;Qe++){const pt=S[Qe],Ut=pt.inputs,Jt=null===O||Hc(s)?null:j4(Ut,O);J.push(Jt),ve=zf(Ut,Qe,ve),Ie=zf(pt.outputs,Qe,Ie)}null!==ve&&(ve.hasOwnProperty("class")&&(s.flags|=16),ve.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=J,s.inputs=ve,s.outputs=Ie}(o,h)}J&&function(o,s,h){if(s){const g=o.localNames=[];for(let S=0;S<s.length;S+=2){const O=h[s[S+1]];if(null==O)throw new xe("301",`Export of name '${s[S+1]}' not found!`);g.push(s[S],O)}}}(h,g,J)}return h.mergedAttrs=Ni(h.mergedAttrs,h.attrs),S}function Qd(o,s,h,g,S,O){const J=O.hostBindings;if(J){let ve=o.hostBindingOpCodes;null===ve&&(ve=o.hostBindingOpCodes=[]);const Ie=~s.index;(function(o){let s=o.length;for(;s>0;){const h=o[--s];if("number"==typeof h&&h<0)return h}return 0})(ve)!=Ie&&ve.push(Ie),ve.push(g,S,J)}}function Jd(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function I2(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function W4(o,s,h){if(h){if(s.exportAs)for(let g=0;g<s.exportAs.length;g++)h[s.exportAs[g]]=o;xr(s)&&(h[""]=o)}}function qd(o,s,h){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+h,o.providerIndexes=s}function Gu(o,s,h,g,S){o.data[g]=S;const O=S.factory||(S.factory=ro(S.type)),J=new Mr(O,xr(S),null);o.blueprint[g]=J,h[g]=J,Qd(o,s,0,g,jc(o,h,S.hostVars,aa),S)}function N2(o,s,h){const g=_e(s,o),S=Af(h),O=o[10],J=Ff(o,Cl(o,S,null,h.onPush?64:16,g,s,O,O.createRenderer(g,h),null,null));o[s.index]=J}function Dl(o,s,h,g,S,O){const J=_e(o,s);!function(o,s,h,g,S,O,J){if(null==O)Er(o)?o.removeAttribute(s,S,h):s.removeAttribute(S);else{const ve=null==J?re(O):J(O,g||"",S);Er(o)?o.setAttribute(s,S,ve,h):h?s.setAttributeNS(h,S,ve):s.setAttribute(S,ve)}}(s[11],J,O,o.value,h,g,S)}function Z4(o,s,h,g,S,O){const J=O[s];if(null!==J){const ve=g.setInput;for(let Ie=0;Ie<J.length;){const Qe=J[Ie++],pt=J[Ie++],Ut=J[Ie++];null!==ve?g.setInput(h,Ut,Qe,pt):h[pt]=Ut}}}function j4(o,s){let h=null,g=0;for(;g<s.length;){const S=s[g];if(0!==S)if(5!==S){if("number"==typeof S)break;o.hasOwnProperty(S)&&(null===h&&(h=[]),h.push(S,o[S],s[g+1])),g+=2}else g+=2;else g+=4}return h}function e1(o,s,h,g){return new Array(o,!0,!1,s,null,0,g,h,null,null)}function tl(o,s){const h=gt(s,o);if(or(h)){const g=h[1];80&h[2]?Kc(g,h,g.template,h[8]):h[5]>0&&Vl(h)}}function Vl(o){for(let g=Nd(o);null!==g;g=Fd(g))for(let S=10;S<g.length;S++){const O=g[S];if(1024&O[2]){const J=O[1];Kc(J,O,J.template,O[8])}else O[5]>0&&Vl(O)}const h=o[1].components;if(null!==h)for(let g=0;g<h.length;g++){const S=gt(h[g],o);or(S)&&S[5]>0&&Vl(S)}}function K4(o,s){const h=gt(s,o),g=h[1];(function(o,s){for(let h=s.length;h<o.blueprint.length;h++)s.push(o.blueprint[h])})(g,h),Vh(g,h,h[8])}function Ff(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function kf(o){for(;o;){o[2]|=64;const s=zu(o);if(Ii(o)&&!s)return o;o=s}return null}function Uh(o,s,h){const g=s[10];g.begin&&g.begin();try{Kc(o,s,o.template,h)}catch(S){throw o1(s,S),S}finally{g.end&&g.end()}}function os(o){!function(o){for(let s=0;s<o.components.length;s++){const h=o.components[s],g=Tu(h),S=g[1];V4(S,g,S.template,h)}}(o[8])}function Qc(o,s,h){ji(0),s(o,h)}const k2=(()=>Promise.resolve(null))();function n1(o){return o[7]||(o[7]=[])}function r1(o){return o.cleanup||(o.cleanup=[])}function o1(o,s){const h=o[9],g=h?h.get(Fc,null):null;g&&g.handleError(s)}function s1(o,s,h,g,S){for(let O=0;O<h.length;){const J=h[O++],ve=h[O++],Ie=s[J],Qe=o.data[J];null!==Qe.setInput?Qe.setInput(Ie,S,g,ve):Ie[ve]=S}}function Hs(o,s,h){const g=He(s,o);!function(o,s,h){Er(o)?o.setValue(s,h):s.textContent=h}(o[11],g,h)}function El(o,s,h){let g=h?o.styles:null,S=h?o.classes:null,O=0;if(null!==s)for(let J=0;J<s.length;J++){const ve=s[J];"number"==typeof ve?O=ve:1==O?S=K(S,ve):2==O&&(g=K(g,ve+": "+s[++J]+";"))}h?o.styles=g:o.stylesWithoutHost=g,h?o.classes=S:o.classesWithoutHost=S}const Jc=new fo("INJECTOR",-1);class l1{get(s,h=fh){if(h===fh){const g=new Error(`NullInjectorError: No provider for ${q(s)}!`);throw g.name="NullInjectorError",g}return h}}const Us=new fo("Set Injector scope."),cl={},X4={};let Hf;function c1(){return void 0===Hf&&(Hf=new l1),Hf}function Uf(o,s=null,h=null,g){return new J4(o,h,s||c1(),g)}class J4{constructor(s,h,g,S=null){this.parent=g,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const O=[];h&&pl(h,ve=>this.processProvider(ve,s,h)),pl([s],ve=>this.processInjectorType(ve,[],O)),this.records.set(Jc,Ul(void 0,this));const J=this.records.get(Us);this.scope=null!=J?J.value:null,this.source=S||("object"==typeof s?null:q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,h=fh,g=Yt.Default){this.assertNotDestroyed();const S=Xs(this),O=vn(void 0);try{if(!(g&Yt.SkipSelf)){let ve=this.records.get(s);if(void 0===ve){const Ie=("function"==typeof(o=s)||"object"==typeof o&&o instanceof fo)&&Ue(s);ve=Ie&&this.injectableDefInScope(Ie)?Ul(u1(s),cl):null,this.records.set(s,ve)}if(null!=ve)return this.hydrate(s,ve)}return(g&Yt.Self?c1():this.parent).get(s,h=g&Yt.Optional&&h===fh?null:h)}catch(J){if("NullInjectorError"===J.name){if((J[rc]=J[rc]||[]).unshift(q(s)),S)throw J;return md(J,s,"R3InjectorError",this.source)}throw J}finally{vn(O),Xs(S)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((g,S)=>s.push(q(S))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,h,g){if(!(s=V(s)))return!1;let S=Wt(s);const O=null==S&&s.ngModule||void 0,J=void 0===O?s:O,ve=-1!==g.indexOf(J);if(void 0!==O&&(S=Wt(O)),null==S)return!1;if(null!=S.imports&&!ve){let pt;g.push(J);try{pl(S.imports,Ut=>{this.processInjectorType(Ut,h,g)&&(void 0===pt&&(pt=[]),pt.push(Ut))})}finally{}if(void 0!==pt)for(let Ut=0;Ut<pt.length;Ut++){const{ngModule:Jt,providers:Sn}=pt[Ut];pl(Sn,Nn=>this.processProvider(Nn,Jt,Sn||we))}}this.injectorDefTypes.add(J);const Ie=ro(J)||(()=>new J);this.records.set(J,Ul(Ie,cl));const Qe=S.providers;if(null!=Qe&&!ve){const pt=s;pl(Qe,Ut=>this.processProvider(Ut,pt,Qe))}return void 0!==O&&void 0!==s.providers}processProvider(s,h,g){let S=Zu(s=V(s))?s:V(s&&s.provide);const O=(o=s,d1(o)?Ul(void 0,o.useValue):Ul(h1(o),cl));var o;if(Zu(s)||!0!==s.multi)this.records.get(S);else{let J=this.records.get(S);J||(J=Ul(void 0,cl,!0),J.factory=()=>ic(J.multi),this.records.set(S,J)),S=s,J.multi.push(s)}this.records.set(S,O)}hydrate(s,h){return h.value===cl&&(h.value=X4,h.value=h.factory()),"object"==typeof h.value&&h.value&&null!==(o=h.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(h.value),h.value;var o}injectableDefInScope(s){if(!s.providedIn)return!1;const h=V(s.providedIn);return"string"==typeof h?"any"===h||h===this.scope:this.injectorDefTypes.has(h)}}function u1(o){const s=Ue(o),h=null!==s?s.factory:ro(o);if(null!==h)return h;if(o instanceof fo)throw new Error(`Token ${q(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const s=o.length;if(s>0){const g=Il(s,"?");throw new Error(`Can't resolve all parameters for ${q(o)}: (${g.join(", ")}).`)}const h=function(o){const s=o&&(o[Qt]||o[In]);if(s){const h=function(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),s}return null}(o);return null!==h?()=>h.factory(o):()=>new o}(o);throw new Error("unreachable")}function h1(o,s,h){let g;if(Zu(o)){const S=V(o);return ro(S)||u1(S)}if(d1(o))g=()=>V(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))g=()=>o.useFactory(...ic(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))g=()=>So(V(o.useExisting));else{const S=V(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return ro(S)||u1(S);g=()=>new S(...ic(o.deps))}return g}function Ul(o,s,h=!1){return{factory:o,value:s,multi:h?[]:void 0}}function d1(o){return null!==o&&"object"==typeof o&&gd in o}function Zu(o){return"function"==typeof o}const $u=function(o,s,h){return function(o,s=null,h=null,g){const S=Uf(o,s,h,g);return S._resolveInjectorDefTypes(),S}({name:h},s,o,h)};let to=(()=>{class o{static create(h,g){return Array.isArray(h)?$u(h,g,""):$u(h.providers,h.parent,h.name||"")}}return o.THROW_IF_NOT_FOUND=fh,o.NULL=new l1,o.\u0275prov=Ve({token:o,providedIn:"any",factory:()=>So(Jc)}),o.__NG_ELEMENT_ID__=-1,o})();function yc(o,s){Cn(Tu(o)[1],Qr())}function tu(o){let s=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),h=!0;const g=[o];for(;s;){let S;if(xr(o))S=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");S=s.\u0275dir}if(S){if(h){g.push(S);const J=o;J.inputs=Xh(o.inputs),J.declaredInputs=Xh(o.declaredInputs),J.outputs=Xh(o.outputs);const ve=S.hostBindings;ve&&tv(o,ve);const Ie=S.viewQuery,Qe=S.contentQueries;if(Ie&&ev(o,Ie),Qe&&sp(o,Qe),ce(o.inputs,S.inputs),ce(o.declaredInputs,S.declaredInputs),ce(o.outputs,S.outputs),xr(S)&&S.data.animation){const pt=o.data;pt.animation=(pt.animation||[]).concat(S.data.animation)}}const O=S.features;if(O)for(let J=0;J<O.length;J++){const ve=O[J];ve&&ve.ngInherit&&ve(o),ve===tu&&(h=!1)}}s=Object.getPrototypeOf(s)}!function(o){let s=0,h=null;for(let g=o.length-1;g>=0;g--){const S=o[g];S.hostVars=s+=S.hostVars,S.hostAttrs=Ni(S.hostAttrs,h=Ni(h,S.hostAttrs))}}(g)}function Xh(o){return o===Ke?{}:o===we?[]:o}function ev(o,s){const h=o.viewQuery;o.viewQuery=h?(g,S)=>{s(g,S),h(g,S)}:s}function sp(o,s){const h=o.contentQueries;o.contentQueries=h?(g,S,O)=>{s(g,S,O),h(g,S,O)}:s}function tv(o,s){const h=o.hostBindings;o.hostBindings=h?(g,S)=>{s(g,S),h(g,S)}:s}let g1=null;function Qh(){if(!g1){const o=Ft.Symbol;if(o&&o.iterator)g1=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<s.length;++h){const g=s[h];"entries"!==g&&"size"!==g&&Map.prototype[g]===Map.prototype.entries&&(g1=g)}}}return g1}function Jh(o){return!!rv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Qh()in o)}function rv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Gl(o,s,h){return o[s]=h}function ls(o,s,h){return!Object.is(o[s],h)&&(o[s]=h,!0)}function Ya(o,s,h,g){const S=ls(o,s,h);return ls(o,s+1,g)||S}function iv(o,s,h,g){const S=ur();return ls(S,ar(),s)&&(na(),Dl(Tt(),S,o,s,h,g)),iv}function nu(o,s,h,g,S,O,J,ve,Ie,Qe){const Ut=function(o,s,h,g,S,O){const J=Ya(o,s,h,g);return Ya(o,s+2,S,O)||J}(o,qr.lFrame.bindingIndex,h,S,J,Ie);return $r(4),Ut?s+re(h)+g+re(S)+O+re(J)+ve+re(Ie)+Qe:aa}function hp(o,s,h,g,S,O,J,ve){const Ie=ur(),Qe=na(),pt=o+20,Ut=Qe.firstCreatePass?function(o,s,h,g,S,O,J,ve,Ie){const Qe=s.consts,pt=Uu(s,o,4,J||null,_i(Qe,ve));Bl(s,h,pt,_i(Qe,Ie)),Cn(s,pt);const Ut=pt.tViews=Ml(2,pt,g,S,O,s.directiveRegistry,s.pipeRegistry,null,s.schemas,Qe);return null!==s.queries&&(s.queries.template(s,pt),Ut.queries=s.queries.embeddedTView(pt)),pt}(pt,Qe,Ie,s,h,g,S,O,J):Qe.data[pt];bt(Ut,!1);const Jt=Ie[11].createComment("");Bc(Qe,Ie,Jt,Ut),yo(Jt,Ie),Ff(Ie,Ie[pt]=e1(Jt,Ie,Jt,Ut)),Qn(Ut)&&$d(Qe,Ie,Ut),null!=J&&Xd(Ie,Ut,ve)}function dp(o){return De(qr.lFrame.contextLView,20+o)}function I(o,s=Yt.Default){const h=ur();return null===h?So(o,s):ha(Qr(),h,V(o),s)}function F(){throw new Error("invalid")}function $(o,s,h){const g=ur();return ls(g,ar(),s)&&Vs(na(),Tt(),g,o,s,g[11],h,!1),$}function ue(o,s,h,g,S){const J=S?"class":"style";s1(o,h,s.inputs[J],J,g)}function Ze(o,s,h,g){const S=ur(),O=na(),J=20+o,ve=S[11],Ie=S[J]=of(ve,s,qr.lFrame.currentNamespace),Qe=O.firstCreatePass?function(o,s,h,g,S,O,J){const ve=s.consts,Qe=Uu(s,o,2,S,_i(ve,O));return Bl(s,h,Qe,_i(ve,J)),null!==Qe.attrs&&El(Qe,Qe.attrs,!1),null!==Qe.mergedAttrs&&El(Qe,Qe.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,Qe),Qe}(J,O,S,0,s,h,g):O.data[J];bt(Qe,!0);const pt=Qe.mergedAttrs;null!==pt&&Da(ve,Ie,pt);const Ut=Qe.classes;null!==Ut&&Ih(ve,Ie,Ut);const Jt=Qe.styles;null!==Jt&&y2(ve,Ie,Jt),64!=(64&Qe.flags)&&Bc(O,S,Ie,Qe),0===qr.lFrame.elementDepthCount&&yo(Ie,S),qr.lFrame.elementDepthCount++,Qn(Qe)&&($d(O,S,Qe),Hh(O,Qe,S)),null!==g&&Xd(S,Qe)}function Ge(){let o=Qr();pe()?be():(o=o.parent,bt(o,!1));const s=o;qr.lFrame.elementDepthCount--;const h=na();h.firstCreatePass&&(Cn(h,o),Xt(o)&&h.queries.elementEnd(o)),null!=s.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(s)&&ue(h,s,ur(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(s)&&ue(h,s,ur(),s.stylesWithoutHost,!1)}function at(o,s,h,g){Ze(o,s,h,g),Ge()}function Bt(o,s,h){const g=ur(),S=na(),O=o+20,J=S.firstCreatePass?function(o,s,h,g,S){const O=s.consts,J=_i(O,g),ve=Uu(s,o,8,"ng-container",J);return null!==J&&El(ve,J,!0),Bl(s,h,ve,_i(O,S)),null!==s.queries&&s.queries.elementStart(s,ve),ve}(O,S,g,s,h):S.data[O];bt(J,!0);const ve=g[O]=g[11].createComment("");Bc(S,g,ve,J),yo(ve,g),Qn(J)&&($d(S,g,J),Hh(S,J,g)),null!=h&&Xd(g,J)}function an(){let o=Qr();const s=na();pe()?be():(o=o.parent,bt(o,!1)),s.firstCreatePass&&(Cn(s,o),Xt(o)&&s.queries.elementEnd(o))}function en(){return ur()}function Tn(o){return!!o&&"function"==typeof o.then}function wn(o){return!!o&&"function"==typeof o.subscribe}const Zn=wn;function Yn(o,s,h,g){const S=ur(),O=na(),J=Qr();return function(o,s,h,g,S,O,J,ve){const Ie=Qn(g),pt=o.firstCreatePass&&r1(o),Ut=s[8],Jt=n1(s);let Sn=!0;if(3&g.type||ve){const Wn=_e(g,s),Nr=ve?ve(Wn):Wn,vr=Jt.length,Ai=ve?ra=>ve(nt(ra[g.index])):g.index;if(Er(h)){let ra=null;if(!ve&&Ie&&(ra=function(o,s,h,g){const S=o.cleanup;if(null!=S)for(let O=0;O<S.length-1;O+=2){const J=S[O];if(J===h&&S[O+1]===g){const ve=s[7],Ie=S[O+2];return ve.length>Ie?ve[Ie]:null}"string"==typeof J&&(O+=2)}return null}(o,s,S,g.index)),null!==ra)(ra.__ngLastListenerFn__||ra).__ngNextListenerFn__=O,ra.__ngLastListenerFn__=O,Sn=!1;else{O=Ir(g,s,Ut,O,!1);const Na=h.listen(Nr,S,O);Jt.push(O,Na),pt&&pt.push(S,Ai,vr,vr+1)}}else O=Ir(g,s,Ut,O,!0),Nr.addEventListener(S,O,J),Jt.push(O),pt&&pt.push(S,Ai,vr,J)}else O=Ir(g,s,Ut,O,!1);const Nn=g.outputs;let qn;if(Sn&&null!==Nn&&(qn=Nn[S])){const Wn=qn.length;if(Wn)for(let Nr=0;Nr<Wn;Nr+=2){const Ps=s[qn[Nr]][qn[Nr+1]].subscribe(O),au=Jt.length;Jt.push(O,Ps),pt&&pt.push(S,g.index,au,-(au+1))}}}(O,S,S[11],J,o,s,!!h,g),Yn}function Lr(o,s,h,g){try{return!1!==h(g)}catch(S){return o1(o,S),!1}}function Ir(o,s,h,g,S){return function O(J){if(J===Function)return g;const ve=2&o.flags?gt(o.index,s):s;0==(32&s[2])&&kf(ve);let Ie=Lr(s,0,g,J),Qe=O.__ngNextListenerFn__;for(;Qe;)Ie=Lr(s,0,Qe,J)&&Ie,Qe=Qe.__ngNextListenerFn__;return S&&!1===Ie&&(J.preventDefault(),J.returnValue=!1),Ie}}function Cr(o=1){return function(o){return(qr.lFrame.contextLView=function(o,s){for(;o>0;)s=s[15],o--;return s}(o,qr.lFrame.contextLView))[8]}(o)}function Br(o,s){let h=null;const g=function(o){const s=o.attrs;if(null!=s){const h=s.indexOf(5);if(0==(1&h))return s[h+1]}return null}(o);for(let S=0;S<s.length;S++){const O=s[S];if("*"!==O){if(null===g?mf(o,O,!0):P4(g,O))return S}else h=S}return h}function Xr(o){const s=ur()[16][6];if(!s.projection){const g=s.projection=Il(o?o.length:1,null),S=g.slice();let O=s.child;for(;null!==O;){const J=o?Br(O,o):0;null!==J&&(S[J]?S[J].projectionNext=O:g[J]=O,S[J]=O),O=O.next}}}function mi(o,s=0,h){const g=ur(),S=na(),O=Uu(S,20+o,16,null,h||null);null===O.projection&&(O.projection=s),be(),64!=(64&O.flags)&&function(o,s,h){eo(s[11],0,s,h,f2(o,h,s),cc(h.parent||s[6],h,s))}(S,g,O)}function Go(o,s,h,g,S){const O=o[h+1],J=null===s;let ve=g?Qo(O):sl(O),Ie=!1;for(;0!==ve&&(!1===Ie||J);){const pt=o[ve+1];x1(o[ve],s)&&(Ie=!0,o[ve+1]=g?bf(pt):_f(pt)),ve=g?Qo(pt):sl(pt)}Ie&&(o[h+1]=g?_f(O):bf(O))}function x1(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&ol(o,s)>=0}function bp(o,s,h){return Sc(o,s,h,!1),bp}function Q3(o,s){return Sc(o,s,null,!0),Q3}function Sc(o,s,h,g){const S=ur(),O=na(),J=$r(2);O.firstUpdatePass&&function(o,s,h,g){const S=o.data;if(null===S[h+1]){const O=S[Rt()],J=function(o,s){return s>=o.expandoStartIndex}(o,h);(function(o,s){return 0!=(o.flags&(s?16:32))})(O,g)&&null===s&&!J&&(s=!1),s=function(o,s,h,g){const S=ka(o);let O=g?s.residualClasses:s.residualStyles;if(null===S)0===(g?s.classBindings:s.styleBindings)&&(h=xv(h=J3(null,o,s,h,g),s.attrs,g),O=null);else{const J=s.directiveStylingLast;if(-1===J||o[J]!==S)if(h=J3(S,o,s,h,g),null===O){let Ie=function(o,s,h){const g=h?s.classBindings:s.styleBindings;if(0!==sl(g))return o[Qo(g)]}(o,s,g);void 0!==Ie&&Array.isArray(Ie)&&(Ie=J3(null,o,s,Ie[1],g),Ie=xv(Ie,s.attrs,g),function(o,s,h,g){o[Qo(h?s.classBindings:s.styleBindings)]=g}(o,s,g,Ie))}else O=function(o,s,h){let g;const S=s.directiveEnd;for(let O=1+s.directiveStylingLast;O<S;O++)g=xv(g,o[O].hostAttrs,h);return xv(g,s.attrs,h)}(o,s,g)}return void 0!==O&&(g?s.residualClasses=O:s.residualStyles=O),h}(S,O,s,g),function(o,s,h,g,S,O){let J=O?s.classBindings:s.styleBindings,ve=Qo(J),Ie=sl(J);o[g]=h;let pt,Qe=!1;if(Array.isArray(h)){const Ut=h;pt=Ut[1],(null===pt||ol(Ut,pt)>0)&&(Qe=!0)}else pt=h;if(S)if(0!==Ie){const Jt=Qo(o[ve+1]);o[g+1]=Fh(Jt,ve),0!==Jt&&(o[Jt+1]=xf(o[Jt+1],g)),o[ve+1]=function(o,s){return 131071&o|s<<17}(o[ve+1],g)}else o[g+1]=Fh(ve,0),0!==ve&&(o[ve+1]=xf(o[ve+1],g)),ve=g;else o[g+1]=Fh(Ie,0),0===ve?ve=g:o[Ie+1]=xf(o[Ie+1],g),Ie=g;Qe&&(o[g+1]=_f(o[g+1])),Go(o,pt,g,!0),Go(o,pt,g,!1),function(o,s,h,g,S){const O=S?o.residualClasses:o.residualStyles;null!=O&&"string"==typeof s&&ol(O,s)>=0&&(h[g+1]=bf(h[g+1]))}(s,pt,o,g,O),J=Fh(ve,Ie),O?s.classBindings=J:s.styleBindings=J}(S,O,s,h,J,g)}}(O,o,J,g),s!==aa&&ls(S,J,s)&&function(o,s,h,g,S,O,J,ve){if(!(3&s.type))return;const Ie=o.data,Qe=Ie[ve+1];bv(function(o){return 1==(1&o)}(Qe)?q3(Ie,s,h,S,sl(Qe),J):void 0)||(bv(O)||function(o){return 2==(2&o)}(Qe)&&(O=q3(Ie,null,h,S,ve,J)),function(o,s,h,g,S){const O=Er(o);if(s)S?O?o.addClass(h,g):h.classList.add(g):O?o.removeClass(h,g):h.classList.remove(g);else{let J=-1===g.indexOf("-")?void 0:Ds.DashCase;if(null==S)O?o.removeStyle(h,g,J):h.style.removeProperty(g);else{const ve="string"==typeof S&&S.endsWith("!important");ve&&(S=S.slice(0,-10),J|=Ds.Important),O?o.setStyle(h,g,S,J):h.style.setProperty(g,S,ve?"important":"")}}}(g,J,He(Rt(),h),S,O))}(O,O.data[Rt()],S,S[11],o,S[J+1]=function(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=q(Js(o)))),o}(s,h),g,J)}function J3(o,s,h,g,S){let O=null;const J=h.directiveEnd;let ve=h.directiveStylingLast;for(-1===ve?ve=h.directiveStart:ve++;ve<J&&(O=s[ve],g=xv(g,O.hostAttrs,S),O!==o);)ve++;return null!==o&&(h.directiveStylingLast=ve),g}function xv(o,s,h){const g=h?1:2;let S=-1;if(null!==s)for(let O=0;O<s.length;O++){const J=s[O];"number"==typeof J?S=J:S===g&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Vo(o,J,!!h||s[++O]))}return void 0===o?null:o}function q3(o,s,h,g,S,O){const J=null===s;let ve;for(;S>0;){const Ie=o[S],Qe=Array.isArray(Ie),pt=Qe?Ie[1]:Ie,Ut=null===pt;let Jt=h[S+1];Jt===aa&&(Jt=Ut?we:void 0);let Sn=Ut?Rl(Jt,g):pt===g?Jt:void 0;if(Qe&&!bv(Sn)&&(Sn=Rl(Ie,g)),bv(Sn)&&(ve=Sn,J))return ve;const Nn=o[S+1];S=J?Qo(Nn):sl(Nn)}if(null!==s){let Ie=O?s.residualClasses:s.residualStyles;null!=Ie&&(ve=Rl(Ie,g))}return ve}function bv(o){return void 0!==o}function tg(o,s=""){const h=ur(),g=na(),S=o+20,O=g.firstCreatePass?Uu(g,S,1,s,null):g.data[S],J=h[S]=function(o,s){return Er(o)?o.createText(s):o.createTextNode(s)}(h[11],s);Bc(g,h,J,O),bt(O,!1)}function s6(o){return Sp("",o,""),s6}function Sp(o,s,h){const g=ur(),S=function(o,s,h,g){return ls(o,ar(),h)?s+re(h)+g:aa}(g,o,s,h);return S!==aa&&Hs(g,Rt(),S),Sp}function Ju(o,s,h,g,S,O,J,ve,Ie){const Qe=ur(),pt=nu(Qe,o,s,h,g,S,O,J,ve,Ie);return pt!==aa&&Hs(Qe,Rt(),pt),Ju}function y6(o,s,h){const g=ur();if(ls(g,ar(),s)){const O=na(),J=Tt();Vs(O,J,g,o,s,function(o,s,h){return(null===o||xr(o))&&(h=function(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(h[s.index])),h[11]}(ka(O.data),J,g),h,!0)}return y6}const b1=void 0;var Cy=["en",[["a","p"],["AM","PM"],b1],[["AM","PM"],b1,b1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],b1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],b1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",b1,"{1} 'at' {0}",b1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const h=Math.floor(Math.abs(o)),g=o.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===g?1:5}];let c0={};function x6(o,s,h){"string"!=typeof s&&(h=s,s=o[Ui.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),c0[s]=o,h&&(c0[s][Ui.ExtraData]=h)}function hg(o){const s=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let h=dg(s);if(h)return h;const g=s.split("-")[0];if(h=dg(g),h)return h;if("en"===g)return Cy;throw new Error(`Missing locale data for the locale "${o}".`)}function Dp(o){return hg(o)[Ui.PluralCase]}function dg(o){return o in c0||(c0[o]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[o]),c0[o]}var Ui=(()=>((Ui=Ui||{})[Ui.LocaleId=0]="LocaleId",Ui[Ui.DayPeriodsFormat=1]="DayPeriodsFormat",Ui[Ui.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ui[Ui.DaysFormat=3]="DaysFormat",Ui[Ui.DaysStandalone=4]="DaysStandalone",Ui[Ui.MonthsFormat=5]="MonthsFormat",Ui[Ui.MonthsStandalone=6]="MonthsStandalone",Ui[Ui.Eras=7]="Eras",Ui[Ui.FirstDayOfWeek=8]="FirstDayOfWeek",Ui[Ui.WeekendRange=9]="WeekendRange",Ui[Ui.DateFormat=10]="DateFormat",Ui[Ui.TimeFormat=11]="TimeFormat",Ui[Ui.DateTimeFormat=12]="DateTimeFormat",Ui[Ui.NumberSymbols=13]="NumberSymbols",Ui[Ui.NumberFormats=14]="NumberFormats",Ui[Ui.CurrencyCode=15]="CurrencyCode",Ui[Ui.CurrencySymbol=16]="CurrencySymbol",Ui[Ui.CurrencyName=17]="CurrencyName",Ui[Ui.Currencies=18]="Currencies",Ui[Ui.Directionality=19]="Directionality",Ui[Ui.PluralCase=20]="PluralCase",Ui[Ui.ExtraData=21]="ExtraData",Ui))();const Ap="en-US";let vg=Ap;function Ip(o,s,h,g,S){if(o=V(o),Array.isArray(o))for(let O=0;O<o.length;O++)Ip(o[O],s,h,g,S);else{const O=na(),J=ur();let ve=Zu(o)?o:V(o.provide),Ie=h1(o);const Qe=Qr(),pt=1048575&Qe.providerIndexes,Ut=Qe.directiveStart,Jt=Qe.providerIndexes>>20;if(Zu(o)||!o.multi){const Sn=new Mr(Ie,S,I),Nn=Dg(ve,s,S?pt:pt+Jt,Ut);-1===Nn?(mn(Ee(Qe,J),O,ve),wg(O,o,s.length),s.push(ve),Qe.directiveStart++,Qe.directiveEnd++,S&&(Qe.providerIndexes+=1048576),h.push(Sn),J.push(Sn)):(h[Nn]=Sn,J[Nn]=Sn)}else{const Sn=Dg(ve,s,pt+Jt,Ut),Nn=Dg(ve,s,pt,pt+Jt),qn=Sn>=0&&h[Sn],Wn=Nn>=0&&h[Nn];if(S&&!Wn||!S&&!qn){mn(Ee(Qe,J),O,ve);const Nr=function(o,s,h,g,S){const O=new Mr(o,h,I);return O.multi=[],O.index=s,O.componentProviders=0,em(O,S,g&&!h),O}(S?$y:Ky,h.length,S,g,Ie);!S&&Wn&&(h[Nn].providerFactory=Nr),wg(O,o,s.length,0),s.push(ve),Qe.directiveStart++,Qe.directiveEnd++,S&&(Qe.providerIndexes+=1048576),h.push(Nr),J.push(Nr)}else wg(O,o,Sn>-1?Sn:Nn,em(h[S?Nn:Sn],Ie,!S&&g));!S&&g&&Wn&&h[Nn].componentProviders++}}}function wg(o,s,h,g){const S=Zu(s);if(S||function(o){return!!o.useClass}(s)){const J=(s.useClass||s).prototype.ngOnDestroy;if(J){const ve=o.destroyHooks||(o.destroyHooks=[]);if(!S&&s.multi){const Ie=ve.indexOf(h);-1===Ie?ve.push(h,[g,J]):ve[Ie+1].push(g,J)}else ve.push(h,J)}}}function em(o,s,h){return h&&o.componentProviders++,o.multi.push(s)-1}function Dg(o,s,h,g){for(let S=h;S<g;S++)if(s[S]===o)return S;return-1}function Ky(o,s,h,g){return Eg(this.multi,[])}function $y(o,s,h,g){const S=this.multi;let O;if(this.providerFactory){const J=this.providerFactory.componentProviders,ve=lo(h,h[1],this.providerFactory.index,g);O=ve.slice(0,J),Eg(S,O);for(let Ie=J;Ie<ve.length;Ie++)O.push(ve[Ie])}else O=[],Eg(S,O);return O}function Eg(o,s){for(let h=0;h<o.length;h++)s.push((0,o[h])());return s}function tm(o,s=[]){return h=>{h.providersResolver=(g,S)=>function(o,s,h){const g=na();if(g.firstCreatePass){const S=xr(o);Ip(h,g.data,g.blueprint,S,!0),Ip(s,g.data,g.blueprint,S,!1)}}(g,S?S(o):o,s)}}class Ag{}const nm="ngComponent";class Jy{resolveComponentFactory(s){throw function(o){const s=Error(`No component factory found for ${q(o)}. Did you add it to @NgModule.entryComponents?`);return s[nm]=o,s}(s)}}let d0=(()=>{class o{}return o.NULL=new Jy,o})();function Rp(...o){}function f0(o,s){return new iu(_e(o,s))}const e_=function(){return f0(Qr(),ur())};let iu=(()=>{class o{constructor(h){this.nativeElement=h}}return o.__NG_ELEMENT_ID__=e_,o})();function Og(o){return o instanceof iu?o.nativeElement:o}class Np{}let t_=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>am(),o})();const am=function(){const o=ur(),h=gt(Qr().index,o);return function(o){return o[11]}(ri(h)?h:o)};let Ig=(()=>{class o{}return o.\u0275prov=Ve({token:o,providedIn:"root",factory:()=>null}),o})();class om{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Rg=new om("13.0.0"),v0={};function Fp(o,s,h,g,S=!1){for(;null!==h;){const O=s[h.index];if(null!==O&&g.push(nt(O)),Oi(O))for(let ve=10;ve<O.length;ve++){const Ie=O[ve],Qe=Ie[1].firstChild;null!==Qe&&Fp(Ie[1],Ie,Qe,g)}const J=h.type;if(8&J)Fp(o,s,h.child,g);else if(32&J){const ve=Lu(h,s);let Ie;for(;Ie=ve();)g.push(Ie)}else if(16&J){const ve=Oh(s,h);if(Array.isArray(ve))g.push(...ve);else{const Ie=zu(s[16]);Fp(Ie[1],Ie,ve,g,!0)}}h=S?h.projectionNext:h.next}return g}class Av{constructor(s,h){this._lView=s,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,h=s[1];return Fp(h,s,h.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Oi(s)){const h=s[8],g=h?h.indexOf(this):-1;g>-1&&(uf(s,g),nc(h,g))}this._attachedToViewContainer=!1}hf(this._lView[1],this._lView)}onDestroy(s){Lf(this._lView[1],this._lView,null,s)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Uh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,s,h){hn(!0);try{Uh(o,s,h)}finally{hn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,hc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class kp extends Av{constructor(s){super(s),this._view=s}detectChanges(){os(this._view)}checkNoChanges(){!function(o){hn(!0);try{os(o)}finally{hn(!1)}}(this._view)}get context(){return null}}class Bp extends d0{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const h=yr(s);return new Vp(h,this.ngModule)}}function sm(o){const s=[];for(let h in o)o.hasOwnProperty(h)&&s.push({propName:o[h],templateName:h});return s}const a_=new fo("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Eu});class Vp extends Ag{constructor(s,h){super(),this.componentDef=s,this.ngModule=h,this.componentType=s.type,this.selector=s.selectors.map(Uc).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return sm(this.componentDef.inputs)}get outputs(){return sm(this.componentDef.outputs)}create(s,h,g,S){const O=(S=S||this.ngModule)?function(o,s){return{get:(h,g,S)=>{const O=o.get(h,v0,S);return O!==v0||g===v0?O:s.get(h,g,S)}}}(s,S.injector):s,J=O.get(Np,Bi),ve=O.get(Ig,null),Ie=J.createRenderer(null,this.componentDef),Qe=this.componentDef.selectors[0][0]||"div",pt=g?function(o,s,h){if(Er(o))return o.selectRootElement(s,h===cn.ShadowDom);let g="string"==typeof s?o.querySelector(s):s;return g.textContent="",g}(Ie,g,this.componentDef.encapsulation):of(J.createRenderer(null,this.componentDef),Qe,function(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(Qe)),Ut=this.componentDef.onPush?576:528,Jt=function(o,s){return{components:[],scheduler:o||Eu,clean:k2,playerHandler:s||null,flags:0}}(),Sn=Ml(0,null,null,1,0,null,null,null,null,null),Nn=Cl(null,Sn,Jt,Ut,null,null,J,Ie,ve,O);let qn,Wn;la(Nn);try{const Nr=function(o,s,h,g,S,O){const J=h[1];h[20]=o;const Ie=Uu(J,20,2,"#host",null),Qe=Ie.mergedAttrs=s.hostAttrs;null!==Qe&&(El(Ie,Qe,!0),null!==o&&(Da(S,o,Qe),null!==Ie.classes&&Ih(S,o,Ie.classes),null!==Ie.styles&&y2(S,o,Ie.styles)));const pt=g.createRenderer(o,s),Ut=Cl(h,Af(s),null,s.onPush?64:16,h[20],Ie,g,pt,O||null,null);return J.firstCreatePass&&(mn(Ee(Ie,h),J,s.type),I2(J,Ie),qd(Ie,h.length,1)),Ff(h,Ut),h[20]=Ut}(pt,this.componentDef,Nn,J,Ie);if(pt)if(g)Da(Ie,pt,["ng-version",Rg.full]);else{const{attrs:vr,classes:Ai}=function(o){const s=[],h=[];let g=1,S=2;for(;g<o.length;){let O=o[g];if("string"==typeof O)2===S?""!==O&&s.push(O,o[++g]):8===S&&h.push(O);else{if(!qs(S))break;S=O}g++}return{attrs:s,classes:h}}(this.componentDef.selectors[0]);vr&&Da(Ie,pt,vr),Ai&&Ai.length>0&&Ih(Ie,pt,Ai.join(" "))}if(Wn=ge(Sn,20),void 0!==h){const vr=Wn.projection=[];for(let Ai=0;Ai<this.ngContentSelectors.length;Ai++){const ra=h[Ai];vr.push(null!=ra?Array.from(ra):null)}}qn=function(o,s,h,g,S){const O=h[1],J=function(o,s,h){const g=Qr();o.firstCreatePass&&(h.providersResolver&&h.providersResolver(h),Gu(o,g,s,jc(o,s,1,null),h));const S=lo(s,o,g.directiveStart,g);yo(S,s);const O=_e(g,s);return O&&yo(O,s),S}(O,h,s);if(g.components.push(J),o[8]=J,S&&S.forEach(Ie=>Ie(J,s)),s.contentQueries){const Ie=Qr();s.contentQueries(1,J,Ie.directiveStart)}const ve=Qr();return!O.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ht(ve.index),Qd(h[1],ve,0,ve.directiveStart,ve.directiveEnd,s),Jd(s,J)),J}(Nr,this.componentDef,Nn,Jt,[yc]),Vh(Sn,Nn,null)}finally{Ks()}return new c_(this.componentType,qn,f0(Wn,Nn),Nn,Wn)}}class c_ extends class{}{constructor(s,h,g,S,O){super(),this.location=g,this._rootLView=S,this._tNode=O,this.instance=h,this.hostView=this.changeDetectorRef=new kp(S),this.componentType=s}get injector(){return new $s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class th{}class lm{}const C1=new Map;class Ng extends th{constructor(s,h){super(),this._parent=h,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bp(this);const g=gr(s);this._bootstrapComponents=_l(g.bootstrap),this._r3Injector=Uf(s,h,[{provide:th,useValue:this},{provide:d0,useValue:this.componentFactoryResolver}],q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,h=to.THROW_IF_NOT_FOUND,g=Yt.Default){return s===to||s===th||s===Jc?this:this._r3Injector.get(s,h,g)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class p0 extends lm{constructor(s){super(),this.moduleType=s,null!==gr(s)&&function(o){const s=new Set;!function h(g){const S=gr(g,!0),O=S.id;null!==O&&(function(o,s,h){if(s&&s!==h)throw new Error(`Duplicate module registered for ${o} - ${q(s)} vs ${q(s.name)}`)}(O,C1.get(O),g),C1.set(O,g));const J=_l(S.imports);for(const ve of J)s.has(ve)||(s.add(ve),h(ve))}(o)}(s)}create(s){return new Ng(this.moduleType,s)}}function um(o,s,h){const g=_n()+o,S=ur();return S[g]===aa?Gl(S,g,h?s.call(h):s()):function(o,s){return o[s]}(S,g)}function Zl(o,s){const h=o[s];return h===aa?void 0:h}function vm(o,s){const h=na();let g;const S=o+20;h.firstCreatePass?(g=function(o,s){if(s)for(let h=s.length-1;h>=0;h--){const g=s[h];if(o===g.name)return g}throw new xe("302",`The pipe '${o}' could not be found!`)}(s,h.pipeRegistry),h.data[S]=g,g.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(S,g.onDestroy)):g=h.data[S];const O=g.factory||(g.factory=ro(g.type)),J=vn(I);try{const ve=ou(!1),Ie=O();return ou(ve),function(o,s,h,g){h>=o.data.length&&(o.data[h]=null,o.blueprint[h]=null),s[h]=g}(h,ur(),S,Ie),Ie}finally{vn(J)}}function g0(o,s,h){const g=o+20,S=ur(),O=De(S,g);return Lv(S,g)?function(o,s,h,g,S,O){const J=s+h;return ls(o,J,S)?Gl(o,J+1,O?g.call(O,S):g(S)):Zl(o,J+1)}(S,_n(),s,O.transform,h,O):O.transform(h)}function gm(o,s,h,g){const S=o+20,O=ur(),J=De(O,S);return Lv(O,S)?function(o,s,h,g,S,O,J){const ve=s+h;return Ya(o,ve,S,O)?Gl(o,ve+2,J?g.call(J,S,O):g(S,O)):Zl(o,ve+2)}(O,_n(),s,J.transform,h,g,J):J.transform(h,g)}function Lv(o,s){return o[1].data[s].pure}function ld(o){return s=>{setTimeout(o,void 0,s)}}const Tc=class extends m.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,h,g){var Ie,Qe,pt;let S=s,O=h||(()=>null),J=g;if(s&&"object"==typeof s){const Ut=s;S=null==(Ie=Ut.next)?void 0:Ie.bind(Ut),O=null==(Qe=Ut.error)?void 0:Qe.bind(Ut),J=null==(pt=Ut.complete)?void 0:pt.bind(Ut)}this.__isAsync&&(O=ld(O),S&&(S=ld(S)),J&&(J=ld(J)));const ve=super.subscribe({next:S,error:O,complete:J});return s instanceof R.w&&s.add(ve),ve}};function T_(){return this._results[Qh()]()}class zv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=Qh(),g=zv.prototype;g[h]||(g[h]=T_)}get changes(){return this._changes||(this._changes=new Tc)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,h){return this._results.reduce(s,h)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,h){const g=this;g.dirty=!1;const S=ns(s);(this._changesDetected=!function(o,s,h){if(o.length!==s.length)return!1;for(let g=0;g<o.length;g++){let S=o[g],O=s[g];if(h&&(S=h(S),O=h(O)),O!==S)return!1}return!0}(g._results,S,h))&&(g._results=S,g.length=S.length,g.last=S[this.length-1],g.first=S[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const M_=function(){return il(Qr(),ur())};let Ov=(()=>{class o{}return o.__NG_ELEMENT_ID__=M_,o})();const mm=Ov,Bg=class extends mm{constructor(s,h,g){super(),this._declarationLView=s,this._declarationTContainer=h,this.elementRef=g}createEmbeddedView(s){const h=this._declarationTContainer.tViews,g=Cl(this._declarationLView,h,s,16,null,h.declTNode,null,null,null,null);g[17]=this._declarationLView[this._declarationTContainer.index];const O=this._declarationLView[19];return null!==O&&(g[19]=O.createEmbeddedView(h)),Vh(h,g,s),new Av(g)}};function il(o,s){return 4&o.type?new Bg(s,o,f0(o,s)):null}const _m=function(){return bm(Qr(),ur())};let Yp=(()=>{class o{}return o.__NG_ELEMENT_ID__=_m,o})();const E_=Yp,Vg=class extends E_{constructor(s,h,g){super(),this._lContainer=s,this._hostTNode=h,this._hostLView=g}get element(){return f0(this._hostTNode,this._hostLView)}get injector(){return new $s(this._hostTNode,this._hostLView)}get parentInjector(){const s=Vt(this._hostTNode,this._hostLView);if(Ql(s)){const h=Os(s,this._hostLView),g=zs(s);return new $s(h[1].data[g+8],h)}return new $s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const h=xm(this._lContainer);return null!==h&&h[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,h,g){const S=s.createEmbeddedView(h||{});return this.insert(S,g),S}createComponent(s,h,g,S,O){const J=s&&!("function"==typeof s);let ve;if(J)ve=h;else{const Ut=h||{};ve=Ut.index,g=Ut.injector,S=Ut.projectableNodes,O=Ut.ngModuleRef}const Ie=J?s:new Vp(yr(s)),Qe=g||this.parentInjector;if(!O&&null==Ie.ngModule&&Qe){const Ut=Qe.get(th,null);Ut&&(O=Ut)}const pt=Ie.create(Qe,S,void 0,O);return this.insert(pt.hostView,ve),pt}insert(s,h){const g=s._lView,S=g[1];if(Oi(g[3])){const pt=this.indexOf(s);if(-1!==pt)this.detach(pt);else{const Ut=g[3],Jt=new Vg(Ut,Ut[6],Ut[3]);Jt.detach(Jt.indexOf(s))}}const O=this._adjustIndex(h),J=this._lContainer;!function(o,s,h,g){const S=10+g,O=h.length;g>0&&(h[S-1][4]=s),g<O-10?(s[4]=h[S],vd(h,10+g,s)):(h.push(s),s[4]=null),s[3]=h;const J=s[17];null!==J&&h!==J&&function(o,s){const h=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===h?o[9]=[s]:h.push(s)}(J,s);const ve=s[19];null!==ve&&ve.insertView(o),s[2]|=128}(S,g,J,O);const ve=uc(O,J),Ie=g[11],Qe=Ru(Ie,J[7]);return null!==Qe&&function(o,s,h,g,S,O){g[0]=S,g[6]=s,hc(o,g,h,1,S,O)}(S,J[6],Ie,g,Qe,ve),s.attachToViewContainerRef(),vd(Hg(J),O,s),s}move(s,h){return this.insert(s,h)}indexOf(s){const h=xm(this._lContainer);return null!==h?h.indexOf(s):-1}remove(s){const h=this._adjustIndex(s,-1),g=uf(this._lContainer,h);g&&(nc(Hg(this._lContainer),h),hf(g[1],g))}detach(s){const h=this._adjustIndex(s,-1),g=uf(this._lContainer,h);return g&&null!=nc(Hg(this._lContainer),h)?new Av(g):null}_adjustIndex(s,h=0){return null==s?this.length+h:s}};function xm(o){return o[8]}function Hg(o){return o[8]||(o[8]=[])}function bm(o,s){let h;const g=s[o.index];if(Oi(g))h=g;else{let S;if(8&o.type)S=nt(g);else{const O=s[11];S=O.createComment("");const J=_e(o,s);_s(O,Ru(O,J),S,function(o,s){return Er(o)?o.nextSibling(s):s.nextSibling}(O,J),!1)}s[o.index]=h=e1(g,s,S,o),Ff(s,h)}return new Vg(h,o,s)}class Tm{constructor(s){this.queryList=s,this.matches=null}clone(){return new Tm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const h=s.queries;if(null!==h){const g=null!==s.contentQueries?s.contentQueries[0]:h.length,S=[];for(let O=0;O<g;O++){const J=h.getByIndex(O);S.push(this.queries[J.indexInDeclarationView].clone())}return new Cm(S)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let h=0;h<this.queries.length;h++)null!==Lm(s,h).matches&&this.queries[h].setDirty()}}class Mm{constructor(s,h,g=null){this.predicate=s,this.flags=h,this.read=g}}class Ug{constructor(s=[]){this.queries=s}elementStart(s,h){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(s,h)}elementEnd(s){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(s)}embeddedTView(s){let h=null;for(let g=0;g<this.length;g++){const S=null!==h?h.length:0,O=this.getByIndex(g).embeddedTView(s,S);O&&(O.indexInDeclarationView=g,null!==h?h.push(O):h=[O])}return null!==h?new Ug(h):null}template(s,h){for(let g=0;g<this.queries.length;g++)this.queries[g].template(s,h)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Gp{constructor(s,h=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(s,h){this.isApplyingToNode(h)&&this.matchTNode(s,h)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,h){this.elementStart(s,h)}embeddedTView(s,h){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,h),new Gp(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let g=s.parent;for(;null!==g&&8&g.type&&g.index!==h;)g=g.parent;return h===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(s,h){const g=this.metadata.predicate;if(Array.isArray(g))for(let S=0;S<g.length;S++){const O=g[S];this.matchTNodeWithReadOption(s,h,L_(h,O)),this.matchTNodeWithReadOption(s,h,Is(h,s,O,!1,!1))}else g===Ov?4&h.type&&this.matchTNodeWithReadOption(s,h,-1):this.matchTNodeWithReadOption(s,h,Is(h,s,g,!1,!1))}matchTNodeWithReadOption(s,h,g){if(null!==g){const S=this.metadata.read;if(null!==S)if(S===iu||S===Yp||S===Ov&&4&h.type)this.addMatch(h.index,-2);else{const O=Is(h,s,S,!1,!1);null!==O&&this.addMatch(h.index,O)}else this.addMatch(h.index,g)}}addMatch(s,h){null===this.matches?this.matches=[s,h]:this.matches.push(s,h)}}function L_(o,s){const h=o.localNames;if(null!==h)for(let g=0;g<h.length;g+=2)if(h[g]===s)return h[g+1];return null}function m0(o,s,h,g){return-1===h?function(o,s){return 11&o.type?f0(o,s):4&o.type?il(o,s):null}(s,o):-2===h?function(o,s,h){return h===iu?f0(s,o):h===Ov?il(s,o):h===Yp?bm(s,o):void 0}(o,s,g):lo(o,o[1],h,s)}function wm(o,s,h,g){const S=s[19].queries[g];if(null===S.matches){const O=o.data,J=h.matches,ve=[];for(let Ie=0;Ie<J.length;Ie+=2){const Qe=J[Ie];ve.push(Qe<0?null:m0(s,O[Qe],J[Ie+1],h.metadata.read))}S.matches=ve}return S.matches}function Yg(o,s,h,g){const S=o.queries.getByIndex(h),O=S.matches;if(null!==O){const J=wm(o,s,S,h);for(let ve=0;ve<O.length;ve+=2){const Ie=O[ve];if(Ie>0)g.push(J[ve/2]);else{const Qe=O[ve+1],pt=s[-Ie];for(let Ut=10;Ut<pt.length;Ut++){const Jt=pt[Ut];Jt[17]===Jt[3]&&Yg(Jt[1],Jt,Qe,g)}if(null!==pt[9]){const Ut=pt[9];for(let Jt=0;Jt<Ut.length;Jt++){const Sn=Ut[Jt];Yg(Sn[1],Sn,Qe,g)}}}}}return g}function Dm(o){const s=ur(),h=na(),g=za();ji(g+1);const S=Lm(h,g);if(o.dirty&&En(s)===(2==(2&S.metadata.flags))){if(null===S.matches)o.reset([]);else{const O=S.crossesNgTemplate?Yg(h,s,g,[]):wm(h,s,S,g);o.reset(O,Og),o.notifyOnChanges()}return!0}return!1}function Rv(o,s,h){const g=na();g.firstCreatePass&&(Pm(g,new Mm(o,s,h),-1),2==(2&s)&&(g.staticViewQueries=!0)),Am(g,ur(),s)}function Em(o,s,h,g){const S=na();if(S.firstCreatePass){const O=Qr();Pm(S,new Mm(s,h,g),O.index),function(o,s){const h=o.contentQueries||(o.contentQueries=[]);s!==(h.length?h[h.length-1]:-1)&&h.push(o.queries.length-1,s)}(S,o),2==(2&h)&&(S.staticContentQueries=!0)}Am(S,ur(),h)}function Zp(){return o=ur(),s=za(),o[19].queries[s].queryList;var o,s}function Am(o,s,h){const g=new zv(4==(4&h));Lf(o,s,g,g.destroy),null===s[19]&&(s[19]=new Cm),s[19].queries.push(new Tm(g))}function Pm(o,s,h){null===o.queries&&(o.queries=new Ug),o.queries.track(new Gp(s,h))}function Lm(o,s){return o.queries.getByIndex(s)}function zm(o,s){return il(o,s)}const Jp=new fo("Application Initializer");let y0=(()=>{class o{constructor(h){this.appInits=h,this.resolve=Rp,this.reject=Rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,S)=>{this.resolve=g,this.reject=S})}runInitializers(){if(this.initialized)return;const h=[],g=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let S=0;S<this.appInits.length;S++){const O=this.appInits[S]();if(Tn(O))h.push(O);else if(Zn(O)){const J=new Promise((ve,Ie)=>{O.subscribe({complete:ve,error:Ie})});h.push(J)}}Promise.all(h).then(()=>{g()}).catch(S=>{this.reject(S)}),0===h.length&&g(),this.initialized=!0}}return o.\u0275fac=function(h){return new(h||o)(So(Jp,8))},o.\u0275prov=Ve({token:o,factory:o.\u0275fac}),o})();const jm=new fo("AppId"),Km={provide:jm,useFactory:function(){return`${t8()}${t8()}${t8()}`},deps:[]};function t8(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $m=new fo("Platform Initializer"),Xm=new fo("Platform ID"),Qm=new fo("appBootstrapListener");let Jm=(()=>{class o{log(h){console.log(h)}warn(h){console.warn(h)}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275prov=Ve({token:o,factory:o.\u0275fac}),o})();const Cc=new fo("LocaleId"),n8=new fo("DefaultCurrencyCode");class s7{constructor(s,h){this.ngModuleFactory=s,this.componentFactories=h}}const D1=function(o){return new p0(o)},Ix=D1,r8=function(o){return Promise.resolve(D1(o))},t5=function(o){const s=D1(o),g=_l(gr(o).declarations).reduce((S,O)=>{const J=yr(O);return J&&S.push(new Vp(J)),S},[]);return new s7(s,g)},d7=t5,v7=function(o){return Promise.resolve(t5(o))};let i8=(()=>{class o{constructor(){this.compileModuleSync=Ix,this.compileModuleAsync=r8,this.compileModuleAndAllComponentsSync=d7,this.compileModuleAndAllComponentsAsync=v7}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275prov=Ve({token:o,factory:o.\u0275fac}),o})();const g7=(()=>Promise.resolve(0))();function a8(o){"undefined"==typeof Zone?g7.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class fl{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tc(!1),this.onMicrotaskEmpty=new Tc(!1),this.onStable=new Tc(!1),this.onError=new Tc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const S=this;S._nesting=0,S._outer=S._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(S._inner=S._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(S._inner=S._inner.fork(Zone.longStackTraceZoneSpec)),S.shouldCoalesceEventChangeDetection=!g&&h,S.shouldCoalesceRunChangeDetection=g,S.lastRequestAnimationFrameId=-1,S.nativeRequestAnimationFrame=function(){let o=Ft.requestAnimationFrame,s=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const h=o[Zone.__symbol__("OriginalDelegate")];h&&(o=h);const g=s[Zone.__symbol__("OriginalDelegate")];g&&(s=g)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(o){const s=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ft,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,s8(o),o.isCheckStableRunning=!0,o8(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),s8(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,g,S,O,J,ve)=>{try{return r5(o),h.invokeTask(S,O,J,ve)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===O.type||o.shouldCoalesceRunChangeDetection)&&s(),i5(o)}},onInvoke:(h,g,S,O,J,ve,Ie)=>{try{return r5(o),h.invoke(S,O,J,ve,Ie)}finally{o.shouldCoalesceRunChangeDetection&&s(),i5(o)}},onHasTask:(h,g,S,O)=>{h.hasTask(S,O),g===S&&("microTask"==O.change?(o._hasPendingMicrotasks=O.microTask,s8(o),o8(o)):"macroTask"==O.change&&(o.hasPendingMacrotasks=O.macroTask))},onHandleError:(h,g,S,O)=>(h.handleError(S,O),o.runOutsideAngular(()=>o.onError.emit(O)),!1)})}(S)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,h,g){return this._inner.run(s,h,g)}runTask(s,h,g,S){const O=this._inner,J=O.scheduleEventTask("NgZoneEvent: "+S,s,y7,Rp,Rp);try{return O.runTask(J,h,g)}finally{O.cancelTask(J)}}runGuarded(s,h,g){return this._inner.runGuarded(s,h,g)}runOutsideAngular(s){return this._outer.run(s)}}const y7={};function o8(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function s8(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function r5(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function i5(o){o._nesting--,o8(o)}class b7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tc,this.onMicrotaskEmpty=new Tc,this.onStable=new Tc,this.onError=new Tc}run(s,h,g){return s.apply(h,g)}runGuarded(s,h,g){return s.apply(h,g)}runOutsideAngular(s){return s()}runTask(s,h,g,S){return s.apply(h,g)}}let a5=(()=>{class o{constructor(h){this._ngZone=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fl.assertNotInAngularZone(),a8(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())a8(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(h)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,g,S){let O=-1;g&&g>0&&(O=setTimeout(()=>{this._callbacks=this._callbacks.filter(J=>J.timeoutId!==O),h(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:h,timeoutId:O,updateCb:S})}whenStable(h,g,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,g,S),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(h,g,S){return[]}}return o.\u0275fac=function(h){return new(h||o)(So(fl))},o.\u0275prov=Ve({token:o,factory:o.\u0275fac}),o})(),l8=(()=>{class o{constructor(){this._applications=new Map,c8.addToWindow(this)}registerApplication(h,g){this._applications.set(h,g)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,g=!0){return c8.findTestabilityInTree(this,h,g)}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275prov=Ve({token:o,factory:o.\u0275fac}),o})();class o5{addToWindow(s){}findTestabilityInTree(s,h,g){return null}}function S7(o){c8=o}let c8=new o5,s5=!0,l5=!1;function u8(){return l5=!0,s5}function T7(){if(l5)throw new Error("Cannot enable prod mode after platform setup.");s5=!1}let Mc;const u5=new fo("AllowMultipleToken");class P7{constructor(s,h){this.name=s,this.token=h}}function d8(o,s,h=[]){const g=`Platform: ${s}`,S=new fo(g);return(O=[])=>{let J=qp();if(!J||J.injector.get(u5,!1))if(o)o(h.concat(O).concat({provide:S,useValue:!0}));else{const ve=h.concat(O).concat({provide:S,useValue:!0},{provide:Us,useValue:"platform"});!function(o){if(Mc&&!Mc.destroyed&&!Mc.injector.get(u5,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mc=o.get(Hv);const s=o.get($m,null);s&&s.forEach(h=>h())}(to.create({providers:ve,name:g}))}return function(o){const s=qp();if(!s)throw new Error("No platform exists!");if(!s.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(S)}}function qp(){return Mc&&!Mc.destroyed?Mc:null}let Hv=(()=>{class o{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,g){const ve=function(o,s){let h;return h="noop"===o?new b7:("zone.js"===o?void 0:o)||new fl({enableLongStackTrace:u8(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),h}(g?g.ngZone:void 0,{ngZoneEventCoalescing:g&&g.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:g&&g.ngZoneRunCoalescing||!1}),Ie=[{provide:fl,useValue:ve}];return ve.run(()=>{const Qe=to.create({providers:Ie,parent:this.injector,name:h.moduleType.name}),pt=h.create(Qe),Ut=pt.injector.get(Fc,null);if(!Ut)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return ve.runOutsideAngular(()=>{const Jt=ve.onError.subscribe({next:Sn=>{Ut.handleError(Sn)}});pt.onDestroy(()=>{f8(this._modules,pt),Jt.unsubscribe()})}),function(o,s,h){try{const g=h();return Tn(g)?g.catch(S=>{throw s.runOutsideAngular(()=>o.handleError(S)),S}):g}catch(g){throw s.runOutsideAngular(()=>o.handleError(g)),g}}(Ut,ve,()=>{const Jt=pt.injector.get(y0);return Jt.runInitializers(),Jt.donePromise.then(()=>(function(o){me(o,"Expected localeId to be defined"),"string"==typeof o&&(vg=o.toLowerCase().replace(/_/g,"-"))}(pt.injector.get(Cc,Ap)||Ap),this._moduleDoBootstrap(pt),pt))})})}bootstrapModule(h,g=[]){const S=nh({},g);return function(o,s,h){const g=new p0(h);return Promise.resolve(g)}(0,0,h).then(O=>this.bootstrapModuleFactory(O,S))}_moduleDoBootstrap(h){const g=h.injector.get(Uv);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(S=>g.bootstrap(S));else{if(!h.instance.ngDoBootstrap)throw new Error(`The module ${q(h.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);h.instance.ngDoBootstrap(g)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(h){return new(h||o)(So(to))},o.\u0275prov=Ve({token:o,factory:o.\u0275fac}),o})();function nh(o,s){return Array.isArray(s)?s.reduce(nh,o):Pi(Pi({},o),s)}let Uv=(()=>{class o{constructor(h,g,S,O,J){this._zone=h,this._injector=g,this._exceptionHandler=S,this._componentFactoryResolver=O,this._initStatus=J,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const ve=new k.y(Qe=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Qe.next(this._stable),Qe.complete()})}),Ie=new k.y(Qe=>{let pt;this._zone.runOutsideAngular(()=>{pt=this._zone.onStable.subscribe(()=>{fl.assertNotInAngularZone(),a8(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Qe.next(!0))})})});const Ut=this._zone.onUnstable.subscribe(()=>{fl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Qe.next(!1)}))});return()=>{pt.unsubscribe(),Ut.unsubscribe()}});this.isStable=(0,Se.T)(ve,Ie.pipe((0,le.B)()))}bootstrap(h,g){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let S;S=h instanceof Ag?h:this._componentFactoryResolver.resolveComponentFactory(h),this.componentTypes.push(S.componentType);const O=function(o){return o.isBoundToModule}(S)?void 0:this._injector.get(th),ve=S.create(to.NULL,[],g||S.selector,O),Ie=ve.location.nativeElement,Qe=ve.injector.get(a5,null),pt=Qe&&ve.injector.get(l8);return Qe&&pt&&pt.registerApplication(Ie,Qe),ve.onDestroy(()=>{this.detachView(ve.hostView),f8(this.components,ve),pt&&pt.unregisterApplication(Ie)}),this._loadComponent(ve),ve}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const g=h;this._views.push(g),g.attachToAppRef(this)}detachView(h){const g=h;f8(this._views,g),g.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(Qm,[]).concat(this._bootstrapListeners).forEach(S=>S(h))}ngOnDestroy(){this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(h){return new(h||o)(So(fl),So(to),So(Fc),So(d0),So(y0))},o.\u0275prov=Ve({token:o,factory:o.\u0275fac}),o})();function f8(o,s){const h=o.indexOf(s);h>-1&&o.splice(h,1)}const p8=function(o){return function(o,s,h){if(Or(o)&&!h){const g=gt(o.index,s);return new Av(g,g)}return 47&o.type?new Av(s[16],s):null}(Qr(),ur(),16==(16&o))};let I7=(()=>{class o{}return o.__NG_ELEMENT_ID__=p8,o})();const B7=function(o){return null};class L1{constructor(){}supports(s){return Jh(s)}create(s){return new l3(s)}}const S8=(o,s)=>s;class l3{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||S8}forEachItem(s){let h;for(h=this._itHead;null!==h;h=h._next)s(h)}forEachOperation(s){let h=this._itHead,g=this._removalsHead,S=0,O=null;for(;h||g;){const J=!g||h&&h.currentIndex<T8(g,S,O)?h:g,ve=T8(J,S,O),Ie=J.currentIndex;if(J===g)S--,g=g._nextRemoved;else if(h=h._next,null==J.previousIndex)S++;else{O||(O=[]);const Qe=ve-S,pt=Ie-S;if(Qe!=pt){for(let Jt=0;Jt<Qe;Jt++){const Sn=Jt<O.length?O[Jt]:O[Jt]=0,Nn=Sn+Jt;pt<=Nn&&Nn<Qe&&(O[Jt]=Sn+1)}O[J.previousIndex]=pt-Qe}}ve!==Ie&&s(J,ve,Ie)}}forEachPreviousItem(s){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)s(h)}forEachAddedItem(s){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)s(h)}forEachMovedItem(s){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)s(h)}forEachRemovedItem(s){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)s(h)}forEachIdentityChange(s){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)s(h)}diff(s){if(null==s&&(s=[]),!Jh(s))throw new Error(`Error trying to diff '${q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let S,O,J,h=this._itHead,g=!1;if(Array.isArray(s)){this.length=s.length;for(let ve=0;ve<this.length;ve++)O=s[ve],J=this._trackByFn(ve,O),null!==h&&Object.is(h.trackById,J)?(g&&(h=this._verifyReinsertion(h,O,J,ve)),Object.is(h.item,O)||this._addIdentityChange(h,O)):(h=this._mismatch(h,O,J,ve),g=!0),h=h._next}else S=0,function(o,s){if(Array.isArray(o))for(let h=0;h<o.length;h++)s(o[h]);else{const h=o[Qh()]();let g;for(;!(g=h.next()).done;)s(g.value)}}(s,ve=>{J=this._trackByFn(S,ve),null!==h&&Object.is(h.trackById,J)?(g&&(h=this._verifyReinsertion(h,ve,J,S)),Object.is(h.item,ve)||this._addIdentityChange(h,ve)):(h=this._mismatch(h,ve,J,S),g=!0),h=h._next,S++}),this.length=S;return this._truncate(h),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,h,g,S){let O;return null===s?O=this._itTail:(O=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(s.item,h)||this._addIdentityChange(s,h),this._reinsertAfter(s,O,S)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(g,S))?(Object.is(s.item,h)||this._addIdentityChange(s,h),this._moveAfter(s,O,S)):s=this._addAfter(new H7(h,g),O,S),s}_verifyReinsertion(s,h,g,S){let O=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==O?s=this._reinsertAfter(O,s._prev,S):s.currentIndex!=S&&(s.currentIndex=S,this._addToMoves(s,S)),s}_truncate(s){for(;null!==s;){const h=s._next;this._addToRemovals(this._unlink(s)),s=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,h,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const S=s._prevRemoved,O=s._nextRemoved;return null===S?this._removalsHead=O:S._nextRemoved=O,null===O?this._removalsTail=S:O._prevRemoved=S,this._insertAfter(s,h,g),this._addToMoves(s,g),s}_moveAfter(s,h,g){return this._unlink(s),this._insertAfter(s,h,g),this._addToMoves(s,g),s}_addAfter(s,h,g){return this._insertAfter(s,h,g),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,h,g){const S=null===h?this._itHead:h._next;return s._next=S,s._prev=h,null===S?this._itTail=s:S._prev=s,null===h?this._itHead=s:h._next=s,null===this._linkedRecords&&(this._linkedRecords=new S5),this._linkedRecords.put(s),s.currentIndex=g,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const h=s._prev,g=s._next;return null===h?this._itHead=g:h._next=g,null===g?this._itTail=h:g._prev=h,s}_addToMoves(s,h){return s.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new S5),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,h){return s.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class H7{constructor(s,h){this.item=s,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U7{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,h){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===h||h<=g.currentIndex)&&Object.is(g.trackById,s))return g;return null}remove(s){const h=s._prevDup,g=s._nextDup;return null===h?this._head=g:h._nextDup=g,null===g?this._tail=h:g._prevDup=h,null===this._head}}class S5{constructor(){this.map=new Map}put(s){const h=s.trackById;let g=this.map.get(h);g||(g=new U7,this.map.set(h,g)),g.add(s)}get(s,h){const S=this.map.get(s);return S?S.get(s,h):null}remove(s){const h=s.trackById;return this.map.get(h).remove(s)&&this.map.delete(h),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function T8(o,s,h){const g=o.previousIndex;if(null===g)return g;let S=0;return h&&g<h.length&&(S=h[g]),g+s+S}class C8{constructor(){}supports(s){return s instanceof Map||rv(s)}create(){return new M8}}class M8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let h;for(h=this._mapHead;null!==h;h=h._next)s(h)}forEachPreviousItem(s){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)s(h)}forEachChangedItem(s){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)s(h)}forEachAddedItem(s){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)s(h)}forEachRemovedItem(s){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)s(h)}diff(s){if(s){if(!(s instanceof Map||rv(s)))throw new Error(`Error trying to diff '${q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(s,(g,S)=>{if(h&&h.key===S)this._maybeAddToChanges(h,g),this._appendAfter=h,h=h._next;else{const O=this._getOrCreateRecordForKey(S,g);h=this._insertBeforeOrAppend(h,O)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let g=h;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,h){if(s){const g=s._prev;return h._next=s,h._prev=g,s._prev=h,g&&(g._next=h),s===this._mapHead&&(this._mapHead=h),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(s,h){if(this._records.has(s)){const S=this._records.get(s);this._maybeAddToChanges(S,h);const O=S._prev,J=S._next;return O&&(O._next=J),J&&(J._prev=O),S._next=null,S._prev=null,S}const g=new w8(s);return this._records.set(s,g),g.currentValue=h,this._addToAdditions(g),g}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,h){Object.is(h,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=h,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,h){s instanceof Map?s.forEach(h):Object.keys(s).forEach(g=>h(s[g],g))}}class w8{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function D8(){return new c3([new L1])}let c3=(()=>{class o{constructor(h){this.factories=h}static create(h,g){if(null!=g){const S=g.factories.slice();h=h.concat(S)}return new o(h)}static extend(h){return{provide:o,useFactory:g=>o.create(h,g||D8()),deps:[[o,new ws,new Qs]]}}find(h){const g=this.factories.find(S=>S.supports(h));if(null!=g)return g;throw new Error(`Cannot find a differ supporting object '${h}' of type '${function(o){return o.name||typeof o}(h)}'`)}}return o.\u0275prov=Ve({token:o,providedIn:"root",factory:D8}),o})();function T5(){return new Wv([new C8])}let Wv=(()=>{class o{constructor(h){this.factories=h}static create(h,g){if(g){const S=g.factories.slice();h=h.concat(S)}return new o(h)}static extend(h){return{provide:o,useFactory:g=>o.create(h,g||T5()),deps:[[o,new ws,new Qs]]}}find(h){const g=this.factories.find(S=>S.supports(h));if(g)return g;throw new Error(`Cannot find a differ supporting object '${h}'`)}}return o.\u0275prov=Ve({token:o,providedIn:"root",factory:T5}),o})();const Y7=[new C8],G7=new c3([new L1]),M5=new Wv(Y7),E8=d8(null,"core",[{provide:Xm,useValue:"unknown"},{provide:Hv,deps:[to]},{provide:l8,deps:[]},{provide:Jm,deps:[]}]),$7=[{provide:Uv,useClass:Uv,deps:[fl,to,Fc,d0,y0]},{provide:a_,deps:[fl],useFactory:function(o){let s=[];return o.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(h){s.push(h)}}},{provide:y0,useClass:y0,deps:[[new Qs,Jp]]},{provide:i8,useClass:i8,deps:[]},Km,{provide:c3,useFactory:function(){return G7},deps:[]},{provide:Wv,useFactory:function(){return M5},deps:[]},{provide:Cc,useFactory:function(o){return o||"undefined"!=typeof $localize&&$localize.locale||Ap},deps:[[new fu(Cc),new Qs,new ws]]},{provide:n8,useValue:"USD"}];let Q7=(()=>{class o{constructor(h){}}return o.\u0275fac=function(h){return new(h||o)(So(Uv))},o.\u0275mod=ni({type:o}),o.\u0275inj=et({providers:$7}),o})()},9010:(un,ot,E)=>{"use strict";E.d(ot,{u5:()=>nt});var m=E(3668);E(6019),E(5548),E(5894),E(8053),E(7879),E(1915);let Fr=(()=>{class ae{}return ae.\u0275fac=function(De){return new(De||ae)},ae.\u0275mod=m.oAB({type:ae}),ae.\u0275inj=m.cJS({}),ae})(),ho=(()=>{class ae{}return ae.\u0275fac=function(De){return new(De||ae)},ae.\u0275mod=m.oAB({type:ae}),ae.\u0275inj=m.cJS({imports:[[Fr]]}),ae})(),nt=(()=>{class ae{}return ae.\u0275fac=function(De){return new(De||ae)},ae.\u0275mod=m.oAB({type:ae}),ae.\u0275inj=m.cJS({imports:[ho]}),ae})()},9555:(un,ot,E)=>{"use strict";E.d(ot,{Qb:()=>ur,PW:()=>Mi});var m=E(3668),R=E(5427),k=E(9814);function Se(){return"undefined"!=typeof window&&void 0!==window.document}function le(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function y(bt){switch(bt.length){case 0:return new k.ZN;case 1:return bt[0];default:return new k.ZE(bt)}}function ce(bt,pe,be,Xe,Ct={},Ht={}){const hn=[],_n=[];let Fn=-1,ir=null;if(Xe.forEach(ar=>{const $r=ar.offset,fi=$r==Fn,Zi=fi&&ir||{};Object.keys(ar).forEach(ai=>{let Ci=ai,oi=ar[ai];if("offset"!==ai)switch(Ci=pe.normalizePropertyName(Ci,hn),oi){case k.k1:oi=Ct[ai];break;case k.l3:oi=Ht[ai];break;default:oi=pe.normalizeStyleValue(ai,Ci,oi,hn)}Zi[Ci]=oi}),fi||_n.push(Zi),ir=Zi,Fn=$r}),hn.length){const ar="\n - ";throw new Error(`Unable to animate due to the following errors:${ar}${hn.join(ar)}`)}return _n}function q(bt,pe,be,Xe){switch(pe){case"start":bt.onStart(()=>Xe(be&&K(be,"start",bt)));break;case"done":bt.onDone(()=>Xe(be&&K(be,"done",bt)));break;case"destroy":bt.onDestroy(()=>Xe(be&&K(be,"destroy",bt)))}}function K(bt,pe,be){const Xe=be.totalTime,Ht=H(bt.element,bt.triggerName,bt.fromState,bt.toState,pe||bt.phaseName,null==Xe?bt.totalTime:Xe,!!be.disabled),hn=bt._data;return null!=hn&&(Ht._data=hn),Ht}function H(bt,pe,be,Xe,Ct="",Ht=0,hn){return{element:bt,triggerName:pe,fromState:be,toState:Xe,phaseName:Ct,totalTime:Ht,disabled:!!hn}}function Y(bt,pe,be){let Xe;return bt instanceof Map?(Xe=bt.get(pe),Xe||bt.set(pe,Xe=be)):(Xe=bt[pe],Xe||(Xe=bt[pe]=be)),Xe}function V(bt){const pe=bt.indexOf(":");return[bt.substring(1,pe),bt.substr(pe+1)]}let j=(bt,pe)=>!1,X=(bt,pe)=>!1,xe=(bt,pe,be)=>[];const Q=le();(Q||"undefined"!=typeof Element)&&(j=Se()?(bt,pe)=>{for(;pe&&pe!==document.documentElement;){if(pe===bt)return!0;pe=pe.parentNode||pe.host}return!1}:(bt,pe)=>bt.contains(pe),X=(()=>{if(Q||Element.prototype.matches)return(bt,pe)=>bt.matches(pe);{const bt=Element.prototype,pe=bt.matchesSelector||bt.mozMatchesSelector||bt.msMatchesSelector||bt.oMatchesSelector||bt.webkitMatchesSelector;return pe?(be,Xe)=>pe.apply(be,[Xe]):X}})(),xe=(bt,pe,be)=>{let Xe=[];if(be){const Ct=bt.querySelectorAll(pe);for(let Ht=0;Ht<Ct.length;Ht++)Xe.push(Ct[Ht])}else{const Ct=bt.querySelector(pe);Ct&&Xe.push(Ct)}return Xe});let re=null,ie=!1;function ne(bt){re||(re=("undefined"!=typeof document?document.body:null)||{},ie=!!re.style&&"WebkitAppearance"in re.style);let pe=!0;return re.style&&!function(bt){return"ebkit"==bt.substring(1,6)}(bt)&&(pe=bt in re.style,!pe&&ie&&(pe="Webkit"+bt.charAt(0).toUpperCase()+bt.substr(1)in re.style)),pe}const oe=X,Z=j,U=xe;function W(bt){const pe={};return Object.keys(bt).forEach(be=>{const Xe=be.replace(/([a-z])([A-Z])/g,"$1-$2");pe[Xe]=bt[be]}),pe}let L=(()=>{class bt{validateStyleProperty(be){return ne(be)}matchesElement(be,Xe){return oe(be,Xe)}containsElement(be,Xe){return Z(be,Xe)}query(be,Xe,Ct){return U(be,Xe,Ct)}computeStyle(be,Xe,Ct){return Ct||""}animate(be,Xe,Ct,Ht,hn,_n=[],Fn){return new k.ZN(Ct,Ht)}}return bt.\u0275fac=function(be){return new(be||bt)},bt.\u0275prov=m.Yz7({token:bt,factory:bt.\u0275fac}),bt})(),D=(()=>{class bt{}return bt.NOOP=new L,bt})();const P="ng-enter",N="ng-leave",Te="ng-trigger",he=".ng-trigger",me="ng-animating",Re=".ng-animating";function Le(bt){if("number"==typeof bt)return bt;const pe=bt.match(/^(-?[\.\d]+)(m?s)/);return!pe||pe.length<2?0:Je(parseFloat(pe[1]),pe[2])}function Je(bt,pe){return"s"===pe?1e3*bt:bt}function Oe(bt,pe,be){return bt.hasOwnProperty("duration")?bt:function(bt,pe,be){let Ct,Ht=0,hn="";if("string"==typeof bt){const _n=bt.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_n)return pe.push(`The provided timing value "${bt}" is invalid.`),{duration:0,delay:0,easing:""};Ct=Je(parseFloat(_n[1]),_n[2]);const Fn=_n[3];null!=Fn&&(Ht=Je(parseFloat(Fn),_n[4]));const ir=_n[5];ir&&(hn=ir)}else Ct=bt;if(!be){let _n=!1,Fn=pe.length;Ct<0&&(pe.push("Duration values below 0 are not allowed for this animation step."),_n=!0),Ht<0&&(pe.push("Delay values below 0 are not allowed for this animation step."),_n=!0),_n&&pe.splice(Fn,0,`The provided timing value "${bt}" is invalid.`)}return{duration:Ct,delay:Ht,easing:hn}}(bt,pe,be)}function Fe(bt,pe={}){return Object.keys(bt).forEach(be=>{pe[be]=bt[be]}),pe}function Ue(bt,pe,be={}){if(pe)for(let Xe in bt)be[Xe]=bt[Xe];else Fe(bt,be);return be}function xt(bt,pe,be){return be?pe+":"+be+";":""}function It(bt){let pe="";for(let be=0;be<bt.style.length;be++){const Xe=bt.style.item(be);pe+=xt(0,Xe,bt.style.getPropertyValue(Xe))}for(const be in bt.style)bt.style.hasOwnProperty(be)&&!be.startsWith("_")&&(pe+=xt(0,wt(be),bt.style[be]));bt.setAttribute("style",pe)}function Pt(bt,pe,be){bt.style&&(Object.keys(pe).forEach(Xe=>{const Ct=vn(Xe);be&&!be.hasOwnProperty(Xe)&&(be[Xe]=bt.style[Ct]),bt.style[Ct]=pe[Xe]}),le()&&It(bt))}function Wt(bt,pe){bt.style&&(Object.keys(pe).forEach(be=>{const Xe=vn(be);bt.style[Xe]=""}),le()&&It(bt))}function Qt(bt){return Array.isArray(bt)?1==bt.length?bt[0]:(0,k.vP)(bt):bt}const In=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dn(bt){let pe=[];if("string"==typeof bt){let be;for(;be=In.exec(bt);)pe.push(be[1]);In.lastIndex=0}return pe}function Yt(bt,pe,be){const Xe=bt.toString(),Ct=Xe.replace(In,(Ht,hn)=>{let _n=pe[hn];return pe.hasOwnProperty(hn)||(be.push(`Please provide a value for the animation param ${hn}`),_n=""),_n.toString()});return Ct==Xe?bt:Ct}function sn(bt){const pe=[];let be=bt.next();for(;!be.done;)pe.push(be.value),be=bt.next();return pe}const it=/-+([a-z0-9])/g;function vn(bt){return bt.replace(it,(...pe)=>pe[1].toUpperCase())}function wt(bt){return bt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ke(bt,pe){return 0===bt||0===pe}function je(bt,pe,be){const Xe=Object.keys(be);if(Xe.length&&pe.length){let Ht=pe[0],hn=[];if(Xe.forEach(_n=>{Ht.hasOwnProperty(_n)||hn.push(_n),Ht[_n]=be[_n]}),hn.length)for(var Ct=1;Ct<pe.length;Ct++){let _n=pe[Ct];hn.forEach(function(Fn){_n[Fn]=Et(bt,Fn)})}}return pe}function yt(bt,pe,be){switch(pe.type){case 7:return bt.visitTrigger(pe,be);case 0:return bt.visitState(pe,be);case 1:return bt.visitTransition(pe,be);case 2:return bt.visitSequence(pe,be);case 3:return bt.visitGroup(pe,be);case 4:return bt.visitAnimate(pe,be);case 5:return bt.visitKeyframes(pe,be);case 6:return bt.visitStyle(pe,be);case 8:return bt.visitReference(pe,be);case 9:return bt.visitAnimateChild(pe,be);case 10:return bt.visitAnimateRef(pe,be);case 11:return bt.visitQuery(pe,be);case 12:return bt.visitStagger(pe,be);default:throw new Error(`Unable to resolve animation metadata node #${pe.type}`)}}function Et(bt,pe){return window.getComputedStyle(bt)[pe]}function cn(bt,pe){const be=[];return"string"==typeof bt?bt.split(/\s*,\s*/).forEach(Xe=>function(bt,pe,be){if(":"==bt[0]){const Fn=function(bt,pe){switch(bt){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(be,Xe)=>parseFloat(Xe)>parseFloat(be);case":decrement":return(be,Xe)=>parseFloat(Xe)<parseFloat(be);default:return pe.push(`The transition alias value "${bt}" is not supported`),"* => *"}}(bt,be);if("function"==typeof Fn)return void pe.push(Fn);bt=Fn}const Xe=bt.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==Xe||Xe.length<4)return be.push(`The provided transition expression "${bt}" is not supported`),pe;const Ct=Xe[1],Ht=Xe[2],hn=Xe[3];pe.push(Ft(Ct,hn));"<"==Ht[0]&&!("*"==Ct&&"*"==hn)&&pe.push(Ft(hn,Ct))}(Xe,be,pe)):be.push(bt),be}const _t=new Set(["true","1"]),zt=new Set(["false","0"]);function Ft(bt,pe){const be=_t.has(bt)||zt.has(bt),Xe=_t.has(pe)||zt.has(pe);return(Ct,Ht)=>{let hn="*"==bt||bt==Ct,_n="*"==pe||pe==Ht;return!hn&&be&&"boolean"==typeof Ct&&(hn=Ct?_t.has(bt):zt.has(bt)),!_n&&Xe&&"boolean"==typeof Ht&&(_n=Ht?_t.has(pe):zt.has(pe)),hn&&_n}}const Ye=new RegExp("s*:selfs*,?","g");function Ke(bt,pe,be){return new Me(bt).build(pe,be)}class Me{constructor(pe){this._driver=pe}build(pe,be){const Xe=new Lt(be);return this._resetContextStyleTimingState(Xe),yt(this,Qt(pe),Xe)}_resetContextStyleTimingState(pe){pe.currentQuerySelector="",pe.collectedStyles={},pe.collectedStyles[""]={},pe.currentTime=0}visitTrigger(pe,be){let Xe=be.queryCount=0,Ct=be.depCount=0;const Ht=[],hn=[];return"@"==pe.name.charAt(0)&&be.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),pe.definitions.forEach(_n=>{if(this._resetContextStyleTimingState(be),0==_n.type){const Fn=_n,ir=Fn.name;ir.toString().split(/\s*,\s*/).forEach(ar=>{Fn.name=ar,Ht.push(this.visitState(Fn,be))}),Fn.name=ir}else if(1==_n.type){const Fn=this.visitTransition(_n,be);Xe+=Fn.queryCount,Ct+=Fn.depCount,hn.push(Fn)}else be.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:pe.name,states:Ht,transitions:hn,queryCount:Xe,depCount:Ct,options:null}}visitState(pe,be){const Xe=this.visitStyle(pe.styles,be),Ct=pe.options&&pe.options.params||null;if(Xe.containsDynamicStyles){const Ht=new Set,hn=Ct||{};if(Xe.styles.forEach(_n=>{if(Mn(_n)){const Fn=_n;Object.keys(Fn).forEach(ir=>{Dn(Fn[ir]).forEach(ar=>{hn.hasOwnProperty(ar)||Ht.add(ar)})})}}),Ht.size){const _n=sn(Ht.values());be.errors.push(`state("${pe.name}", ...) must define default values for all the following style substitutions: ${_n.join(", ")}`)}}return{type:0,name:pe.name,style:Xe,options:Ct?{params:Ct}:null}}visitTransition(pe,be){be.queryCount=0,be.depCount=0;const Xe=yt(this,Qt(pe.animation),be);return{type:1,matchers:cn(pe.expr,be.errors),animation:Xe,queryCount:be.queryCount,depCount:be.depCount,options:er(pe.options)}}visitSequence(pe,be){return{type:2,steps:pe.steps.map(Xe=>yt(this,Xe,be)),options:er(pe.options)}}visitGroup(pe,be){const Xe=be.currentTime;let Ct=0;const Ht=pe.steps.map(hn=>{be.currentTime=Xe;const _n=yt(this,hn,be);return Ct=Math.max(Ct,be.currentTime),_n});return be.currentTime=Ct,{type:3,steps:Ht,options:er(pe.options)}}visitAnimate(pe,be){const Xe=function(bt,pe){let be=null;if(bt.hasOwnProperty("duration"))be=bt;else if("number"==typeof bt)return Un(Oe(bt,pe).duration,0,"");const Xe=bt;if(Xe.split(/\s+/).some(Ht=>"{"==Ht.charAt(0)&&"{"==Ht.charAt(1))){const Ht=Un(0,0,"");return Ht.dynamic=!0,Ht.strValue=Xe,Ht}return be=be||Oe(Xe,pe),Un(be.duration,be.delay,be.easing)}(pe.timings,be.errors);be.currentAnimateTimings=Xe;let Ct,Ht=pe.styles?pe.styles:(0,k.oB)({});if(5==Ht.type)Ct=this.visitKeyframes(Ht,be);else{let hn=pe.styles,_n=!1;if(!hn){_n=!0;const ir={};Xe.easing&&(ir.easing=Xe.easing),hn=(0,k.oB)(ir)}be.currentTime+=Xe.duration+Xe.delay;const Fn=this.visitStyle(hn,be);Fn.isEmptyStep=_n,Ct=Fn}return be.currentAnimateTimings=null,{type:4,timings:Xe,style:Ct,options:null}}visitStyle(pe,be){const Xe=this._makeStyleAst(pe,be);return this._validateStyleAst(Xe,be),Xe}_makeStyleAst(pe,be){const Xe=[];Array.isArray(pe.styles)?pe.styles.forEach(hn=>{"string"==typeof hn?hn==k.l3?Xe.push(hn):be.errors.push(`The provided style string value ${hn} is not allowed.`):Xe.push(hn)}):Xe.push(pe.styles);let Ct=!1,Ht=null;return Xe.forEach(hn=>{if(Mn(hn)){const _n=hn,Fn=_n.easing;if(Fn&&(Ht=Fn,delete _n.easing),!Ct)for(let ir in _n)if(_n[ir].toString().indexOf("{{")>=0){Ct=!0;break}}}),{type:6,styles:Xe,easing:Ht,offset:pe.offset,containsDynamicStyles:Ct,options:null}}_validateStyleAst(pe,be){const Xe=be.currentAnimateTimings;let Ct=be.currentTime,Ht=be.currentTime;Xe&&Ht>0&&(Ht-=Xe.duration+Xe.delay),pe.styles.forEach(hn=>{"string"!=typeof hn&&Object.keys(hn).forEach(_n=>{if(!this._driver.validateStyleProperty(_n))return void be.errors.push(`The provided animation property "${_n}" is not a supported CSS property for animations`);const Fn=be.collectedStyles[be.currentQuerySelector],ir=Fn[_n];let ar=!0;ir&&(Ht!=Ct&&Ht>=ir.startTime&&Ct<=ir.endTime&&(be.errors.push(`The CSS property "${_n}" that exists between the times of "${ir.startTime}ms" and "${ir.endTime}ms" is also being animated in a parallel animation between the times of "${Ht}ms" and "${Ct}ms"`),ar=!1),Ht=ir.startTime),ar&&(Fn[_n]={startTime:Ht,endTime:Ct}),be.options&&function(bt,pe,be){const Xe=pe.params||{},Ct=Dn(bt);Ct.length&&Ct.forEach(Ht=>{Xe.hasOwnProperty(Ht)||be.push(`Unable to resolve the local animation param ${Ht} in the given list of values`)})}(hn[_n],be.options,be.errors)})})}visitKeyframes(pe,be){const Xe={type:5,styles:[],options:null};if(!be.currentAnimateTimings)return be.errors.push("keyframes() must be placed inside of a call to animate()"),Xe;let Ht=0;const hn=[];let _n=!1,Fn=!1,ir=0;const ar=pe.steps.map(ka=>{const za=this._makeStyleAst(ka,be);let ji=null!=za.offset?za.offset:function(bt){if("string"==typeof bt)return null;let pe=null;if(Array.isArray(bt))bt.forEach(be=>{if(Mn(be)&&be.hasOwnProperty("offset")){const Xe=be;pe=parseFloat(Xe.offset),delete Xe.offset}});else if(Mn(bt)&&bt.hasOwnProperty("offset")){const be=bt;pe=parseFloat(be.offset),delete be.offset}return pe}(za.styles),xa=0;return null!=ji&&(Ht++,xa=za.offset=ji),Fn=Fn||xa<0||xa>1,_n=_n||xa<ir,ir=xa,hn.push(xa),za});Fn&&be.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_n&&be.errors.push("Please ensure that all keyframe offsets are in order");const $r=pe.steps.length;let fi=0;Ht>0&&Ht<$r?be.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==Ht&&(fi=1/($r-1));const Zi=$r-1,ai=be.currentTime,Ci=be.currentAnimateTimings,oi=Ci.duration;return ar.forEach((ka,za)=>{const ji=fi>0?za==Zi?1:fi*za:hn[za],xa=ji*oi;be.currentTime=ai+Ci.delay+xa,Ci.duration=xa,this._validateStyleAst(ka,be),ka.offset=ji,Xe.styles.push(ka)}),Xe}visitReference(pe,be){return{type:8,animation:yt(this,Qt(pe.animation),be),options:er(pe.options)}}visitAnimateChild(pe,be){return be.depCount++,{type:9,options:er(pe.options)}}visitAnimateRef(pe,be){return{type:10,animation:this.visitReference(pe.animation,be),options:er(pe.options)}}visitQuery(pe,be){const Xe=be.currentQuerySelector,Ct=pe.options||{};be.queryCount++,be.currentQuery=pe;const[Ht,hn]=function(bt){const pe=!!bt.split(/\s*,\s*/).find(be=>":self"==be);return pe&&(bt=bt.replace(Ye,"")),bt=bt.replace(/@\*/g,he).replace(/@\w+/g,be=>he+"-"+be.substr(1)).replace(/:animating/g,Re),[bt,pe]}(pe.selector);be.currentQuerySelector=Xe.length?Xe+" "+Ht:Ht,Y(be.collectedStyles,be.currentQuerySelector,{});const _n=yt(this,Qt(pe.animation),be);return be.currentQuery=null,be.currentQuerySelector=Xe,{type:11,selector:Ht,limit:Ct.limit||0,optional:!!Ct.optional,includeSelf:hn,animation:_n,originalSelector:pe.selector,options:er(pe.options)}}visitStagger(pe,be){be.currentQuery||be.errors.push("stagger() can only be used inside of query()");const Xe="full"===pe.timings?{duration:0,delay:0,easing:"full"}:Oe(pe.timings,be.errors,!0);return{type:12,animation:yt(this,Qt(pe.animation),be),timings:Xe,options:null}}}class Lt{constructor(pe){this.errors=pe,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Mn(bt){return!Array.isArray(bt)&&"object"==typeof bt}function er(bt){return bt?(bt=Fe(bt)).params&&(bt.params=function(bt){return bt?Fe(bt):null}(bt.params)):bt={},bt}function Un(bt,pe,be){return{duration:bt,delay:pe,easing:be}}function dr(bt,pe,be,Xe,Ct,Ht,hn=null,_n=!1){return{type:1,element:bt,keyframes:pe,preStyleProps:be,postStyleProps:Xe,duration:Ct,delay:Ht,totalTime:Ct+Ht,easing:hn,subTimeline:_n}}class pr{constructor(){this._map=new Map}consume(pe){let be=this._map.get(pe);return be?this._map.delete(pe):be=[],be}append(pe,be){let Xe=this._map.get(pe);Xe||this._map.set(pe,Xe=[]),Xe.push(...be)}has(pe){return this._map.has(pe)}clear(){this._map.clear()}}const lr=new RegExp(":enter","g"),Xn=new RegExp(":leave","g");function wi(bt,pe,be,Xe,Ct,Ht={},hn={},_n,Fn,ir=[]){return(new yr).buildKeyframes(bt,pe,be,Xe,Ct,Ht,hn,_n,Fn,ir)}class yr{buildKeyframes(pe,be,Xe,Ct,Ht,hn,_n,Fn,ir,ar=[]){ir=ir||new pr;const $r=new $n(pe,be,ir,Ct,Ht,ar,[]);$r.options=Fn,$r.currentTimeline.setStyles([hn],null,$r.errors,Fn),yt(this,Xe,$r);const fi=$r.timelines.filter(Zi=>Zi.containsAnimation());if(fi.length&&Object.keys(_n).length){const Zi=fi[fi.length-1];Zi.allowOnlyTimelineStyles()||Zi.setStyles([_n],null,$r.errors,Fn)}return fi.length?fi.map(Zi=>Zi.buildKeyframes()):[dr(be,[],[],[],0,0,"",!1)]}visitTrigger(pe,be){}visitState(pe,be){}visitTransition(pe,be){}visitAnimateChild(pe,be){const Xe=be.subInstructions.consume(be.element);if(Xe){const Ct=be.createSubContext(pe.options),Ht=be.currentTimeline.currentTime,hn=this._visitSubInstructions(Xe,Ct,Ct.options);Ht!=hn&&be.transformIntoNewTimeline(hn)}be.previousNode=pe}visitAnimateRef(pe,be){const Xe=be.createSubContext(pe.options);Xe.transformIntoNewTimeline(),this.visitReference(pe.animation,Xe),be.transformIntoNewTimeline(Xe.currentTimeline.currentTime),be.previousNode=pe}_visitSubInstructions(pe,be,Xe){let Ht=be.currentTimeline.currentTime;const hn=null!=Xe.duration?Le(Xe.duration):null,_n=null!=Xe.delay?Le(Xe.delay):null;return 0!==hn&&pe.forEach(Fn=>{const ir=be.appendInstructionToTimeline(Fn,hn,_n);Ht=Math.max(Ht,ir.duration+ir.delay)}),Ht}visitReference(pe,be){be.updateOptions(pe.options,!0),yt(this,pe.animation,be),be.previousNode=pe}visitSequence(pe,be){const Xe=be.subContextCount;let Ct=be;const Ht=pe.options;if(Ht&&(Ht.params||Ht.delay)&&(Ct=be.createSubContext(Ht),Ct.transformIntoNewTimeline(),null!=Ht.delay)){6==Ct.previousNode.type&&(Ct.currentTimeline.snapshotCurrentStyles(),Ct.previousNode=Ti);const hn=Le(Ht.delay);Ct.delayNextStep(hn)}pe.steps.length&&(pe.steps.forEach(hn=>yt(this,hn,Ct)),Ct.currentTimeline.applyStylesToKeyframe(),Ct.subContextCount>Xe&&Ct.transformIntoNewTimeline()),be.previousNode=pe}visitGroup(pe,be){const Xe=[];let Ct=be.currentTimeline.currentTime;const Ht=pe.options&&pe.options.delay?Le(pe.options.delay):0;pe.steps.forEach(hn=>{const _n=be.createSubContext(pe.options);Ht&&_n.delayNextStep(Ht),yt(this,hn,_n),Ct=Math.max(Ct,_n.currentTimeline.currentTime),Xe.push(_n.currentTimeline)}),Xe.forEach(hn=>be.currentTimeline.mergeTimelineCollectedStyles(hn)),be.transformIntoNewTimeline(Ct),be.previousNode=pe}_visitTiming(pe,be){if(pe.dynamic){const Xe=pe.strValue;return Oe(be.params?Yt(Xe,be.params,be.errors):Xe,be.errors)}return{duration:pe.duration,delay:pe.delay,easing:pe.easing}}visitAnimate(pe,be){const Xe=be.currentAnimateTimings=this._visitTiming(pe.timings,be),Ct=be.currentTimeline;Xe.delay&&(be.incrementTime(Xe.delay),Ct.snapshotCurrentStyles());const Ht=pe.style;5==Ht.type?this.visitKeyframes(Ht,be):(be.incrementTime(Xe.duration),this.visitStyle(Ht,be),Ct.applyStylesToKeyframe()),be.currentAnimateTimings=null,be.previousNode=pe}visitStyle(pe,be){const Xe=be.currentTimeline,Ct=be.currentAnimateTimings;!Ct&&Xe.getCurrentStyleProperties().length&&Xe.forwardFrame();const Ht=Ct&&Ct.easing||pe.easing;pe.isEmptyStep?Xe.applyEmptyStep(Ht):Xe.setStyles(pe.styles,Ht,be.errors,be.options),be.previousNode=pe}visitKeyframes(pe,be){const Xe=be.currentAnimateTimings,Ct=be.currentTimeline.duration,Ht=Xe.duration,_n=be.createSubContext().currentTimeline;_n.easing=Xe.easing,pe.styles.forEach(Fn=>{_n.forwardTime((Fn.offset||0)*Ht),_n.setStyles(Fn.styles,Fn.easing,be.errors,be.options),_n.applyStylesToKeyframe()}),be.currentTimeline.mergeTimelineCollectedStyles(_n),be.transformIntoNewTimeline(Ct+Ht),be.previousNode=pe}visitQuery(pe,be){const Xe=be.currentTimeline.currentTime,Ct=pe.options||{},Ht=Ct.delay?Le(Ct.delay):0;Ht&&(6===be.previousNode.type||0==Xe&&be.currentTimeline.getCurrentStyleProperties().length)&&(be.currentTimeline.snapshotCurrentStyles(),be.previousNode=Ti);let hn=Xe;const _n=be.invokeQuery(pe.selector,pe.originalSelector,pe.limit,pe.includeSelf,!!Ct.optional,be.errors);be.currentQueryTotal=_n.length;let Fn=null;_n.forEach((ir,ar)=>{be.currentQueryIndex=ar;const $r=be.createSubContext(pe.options,ir);Ht&&$r.delayNextStep(Ht),ir===be.element&&(Fn=$r.currentTimeline),yt(this,pe.animation,$r),$r.currentTimeline.applyStylesToKeyframe(),hn=Math.max(hn,$r.currentTimeline.currentTime)}),be.currentQueryIndex=0,be.currentQueryTotal=0,be.transformIntoNewTimeline(hn),Fn&&(be.currentTimeline.mergeTimelineCollectedStyles(Fn),be.currentTimeline.snapshotCurrentStyles()),be.previousNode=pe}visitStagger(pe,be){const Xe=be.parentContext,Ct=be.currentTimeline,Ht=pe.timings,hn=Math.abs(Ht.duration),_n=hn*(be.currentQueryTotal-1);let Fn=hn*be.currentQueryIndex;switch(Ht.duration<0?"reverse":Ht.easing){case"reverse":Fn=_n-Fn;break;case"full":Fn=Xe.currentStaggerTime}const ar=be.currentTimeline;Fn&&ar.delayNextStep(Fn);const $r=ar.currentTime;yt(this,pe.animation,be),be.previousNode=pe,Xe.currentStaggerTime=Ct.currentTime-$r+(Ct.startTime-Xe.currentTimeline.startTime)}}const Ti={};class $n{constructor(pe,be,Xe,Ct,Ht,hn,_n,Fn){this._driver=pe,this.element=be,this.subInstructions=Xe,this._enterClassName=Ct,this._leaveClassName=Ht,this.errors=hn,this.timelines=_n,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ti,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Fn||new gr(this._driver,be,0),_n.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(pe,be){if(!pe)return;const Xe=pe;let Ct=this.options;null!=Xe.duration&&(Ct.duration=Le(Xe.duration)),null!=Xe.delay&&(Ct.delay=Le(Xe.delay));const Ht=Xe.params;if(Ht){let hn=Ct.params;hn||(hn=this.options.params={}),Object.keys(Ht).forEach(_n=>{(!be||!hn.hasOwnProperty(_n))&&(hn[_n]=Yt(Ht[_n],hn,this.errors))})}}_copyOptions(){const pe={};if(this.options){const be=this.options.params;if(be){const Xe=pe.params={};Object.keys(be).forEach(Ct=>{Xe[Ct]=be[Ct]})}}return pe}createSubContext(pe=null,be,Xe){const Ct=be||this.element,Ht=new $n(this._driver,Ct,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Ct,Xe||0));return Ht.previousNode=this.previousNode,Ht.currentAnimateTimings=this.currentAnimateTimings,Ht.options=this._copyOptions(),Ht.updateOptions(pe),Ht.currentQueryIndex=this.currentQueryIndex,Ht.currentQueryTotal=this.currentQueryTotal,Ht.parentContext=this,this.subContextCount++,Ht}transformIntoNewTimeline(pe){return this.previousNode=Ti,this.currentTimeline=this.currentTimeline.fork(this.element,pe),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(pe,be,Xe){const Ct={duration:null!=be?be:pe.duration,delay:this.currentTimeline.currentTime+(null!=Xe?Xe:0)+pe.delay,easing:""},Ht=new Ur(this._driver,pe.element,pe.keyframes,pe.preStyleProps,pe.postStyleProps,Ct,pe.stretchStartingKeyframe);return this.timelines.push(Ht),Ct}incrementTime(pe){this.currentTimeline.forwardTime(this.currentTimeline.duration+pe)}delayNextStep(pe){pe>0&&this.currentTimeline.delayNextStep(pe)}invokeQuery(pe,be,Xe,Ct,Ht,hn){let _n=[];if(Ct&&_n.push(this.element),pe.length>0){pe=(pe=pe.replace(lr,"."+this._enterClassName)).replace(Xn,"."+this._leaveClassName);let ir=this._driver.query(this.element,pe,1!=Xe);0!==Xe&&(ir=Xe<0?ir.slice(ir.length+Xe,ir.length):ir.slice(0,Xe)),_n.push(...ir)}return!Ht&&0==_n.length&&hn.push(`\`query("${be}")\` returned zero elements. (Use \`query("${be}", { optional: true })\` if you wish to allow this.)`),_n}}class gr{constructor(pe,be,Xe,Ct){this._driver=pe,this.element=be,this.startTime=Xe,this._elementTimelineStylesLookup=Ct,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(be),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(be,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(pe){const be=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||be?(this.forwardTime(this.currentTime+pe),be&&this.snapshotCurrentStyles()):this.startTime+=pe}fork(pe,be){return this.applyStylesToKeyframe(),new gr(this._driver,pe,be||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(pe){this.applyStylesToKeyframe(),this.duration=pe,this._loadKeyframe()}_updateStyle(pe,be){this._localTimelineStyles[pe]=be,this._globalTimelineStyles[pe]=be,this._styleSummary[pe]={time:this.currentTime,value:be}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(pe){pe&&(this._previousKeyframe.easing=pe),Object.keys(this._globalTimelineStyles).forEach(be=>{this._backFill[be]=this._globalTimelineStyles[be]||k.l3,this._currentKeyframe[be]=k.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(pe,be,Xe,Ct){be&&(this._previousKeyframe.easing=be);const Ht=Ct&&Ct.params||{},hn=function(bt,pe){const be={};let Xe;return bt.forEach(Ct=>{"*"===Ct?(Xe=Xe||Object.keys(pe),Xe.forEach(Ht=>{be[Ht]=k.l3})):Ue(Ct,!1,be)}),be}(pe,this._globalTimelineStyles);Object.keys(hn).forEach(_n=>{const Fn=Yt(hn[_n],Ht,Xe);this._pendingStyles[_n]=Fn,this._localTimelineStyles.hasOwnProperty(_n)||(this._backFill[_n]=this._globalTimelineStyles.hasOwnProperty(_n)?this._globalTimelineStyles[_n]:k.l3),this._updateStyle(_n,Fn)})}applyStylesToKeyframe(){const pe=this._pendingStyles,be=Object.keys(pe);0!=be.length&&(this._pendingStyles={},be.forEach(Xe=>{this._currentKeyframe[Xe]=pe[Xe]}),Object.keys(this._localTimelineStyles).forEach(Xe=>{this._currentKeyframe.hasOwnProperty(Xe)||(this._currentKeyframe[Xe]=this._localTimelineStyles[Xe])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(pe=>{const be=this._localTimelineStyles[pe];this._pendingStyles[pe]=be,this._updateStyle(pe,be)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const pe=[];for(let be in this._currentKeyframe)pe.push(be);return pe}mergeTimelineCollectedStyles(pe){Object.keys(pe._styleSummary).forEach(be=>{const Xe=this._styleSummary[be],Ct=pe._styleSummary[be];(!Xe||Ct.time>Xe.time)&&this._updateStyle(be,Ct.value)})}buildKeyframes(){this.applyStylesToKeyframe();const pe=new Set,be=new Set,Xe=1===this._keyframes.size&&0===this.duration;let Ct=[];this._keyframes.forEach((_n,Fn)=>{const ir=Ue(_n,!0);Object.keys(ir).forEach(ar=>{const $r=ir[ar];$r==k.k1?pe.add(ar):$r==k.l3&&be.add(ar)}),Xe||(ir.offset=Fn/this.duration),Ct.push(ir)});const Ht=pe.size?sn(pe.values()):[],hn=be.size?sn(be.values()):[];if(Xe){const _n=Ct[0],Fn=Fe(_n);_n.offset=0,Fn.offset=1,Ct=[_n,Fn]}return dr(this.element,Ct,Ht,hn,this.duration,this.startTime,this.easing,!1)}}class Ur extends gr{constructor(pe,be,Xe,Ct,Ht,hn,_n=!1){super(pe,be,hn.delay),this.keyframes=Xe,this.preStyleProps=Ct,this.postStyleProps=Ht,this._stretchStartingKeyframe=_n,this.timings={duration:hn.duration,delay:hn.delay,easing:hn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let pe=this.keyframes,{delay:be,duration:Xe,easing:Ct}=this.timings;if(this._stretchStartingKeyframe&&be){const Ht=[],hn=Xe+be,_n=be/hn,Fn=Ue(pe[0],!1);Fn.offset=0,Ht.push(Fn);const ir=Ue(pe[0],!1);ir.offset=_r(_n),Ht.push(ir);const ar=pe.length-1;for(let $r=1;$r<=ar;$r++){let fi=Ue(pe[$r],!1);fi.offset=_r((be+fi.offset*Xe)/hn),Ht.push(fi)}Xe=hn,be=0,Ct="",pe=Ht}return dr(this.element,pe,this.preStyleProps,this.postStyleProps,Xe,be,Ct,!0)}}function _r(bt,pe=3){const be=Math.pow(10,pe-1);return Math.round(bt*be)/be}class va{}class oa extends va{normalizePropertyName(pe,be){return vn(pe)}normalizeStyleValue(pe,be,Xe,Ct){let Ht="";const hn=Xe.toString().trim();if(zn[be]&&0!==Xe&&"0"!==Xe)if("number"==typeof Xe)Ht="px";else{const _n=Xe.match(/^[+-]?[\d\.]+([a-z]*)$/);_n&&0==_n[1].length&&Ct.push(`Please provide a CSS unit value for ${pe}:${Xe}`)}return hn+Ht}}const zn=(()=>function(bt){const pe={};return bt.forEach(be=>pe[be]=!0),pe}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function rn(bt,pe,be,Xe,Ct,Ht,hn,_n,Fn,ir,ar,$r,fi){return{type:0,element:bt,triggerName:pe,isRemovalTransition:Ct,fromState:be,fromStyles:Ht,toState:Xe,toStyles:hn,timelines:_n,queriedElements:Fn,preStyleProps:ir,postStyleProps:ar,totalTime:$r,errors:fi}}const Rn={};class Ln{constructor(pe,be,Xe){this._triggerName=pe,this.ast=be,this._stateStyles=Xe}match(pe,be,Xe,Ct){return function(bt,pe,be,Xe,Ct){return bt.some(Ht=>Ht(pe,be,Xe,Ct))}(this.ast.matchers,pe,be,Xe,Ct)}buildStyles(pe,be,Xe){const Ct=this._stateStyles["*"],Ht=this._stateStyles[pe],hn=Ct?Ct.buildStyles(be,Xe):{};return Ht?Ht.buildStyles(be,Xe):hn}build(pe,be,Xe,Ct,Ht,hn,_n,Fn,ir,ar){const $r=[],fi=this.ast.options&&this.ast.options.params||Rn,ai=this.buildStyles(Xe,_n&&_n.params||Rn,$r),Ci=Fn&&Fn.params||Rn,oi=this.buildStyles(Ct,Ci,$r),ka=new Set,za=new Map,ji=new Map,xa="void"===Ct,Fo={params:Pi(Pi({},fi),Ci)},la=ar?[]:wi(pe,be,this.ast.animation,Ht,hn,ai,oi,Fo,ir,$r);let Wa=0;if(la.forEach(Bo=>{Wa=Math.max(Bo.duration+Bo.delay,Wa)}),$r.length)return rn(be,this._triggerName,Xe,Ct,xa,ai,oi,[],[],za,ji,Wa,$r);la.forEach(Bo=>{const jo=Bo.element,Ks=Y(za,jo,{});Bo.preStyleProps.forEach(Mt=>Ks[Mt]=!0);const vs=Y(ji,jo,{});Bo.postStyleProps.forEach(Mt=>vs[Mt]=!0),jo!==be&&ka.add(jo)});const ko=sn(ka.values());return rn(be,this._triggerName,Xe,Ct,xa,ai,oi,la,ko,za,ji,Wa)}}class jr{constructor(pe,be,Xe){this.styles=pe,this.defaultParams=be,this.normalizer=Xe}buildStyles(pe,be){const Xe={},Ct=Fe(this.defaultParams);return Object.keys(pe).forEach(Ht=>{const hn=pe[Ht];null!=hn&&(Ct[Ht]=hn)}),this.styles.styles.forEach(Ht=>{if("string"!=typeof Ht){const hn=Ht;Object.keys(hn).forEach(_n=>{let Fn=hn[_n];Fn.length>1&&(Fn=Yt(Fn,Ct,be));const ir=this.normalizer.normalizePropertyName(_n,be);Fn=this.normalizer.normalizeStyleValue(_n,ir,Fn,be),Xe[ir]=Fn})}}),Xe}}class pa{constructor(pe,be,Xe){this.name=pe,this.ast=be,this._normalizer=Xe,this.transitionFactories=[],this.states={},be.states.forEach(Ct=>{this.states[Ct.name]=new jr(Ct.style,Ct.options&&Ct.options.params||{},Xe)}),di(this.states,"true","1"),di(this.states,"false","0"),be.transitions.forEach(Ct=>{this.transitionFactories.push(new Ln(pe,Ct,this.states))}),this.fallbackTransition=function(bt,pe,be){return new Ln(bt,{type:1,animation:{type:2,steps:[],options:null},matchers:[(hn,_n)=>!0],options:null,queryCount:0,depCount:0},pe)}(pe,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(pe,be,Xe,Ct){return this.transitionFactories.find(hn=>hn.match(pe,be,Xe,Ct))||null}matchStyles(pe,be,Xe){return this.fallbackTransition.buildStyles(pe,be,Xe)}}function di(bt,pe,be){bt.hasOwnProperty(pe)?bt.hasOwnProperty(be)||(bt[be]=bt[pe]):bt.hasOwnProperty(be)&&(bt[pe]=bt[be])}const fr=new pr;class sa{constructor(pe,be,Xe){this.bodyNode=pe,this._driver=be,this._normalizer=Xe,this._animations={},this._playersById={},this.players=[]}register(pe,be){const Xe=[],Ct=Ke(this._driver,be,Xe);if(Xe.length)throw new Error(`Unable to build the animation due to the following errors: ${Xe.join("\n")}`);this._animations[pe]=Ct}_buildPlayer(pe,be,Xe){const Ct=pe.element,Ht=ce(0,this._normalizer,0,pe.keyframes,be,Xe);return this._driver.animate(Ct,Ht,pe.duration,pe.delay,pe.easing,[],!0)}create(pe,be,Xe={}){const Ct=[],Ht=this._animations[pe];let hn;const _n=new Map;if(Ht?(hn=wi(this._driver,be,Ht,P,N,{},{},Xe,fr,Ct),hn.forEach(ar=>{const $r=Y(_n,ar.element,{});ar.postStyleProps.forEach(fi=>$r[fi]=null)})):(Ct.push("The requested animation doesn't exist or has already been destroyed"),hn=[]),Ct.length)throw new Error(`Unable to create the animation due to the following errors: ${Ct.join("\n")}`);_n.forEach((ar,$r)=>{Object.keys(ar).forEach(fi=>{ar[fi]=this._driver.computeStyle($r,fi,k.l3)})});const ir=y(hn.map(ar=>{const $r=_n.get(ar.element);return this._buildPlayer(ar,{},$r)}));return this._playersById[pe]=ir,ir.onDestroy(()=>this.destroy(pe)),this.players.push(ir),ir}destroy(pe){const be=this._getPlayer(pe);be.destroy(),delete this._playersById[pe];const Xe=this.players.indexOf(be);Xe>=0&&this.players.splice(Xe,1)}_getPlayer(pe){const be=this._playersById[pe];if(!be)throw new Error(`Unable to find the timeline player referenced by ${pe}`);return be}listen(pe,be,Xe,Ct){const Ht=H(be,"","","");return q(this._getPlayer(pe),Xe,Ht,Ct),()=>{}}command(pe,be,Xe,Ct){if("register"==Xe)return void this.register(pe,Ct[0]);if("create"==Xe)return void this.create(pe,be,Ct[0]||{});const Ht=this._getPlayer(pe);switch(Xe){case"play":Ht.play();break;case"pause":Ht.pause();break;case"reset":Ht.reset();break;case"restart":Ht.restart();break;case"finish":Ht.finish();break;case"init":Ht.init();break;case"setPosition":Ht.setPosition(parseFloat(Ct[0]));break;case"destroy":this.destroy(pe)}}}const gi="ng-animate-queued",tn="ng-animate-disabled",St=".ng-animate-disabled",sr=[],Rr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fr="__ng_removed";class ri{constructor(pe,be=""){this.namespaceId=be;const Xe=pe&&pe.hasOwnProperty("value");if(this.value=null!=(bt=Xe?pe.value:pe)?bt:null,Xe){const Ht=Fe(pe);delete Ht.value,this.options=Ht}else this.options={};var bt;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(pe){const be=pe.params;if(be){const Xe=this.options.params;Object.keys(be).forEach(Ct=>{null==Xe[Ct]&&(Xe[Ct]=be[Ct])})}}}const Oi="void",Xt=new ri(Oi);class Or{constructor(pe,be,Xe){this.id=pe,this.hostElement=be,this._engine=Xe,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+pe,Ja(be,this._hostClassName)}listen(pe,be,Xe,Ct){if(!this._triggers.hasOwnProperty(be))throw new Error(`Unable to listen on the animation trigger event "${Xe}" because the animation trigger "${be}" doesn't exist!`);if(null==Xe||0==Xe.length)throw new Error(`Unable to listen on the animation trigger "${be}" because the provided event is undefined!`);if("start"!=(bt=Xe)&&"done"!=bt)throw new Error(`The provided animation trigger event "${Xe}" for the animation trigger "${be}" is not supported!`);var bt;const Ht=Y(this._elementListeners,pe,[]),hn={name:be,phase:Xe,callback:Ct};Ht.push(hn);const _n=Y(this._engine.statesByElement,pe,{});return _n.hasOwnProperty(be)||(Ja(pe,Te),Ja(pe,Te+"-"+be),_n[be]=Xt),()=>{this._engine.afterFlush(()=>{const Fn=Ht.indexOf(hn);Fn>=0&&Ht.splice(Fn,1),this._triggers[be]||delete _n[be]})}}register(pe,be){return!this._triggers[pe]&&(this._triggers[pe]=be,!0)}_getTrigger(pe){const be=this._triggers[pe];if(!be)throw new Error(`The provided animation trigger "${pe}" has not been registered!`);return be}trigger(pe,be,Xe,Ct=!0){const Ht=this._getTrigger(be),hn=new xr(this.id,be,pe);let _n=this._engine.statesByElement.get(pe);_n||(Ja(pe,Te),Ja(pe,Te+"-"+be),this._engine.statesByElement.set(pe,_n={}));let Fn=_n[be];const ir=new ri(Xe,this.id);if(!(Xe&&Xe.hasOwnProperty("value"))&&Fn&&ir.absorbOptions(Fn.options),_n[be]=ir,Fn||(Fn=Xt),ir.value!==Oi&&Fn.value===ir.value){if(!function(bt,pe){const be=Object.keys(bt),Xe=Object.keys(pe);if(be.length!=Xe.length)return!1;for(let Ct=0;Ct<be.length;Ct++){const Ht=be[Ct];if(!pe.hasOwnProperty(Ht)||bt[Ht]!==pe[Ht])return!1}return!0}(Fn.params,ir.params)){const Ci=[],oi=Ht.matchStyles(Fn.value,Fn.params,Ci),ka=Ht.matchStyles(ir.value,ir.params,Ci);Ci.length?this._engine.reportError(Ci):this._engine.afterFlush(()=>{Wt(pe,oi),Pt(pe,ka)})}return}const fi=Y(this._engine.playersByElement,pe,[]);fi.forEach(Ci=>{Ci.namespaceId==this.id&&Ci.triggerName==be&&Ci.queued&&Ci.destroy()});let Zi=Ht.matchTransition(Fn.value,ir.value,pe,ir.params),ai=!1;if(!Zi){if(!Ct)return;Zi=Ht.fallbackTransition,ai=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:pe,triggerName:be,transition:Zi,fromState:Fn,toState:ir,player:hn,isFallbackTransition:ai}),ai||(Ja(pe,gi),hn.onStart(()=>{bo(pe,gi)})),hn.onDone(()=>{let Ci=this.players.indexOf(hn);Ci>=0&&this.players.splice(Ci,1);const oi=this._engine.playersByElement.get(pe);if(oi){let ka=oi.indexOf(hn);ka>=0&&oi.splice(ka,1)}}),this.players.push(hn),fi.push(hn),hn}deregister(pe){delete this._triggers[pe],this._engine.statesByElement.forEach((be,Xe)=>{delete be[pe]}),this._elementListeners.forEach((be,Xe)=>{this._elementListeners.set(Xe,be.filter(Ct=>Ct.name!=pe))})}clearElementCache(pe){this._engine.statesByElement.delete(pe),this._elementListeners.delete(pe);const be=this._engine.playersByElement.get(pe);be&&(be.forEach(Xe=>Xe.destroy()),this._engine.playersByElement.delete(pe))}_signalRemovalForInnerTriggers(pe,be){const Xe=this._engine.driver.query(pe,he,!0);Xe.forEach(Ct=>{if(Ct[Fr])return;const Ht=this._engine.fetchNamespacesByElement(Ct);Ht.size?Ht.forEach(hn=>hn.triggerLeaveAnimation(Ct,be,!1,!0)):this.clearElementCache(Ct)}),this._engine.afterFlushAnimationsDone(()=>Xe.forEach(Ct=>this.clearElementCache(Ct)))}triggerLeaveAnimation(pe,be,Xe,Ct){const Ht=this._engine.statesByElement.get(pe);if(Ht){const hn=[];if(Object.keys(Ht).forEach(_n=>{if(this._triggers[_n]){const Fn=this.trigger(pe,_n,Oi,Ct);Fn&&hn.push(Fn)}}),hn.length)return this._engine.markElementAsRemoved(this.id,pe,!0,be),Xe&&y(hn).onDone(()=>this._engine.processLeaveNode(pe)),!0}return!1}prepareLeaveAnimationListeners(pe){const be=this._elementListeners.get(pe),Xe=this._engine.statesByElement.get(pe);if(be&&Xe){const Ct=new Set;be.forEach(Ht=>{const hn=Ht.name;if(Ct.has(hn))return;Ct.add(hn);const Fn=this._triggers[hn].fallbackTransition,ir=Xe[hn]||Xt,ar=new ri(Oi),$r=new xr(this.id,hn,pe);this._engine.totalQueuedPlayers++,this._queue.push({element:pe,triggerName:hn,transition:Fn,fromState:ir,toState:ar,player:$r,isFallbackTransition:!0})})}}removeNode(pe,be){const Xe=this._engine;if(pe.childElementCount&&this._signalRemovalForInnerTriggers(pe,be),this.triggerLeaveAnimation(pe,be,!0))return;let Ct=!1;if(Xe.totalAnimations){const Ht=Xe.players.length?Xe.playersByQueriedElement.get(pe):[];if(Ht&&Ht.length)Ct=!0;else{let hn=pe;for(;hn=hn.parentNode;)if(Xe.statesByElement.get(hn)){Ct=!0;break}}}if(this.prepareLeaveAnimationListeners(pe),Ct)Xe.markElementAsRemoved(this.id,pe,!1,be);else{const Ht=pe[Fr];(!Ht||Ht===Rr)&&(Xe.afterFlush(()=>this.clearElementCache(pe)),Xe.destroyInnerAnimations(pe),Xe._onRemovalComplete(pe,be))}}insertNode(pe,be){Ja(pe,this._hostClassName)}drainQueuedTransitions(pe){const be=[];return this._queue.forEach(Xe=>{const Ct=Xe.player;if(Ct.destroyed)return;const Ht=Xe.element,hn=this._elementListeners.get(Ht);hn&&hn.forEach(_n=>{if(_n.name==Xe.triggerName){const Fn=H(Ht,Xe.triggerName,Xe.fromState.value,Xe.toState.value);Fn._data=pe,q(Xe.player,_n.phase,Fn,_n.callback)}}),Ct.markedForDestroy?this._engine.afterFlush(()=>{Ct.destroy()}):be.push(Xe)}),this._queue=[],be.sort((Xe,Ct)=>{const Ht=Xe.transition.ast.depCount,hn=Ct.transition.ast.depCount;return 0==Ht||0==hn?Ht-hn:this._engine.driver.containsElement(Xe.element,Ct.element)?1:-1})}destroy(pe){this.players.forEach(be=>be.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,pe)}elementContainsData(pe){let be=!1;return this._elementListeners.has(pe)&&(be=!0),be=!!this._queue.find(Xe=>Xe.element===pe)||be,be}}class Qn{constructor(pe,be,Xe){this.bodyNode=pe,this.driver=be,this._normalizer=Xe,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Ct,Ht)=>{}}_onRemovalComplete(pe,be){this.onRemovalComplete(pe,be)}get queuedPlayers(){const pe=[];return this._namespaceList.forEach(be=>{be.players.forEach(Xe=>{Xe.queued&&pe.push(Xe)})}),pe}createNamespace(pe,be){const Xe=new Or(pe,be,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,be)?this._balanceNamespaceList(Xe,be):(this.newHostElements.set(be,Xe),this.collectEnterElement(be)),this._namespaceLookup[pe]=Xe}_balanceNamespaceList(pe,be){const Xe=this._namespaceList.length-1;if(Xe>=0){let Ct=!1;for(let Ht=Xe;Ht>=0;Ht--)if(this.driver.containsElement(this._namespaceList[Ht].hostElement,be)){this._namespaceList.splice(Ht+1,0,pe),Ct=!0;break}Ct||this._namespaceList.splice(0,0,pe)}else this._namespaceList.push(pe);return this.namespacesByHostElement.set(be,pe),pe}register(pe,be){let Xe=this._namespaceLookup[pe];return Xe||(Xe=this.createNamespace(pe,be)),Xe}registerTrigger(pe,be,Xe){let Ct=this._namespaceLookup[pe];Ct&&Ct.register(be,Xe)&&this.totalAnimations++}destroy(pe,be){if(!pe)return;const Xe=this._fetchNamespace(pe);this.afterFlush(()=>{this.namespacesByHostElement.delete(Xe.hostElement),delete this._namespaceLookup[pe];const Ct=this._namespaceList.indexOf(Xe);Ct>=0&&this._namespaceList.splice(Ct,1)}),this.afterFlushAnimationsDone(()=>Xe.destroy(be))}_fetchNamespace(pe){return this._namespaceLookup[pe]}fetchNamespacesByElement(pe){const be=new Set,Xe=this.statesByElement.get(pe);if(Xe){const Ct=Object.keys(Xe);for(let Ht=0;Ht<Ct.length;Ht++){const hn=Xe[Ct[Ht]].namespaceId;if(hn){const _n=this._fetchNamespace(hn);_n&&be.add(_n)}}}return be}trigger(pe,be,Xe,Ct){if(br(be)){const Ht=this._fetchNamespace(pe);if(Ht)return Ht.trigger(be,Xe,Ct),!0}return!1}insertNode(pe,be,Xe,Ct){if(!br(be))return;const Ht=be[Fr];if(Ht&&Ht.setForRemoval){Ht.setForRemoval=!1,Ht.setForMove=!0;const hn=this.collectedLeaveElements.indexOf(be);hn>=0&&this.collectedLeaveElements.splice(hn,1)}if(pe){const hn=this._fetchNamespace(pe);hn&&hn.insertNode(be,Xe)}Ct&&this.collectEnterElement(be)}collectEnterElement(pe){this.collectedEnterElements.push(pe)}markElementAsDisabled(pe,be){be?this.disabledNodes.has(pe)||(this.disabledNodes.add(pe),Ja(pe,tn)):this.disabledNodes.has(pe)&&(this.disabledNodes.delete(pe),bo(pe,tn))}removeNode(pe,be,Xe,Ct){if(br(be)){const Ht=pe?this._fetchNamespace(pe):null;if(Ht?Ht.removeNode(be,Ct):this.markElementAsRemoved(pe,be,!1,Ct),Xe){const hn=this.namespacesByHostElement.get(be);hn&&hn.id!==pe&&hn.removeNode(be,Ct)}}else this._onRemovalComplete(be,Ct)}markElementAsRemoved(pe,be,Xe,Ct){this.collectedLeaveElements.push(be),be[Fr]={namespaceId:pe,setForRemoval:Ct,hasAnimation:Xe,removedBeforeQueried:!1}}listen(pe,be,Xe,Ct,Ht){return br(be)?this._fetchNamespace(pe).listen(be,Xe,Ct,Ht):()=>{}}_buildInstruction(pe,be,Xe,Ct,Ht){return pe.transition.build(this.driver,pe.element,pe.fromState.value,pe.toState.value,Xe,Ct,pe.fromState.options,pe.toState.options,be,Ht)}destroyInnerAnimations(pe){let be=this.driver.query(pe,he,!0);be.forEach(Xe=>this.destroyActiveAnimationsForElement(Xe)),0!=this.playersByQueriedElement.size&&(be=this.driver.query(pe,Re,!0),be.forEach(Xe=>this.finishActiveQueriedAnimationOnElement(Xe)))}destroyActiveAnimationsForElement(pe){const be=this.playersByElement.get(pe);be&&be.forEach(Xe=>{Xe.queued?Xe.markedForDestroy=!0:Xe.destroy()})}finishActiveQueriedAnimationOnElement(pe){const be=this.playersByQueriedElement.get(pe);be&&be.forEach(Xe=>Xe.finish())}whenRenderingDone(){return new Promise(pe=>{if(this.players.length)return y(this.players).onDone(()=>pe());pe()})}processLeaveNode(pe){const be=pe[Fr];if(be&&be.setForRemoval){if(pe[Fr]=Rr,be.namespaceId){this.destroyInnerAnimations(pe);const Xe=this._fetchNamespace(be.namespaceId);Xe&&Xe.clearElementCache(pe)}this._onRemovalComplete(pe,be.setForRemoval)}this.driver.matchesElement(pe,St)&&this.markElementAsDisabled(pe,!1),this.driver.query(pe,St,!0).forEach(Xe=>{this.markElementAsDisabled(Xe,!1)})}flush(pe=-1){let be=[];if(this.newHostElements.size&&(this.newHostElements.forEach((Xe,Ct)=>this._balanceNamespaceList(Xe,Ct)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let Xe=0;Xe<this.collectedEnterElements.length;Xe++)Ja(this.collectedEnterElements[Xe],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const Xe=[];try{be=this._flushAnimations(Xe,pe)}finally{for(let Ct=0;Ct<Xe.length;Ct++)Xe[Ct]()}}else for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++)this.processLeaveNode(this.collectedLeaveElements[Xe]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(Xe=>Xe()),this._flushFns=[],this._whenQuietFns.length){const Xe=this._whenQuietFns;this._whenQuietFns=[],be.length?y(be).onDone(()=>{Xe.forEach(Ct=>Ct())}):Xe.forEach(Ct=>Ct())}}reportError(pe){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${pe.join("\n")}`)}_flushAnimations(pe,be){const Xe=new pr,Ct=[],Ht=new Map,hn=[],_n=new Map,Fn=new Map,ir=new Map,ar=new Set;this.disabledNodes.forEach(Tt=>{ar.add(Tt);const Dt=this.driver.query(Tt,".ng-animate-queued",!0);for(let jt=0;jt<Dt.length;jt++)ar.add(Dt[jt])});const $r=this.bodyNode,fi=Array.from(this.statesByElement.keys()),Zi=ii(fi,this.collectedEnterElements),ai=new Map;let Ci=0;Zi.forEach((Tt,Dt)=>{const jt=P+Ci++;ai.set(Dt,jt),Tt.forEach(pn=>Ja(pn,jt))});const oi=[],ka=new Set,za=new Set;for(let Tt=0;Tt<this.collectedLeaveElements.length;Tt++){const Dt=this.collectedLeaveElements[Tt],jt=Dt[Fr];jt&&jt.setForRemoval&&(oi.push(Dt),ka.add(Dt),jt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(pn=>ka.add(pn)):za.add(Dt))}const ji=new Map,xa=ii(fi,Array.from(ka));xa.forEach((Tt,Dt)=>{const jt=N+Ci++;ji.set(Dt,jt),Tt.forEach(pn=>Ja(pn,jt))}),pe.push(()=>{Zi.forEach((Tt,Dt)=>{const jt=ai.get(Dt);Tt.forEach(pn=>bo(pn,jt))}),xa.forEach((Tt,Dt)=>{const jt=ji.get(Dt);Tt.forEach(pn=>bo(pn,jt))}),oi.forEach(Tt=>{this.processLeaveNode(Tt)})});const Fo=[],la=[];for(let Tt=this._namespaceList.length-1;Tt>=0;Tt--)this._namespaceList[Tt].drainQueuedTransitions(be).forEach(jt=>{const pn=jt.player,Jn=jt.element;if(Fo.push(pn),this.collectedEnterElements.length){const Gn=Jn[Fr];if(Gn&&Gn.setForMove)return void pn.destroy()}const jn=!$r||!this.driver.containsElement($r,Jn),qt=ji.get(Jn),Cn=ai.get(Jn),fn=this._buildInstruction(jt,Xe,Cn,qt,jn);if(fn.errors&&fn.errors.length)la.push(fn);else{if(jn)return pn.onStart(()=>Wt(Jn,fn.fromStyles)),pn.onDestroy(()=>Pt(Jn,fn.toStyles)),void Ct.push(pn);if(jt.isFallbackTransition)return pn.onStart(()=>Wt(Jn,fn.fromStyles)),pn.onDestroy(()=>Pt(Jn,fn.toStyles)),void Ct.push(pn);fn.timelines.forEach(Gn=>Gn.stretchStartingKeyframe=!0),Xe.append(Jn,fn.timelines),hn.push({instruction:fn,player:pn,element:Jn}),fn.queriedElements.forEach(Gn=>Y(_n,Gn,[]).push(pn)),fn.preStyleProps.forEach((Gn,mr)=>{const wr=Object.keys(Gn);if(wr.length){let Dr=Fn.get(mr);Dr||Fn.set(mr,Dr=new Set),wr.forEach(Mr=>Dr.add(Mr))}}),fn.postStyleProps.forEach((Gn,mr)=>{const wr=Object.keys(Gn);let Dr=ir.get(mr);Dr||ir.set(mr,Dr=new Set),wr.forEach(Mr=>Dr.add(Mr))})}});if(la.length){const Tt=[];la.forEach(Dt=>{Tt.push(`@${Dt.triggerName} has failed due to:\n`),Dt.errors.forEach(jt=>Tt.push(`- ${jt}\n`))}),Fo.forEach(Dt=>Dt.destroy()),this.reportError(Tt)}const Wa=new Map,ko=new Map;hn.forEach(Tt=>{const Dt=Tt.element;Xe.has(Dt)&&(ko.set(Dt,Dt),this._beforeAnimationBuild(Tt.player.namespaceId,Tt.instruction,Wa))}),Ct.forEach(Tt=>{const Dt=Tt.element;this._getPreviousPlayers(Dt,!1,Tt.namespaceId,Tt.triggerName,null).forEach(pn=>{Y(Wa,Dt,[]).push(pn),pn.destroy()})});const Bo=oi.filter(Tt=>fs(Tt,Fn,ir)),jo=new Map;Ar(jo,this.driver,za,ir,k.l3).forEach(Tt=>{fs(Tt,Fn,ir)&&Bo.push(Tt)});const vs=new Map;Zi.forEach((Tt,Dt)=>{Ar(vs,this.driver,new Set(Tt),Fn,k.k1)}),Bo.forEach(Tt=>{const Dt=jo.get(Tt),jt=vs.get(Tt);jo.set(Tt,Pi(Pi({},Dt),jt))});const Mt=[],Rt=[],ht={};hn.forEach(Tt=>{const{element:Dt,player:jt,instruction:pn}=Tt;if(Xe.has(Dt)){if(ar.has(Dt))return jt.onDestroy(()=>Pt(Dt,pn.toStyles)),jt.disabled=!0,jt.overrideTotalTime(pn.totalTime),void Ct.push(jt);let Jn=ht;if(ko.size>1){let qt=Dt;const Cn=[];for(;qt=qt.parentNode;){const fn=ko.get(qt);if(fn){Jn=fn;break}Cn.push(qt)}Cn.forEach(fn=>ko.set(fn,Jn))}const jn=this._buildAnimation(jt.namespaceId,pn,Wa,Ht,vs,jo);if(jt.setRealPlayer(jn),Jn===ht)Mt.push(jt);else{const qt=this.playersByElement.get(Jn);qt&&qt.length&&(jt.parentPlayer=y(qt)),Ct.push(jt)}}else Wt(Dt,pn.fromStyles),jt.onDestroy(()=>Pt(Dt,pn.toStyles)),Rt.push(jt),ar.has(Dt)&&Ct.push(jt)}),Rt.forEach(Tt=>{const Dt=Ht.get(Tt.element);if(Dt&&Dt.length){const jt=y(Dt);Tt.setRealPlayer(jt)}}),Ct.forEach(Tt=>{Tt.parentPlayer?Tt.syncPlayerEvents(Tt.parentPlayer):Tt.destroy()});for(let Tt=0;Tt<oi.length;Tt++){const Dt=oi[Tt],jt=Dt[Fr];if(bo(Dt,N),jt&&jt.hasAnimation)continue;let pn=[];if(_n.size){let jn=_n.get(Dt);jn&&jn.length&&pn.push(...jn);let qt=this.driver.query(Dt,Re,!0);for(let Cn=0;Cn<qt.length;Cn++){let fn=_n.get(qt[Cn]);fn&&fn.length&&pn.push(...fn)}}const Jn=pn.filter(jn=>!jn.destroyed);Jn.length?Ls(this,Dt,Jn):this.processLeaveNode(Dt)}return oi.length=0,Mt.forEach(Tt=>{this.players.push(Tt),Tt.onDone(()=>{Tt.destroy();const Dt=this.players.indexOf(Tt);this.players.splice(Dt,1)}),Tt.play()}),Mt}elementContainsData(pe,be){let Xe=!1;const Ct=be[Fr];return Ct&&Ct.setForRemoval&&(Xe=!0),this.playersByElement.has(be)&&(Xe=!0),this.playersByQueriedElement.has(be)&&(Xe=!0),this.statesByElement.has(be)&&(Xe=!0),this._fetchNamespace(pe).elementContainsData(be)||Xe}afterFlush(pe){this._flushFns.push(pe)}afterFlushAnimationsDone(pe){this._whenQuietFns.push(pe)}_getPreviousPlayers(pe,be,Xe,Ct,Ht){let hn=[];if(be){const _n=this.playersByQueriedElement.get(pe);_n&&(hn=_n)}else{const _n=this.playersByElement.get(pe);if(_n){const Fn=!Ht||Ht==Oi;_n.forEach(ir=>{ir.queued||!Fn&&ir.triggerName!=Ct||hn.push(ir)})}}return(Xe||Ct)&&(hn=hn.filter(_n=>!(Xe&&Xe!=_n.namespaceId||Ct&&Ct!=_n.triggerName))),hn}_beforeAnimationBuild(pe,be,Xe){const Ht=be.element,hn=be.isRemovalTransition?void 0:pe,_n=be.isRemovalTransition?void 0:be.triggerName;for(const Fn of be.timelines){const ir=Fn.element,ar=ir!==Ht,$r=Y(Xe,ir,[]);this._getPreviousPlayers(ir,ar,hn,_n,be.toState).forEach(Zi=>{const ai=Zi.getRealPlayer();ai.beforeDestroy&&ai.beforeDestroy(),Zi.destroy(),$r.push(Zi)})}Wt(Ht,be.fromStyles)}_buildAnimation(pe,be,Xe,Ct,Ht,hn){const _n=be.triggerName,Fn=be.element,ir=[],ar=new Set,$r=new Set,fi=be.timelines.map(ai=>{const Ci=ai.element;ar.add(Ci);const oi=Ci[Fr];if(oi&&oi.removedBeforeQueried)return new k.ZN(ai.duration,ai.delay);const ka=Ci!==Fn,za=function(bt){const pe=[];return hs(bt,pe),pe}((Xe.get(Ci)||sr).map(Wa=>Wa.getRealPlayer())).filter(Wa=>!!Wa.element&&Wa.element===Ci),ji=Ht.get(Ci),xa=hn.get(Ci),Fo=ce(0,this._normalizer,0,ai.keyframes,ji,xa),la=this._buildPlayer(ai,Fo,za);if(ai.subTimeline&&Ct&&$r.add(Ci),ka){const Wa=new xr(pe,_n,Ci);Wa.setRealPlayer(la),ir.push(Wa)}return la});ir.forEach(ai=>{Y(this.playersByQueriedElement,ai.element,[]).push(ai),ai.onDone(()=>function(bt,pe,be){let Xe;if(bt instanceof Map){if(Xe=bt.get(pe),Xe){if(Xe.length){const Ct=Xe.indexOf(be);Xe.splice(Ct,1)}0==Xe.length&&bt.delete(pe)}}else if(Xe=bt[pe],Xe){if(Xe.length){const Ct=Xe.indexOf(be);Xe.splice(Ct,1)}0==Xe.length&&delete bt[pe]}return Xe}(this.playersByQueriedElement,ai.element,ai))}),ar.forEach(ai=>Ja(ai,me));const Zi=y(fi);return Zi.onDestroy(()=>{ar.forEach(ai=>bo(ai,me)),Pt(Fn,be.toStyles)}),$r.forEach(ai=>{Y(Ct,ai,[]).push(Zi)}),Zi}_buildPlayer(pe,be,Xe){return be.length>0?this.driver.animate(pe.element,be,pe.duration,pe.delay,pe.easing,Xe):new k.ZN(pe.duration,pe.delay)}}class xr{constructor(pe,be,Xe){this.namespaceId=pe,this.triggerName=be,this.element=Xe,this._player=new k.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(pe){this._containsRealPlayer||(this._player=pe,Object.keys(this._queuedCallbacks).forEach(be=>{this._queuedCallbacks[be].forEach(Xe=>q(pe,be,void 0,Xe))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(pe.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(pe){this.totalTime=pe}syncPlayerEvents(pe){const be=this._player;be.triggerCallback&&pe.onStart(()=>be.triggerCallback("start")),pe.onDone(()=>this.finish()),pe.onDestroy(()=>this.destroy())}_queueEvent(pe,be){Y(this._queuedCallbacks,pe,[]).push(be)}onDone(pe){this.queued&&this._queueEvent("done",pe),this._player.onDone(pe)}onStart(pe){this.queued&&this._queueEvent("start",pe),this._player.onStart(pe)}onDestroy(pe){this.queued&&this._queueEvent("destroy",pe),this._player.onDestroy(pe)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(pe){this.queued||this._player.setPosition(pe)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(pe){const be=this._player;be.triggerCallback&&be.triggerCallback(pe)}}function br(bt){return bt&&1===bt.nodeType}function qi(bt,pe){const be=bt.style.display;return bt.style.display=null!=pe?pe:"none",be}function Ar(bt,pe,be,Xe,Ct){const Ht=[];be.forEach(Fn=>Ht.push(qi(Fn)));const hn=[];Xe.forEach((Fn,ir)=>{const ar={};Fn.forEach($r=>{const fi=ar[$r]=pe.computeStyle(ir,$r,Ct);(!fi||0==fi.length)&&(ir[Fr]=kr,hn.push(ir))}),bt.set(ir,ar)});let _n=0;return be.forEach(Fn=>qi(Fn,Ht[_n++])),hn}function ii(bt,pe){const be=new Map;if(bt.forEach(_n=>be.set(_n,[])),0==pe.length)return be;const Ct=new Set(pe),Ht=new Map;function hn(_n){if(!_n)return 1;let Fn=Ht.get(_n);if(Fn)return Fn;const ir=_n.parentNode;return Fn=be.has(ir)?ir:Ct.has(ir)?1:hn(ir),Ht.set(_n,Fn),Fn}return pe.forEach(_n=>{const Fn=hn(_n);1!==Fn&&be.get(Fn).push(_n)}),be}const Pn="$$classes";function Ja(bt,pe){if(bt.classList)bt.classList.add(pe);else{let be=bt[Pn];be||(be=bt[Pn]={}),be[pe]=!0}}function bo(bt,pe){if(bt.classList)bt.classList.remove(pe);else{let be=bt[Pn];be&&delete be[pe]}}function Ls(bt,pe,be){y(be).onDone(()=>bt.processLeaveNode(pe))}function hs(bt,pe){for(let be=0;be<bt.length;be++){const Xe=bt[be];Xe instanceof k.ZE?hs(Xe.players,pe):pe.push(Xe)}}function fs(bt,pe,be){const Xe=be.get(bt);if(!Xe)return!1;let Ct=pe.get(bt);return Ct?Xe.forEach(Ht=>Ct.add(Ht)):pe.set(bt,Xe),be.delete(bt),!0}class Xo{constructor(pe,be,Xe){this.bodyNode=pe,this._driver=be,this._normalizer=Xe,this._triggerCache={},this.onRemovalComplete=(Ct,Ht)=>{},this._transitionEngine=new Qn(pe,be,Xe),this._timelineEngine=new sa(pe,be,Xe),this._transitionEngine.onRemovalComplete=(Ct,Ht)=>this.onRemovalComplete(Ct,Ht)}registerTrigger(pe,be,Xe,Ct,Ht){const hn=pe+"-"+Ct;let _n=this._triggerCache[hn];if(!_n){const Fn=[],ir=Ke(this._driver,Ht,Fn);if(Fn.length)throw new Error(`The animation trigger "${Ct}" has failed to build due to the following errors:\n - ${Fn.join("\n - ")}`);_n=function(bt,pe,be){return new pa(bt,pe,be)}(Ct,ir,this._normalizer),this._triggerCache[hn]=_n}this._transitionEngine.registerTrigger(be,Ct,_n)}register(pe,be){this._transitionEngine.register(pe,be)}destroy(pe,be){this._transitionEngine.destroy(pe,be)}onInsert(pe,be,Xe,Ct){this._transitionEngine.insertNode(pe,be,Xe,Ct)}onRemove(pe,be,Xe,Ct){this._transitionEngine.removeNode(pe,be,Ct||!1,Xe)}disableAnimations(pe,be){this._transitionEngine.markElementAsDisabled(pe,be)}process(pe,be,Xe,Ct){if("@"==Xe.charAt(0)){const[Ht,hn]=V(Xe);this._timelineEngine.command(Ht,be,hn,Ct)}else this._transitionEngine.trigger(pe,be,Xe,Ct)}listen(pe,be,Xe,Ct,Ht){if("@"==Xe.charAt(0)){const[hn,_n]=V(Xe);return this._timelineEngine.listen(hn,be,_n,Ht)}return this._transitionEngine.listen(pe,be,Xe,Ct,Ht)}flush(pe=-1){this._transitionEngine.flush(pe)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function es(bt,pe){let be=null,Xe=null;return Array.isArray(pe)&&pe.length?(be=Yi(pe[0]),pe.length>1&&(Xe=Yi(pe[pe.length-1]))):pe&&(be=Yi(pe)),be||Xe?new Mo(bt,be,Xe):null}let Mo=(()=>{class bt{constructor(be,Xe,Ct){this._element=be,this._startStyles=Xe,this._endStyles=Ct,this._state=0;let Ht=bt.initialStylesByElement.get(be);Ht||bt.initialStylesByElement.set(be,Ht={}),this._initialStyles=Ht}start(){this._state<1&&(this._startStyles&&Pt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pt(this._element,this._initialStyles),this._endStyles&&(Pt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(bt.initialStylesByElement.delete(this._element),this._startStyles&&(Wt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wt(this._element,this._endStyles),this._endStyles=null),Pt(this._element,this._initialStyles),this._state=3)}}return bt.initialStylesByElement=new WeakMap,bt})();function Yi(bt){let pe=null;const be=Object.keys(bt);for(let Xe=0;Xe<be.length;Xe++){const Ct=be[Xe];no(Ct)&&(pe=pe||{},pe[Ct]=bt[Ct])}return pe}function no(bt){return"display"===bt||"position"===bt}const Aa="animation",ro="animationend";class Gi{constructor(pe,be,Xe,Ct,Ht,hn,_n){this._element=pe,this._name=be,this._duration=Xe,this._delay=Ct,this._easing=Ht,this._fillMode=hn,this._onDoneFn=_n,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Fn=>this._handleCallback(Fn)}apply(){(function(bt,pe){const be=zr(bt,"").trim();let Xe=0;be.length&&(function(bt,pe){let be=0;for(let Xe=0;Xe<bt.length;Xe++)","===bt.charAt(Xe)&&be++;return be}(be)+1,pe=`${be}, ${pe}`),li(bt,"",pe)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),so(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ga(this._element,this._name,"paused")}resume(){Ga(this._element,this._name,"running")}setPosition(pe){const be=Pa(this._element,this._name);this._position=pe*this._duration,li(this._element,"Delay",`-${this._position}ms`,be)}getPosition(){return this._position}_handleCallback(pe){const be=pe._ngTestManualTimestamp||Date.now(),Xe=1e3*parseFloat(pe.elapsedTime.toFixed(3));pe.animationName==this._name&&Math.max(be-this._startTime,0)>=this._delay&&Xe>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),so(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(bt,pe){const Xe=zr(bt,"").split(","),Ct=_a(Xe,pe);Ct>=0&&(Xe.splice(Ct,1),li(bt,"",Xe.join(",")))}(this._element,this._name))}}function Ga(bt,pe,be){li(bt,"PlayState",be,Pa(bt,pe))}function Pa(bt,pe){const be=zr(bt,"");return be.indexOf(",")>0?_a(be.split(","),pe):_a([be],pe)}function _a(bt,pe){for(let be=0;be<bt.length;be++)if(bt[be].indexOf(pe)>=0)return be;return-1}function so(bt,pe,be){be?bt.removeEventListener(ro,pe):bt.addEventListener(ro,pe)}function li(bt,pe,be,Xe){const Ct=Aa+pe;if(null!=Xe){const Ht=bt.style[Ct];if(Ht.length){const hn=Ht.split(",");hn[Xe]=be,be=hn.join(",")}}bt.style[Ct]=be}function zr(bt,pe){return bt.style[Aa+pe]||""}class ti{constructor(pe,be,Xe,Ct,Ht,hn,_n,Fn){this.element=pe,this.keyframes=be,this.animationName=Xe,this._duration=Ct,this._delay=Ht,this._finalStyles=_n,this._specialStyles=Fn,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=hn||"linear",this.totalTime=Ct+Ht,this._buildStyler()}onStart(pe){this._onStartFns.push(pe)}onDone(pe){this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(pe=>pe()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(pe){this._styler.setPosition(pe)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Gi(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(pe){const be="start"==pe?this._onStartFns:this._onDoneFns;be.forEach(Xe=>Xe()),be.length=0}beforeDestroy(){this.init();const pe={};if(this.hasStarted()){const be=this._state>=3;Object.keys(this._finalStyles).forEach(Xe=>{"offset"!=Xe&&(pe[Xe]=be?this._finalStyles[Xe]:Et(this.element,Xe))})}this.currentSnapshot=pe}}class Ri extends k.ZN{constructor(pe,be){super(),this.element=pe,this._startingStyles={},this.__initialized=!1,this._styles=W(be)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(pe=>{this._startingStyles[pe]=this.element.style[pe]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(pe=>this.element.style.setProperty(pe,this._styles[pe])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(pe=>{const be=this._startingStyles[pe];be?this.element.style.setProperty(pe,be):this.element.style.removeProperty(pe)}),this._startingStyles=null,super.destroy())}}class Er{constructor(){this._count=0}validateStyleProperty(pe){return ne(pe)}matchesElement(pe,be){return oe(pe,be)}containsElement(pe,be){return Z(pe,be)}query(pe,be,Xe){return U(pe,be,Xe)}computeStyle(pe,be,Xe){return window.getComputedStyle(pe)[be]}buildKeyframeElement(pe,be,Xe){Xe=Xe.map(_n=>W(_n));let Ct=`@keyframes ${be} {\n`,Ht="";Xe.forEach(_n=>{Ht=" ";const Fn=parseFloat(_n.offset);Ct+=`${Ht}${100*Fn}% {\n`,Ht+=" ",Object.keys(_n).forEach(ir=>{const ar=_n[ir];switch(ir){case"offset":return;case"easing":return void(ar&&(Ct+=`${Ht}animation-timing-function: ${ar};\n`));default:return void(Ct+=`${Ht}${ir}: ${ar};\n`)}}),Ct+=`${Ht}}\n`}),Ct+="}\n";const hn=document.createElement("style");return hn.textContent=Ct,hn}animate(pe,be,Xe,Ct,Ht,hn=[],_n){const Fn=hn.filter(oi=>oi instanceof ti),ir={};ke(Xe,Ct)&&Fn.forEach(oi=>{let ka=oi.currentSnapshot;Object.keys(ka).forEach(za=>ir[za]=ka[za])});const ar=function(bt){let pe={};return bt&&(Array.isArray(bt)?bt:[bt]).forEach(Xe=>{Object.keys(Xe).forEach(Ct=>{"offset"==Ct||"easing"==Ct||(pe[Ct]=Xe[Ct])})}),pe}(be=je(pe,be,ir));if(0==Xe)return new Ri(pe,ar);const $r="gen_css_kf_"+this._count++,fi=this.buildKeyframeElement(pe,$r,be);(function(bt){var be;const pe=null==(be=bt.getRootNode)?void 0:be.call(bt);return"undefined"!=typeof ShadowRoot&&pe instanceof ShadowRoot?pe:document.head})(pe).appendChild(fi);const ai=es(pe,be),Ci=new ti(pe,be,$r,Xe,Ct,Ht,ar,ai);return Ci.onDestroy(()=>{var bt;(bt=fi).parentNode.removeChild(bt)}),Ci}}class He{constructor(pe,be,Xe,Ct){this.element=pe,this.keyframes=be,this.options=Xe,this._specialStyles=Ct,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=Xe.duration,this._delay=Xe.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const pe=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,pe,this.options),this._finalKeyframe=pe.length?pe[pe.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(pe,be,Xe){return pe.animate(be,Xe)}onStart(pe){this._onStartFns.push(pe)}onDone(pe){this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(pe=>pe()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}setPosition(pe){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=pe*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const pe={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(be=>{"offset"!=be&&(pe[be]=this._finished?this._finalKeyframe[be]:Et(this.element,be))}),this.currentSnapshot=pe}triggerCallback(pe){const be="start"==pe?this._onStartFns:this._onDoneFns;be.forEach(Xe=>Xe()),be.length=0}}class _e{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ge().toString()),this._cssKeyframesDriver=new Er}validateStyleProperty(pe){return ne(pe)}matchesElement(pe,be){return oe(pe,be)}containsElement(pe,be){return Z(pe,be)}query(pe,be,Xe){return U(pe,be,Xe)}computeStyle(pe,be,Xe){return window.getComputedStyle(pe)[be]}overrideWebAnimationsSupport(pe){this._isNativeImpl=pe}animate(pe,be,Xe,Ct,Ht,hn=[],_n){if(!_n&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(pe,be,Xe,Ct,Ht,hn);const ar={duration:Xe,delay:Ct,fill:0==Ct?"both":"forwards"};Ht&&(ar.easing=Ht);const $r={},fi=hn.filter(ai=>ai instanceof He);ke(Xe,Ct)&&fi.forEach(ai=>{let Ci=ai.currentSnapshot;Object.keys(Ci).forEach(oi=>$r[oi]=Ci[oi])});const Zi=es(pe,be=je(pe,be=be.map(ai=>Ue(ai,!1)),$r));return new He(pe,be,ar,Zi)}}function ge(){return Se()&&Element.prototype.animate||{}}var De=E(6019);let gt=(()=>{class bt extends k._j{constructor(be,Xe){super(),this._nextAnimationId=0,this._renderer=be.createRenderer(Xe.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(be){const Xe=this._nextAnimationId.toString();this._nextAnimationId++;const Ct=Array.isArray(be)?(0,k.vP)(be):be;return Wr(this._renderer,null,Xe,"register",[Ct]),new En(Xe,this._renderer)}}return bt.\u0275fac=function(be){return new(be||bt)(m.LFG(m.FYo),m.LFG(De.K0))},bt.\u0275prov=m.Yz7({token:bt,factory:bt.\u0275fac}),bt})();class En extends k.LC{constructor(pe,be){super(),this._id=pe,this._renderer=be}create(pe,be){return new or(this._id,pe,be||{},this._renderer)}}class or{constructor(pe,be,Xe,Ct){this.id=pe,this.element=be,this._renderer=Ct,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",Xe)}_listen(pe,be){return this._renderer.listen(this.element,`@@${this.id}:${pe}`,be)}_command(pe,...be){return Wr(this._renderer,this.element,this.id,pe,be)}onDone(pe){this._listen("done",pe)}onStart(pe){this._listen("start",pe)}onDestroy(pe){this._listen("destroy",pe)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(pe){this._command("setPosition",pe)}getPosition(){var pe,be;return null!=(be=null==(pe=this._renderer.engine.players[+this.id])?void 0:pe.getPosition())?be:0}}function Wr(bt,pe,be,Xe,Ct){return bt.setProperty(pe,`@@${be}:${Xe}`,Ct)}const Di="@.disabled";let Vi=(()=>{class bt{constructor(be,Xe,Ct){this.delegate=be,this.engine=Xe,this._zone=Ct,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),Xe.onRemovalComplete=(Ht,hn)=>{hn&&hn.parentNode(Ht)&&hn.removeChild(Ht.parentNode,Ht)}}createRenderer(be,Xe){const Ht=this.delegate.createRenderer(be,Xe);if(!(be&&Xe&&Xe.data&&Xe.data.animation)){let ar=this._rendererCache.get(Ht);return ar||(ar=new qr("",Ht,this.engine),this._rendererCache.set(Ht,ar)),ar}const hn=Xe.id,_n=Xe.id+"-"+this._currentId;this._currentId++,this.engine.register(_n,be);const Fn=ar=>{Array.isArray(ar)?ar.forEach(Fn):this.engine.registerTrigger(hn,_n,be,ar.name,ar)};return Xe.data.animation.forEach(Fn),new xi(this,_n,Ht,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(be,Xe,Ct){be>=0&&be<this._microtaskId?this._zone.run(()=>Xe(Ct)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ht=>{const[hn,_n]=Ht;hn(_n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([Xe,Ct]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return bt.\u0275fac=function(be){return new(be||bt)(m.LFG(m.FYo),m.LFG(Xo),m.LFG(m.R0b))},bt.\u0275prov=m.Yz7({token:bt,factory:bt.\u0275fac}),bt})();class qr{constructor(pe,be,Xe){this.namespaceId=pe,this.delegate=be,this.engine=Xe,this.destroyNode=this.delegate.destroyNode?Ct=>be.destroyNode(Ct):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(pe,be){return this.delegate.createElement(pe,be)}createComment(pe){return this.delegate.createComment(pe)}createText(pe){return this.delegate.createText(pe)}appendChild(pe,be){this.delegate.appendChild(pe,be),this.engine.onInsert(this.namespaceId,be,pe,!1)}insertBefore(pe,be,Xe,Ct=!0){this.delegate.insertBefore(pe,be,Xe),this.engine.onInsert(this.namespaceId,be,pe,Ct)}removeChild(pe,be,Xe){this.engine.onRemove(this.namespaceId,be,this.delegate,Xe)}selectRootElement(pe,be){return this.delegate.selectRootElement(pe,be)}parentNode(pe){return this.delegate.parentNode(pe)}nextSibling(pe){return this.delegate.nextSibling(pe)}setAttribute(pe,be,Xe,Ct){this.delegate.setAttribute(pe,be,Xe,Ct)}removeAttribute(pe,be,Xe){this.delegate.removeAttribute(pe,be,Xe)}addClass(pe,be){this.delegate.addClass(pe,be)}removeClass(pe,be){this.delegate.removeClass(pe,be)}setStyle(pe,be,Xe,Ct){this.delegate.setStyle(pe,be,Xe,Ct)}removeStyle(pe,be,Xe){this.delegate.removeStyle(pe,be,Xe)}setProperty(pe,be,Xe){"@"==be.charAt(0)&&be==Di?this.disableAnimations(pe,!!Xe):this.delegate.setProperty(pe,be,Xe)}setValue(pe,be){this.delegate.setValue(pe,be)}listen(pe,be,Xe){return this.delegate.listen(pe,be,Xe)}disableAnimations(pe,be){this.engine.disableAnimations(pe,be)}}class xi extends qr{constructor(pe,be,Xe,Ct){super(be,Xe,Ct),this.factory=pe,this.namespaceId=be}setProperty(pe,be,Xe){"@"==be.charAt(0)?"."==be.charAt(1)&&be==Di?this.disableAnimations(pe,Xe=void 0===Xe||!!Xe):this.engine.process(this.namespaceId,pe,be.substr(1),Xe):this.delegate.setProperty(pe,be,Xe)}listen(pe,be,Xe){if("@"==be.charAt(0)){const Ct=function(bt){switch(bt){case"body":return document.body;case"document":return document;case"window":return window;default:return bt}}(pe);let Ht=be.substr(1),hn="";return"@"!=Ht.charAt(0)&&([Ht,hn]=function(bt){const pe=bt.indexOf(".");return[bt.substring(0,pe),bt.substr(pe+1)]}(Ht)),this.engine.listen(this.namespaceId,Ct,Ht,hn,_n=>{this.factory.scheduleListenerCallback(_n._data||-1,Xe,_n)})}return this.delegate.listen(pe,be,Xe)}}let ia=(()=>{class bt extends Xo{constructor(be,Xe,Ct){super(be.body,Xe,Ct)}ngOnDestroy(){this.flush()}}return bt.\u0275fac=function(be){return new(be||bt)(m.LFG(De.K0),m.LFG(D),m.LFG(va))},bt.\u0275prov=m.Yz7({token:bt,factory:bt.\u0275fac}),bt})();const ur=new m.OlP("AnimationModuleType"),na=[{provide:k._j,useClass:gt},{provide:va,useFactory:function(){return new oa}},{provide:Xo,useClass:ia},{provide:m.FYo,useFactory:function(bt,pe,be){return new Vi(bt,pe,be)},deps:[R.se,Xo,m.R0b]}],js=[{provide:D,useFactory:function(){return"function"==typeof ge()?new _e:new Er}},{provide:ur,useValue:"BrowserAnimations"},...na],Qr=[{provide:D,useClass:L},{provide:ur,useValue:"NoopAnimations"},...na];let Mi=(()=>{class bt{static withConfig(be){return{ngModule:bt,providers:be.disableAnimations?Qr:js}}}return bt.\u0275fac=function(be){return new(be||bt)},bt.\u0275mod=m.oAB({type:bt}),bt.\u0275inj=m.cJS({providers:js,imports:[R.b2]}),bt})()},5427:(un,ot,E)=>{"use strict";E.d(ot,{b2:()=>Zt,H7:()=>zt,q6:()=>Kt,se:()=>Ue});var m=E(6019),R=E(3668);class k extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends k{static makeCurrent(){(0,m.HT)(new Se)}onAndCancel(xn,rn,Rn){return xn.addEventListener(rn,Rn,!1),()=>{xn.removeEventListener(rn,Rn,!1)}}dispatchEvent(xn,rn){xn.dispatchEvent(rn)}remove(xn){xn.parentNode&&xn.parentNode.removeChild(xn)}createElement(xn,rn){return(rn=rn||this.getDefaultDocument()).createElement(xn)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(xn){return xn.nodeType===Node.ELEMENT_NODE}isShadowRoot(xn){return xn instanceof DocumentFragment}getGlobalEventTarget(xn,rn){return"window"===rn?window:"document"===rn?xn:"body"===rn?xn.body:null}getBaseHref(xn){const rn=(le=le||document.querySelector("base"),le?le.getAttribute("href"):null);return null==rn?null:function(zn){ce=ce||document.createElement("a"),ce.setAttribute("href",zn);const xn=ce.pathname;return"/"===xn.charAt(0)?xn:`/${xn}`}(rn)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(xn){return(0,m.Mx)(document.cookie,xn)}}let ce,le=null;const K=new R.OlP("TRANSITION_ID"),Y=[{provide:R.ip1,useFactory:function(zn,xn,rn){return()=>{rn.get(R.CZH).donePromise.then(()=>{const Rn=(0,m.q)(),Ln=xn.querySelectorAll(`style[ng-transition="${zn}"]`);for(let Jr=0;Jr<Ln.length;Jr++)Rn.remove(Ln[Jr])})}},deps:[K,m.K0,R.zs3],multi:!0}];class V{static init(){(0,R.VLi)(new V)}addToWindow(xn){R.dqk.getAngularTestability=(Rn,Ln=!0)=>{const Jr=xn.findTestabilityInTree(Rn,Ln);if(null==Jr)throw new Error("Could not find testability for element.");return Jr},R.dqk.getAllAngularTestabilities=()=>xn.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>xn.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(Rn=>{const Ln=R.dqk.getAllAngularTestabilities();let Jr=Ln.length,jr=!1;const Wi=function(pa){jr=jr||pa,Jr--,0==Jr&&Rn(jr)};Ln.forEach(function(pa){pa.whenStable(Wi)})})}findTestabilityInTree(xn,rn,Rn){if(null==rn)return null;const Ln=xn.getTestability(rn);return null!=Ln?Ln:Rn?(0,m.q)().isShadowRoot(rn)?this.findTestabilityInTree(xn,rn.host,!0):this.findTestabilityInTree(xn,rn.parentElement,!0):null}}let j=(()=>{class zn{build(){return new XMLHttpRequest}}return zn.\u0275fac=function(rn){return new(rn||zn)},zn.\u0275prov=R.Yz7({token:zn,factory:zn.\u0275fac}),zn})();const A=new R.OlP("EventManagerPlugins");let M=(()=>{class zn{constructor(rn,Rn){this._zone=Rn,this._eventNameToPlugin=new Map,rn.forEach(Ln=>Ln.manager=this),this._plugins=rn.slice().reverse()}addEventListener(rn,Rn,Ln){return this._findPluginFor(Rn).addEventListener(rn,Rn,Ln)}addGlobalEventListener(rn,Rn,Ln){return this._findPluginFor(Rn).addGlobalEventListener(rn,Rn,Ln)}getZone(){return this._zone}_findPluginFor(rn){const Rn=this._eventNameToPlugin.get(rn);if(Rn)return Rn;const Ln=this._plugins;for(let Jr=0;Jr<Ln.length;Jr++){const jr=Ln[Jr];if(jr.supports(rn))return this._eventNameToPlugin.set(rn,jr),jr}throw new Error(`No event manager plugin found for event ${rn}`)}}return zn.\u0275fac=function(rn){return new(rn||zn)(R.LFG(A),R.LFG(R.R0b))},zn.\u0275prov=R.Yz7({token:zn,factory:zn.\u0275fac}),zn})();class C{constructor(xn){this._doc=xn}addGlobalEventListener(xn,rn,Rn){const Ln=(0,m.q)().getGlobalEventTarget(this._doc,xn);if(!Ln)throw new Error(`Unsupported event target ${Ln} for event ${rn}`);return this.addEventListener(Ln,rn,Rn)}}let P=(()=>{class zn{constructor(){this._stylesSet=new Set}addStyles(rn){const Rn=new Set;rn.forEach(Ln=>{this._stylesSet.has(Ln)||(this._stylesSet.add(Ln),Rn.add(Ln))}),this.onStylesAdded(Rn)}onStylesAdded(rn){}getAllStyles(){return Array.from(this._stylesSet)}}return zn.\u0275fac=function(rn){return new(rn||zn)},zn.\u0275prov=R.Yz7({token:zn,factory:zn.\u0275fac}),zn})(),N=(()=>{class zn extends P{constructor(rn){super(),this._doc=rn,this._hostNodes=new Map,this._hostNodes.set(rn.head,[])}_addStylesToHost(rn,Rn,Ln){rn.forEach(Jr=>{const jr=this._doc.createElement("style");jr.textContent=Jr,Ln.push(Rn.appendChild(jr))})}addHost(rn){const Rn=[];this._addStylesToHost(this._stylesSet,rn,Rn),this._hostNodes.set(rn,Rn)}removeHost(rn){const Rn=this._hostNodes.get(rn);Rn&&Rn.forEach(ee),this._hostNodes.delete(rn)}onStylesAdded(rn){this._hostNodes.forEach((Rn,Ln)=>{this._addStylesToHost(rn,Ln,Rn)})}ngOnDestroy(){this._hostNodes.forEach(rn=>rn.forEach(ee))}}return zn.\u0275fac=function(rn){return new(rn||zn)(R.LFG(m.K0))},zn.\u0275prov=R.Yz7({token:zn,factory:zn.\u0275fac}),zn})();function ee(zn){(0,m.q)().remove(zn)}const ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Te=/%COMP%/g;function Ve(zn,xn,rn){for(let Rn=0;Rn<xn.length;Rn++){let Ln=xn[Rn];Array.isArray(Ln)?Ve(zn,Ln,rn):(Ln=Ln.replace(Te,zn),rn.push(Ln))}return rn}function Fe(zn){return xn=>{if("__ngUnwrap__"===xn)return zn;!1===zn(xn)&&(xn.preventDefault(),xn.returnValue=!1)}}let Ue=(()=>{class zn{constructor(rn,Rn,Ln){this.eventManager=rn,this.sharedStylesHost=Rn,this.appId=Ln,this.rendererByCompId=new Map,this.defaultRenderer=new xt(rn)}createRenderer(rn,Rn){if(!rn||!Rn)return this.defaultRenderer;switch(Rn.encapsulation){case R.ifc.Emulated:{let Ln=this.rendererByCompId.get(Rn.id);return Ln||(Ln=new Wt(this.eventManager,this.sharedStylesHost,Rn,this.appId),this.rendererByCompId.set(Rn.id,Ln)),Ln.applyToHost(rn),Ln}case 1:case R.ifc.ShadowDom:return new Qt(this.eventManager,this.sharedStylesHost,rn,Rn);default:if(!this.rendererByCompId.has(Rn.id)){const Ln=Ve(Rn.id,Rn.styles,[]);this.sharedStylesHost.addStyles(Ln),this.rendererByCompId.set(Rn.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return zn.\u0275fac=function(rn){return new(rn||zn)(R.LFG(M),R.LFG(N),R.LFG(R.AFp))},zn.\u0275prov=R.Yz7({token:zn,factory:zn.\u0275fac}),zn})();class xt{constructor(xn){this.eventManager=xn,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(xn,rn){return rn?document.createElementNS(ye[rn]||rn,xn):document.createElement(xn)}createComment(xn){return document.createComment(xn)}createText(xn){return document.createTextNode(xn)}appendChild(xn,rn){xn.appendChild(rn)}insertBefore(xn,rn,Rn){xn&&xn.insertBefore(rn,Rn)}removeChild(xn,rn){xn&&xn.removeChild(rn)}selectRootElement(xn,rn){let Rn="string"==typeof xn?document.querySelector(xn):xn;if(!Rn)throw new Error(`The selector "${xn}" did not match any elements`);return rn||(Rn.textContent=""),Rn}parentNode(xn){return xn.parentNode}nextSibling(xn){return xn.nextSibling}setAttribute(xn,rn,Rn,Ln){if(Ln){rn=Ln+":"+rn;const Jr=ye[Ln];Jr?xn.setAttributeNS(Jr,rn,Rn):xn.setAttribute(rn,Rn)}else xn.setAttribute(rn,Rn)}removeAttribute(xn,rn,Rn){if(Rn){const Ln=ye[Rn];Ln?xn.removeAttributeNS(Ln,rn):xn.removeAttribute(`${Rn}:${rn}`)}else xn.removeAttribute(rn)}addClass(xn,rn){xn.classList.add(rn)}removeClass(xn,rn){xn.classList.remove(rn)}setStyle(xn,rn,Rn,Ln){Ln&(R.JOm.DashCase|R.JOm.Important)?xn.style.setProperty(rn,Rn,Ln&R.JOm.Important?"important":""):xn.style[rn]=Rn}removeStyle(xn,rn,Rn){Rn&R.JOm.DashCase?xn.style.removeProperty(rn):xn.style[rn]=""}setProperty(xn,rn,Rn){xn[rn]=Rn}setValue(xn,rn){xn.nodeValue=rn}listen(xn,rn,Rn){return"string"==typeof xn?this.eventManager.addGlobalEventListener(xn,rn,Fe(Rn)):this.eventManager.addEventListener(xn,rn,Fe(Rn))}}class Wt extends xt{constructor(xn,rn,Rn,Ln){super(xn),this.component=Rn;const Jr=Ve(Ln+"-"+Rn.id,Rn.styles,[]);rn.addStyles(Jr),this.contentAttr="_ngcontent-%COMP%".replace(Te,Ln+"-"+Rn.id),this.hostAttr="_nghost-%COMP%".replace(Te,Ln+"-"+Rn.id)}applyToHost(xn){super.setAttribute(xn,this.hostAttr,"")}createElement(xn,rn){const Rn=super.createElement(xn,rn);return super.setAttribute(Rn,this.contentAttr,""),Rn}}class Qt extends xt{constructor(xn,rn,Rn,Ln){super(xn),this.sharedStylesHost=rn,this.hostEl=Rn,this.shadowRoot=Rn.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jr=Ve(Ln.id,Ln.styles,[]);for(let jr=0;jr<Jr.length;jr++){const Wi=document.createElement("style");Wi.textContent=Jr[jr],this.shadowRoot.appendChild(Wi)}}nodeOrShadowRoot(xn){return xn===this.hostEl?this.shadowRoot:xn}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(xn,rn){return super.appendChild(this.nodeOrShadowRoot(xn),rn)}insertBefore(xn,rn,Rn){return super.insertBefore(this.nodeOrShadowRoot(xn),rn,Rn)}removeChild(xn,rn){return super.removeChild(this.nodeOrShadowRoot(xn),rn)}parentNode(xn){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(xn)))}}let gn=(()=>{class zn extends C{constructor(rn){super(rn)}supports(rn){return!0}addEventListener(rn,Rn,Ln){return rn.addEventListener(Rn,Ln,!1),()=>this.removeEventListener(rn,Rn,Ln)}removeEventListener(rn,Rn,Ln){return rn.removeEventListener(Rn,Ln)}}return zn.\u0275fac=function(rn){return new(rn||zn)(R.LFG(m.K0))},zn.\u0275prov=R.Yz7({token:zn,factory:zn.\u0275fac}),zn})();const yt=["alt","control","meta","shift"],$t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:zn=>zn.altKey,control:zn=>zn.ctrlKey,meta:zn=>zn.metaKey,shift:zn=>zn.shiftKey};let tt=(()=>{class zn extends C{constructor(rn){super(rn)}supports(rn){return null!=zn.parseEventName(rn)}addEventListener(rn,Rn,Ln){const Jr=zn.parseEventName(Rn),jr=zn.eventCallback(Jr.fullKey,Ln,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(rn,Jr.domEventName,jr))}static parseEventName(rn){const Rn=rn.toLowerCase().split("."),Ln=Rn.shift();if(0===Rn.length||"keydown"!==Ln&&"keyup"!==Ln)return null;const Jr=zn._normalizeKey(Rn.pop());let jr="";if(yt.forEach(pa=>{const Hi=Rn.indexOf(pa);Hi>-1&&(Rn.splice(Hi,1),jr+=pa+".")}),jr+=Jr,0!=Rn.length||0===Jr.length)return null;const Wi={};return Wi.domEventName=Ln,Wi.fullKey=jr,Wi}static getEventFullKey(rn){let Rn="",Ln=function(zn){let xn=zn.key;if(null==xn){if(xn=zn.keyIdentifier,null==xn)return"Unidentified";xn.startsWith("U+")&&(xn=String.fromCharCode(parseInt(xn.substring(2),16)),3===zn.location&&cn.hasOwnProperty(xn)&&(xn=cn[xn]))}return $t[xn]||xn}(rn);return Ln=Ln.toLowerCase()," "===Ln?Ln="space":"."===Ln&&(Ln="dot"),yt.forEach(Jr=>{Jr!=Ln&&ct[Jr](rn)&&(Rn+=Jr+".")}),Rn+=Ln,Rn}static eventCallback(rn,Rn,Ln){return Jr=>{zn.getEventFullKey(Jr)===rn&&Ln.runGuarded(()=>Rn(Jr))}}static _normalizeKey(rn){return"esc"===rn?"escape":rn}}return zn.\u0275fac=function(rn){return new(rn||zn)(R.LFG(m.K0))},zn.\u0275prov=R.Yz7({token:zn,factory:zn.\u0275fac}),zn})(),zt=(()=>{class zn{}return zn.\u0275fac=function(rn){return new(rn||zn)},zn.\u0275prov=R.Yz7({token:zn,factory:function(rn){let Rn=null;return Rn=rn?new(rn||zn):R.LFG(ft),Rn},providedIn:"root"}),zn})(),ft=(()=>{class zn extends zt{constructor(rn){super(),this._doc=rn}sanitize(rn,Rn){if(null==Rn)return null;switch(rn){case R.q3G.NONE:return Rn;case R.q3G.HTML:return(0,R.qzn)(Rn,"HTML")?(0,R.z3N)(Rn):(0,R.EiD)(this._doc,String(Rn)).toString();case R.q3G.STYLE:return(0,R.qzn)(Rn,"Style")?(0,R.z3N)(Rn):Rn;case R.q3G.SCRIPT:if((0,R.qzn)(Rn,"Script"))return(0,R.z3N)(Rn);throw new Error("unsafe value used in a script context");case R.q3G.URL:return(0,R.yhl)(Rn),(0,R.qzn)(Rn,"URL")?(0,R.z3N)(Rn):(0,R.mCW)(String(Rn));case R.q3G.RESOURCE_URL:if((0,R.qzn)(Rn,"ResourceURL"))return(0,R.z3N)(Rn);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${rn} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(rn){return(0,R.JVY)(rn)}bypassSecurityTrustStyle(rn){return(0,R.L6k)(rn)}bypassSecurityTrustScript(rn){return(0,R.eBb)(rn)}bypassSecurityTrustUrl(rn){return(0,R.LAX)(rn)}bypassSecurityTrustResourceUrl(rn){return(0,R.pB0)(rn)}}return zn.\u0275fac=function(rn){return new(rn||zn)(R.LFG(m.K0))},zn.\u0275prov=R.Yz7({token:zn,factory:function(rn){let Rn=null;return Rn=rn?new rn:function(zn){return new ft(zn.get(m.K0))}(R.LFG(R.zs3)),Rn},providedIn:"root"}),zn})();const Kt=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:m.bD},{provide:R.g9A,useValue:function(){Se.makeCurrent(),V.init()},multi:!0},{provide:m.K0,useFactory:function(){return(0,R.RDi)(document),document},deps:[]}]),Mn=[[],{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function(){return new R.qLn},deps:[]},{provide:A,useClass:gn,multi:!0,deps:[m.K0,R.R0b,R.Lbi]},{provide:A,useClass:tt,multi:!0,deps:[m.K0]},[],{provide:Ue,useClass:Ue,deps:[M,N,R.AFp]},{provide:R.FYo,useExisting:Ue},{provide:P,useExisting:N},{provide:N,useClass:N,deps:[m.K0]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b]},{provide:M,useClass:M,deps:[A,R.R0b]},{provide:m.JF,useClass:j,deps:[]},[]];let Zt=(()=>{class zn{constructor(rn){if(rn)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(rn){return{ngModule:zn,providers:[{provide:R.AFp,useValue:rn.appId},{provide:K,useExisting:R.AFp},Y]}}}return zn.\u0275fac=function(rn){return new(rn||zn)(R.LFG(zn,12))},zn.\u0275mod=R.oAB({type:zn}),zn.\u0275inj=R.cJS({providers:Mn,imports:[m.ez,R.hGG]}),zn})();"undefined"!=typeof window&&window},8223:(un,ot,E)=>{"use strict";E.d(ot,{gz:()=>kt,m2:()=>Oe,eC:()=>it,F0:()=>jn,rH:()=>fn,Od:()=>mr,yS:()=>Hn,Bz:()=>Da,lC:()=>so});var m=E(6019),R=E(3668),k=E(5548),Se=E(1915),le=E(172);function y($e){return new k.y(Ne=>{let Ee;try{Ee=$e()}catch(dt){return void Ne.error(dt)}return(Ee?(0,Se.D)(Ee):(0,le.c)()).subscribe(Ne)})}var ce=E(2411),q=E(4099),K=E(2668),H=E(9443),Y=E(3596),V=E(5783),j=E(3405),X=E(4168);function xe($e,Ne){let Ee=!1;return arguments.length>=2&&(Ee=!0),function(dt){return dt.lift(new Q($e,Ne,Ee))}}class Q{constructor(Ne,Ee,rt=!1){this.accumulator=Ne,this.seed=Ee,this.hasSeed=rt}call(Ne,Ee){return Ee.subscribe(new fe(Ne,this.accumulator,this.seed,this.hasSeed))}}class fe extends X.L{constructor(Ne,Ee,rt,dt){super(Ne),this.accumulator=Ee,this._seed=rt,this.hasSeed=dt,this.index=0}get seed(){return this._seed}set seed(Ne){this.hasSeed=!0,this._seed=Ne}_next(Ne){if(this.hasSeed)return this._tryNext(Ne);this.seed=Ne,this.destination.next(Ne)}_tryNext(Ne){const Ee=this.index++;let rt;try{rt=this.accumulator(this.seed,Ne,Ee)}catch(dt){this.destination.error(dt)}this.seed=rt,this.destination.next(rt)}}var re=E(8735),ie=E(523);function ne($e){return function(Ee){return 0===$e?(0,le.c)():Ee.lift(new de($e))}}class de{constructor(Ne){if(this.total=Ne,this.total<0)throw new ie.W}call(Ne,Ee){return Ee.subscribe(new oe(Ne,this.total))}}class oe extends X.L{constructor(Ne,Ee){super(Ne),this.total=Ee,this.ring=new Array,this.count=0}_next(Ne){const Ee=this.ring,rt=this.total,dt=this.count++;Ee.length<rt?Ee.push(Ne):Ee[dt%rt]=Ne}_complete(){const Ne=this.destination;let Ee=this.count;if(Ee>0){const rt=this.count>=this.total?this.total:this.count,dt=this.ring;for(let Vt=0;Vt<rt;Vt++){const mn=Ee++%rt;Ne.next(dt[mn])}}Ne.complete()}}var Z=E(6225),U=E(3507),W=E(7255),D=E(8053),A=E(9204),M=E(6636),C=E(1125),P=E(2047),N=E(6700),ee=E(739),ye=E(4421),Te=E(5722),he=E(5234),me=E(6658),Re=E(2225);class Le{constructor(Ne,Ee){this.id=Ne,this.url=Ee}}class Je extends Le{constructor(Ne,Ee,rt="imperative",dt=null){super(Ne,Ee),this.navigationTrigger=rt,this.restoredState=dt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oe extends Le{constructor(Ne,Ee,rt){super(Ne,Ee),this.urlAfterRedirects=rt}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ve extends Le{constructor(Ne,Ee,rt){super(Ne,Ee),this.reason=rt}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fe extends Le{constructor(Ne,Ee,rt){super(Ne,Ee),this.error=rt}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class et extends Le{constructor(Ne,Ee,rt,dt){super(Ne,Ee),this.urlAfterRedirects=rt,this.state=dt}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends Le{constructor(Ne,Ee,rt,dt){super(Ne,Ee),this.urlAfterRedirects=rt,this.state=dt}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt extends Le{constructor(Ne,Ee,rt,dt,Vt){super(Ne,Ee),this.urlAfterRedirects=rt,this.state=dt,this.shouldActivate=Vt}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class It extends Le{constructor(Ne,Ee,rt,dt){super(Ne,Ee),this.urlAfterRedirects=rt,this.state=dt}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends Le{constructor(Ne,Ee,rt,dt){super(Ne,Ee),this.urlAfterRedirects=rt,this.state=dt}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wt{constructor(Ne){this.route=Ne}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qt{constructor(Ne){this.route=Ne}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gn{constructor(Ne){this.snapshot=Ne}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class In{constructor(Ne){this.snapshot=Ne}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(Ne){this.snapshot=Ne}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(Ne){this.snapshot=Ne}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(Ne,Ee,rt){this.routerEvent=Ne,this.position=Ee,this.anchor=rt}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const it="primary";class vn{constructor(Ne){this.params=Ne||{}}has(Ne){return Object.prototype.hasOwnProperty.call(this.params,Ne)}get(Ne){if(this.has(Ne)){const Ee=this.params[Ne];return Array.isArray(Ee)?Ee[0]:Ee}return null}getAll(Ne){if(this.has(Ne)){const Ee=this.params[Ne];return Array.isArray(Ee)?Ee:[Ee]}return[]}get keys(){return Object.keys(this.params)}}function wt($e){return new vn($e)}const ke="ngNavigationCancelingError";function je($e){const Ne=Error("NavigationCancelingError: "+$e);return Ne[ke]=!0,Ne}function Et($e,Ne,Ee){const rt=Ee.path.split("/");if(rt.length>$e.length||"full"===Ee.pathMatch&&(Ne.hasChildren()||rt.length<$e.length))return null;const dt={};for(let Vt=0;Vt<rt.length;Vt++){const mn=rt[Vt],ln=$e[Vt];if(mn.startsWith(":"))dt[mn.substring(1)]=ln;else if(mn!==ln.path)return null}return{consumed:$e.slice(0,rt.length),posParams:dt}}function cn($e,Ne){const Ee=$e?Object.keys($e):void 0,rt=Ne?Object.keys(Ne):void 0;if(!Ee||!rt||Ee.length!=rt.length)return!1;let dt;for(let Vt=0;Vt<Ee.length;Vt++)if(dt=Ee[Vt],!ct($e[dt],Ne[dt]))return!1;return!0}function ct($e,Ne){if(Array.isArray($e)&&Array.isArray(Ne)){if($e.length!==Ne.length)return!1;const Ee=[...$e].sort(),rt=[...Ne].sort();return Ee.every((dt,Vt)=>rt[Vt]===dt)}return $e===Ne}function tt($e){return Array.prototype.concat.apply([],$e)}function _t($e){return $e.length>0?$e[$e.length-1]:null}function Ft($e,Ne){for(const Ee in $e)$e.hasOwnProperty(Ee)&&Ne($e[Ee],Ee)}function ft($e){return(0,R.CqO)($e)?$e:(0,R.QGY)($e)?(0,Se.D)(Promise.resolve($e)):(0,ce.of)($e)}const Ke={exact:function lt($e,Ne,Ee){if(!si($e.segments,Ne.segments)||!Zt($e.segments,Ne.segments,Ee)||$e.numberOfChildren!==Ne.numberOfChildren)return!1;for(const rt in Ne.children)if(!$e.children[rt]||!lt($e.children[rt],Ne.children[rt],Ee))return!1;return!0},subset:Kt},we={exact:function($e,Ne){return cn($e,Ne)},subset:function($e,Ne){return Object.keys(Ne).length<=Object.keys($e).length&&Object.keys(Ne).every(Ee=>ct($e[Ee],Ne[Ee]))},ignored:()=>!0};function Me($e,Ne,Ee){return Ke[Ee.paths]($e.root,Ne.root,Ee.matrixParams)&&we[Ee.queryParams]($e.queryParams,Ne.queryParams)&&!("exact"===Ee.fragment&&$e.fragment!==Ne.fragment)}function Kt($e,Ne,Ee){return Mn($e,Ne,Ne.segments,Ee)}function Mn($e,Ne,Ee,rt){if($e.segments.length>Ee.length){const dt=$e.segments.slice(0,Ee.length);return!(!si(dt,Ee)||Ne.hasChildren()||!Zt(dt,Ee,rt))}if($e.segments.length===Ee.length){if(!si($e.segments,Ee)||!Zt($e.segments,Ee,rt))return!1;for(const dt in Ne.children)if(!$e.children[dt]||!Kt($e.children[dt],Ne.children[dt],rt))return!1;return!0}{const dt=Ee.slice(0,$e.segments.length),Vt=Ee.slice($e.segments.length);return!!(si($e.segments,dt)&&Zt($e.segments,dt,rt)&&$e.children[it])&&Mn($e.children[it],Ne,Vt,rt)}}function Zt($e,Ne,Ee){return Ne.every((rt,dt)=>we[Ee]($e[dt].parameters,rt.parameters))}class er{constructor(Ne,Ee,rt){this.root=Ne,this.queryParams=Ee,this.fragment=rt}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap}toString(){return Xn.serialize(this)}}class Un{constructor(Ne,Ee){this.segments=Ne,this.children=Ee,this.parent=null,Ft(Ee,(rt,dt)=>rt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wi(this)}}class dr{constructor(Ne,Ee){this.path=Ne,this.parameters=Ee}get parameterMap(){return this._parameterMap||(this._parameterMap=wt(this.parameters)),this._parameterMap}toString(){return Ei(this)}}function si($e,Ne){return $e.length===Ne.length&&$e.every((Ee,rt)=>Ee.path===Ne[rt].path)}class lr{}class Hr{parse(Ne){const Ee=new Jr(Ne);return new er(Ee.parseRootSegment(),Ee.parseQueryParams(),Ee.parseFragment())}serialize(Ne){const Ee=`/${yr(Ne.root,!0)}`,rt=function($e){const Ne=Object.keys($e).map(Ee=>{const rt=$e[Ee];return Array.isArray(rt)?rt.map(dt=>`${$n(Ee)}=${$n(dt)}`).join("&"):`${$n(Ee)}=${$n(rt)}`}).filter(Ee=>!!Ee);return Ne.length?`?${Ne.join("&")}`:""}(Ne.queryParams);var $e;return`${Ee}${rt}${"string"==typeof Ne.fragment?`#${$e=Ne.fragment,encodeURI($e)}`:""}`}}const Xn=new Hr;function wi($e){return $e.segments.map(Ne=>Ei(Ne)).join("/")}function yr($e,Ne){if(!$e.hasChildren())return wi($e);if(Ne){const Ee=$e.children[it]?yr($e.children[it],!1):"",rt=[];return Ft($e.children,(dt,Vt)=>{Vt!==it&&rt.push(`${Vt}:${yr(dt,!1)}`)}),rt.length>0?`${Ee}(${rt.join("//")})`:Ee}{const Ee=function($e,Ne){let Ee=[];return Ft($e.children,(rt,dt)=>{dt===it&&(Ee=Ee.concat(Ne(rt,dt)))}),Ft($e.children,(rt,dt)=>{dt!==it&&(Ee=Ee.concat(Ne(rt,dt)))}),Ee}($e,(rt,dt)=>dt===it?[yr($e.children[it],!1)]:[`${dt}:${yr(rt,!1)}`]);return 1===Object.keys($e.children).length&&null!=$e.children[it]?`${wi($e)}/${Ee[0]}`:`${wi($e)}/(${Ee.join("//")})`}}function Ti($e){return encodeURIComponent($e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $n($e){return Ti($e).replace(/%3B/gi,";")}function Ur($e){return Ti($e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _r($e){return decodeURIComponent($e)}function Zr($e){return _r($e.replace(/\+/g,"%20"))}function Ei($e){return`${Ur($e.path)}${function($e){return Object.keys($e).map(Ne=>`;${Ur(Ne)}=${Ur($e[Ne])}`).join("")}($e.parameters)}`}const oa=/^[^\/()?;=#]+/;function zn($e){const Ne=$e.match(oa);return Ne?Ne[0]:""}const xn=/^[^=?&#]+/,Rn=/^[^&#]+/;class Jr{constructor(Ne){this.url=Ne,this.remaining=Ne}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const Ne={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ne)}while(this.consumeOptional("&"));return Ne}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ne=[];for(this.peekStartsWith("(")||Ne.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ne.push(this.parseSegment());let Ee={};this.peekStartsWith("/(")&&(this.capture("/"),Ee=this.parseParens(!0));let rt={};return this.peekStartsWith("(")&&(rt=this.parseParens(!1)),(Ne.length>0||Object.keys(Ee).length>0)&&(rt[it]=new Un(Ne,Ee)),rt}parseSegment(){const Ne=zn(this.remaining);if(""===Ne&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(Ne),new dr(_r(Ne),this.parseMatrixParams())}parseMatrixParams(){const Ne={};for(;this.consumeOptional(";");)this.parseParam(Ne);return Ne}parseParam(Ne){const Ee=zn(this.remaining);if(!Ee)return;this.capture(Ee);let rt="";if(this.consumeOptional("=")){const dt=zn(this.remaining);dt&&(rt=dt,this.capture(rt))}Ne[_r(Ee)]=_r(rt)}parseQueryParam(Ne){const Ee=function($e){const Ne=$e.match(xn);return Ne?Ne[0]:""}(this.remaining);if(!Ee)return;this.capture(Ee);let rt="";if(this.consumeOptional("=")){const mn=function($e){const Ne=$e.match(Rn);return Ne?Ne[0]:""}(this.remaining);mn&&(rt=mn,this.capture(rt))}const dt=Zr(Ee),Vt=Zr(rt);if(Ne.hasOwnProperty(dt)){let mn=Ne[dt];Array.isArray(mn)||(mn=[mn],Ne[dt]=mn),mn.push(Vt)}else Ne[dt]=Vt}parseParens(Ne){const Ee={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const rt=zn(this.remaining),dt=this.remaining[rt.length];if("/"!==dt&&")"!==dt&&";"!==dt)throw new Error(`Cannot parse url '${this.url}'`);let Vt;rt.indexOf(":")>-1?(Vt=rt.substr(0,rt.indexOf(":")),this.capture(Vt),this.capture(":")):Ne&&(Vt=it);const mn=this.parseChildren();Ee[Vt]=1===Object.keys(mn).length?mn[it]:new Un([],mn),this.consumeOptional("//")}return Ee}peekStartsWith(Ne){return this.remaining.startsWith(Ne)}consumeOptional(Ne){return!!this.peekStartsWith(Ne)&&(this.remaining=this.remaining.substring(Ne.length),!0)}capture(Ne){if(!this.consumeOptional(Ne))throw new Error(`Expected "${Ne}".`)}}class jr{constructor(Ne){this._root=Ne}get root(){return this._root.value}parent(Ne){const Ee=this.pathFromRoot(Ne);return Ee.length>1?Ee[Ee.length-2]:null}children(Ne){const Ee=Wi(Ne,this._root);return Ee?Ee.children.map(rt=>rt.value):[]}firstChild(Ne){const Ee=Wi(Ne,this._root);return Ee&&Ee.children.length>0?Ee.children[0].value:null}siblings(Ne){const Ee=pa(Ne,this._root);return Ee.length<2?[]:Ee[Ee.length-2].children.map(dt=>dt.value).filter(dt=>dt!==Ne)}pathFromRoot(Ne){return pa(Ne,this._root).map(Ee=>Ee.value)}}function Wi($e,Ne){if($e===Ne.value)return Ne;for(const Ee of Ne.children){const rt=Wi($e,Ee);if(rt)return rt}return null}function pa($e,Ne){if($e===Ne.value)return[Ne];for(const Ee of Ne.children){const rt=pa($e,Ee);if(rt.length)return rt.unshift(Ne),rt}return[]}class Hi{constructor(Ne,Ee){this.value=Ne,this.children=Ee}toString(){return`TreeNode(${this.value})`}}function di($e){const Ne={};return $e&&$e.children.forEach(Ee=>Ne[Ee.value.outlet]=Ee),Ne}class fr extends jr{constructor(Ne,Ee){super(Ne),this.snapshot=Ee,sr(this,Ne)}toString(){return this.snapshot.toString()}}function sa($e,Ne){const Ee=function($e,Ne){const mn=new An([],{},{},"",{},it,Ne,null,$e.root,-1,{});return new Kn("",new Hi(mn,[]))}($e,Ne),rt=new q.X([new dr("",{})]),dt=new q.X({}),Vt=new q.X({}),mn=new q.X({}),ln=new q.X(""),tr=new kt(rt,dt,mn,ln,Vt,it,Ne,Ee.root);return tr.snapshot=Ee.root,new fr(new Hi(tr,[]),Ee)}class kt{constructor(Ne,Ee,rt,dt,Vt,mn,ln,tr){this.url=Ne,this.params=Ee,this.queryParams=rt,this.fragment=dt,this.data=Vt,this.outlet=mn,this.component=ln,this._futureSnapshot=tr}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,D.U)(Ne=>wt(Ne)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,D.U)(Ne=>wt(Ne)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tn($e,Ne="emptyOnly"){const Ee=$e.pathFromRoot;let rt=0;if("always"!==Ne)for(rt=Ee.length-1;rt>=1;){const dt=Ee[rt],Vt=Ee[rt-1];if(dt.routeConfig&&""===dt.routeConfig.path)rt--;else{if(Vt.component)break;rt--}}return function($e){return $e.reduce((Ne,Ee)=>({params:Pi(Pi({},Ne.params),Ee.params),data:Pi(Pi({},Ne.data),Ee.data),resolve:Pi(Pi({},Ne.resolve),Ee._resolvedData)}),{params:{},data:{},resolve:{}})}(Ee.slice(rt))}class An{constructor(Ne,Ee,rt,dt,Vt,mn,ln,tr,Yr,ha,Si){this.url=Ne,this.params=Ee,this.queryParams=rt,this.fragment=dt,this.data=Vt,this.outlet=mn,this.component=ln,this.routeConfig=tr,this._urlSegment=Yr,this._lastPathIndex=ha,this._resolve=Si}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(rt=>rt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kn extends jr{constructor(Ne,Ee){super(Ee),this.url=Ne,sr(this,Ee)}toString(){return Rr(this._root)}}function sr($e,Ne){Ne.value._routerState=$e,Ne.children.forEach(Ee=>sr($e,Ee))}function Rr($e){const Ne=$e.children.length>0?` { ${$e.children.map(Rr).join(", ")} } `:"";return`${$e.value}${Ne}`}function kr($e){if($e.snapshot){const Ne=$e.snapshot,Ee=$e._futureSnapshot;$e.snapshot=Ee,cn(Ne.queryParams,Ee.queryParams)||$e.queryParams.next(Ee.queryParams),Ne.fragment!==Ee.fragment&&$e.fragment.next(Ee.fragment),cn(Ne.params,Ee.params)||$e.params.next(Ee.params),function($e,Ne){if($e.length!==Ne.length)return!1;for(let Ee=0;Ee<$e.length;++Ee)if(!cn($e[Ee],Ne[Ee]))return!1;return!0}(Ne.url,Ee.url)||$e.url.next(Ee.url),cn(Ne.data,Ee.data)||$e.data.next(Ee.data)}else $e.snapshot=$e._futureSnapshot,$e.data.next($e._futureSnapshot.data)}function Fr($e,Ne){const Ee=cn($e.params,Ne.params)&&function($e,Ne){return si($e,Ne)&&$e.every((Ee,rt)=>cn(Ee.parameters,Ne[rt].parameters))}($e.url,Ne.url);return Ee&&!(!$e.parent!=!Ne.parent)&&(!$e.parent||Fr($e.parent,Ne.parent))}function Oi($e,Ne,Ee){if(Ee&&$e.shouldReuseRoute(Ne.value,Ee.value.snapshot)){const rt=Ee.value;rt._futureSnapshot=Ne.value;const dt=function($e,Ne,Ee){return Ne.children.map(rt=>{for(const dt of Ee.children)if($e.shouldReuseRoute(rt.value,dt.value.snapshot))return Oi($e,rt,dt);return Oi($e,rt)})}($e,Ne,Ee);return new Hi(rt,dt)}{if($e.shouldAttach(Ne.value)){const Vt=$e.retrieve(Ne.value);if(null!==Vt){const mn=Vt.route;return mn.value._futureSnapshot=Ne.value,mn.children=Ne.children.map(ln=>Oi($e,ln)),mn}}const rt=function($e){return new kt(new q.X($e.url),new q.X($e.params),new q.X($e.queryParams),new q.X($e.fragment),new q.X($e.data),$e.outlet,$e.component,$e)}(Ne.value),dt=Ne.children.map(Vt=>Oi($e,Vt));return new Hi(rt,dt)}}function xr($e){return"object"==typeof $e&&null!=$e&&!$e.outlets&&!$e.segmentPath}function Ii($e){return"object"==typeof $e&&null!=$e&&$e.outlets}function Ji($e,Ne,Ee,rt,dt){let Vt={};return rt&&Ft(rt,(mn,ln)=>{Vt[ln]=Array.isArray(mn)?mn.map(tr=>`${tr}`):`${mn}`}),new er(Ee.root===$e?Ne:br(Ee.root,$e,Ne),Vt,dt)}function br($e,Ne,Ee){const rt={};return Ft($e.children,(dt,Vt)=>{rt[Vt]=dt===Ne?Ee:br(dt,Ne,Ee)}),new Un($e.segments,rt)}class xo{constructor(Ne,Ee,rt){if(this.isAbsolute=Ne,this.numberOfDoubleDots=Ee,this.commands=rt,Ne&&rt.length>0&&xr(rt[0]))throw new Error("Root segment cannot have matrix parameters");const dt=rt.find(Ii);if(dt&&dt!==_t(rt))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ar{constructor(Ne,Ee,rt){this.segmentGroup=Ne,this.processChildren=Ee,this.index=rt}}function Ja($e,Ne,Ee){if($e||($e=new Un([],{})),0===$e.segments.length&&$e.hasChildren())return bo($e,Ne,Ee);const rt=function($e,Ne,Ee){let rt=0,dt=Ne;const Vt={match:!1,pathIndex:0,commandIndex:0};for(;dt<$e.segments.length;){if(rt>=Ee.length)return Vt;const mn=$e.segments[dt],ln=Ee[rt];if(Ii(ln))break;const tr=`${ln}`,Yr=rt<Ee.length-1?Ee[rt+1]:null;if(dt>0&&void 0===tr)break;if(tr&&Yr&&"object"==typeof Yr&&void 0===Yr.outlets){if(!fs(tr,Yr,mn))return Vt;rt+=2}else{if(!fs(tr,{},mn))return Vt;rt++}dt++}return{match:!0,pathIndex:dt,commandIndex:rt}}($e,Ne,Ee),dt=Ee.slice(rt.commandIndex);if(rt.match&&rt.pathIndex<$e.segments.length){const Vt=new Un($e.segments.slice(0,rt.pathIndex),{});return Vt.children[it]=new Un($e.segments.slice(rt.pathIndex),$e.children),bo(Vt,0,dt)}return rt.match&&0===dt.length?new Un($e.segments,{}):rt.match&&!$e.hasChildren()?Cs($e,Ne,Ee):rt.match?bo($e,0,dt):Cs($e,Ne,Ee)}function bo($e,Ne,Ee){if(0===Ee.length)return new Un($e.segments,{});{const rt=function($e){return Ii($e[0])?$e[0].outlets:{[it]:$e}}(Ee),dt={};return Ft(rt,(Vt,mn)=>{"string"==typeof Vt&&(Vt=[Vt]),null!==Vt&&(dt[mn]=Ja($e.children[mn],Ne,Vt))}),Ft($e.children,(Vt,mn)=>{void 0===rt[mn]&&(dt[mn]=Vt)}),new Un($e.segments,dt)}}function Cs($e,Ne,Ee){const rt=$e.segments.slice(0,Ne);let dt=0;for(;dt<Ee.length;){const Vt=Ee[dt];if(Ii(Vt)){const tr=hs(Vt.outlets);return new Un(rt,tr)}if(0===dt&&xr(Ee[0])){rt.push(new dr($e.segments[Ne].path,ds(Ee[0]))),dt++;continue}const mn=Ii(Vt)?Vt.outlets[it]:`${Vt}`,ln=dt<Ee.length-1?Ee[dt+1]:null;mn&&ln&&xr(ln)?(rt.push(new dr(mn,ds(ln))),dt+=2):(rt.push(new dr(mn,{})),dt++)}return new Un(rt,{})}function hs($e){const Ne={};return Ft($e,(Ee,rt)=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(Ne[rt]=Cs(new Un([],{}),0,Ee))}),Ne}function ds($e){const Ne={};return Ft($e,(Ee,rt)=>Ne[rt]=`${Ee}`),Ne}function fs($e,Ne,Ee){return $e==Ee.path&&cn(Ne,Ee.parameters)}class es{constructor(Ne,Ee,rt,dt){this.routeReuseStrategy=Ne,this.futureState=Ee,this.currState=rt,this.forwardEvent=dt}activate(Ne){const Ee=this.futureState._root,rt=this.currState?this.currState._root:null;this.deactivateChildRoutes(Ee,rt,Ne),kr(this.futureState.root),this.activateChildRoutes(Ee,rt,Ne)}deactivateChildRoutes(Ne,Ee,rt){const dt=di(Ee);Ne.children.forEach(Vt=>{const mn=Vt.value.outlet;this.deactivateRoutes(Vt,dt[mn],rt),delete dt[mn]}),Ft(dt,(Vt,mn)=>{this.deactivateRouteAndItsChildren(Vt,rt)})}deactivateRoutes(Ne,Ee,rt){const dt=Ne.value,Vt=Ee?Ee.value:null;if(dt===Vt)if(dt.component){const mn=rt.getContext(dt.outlet);mn&&this.deactivateChildRoutes(Ne,Ee,mn.children)}else this.deactivateChildRoutes(Ne,Ee,rt);else Vt&&this.deactivateRouteAndItsChildren(Ee,rt)}deactivateRouteAndItsChildren(Ne,Ee){this.routeReuseStrategy.shouldDetach(Ne.value.snapshot)?this.detachAndStoreRouteSubtree(Ne,Ee):this.deactivateRouteAndOutlet(Ne,Ee)}detachAndStoreRouteSubtree(Ne,Ee){const rt=Ee.getContext(Ne.value.outlet),dt=rt&&Ne.value.component?rt.children:Ee,Vt=di(Ne);for(const mn of Object.keys(Vt))this.deactivateRouteAndItsChildren(Vt[mn],dt);if(rt&&rt.outlet){const mn=rt.outlet.detach(),ln=rt.children.onOutletDeactivated();this.routeReuseStrategy.store(Ne.value.snapshot,{componentRef:mn,route:Ne,contexts:ln})}}deactivateRouteAndOutlet(Ne,Ee){const rt=Ee.getContext(Ne.value.outlet),dt=rt&&Ne.value.component?rt.children:Ee,Vt=di(Ne);for(const mn of Object.keys(Vt))this.deactivateRouteAndItsChildren(Vt[mn],dt);rt&&rt.outlet&&(rt.outlet.deactivate(),rt.children.onOutletDeactivated(),rt.attachRef=null,rt.resolver=null,rt.route=null)}activateChildRoutes(Ne,Ee,rt){const dt=di(Ee);Ne.children.forEach(Vt=>{this.activateRoutes(Vt,dt[Vt.value.outlet],rt),this.forwardEvent(new Yt(Vt.value.snapshot))}),Ne.children.length&&this.forwardEvent(new In(Ne.value.snapshot))}activateRoutes(Ne,Ee,rt){const dt=Ne.value,Vt=Ee?Ee.value:null;if(kr(dt),dt===Vt)if(dt.component){const mn=rt.getOrCreateContext(dt.outlet);this.activateChildRoutes(Ne,Ee,mn.children)}else this.activateChildRoutes(Ne,Ee,rt);else if(dt.component){const mn=rt.getOrCreateContext(dt.outlet);if(this.routeReuseStrategy.shouldAttach(dt.snapshot)){const ln=this.routeReuseStrategy.retrieve(dt.snapshot);this.routeReuseStrategy.store(dt.snapshot,null),mn.children.onOutletReAttached(ln.contexts),mn.attachRef=ln.componentRef,mn.route=ln.route.value,mn.outlet&&mn.outlet.attach(ln.componentRef,ln.route.value),kr(ln.route.value),this.activateChildRoutes(Ne,null,mn.children)}else{const ln=function($e){for(let Ne=$e.parent;Ne;Ne=Ne.parent){const Ee=Ne.routeConfig;if(Ee&&Ee._loadedConfig)return Ee._loadedConfig;if(Ee&&Ee.component)return null}return null}(dt.snapshot),tr=ln?ln.module.componentFactoryResolver:null;mn.attachRef=null,mn.route=dt,mn.resolver=tr,mn.outlet&&mn.outlet.activateWith(dt,tr),this.activateChildRoutes(Ne,null,mn.children)}}else this.activateChildRoutes(Ne,null,rt)}}class Yi{constructor(Ne,Ee){this.routes=Ne,this.module=Ee}}function no($e){return"function"==typeof $e}function Aa($e){return $e instanceof er}const $a=Symbol("INITIAL_VALUE");function Tr(){return(0,A.w)($e=>(0,K.aj)($e.map(Ne=>Ne.pipe((0,M.q)(1),(0,C.O)($a)))).pipe(xe((Ne,Ee)=>{let rt=!1;return Ee.reduce((dt,Vt,mn)=>dt!==$a?dt:(Vt===$a&&(rt=!0),rt||!1!==Vt&&mn!==Ee.length-1&&!Aa(Vt)?dt:Vt),Ne)},$a),(0,re.h)(Ne=>Ne!==$a),(0,D.U)(Ne=>Aa(Ne)?Ne:!0===Ne),(0,M.q)(1)))}class Pa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _a,this.attachRef=null}}class _a{constructor(){this.contexts=new Map}onChildOutletCreated(Ne,Ee){const rt=this.getOrCreateContext(Ne);rt.outlet=Ee,this.contexts.set(Ne,rt)}onChildOutletDestroyed(Ne){const Ee=this.getContext(Ne);Ee&&(Ee.outlet=null,Ee.attachRef=null)}onOutletDeactivated(){const Ne=this.contexts;return this.contexts=new Map,Ne}onOutletReAttached(Ne){this.contexts=Ne}getOrCreateContext(Ne){let Ee=this.getContext(Ne);return Ee||(Ee=new Pa,this.contexts.set(Ne,Ee)),Ee}getContext(Ne){return this.contexts.get(Ne)||null}}let so=(()=>{class $e{constructor(Ee,rt,dt,Vt,mn){this.parentContexts=Ee,this.location=rt,this.resolver=dt,this.changeDetector=mn,this.activated=null,this._activatedRoute=null,this.activateEvents=new R.vpe,this.deactivateEvents=new R.vpe,this.attachEvents=new R.vpe,this.detachEvents=new R.vpe,this.name=Vt||it,Ee.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const Ee=this.parentContexts.getContext(this.name);Ee&&Ee.route&&(Ee.attachRef?this.attach(Ee.attachRef,Ee.route):this.activateWith(Ee.route,Ee.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const Ee=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Ee.instance),Ee}attach(Ee,rt){this.activated=Ee,this._activatedRoute=rt,this.location.insert(Ee.hostView),this.attachEvents.emit(Ee.instance)}deactivate(){if(this.activated){const Ee=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ee)}}activateWith(Ee,rt){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Ee;const mn=(rt=rt||this.resolver).resolveComponentFactory(Ee._futureSnapshot.routeConfig.component),ln=this.parentContexts.getOrCreateContext(this.name).children,tr=new li(Ee,ln,this.location.injector);this.activated=this.location.createComponent(mn,this.location.length,tr),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(R.Y36(_a),R.Y36(R.s_b),R.Y36(R._Vd),R.$8M("name"),R.Y36(R.sBO))},$e.\u0275dir=R.lG2({type:$e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),$e})();class li{constructor(Ne,Ee,rt){this.route=Ne,this.childContexts=Ee,this.parent=rt}get(Ne,Ee){return Ne===kt?this.route:Ne===_a?this.childContexts:this.parent.get(Ne,Ee)}}let zr=(()=>{class $e{}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275cmp=R.Xpm({type:$e,selectors:[["ng-component"]],decls:1,vars:0,template:function(Ee,rt){1&Ee&&R._UZ(0,"router-outlet")},directives:[so],encapsulation:2}),$e})();function ta($e,Ne=""){for(let Ee=0;Ee<$e.length;Ee++){const rt=$e[Ee];Li(rt,zi(Ne,rt))}}function Li($e,Ne){$e.children&&ta($e.children,Ne)}function zi($e,Ne){return Ne?$e||Ne.path?$e&&!Ne.path?`${$e}/`:!$e&&Ne.path?Ne.path:`${$e}/${Ne.path}`:"":$e}function ti($e){const Ne=$e.children&&$e.children.map(ti),Ee=Ne?Ws(Pi({},$e),{children:Ne}):Pi({},$e);return!Ee.component&&(Ne||Ee.loadChildren)&&Ee.outlet&&Ee.outlet!==it&&(Ee.component=zr),Ee}function Ri($e){return $e.outlet||it}function qa($e,Ne){const Ee=$e.filter(rt=>Ri(rt)===Ne);return Ee.push(...$e.filter(rt=>Ri(rt)!==Ne)),Ee}const wo={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Er($e,Ne,Ee){var ln;if(""===Ne.path)return"full"===Ne.pathMatch&&($e.hasChildren()||Ee.length>0)?Pi({},wo):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const dt=(Ne.matcher||Et)(Ee,$e,Ne);if(!dt)return Pi({},wo);const Vt={};Ft(dt.posParams,(tr,Yr)=>{Vt[Yr]=tr.path});const mn=dt.consumed.length>0?Pi(Pi({},Vt),dt.consumed[dt.consumed.length-1].parameters):Vt;return{matched:!0,consumedSegments:dt.consumed,lastChild:dt.consumed.length,parameters:mn,positionalParamSegments:null!=(ln=dt.posParams)?ln:{}}}function Bi($e,Ne,Ee,rt,dt="corrected"){if(Ee.length>0&&function($e,Ne,Ee){return Ee.some(rt=>He($e,Ne,rt)&&Ri(rt)!==it)}($e,Ee,rt)){const mn=new Un(Ne,function($e,Ne,Ee,rt){const dt={};dt[it]=rt,rt._sourceSegment=$e,rt._segmentIndexShift=Ne.length;for(const Vt of Ee)if(""===Vt.path&&Ri(Vt)!==it){const mn=new Un([],{});mn._sourceSegment=$e,mn._segmentIndexShift=Ne.length,dt[Ri(Vt)]=mn}return dt}($e,Ne,rt,new Un(Ee,$e.children)));return mn._sourceSegment=$e,mn._segmentIndexShift=Ne.length,{segmentGroup:mn,slicedSegments:[]}}if(0===Ee.length&&function($e,Ne,Ee){return Ee.some(rt=>He($e,Ne,rt))}($e,Ee,rt)){const mn=new Un($e.segments,function($e,Ne,Ee,rt,dt,Vt){const mn={};for(const ln of rt)if(He($e,Ee,ln)&&!dt[Ri(ln)]){const tr=new Un([],{});tr._sourceSegment=$e,tr._segmentIndexShift="legacy"===Vt?$e.segments.length:Ne.length,mn[Ri(ln)]=tr}return Pi(Pi({},dt),mn)}($e,Ne,Ee,rt,$e.children,dt));return mn._sourceSegment=$e,mn._segmentIndexShift=Ne.length,{segmentGroup:mn,slicedSegments:Ee}}const Vt=new Un($e.segments,$e.children);return Vt._sourceSegment=$e,Vt._segmentIndexShift=Ne.length,{segmentGroup:Vt,slicedSegments:Ee}}function He($e,Ne,Ee){return(!($e.hasChildren()||Ne.length>0)||"full"!==Ee.pathMatch)&&""===Ee.path}function _e($e,Ne,Ee,rt){return!!(Ri($e)===rt||rt!==it&&He(Ne,Ee,$e))&&("**"===$e.path||Er(Ne,$e,Ee).matched)}function ae($e,Ne,Ee){return 0===Ne.length&&!$e.children[Ee]}class ge{constructor(Ne){this.segmentGroup=Ne||null}}class De{constructor(Ne){this.urlTree=Ne}}function gt($e){return new k.y(Ne=>Ne.error(new ge($e)))}function En($e){return new k.y(Ne=>Ne.error(new De($e)))}function or($e){return new k.y(Ne=>Ne.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${$e}'`)))}class Di{constructor(Ne,Ee,rt,dt,Vt){this.configLoader=Ee,this.urlSerializer=rt,this.urlTree=dt,this.config=Vt,this.allowRedirects=!0,this.ngModule=Ne.get(R.h0i)}apply(){const Ne=Bi(this.urlTree.root,[],[],this.config).segmentGroup,Ee=new Un(Ne.segments,Ne.children);return this.expandSegmentGroup(this.ngModule,this.config,Ee,it).pipe((0,D.U)(Vt=>this.createUrlTree(qr(Vt),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,P.K)(Vt=>{if(Vt instanceof De)return this.allowRedirects=!1,this.match(Vt.urlTree);throw Vt instanceof ge?this.noMatchError(Vt):Vt}))}match(Ne){return this.expandSegmentGroup(this.ngModule,this.config,Ne.root,it).pipe((0,D.U)(dt=>this.createUrlTree(qr(dt),Ne.queryParams,Ne.fragment))).pipe((0,P.K)(dt=>{throw dt instanceof ge?this.noMatchError(dt):dt}))}noMatchError(Ne){return new Error(`Cannot match any routes. URL Segment: '${Ne.segmentGroup}'`)}createUrlTree(Ne,Ee,rt){const dt=Ne.segments.length>0?new Un([],{[it]:Ne}):Ne;return new er(dt,Ee,rt)}expandSegmentGroup(Ne,Ee,rt,dt){return 0===rt.segments.length&&rt.hasChildren()?this.expandChildren(Ne,Ee,rt).pipe((0,D.U)(Vt=>new Un([],Vt))):this.expandSegment(Ne,rt,Ee,rt.segments,dt,!0)}expandChildren(Ne,Ee,rt){const dt=[];for(const Vt of Object.keys(rt.children))"primary"===Vt?dt.unshift(Vt):dt.push(Vt);return(0,Se.D)(dt).pipe((0,N.b)(Vt=>{const mn=rt.children[Vt],ln=qa(Ee,Vt);return this.expandSegmentGroup(Ne,ln,mn,Vt).pipe((0,D.U)(tr=>({segment:tr,outlet:Vt})))}),xe((Vt,mn)=>(Vt[mn.outlet]=mn.segment,Vt),{}),function($e,Ne){const Ee=arguments.length>=2;return rt=>rt.pipe($e?(0,re.h)((dt,Vt)=>$e(dt,Vt,rt)):W.y,ne(1),Ee?(0,U.d)(Ne):(0,Z.T)(()=>new H.K))}())}expandSegment(Ne,Ee,rt,dt,Vt,mn){return(0,Se.D)(rt).pipe((0,N.b)(ln=>this.expandSegmentAgainstRoute(Ne,Ee,rt,ln,dt,Vt,mn).pipe((0,P.K)(Yr=>{if(Yr instanceof ge)return(0,ce.of)(null);throw Yr}))),(0,ee.P)(ln=>!!ln),(0,P.K)((ln,tr)=>{if(ln instanceof H.K||"EmptyError"===ln.name){if(ae(Ee,dt,Vt))return(0,ce.of)(new Un([],{}));throw new ge(Ee)}throw ln}))}expandSegmentAgainstRoute(Ne,Ee,rt,dt,Vt,mn,ln){return _e(dt,Ee,Vt,mn)?void 0===dt.redirectTo?this.matchSegmentAgainstRoute(Ne,Ee,dt,Vt,mn):ln&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Ne,Ee,rt,dt,Vt,mn):gt(Ee):gt(Ee)}expandSegmentAgainstRouteUsingRedirect(Ne,Ee,rt,dt,Vt,mn){return"**"===dt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Ne,rt,dt,mn):this.expandRegularSegmentAgainstRouteUsingRedirect(Ne,Ee,rt,dt,Vt,mn)}expandWildCardWithParamsAgainstRouteUsingRedirect(Ne,Ee,rt,dt){const Vt=this.applyRedirectCommands([],rt.redirectTo,{});return rt.redirectTo.startsWith("/")?En(Vt):this.lineralizeSegments(rt,Vt).pipe((0,ye.zg)(mn=>{const ln=new Un(mn,{});return this.expandSegment(Ne,ln,Ee,mn,dt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Ne,Ee,rt,dt,Vt,mn){const{matched:ln,consumedSegments:tr,lastChild:Yr,positionalParamSegments:ha}=Er(Ee,dt,Vt);if(!ln)return gt(Ee);const Si=this.applyRedirectCommands(tr,dt.redirectTo,ha);return dt.redirectTo.startsWith("/")?En(Si):this.lineralizeSegments(dt,Si).pipe((0,ye.zg)(Oa=>this.expandSegment(Ne,Ee,rt,Oa.concat(Vt.slice(Yr)),mn,!1)))}matchSegmentAgainstRoute(Ne,Ee,rt,dt,Vt){if("**"===rt.path)return rt.loadChildren?(rt._loadedConfig?(0,ce.of)(rt._loadedConfig):this.configLoader.load(Ne.injector,rt)).pipe((0,D.U)(Oa=>(rt._loadedConfig=Oa,new Un(dt,{})))):(0,ce.of)(new Un(dt,{}));const{matched:mn,consumedSegments:ln,lastChild:tr}=Er(Ee,rt,dt);if(!mn)return gt(Ee);const Yr=dt.slice(tr);return this.getChildConfig(Ne,rt,dt).pipe((0,ye.zg)(Si=>{const Oa=Si.module,Ba=Si.routes,{segmentGroup:Is,slicedSegments:lo}=Bi(Ee,ln,Yr,Ba),Rs=new Un(Is.segments,Is.children);if(0===lo.length&&Rs.hasChildren())return this.expandChildren(Oa,Ba,Rs).pipe((0,D.U)(ec=>new Un(ln,ec)));if(0===Ba.length&&0===lo.length)return(0,ce.of)(new Un(ln,{}));const Ol=Ri(rt)===Vt;return this.expandSegment(Oa,Rs,Ba,lo,Ol?it:Vt,!0).pipe((0,D.U)($s=>new Un(ln.concat($s.segments),$s.children)))}))}getChildConfig(Ne,Ee,rt){return Ee.children?(0,ce.of)(new Yi(Ee.children,Ne)):Ee.loadChildren?void 0!==Ee._loadedConfig?(0,ce.of)(Ee._loadedConfig):this.runCanLoadGuards(Ne.injector,Ee,rt).pipe((0,ye.zg)(dt=>{return dt?this.configLoader.load(Ne.injector,Ee).pipe((0,D.U)(Vt=>(Ee._loadedConfig=Vt,Vt))):($e=Ee,new k.y(Ne=>Ne.error(je(`Cannot load children because the guard of the route "path: '${$e.path}'" returned false`))));var $e})):(0,ce.of)(new Yi([],Ne))}runCanLoadGuards(Ne,Ee,rt){const dt=Ee.canLoad;if(!dt||0===dt.length)return(0,ce.of)(!0);const Vt=dt.map(mn=>{const ln=Ne.get(mn);let tr;if(($e=ln)&&no($e.canLoad))tr=ln.canLoad(Ee,rt);else{if(!no(ln))throw new Error("Invalid CanLoad guard");tr=ln(Ee,rt)}var $e;return ft(tr)});return(0,ce.of)(Vt).pipe(Tr(),(0,Te.b)(mn=>{if(!Aa(mn))return;const ln=je(`Redirecting to "${this.urlSerializer.serialize(mn)}"`);throw ln.url=mn,ln}),(0,D.U)(mn=>!0===mn))}lineralizeSegments(Ne,Ee){let rt=[],dt=Ee.root;for(;;){if(rt=rt.concat(dt.segments),0===dt.numberOfChildren)return(0,ce.of)(rt);if(dt.numberOfChildren>1||!dt.children[it])return or(Ne.redirectTo);dt=dt.children[it]}}applyRedirectCommands(Ne,Ee,rt){return this.applyRedirectCreatreUrlTree(Ee,this.urlSerializer.parse(Ee),Ne,rt)}applyRedirectCreatreUrlTree(Ne,Ee,rt,dt){const Vt=this.createSegmentGroup(Ne,Ee.root,rt,dt);return new er(Vt,this.createQueryParams(Ee.queryParams,this.urlTree.queryParams),Ee.fragment)}createQueryParams(Ne,Ee){const rt={};return Ft(Ne,(dt,Vt)=>{if("string"==typeof dt&&dt.startsWith(":")){const ln=dt.substring(1);rt[Vt]=Ee[ln]}else rt[Vt]=dt}),rt}createSegmentGroup(Ne,Ee,rt,dt){const Vt=this.createSegments(Ne,Ee.segments,rt,dt);let mn={};return Ft(Ee.children,(ln,tr)=>{mn[tr]=this.createSegmentGroup(Ne,ln,rt,dt)}),new Un(Vt,mn)}createSegments(Ne,Ee,rt,dt){return Ee.map(Vt=>Vt.path.startsWith(":")?this.findPosParam(Ne,Vt,dt):this.findOrReturn(Vt,rt))}findPosParam(Ne,Ee,rt){const dt=rt[Ee.path.substring(1)];if(!dt)throw new Error(`Cannot redirect to '${Ne}'. Cannot find '${Ee.path}'.`);return dt}findOrReturn(Ne,Ee){let rt=0;for(const dt of Ee){if(dt.path===Ne.path)return Ee.splice(rt),dt;rt++}return Ne}}function qr($e){const Ne={};for(const rt of Object.keys($e.children)){const Vt=qr($e.children[rt]);(Vt.segments.length>0||Vt.hasChildren())&&(Ne[rt]=Vt)}return function($e){if(1===$e.numberOfChildren&&$e.children[it]){const Ne=$e.children[it];return new Un($e.segments.concat(Ne.segments),Ne.children)}return $e}(new Un($e.segments,Ne))}class Kr{constructor(Ne){this.path=Ne,this.route=this.path[this.path.length-1]}}class La{constructor(Ne,Ee){this.component=Ne,this.route=Ee}}function ia($e,Ne,Ee){const rt=$e._root;return ur(rt,Ne?Ne._root:null,Ee,[rt.value])}function mo($e,Ne,Ee){const rt=function($e){if(!$e)return null;for(let Ne=$e.parent;Ne;Ne=Ne.parent){const Ee=Ne.routeConfig;if(Ee&&Ee._loadedConfig)return Ee._loadedConfig}return null}(Ne);return(rt?rt.module.injector:Ee).get($e)}function ur($e,Ne,Ee,rt,dt={canDeactivateChecks:[],canActivateChecks:[]}){const Vt=di(Ne);return $e.children.forEach(mn=>{(function($e,Ne,Ee,rt,dt={canDeactivateChecks:[],canActivateChecks:[]}){const Vt=$e.value,mn=Ne?Ne.value:null,ln=Ee?Ee.getContext($e.value.outlet):null;if(mn&&Vt.routeConfig===mn.routeConfig){const tr=function($e,Ne,Ee){if("function"==typeof Ee)return Ee($e,Ne);switch(Ee){case"pathParamsChange":return!si($e.url,Ne.url);case"pathParamsOrQueryParamsChange":return!si($e.url,Ne.url)||!cn($e.queryParams,Ne.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fr($e,Ne)||!cn($e.queryParams,Ne.queryParams);default:return!Fr($e,Ne)}}(mn,Vt,Vt.routeConfig.runGuardsAndResolvers);tr?dt.canActivateChecks.push(new Kr(rt)):(Vt.data=mn.data,Vt._resolvedData=mn._resolvedData),ur($e,Ne,Vt.component?ln?ln.children:null:Ee,rt,dt),tr&&ln&&ln.outlet&&ln.outlet.isActivated&&dt.canDeactivateChecks.push(new La(ln.outlet.component,mn))}else mn&&Qr(Ne,ln,dt),dt.canActivateChecks.push(new Kr(rt)),ur($e,null,Vt.component?ln?ln.children:null:Ee,rt,dt)})(mn,Vt[mn.value.outlet],Ee,rt.concat([mn.value]),dt),delete Vt[mn.value.outlet]}),Ft(Vt,(mn,ln)=>Qr(mn,Ee.getContext(ln),dt)),dt}function Qr($e,Ne,Ee){const rt=di($e),dt=$e.value;Ft(rt,(Vt,mn)=>{Qr(Vt,dt.component?Ne?Ne.children.getContext(mn):null:Ne,Ee)}),Ee.canDeactivateChecks.push(new La(dt.component&&Ne&&Ne.outlet&&Ne.outlet.isActivated?Ne.outlet.component:null,dt))}class hn{}function _n($e){return new k.y(Ne=>Ne.error($e))}class ir{constructor(Ne,Ee,rt,dt,Vt,mn){this.rootComponentType=Ne,this.config=Ee,this.urlTree=rt,this.url=dt,this.paramsInheritanceStrategy=Vt,this.relativeLinkResolution=mn}recognize(){const Ne=Bi(this.urlTree.root,[],[],this.config.filter(mn=>void 0===mn.redirectTo),this.relativeLinkResolution).segmentGroup,Ee=this.processSegmentGroup(this.config,Ne,it);if(null===Ee)return null;const rt=new An([],Object.freeze({}),Object.freeze(Pi({},this.urlTree.queryParams)),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),dt=new Hi(rt,Ee),Vt=new Kn(this.url,dt);return this.inheritParamsAndData(Vt._root),Vt}inheritParamsAndData(Ne){const Ee=Ne.value,rt=tn(Ee,this.paramsInheritanceStrategy);Ee.params=Object.freeze(rt.params),Ee.data=Object.freeze(rt.data),Ne.children.forEach(dt=>this.inheritParamsAndData(dt))}processSegmentGroup(Ne,Ee,rt){return 0===Ee.segments.length&&Ee.hasChildren()?this.processChildren(Ne,Ee):this.processSegment(Ne,Ee,Ee.segments,rt)}processChildren(Ne,Ee){const rt=[];for(const Vt of Object.keys(Ee.children)){const mn=Ee.children[Vt],ln=qa(Ne,Vt),tr=this.processSegmentGroup(ln,mn,Vt);if(null===tr)return null;rt.push(...tr)}const dt=Zi(rt);return dt.sort((Ne,Ee)=>Ne.value.outlet===it?-1:Ee.value.outlet===it?1:Ne.value.outlet.localeCompare(Ee.value.outlet)),dt}processSegment(Ne,Ee,rt,dt){for(const Vt of Ne){const mn=this.processSegmentAgainstRoute(Vt,Ee,rt,dt);if(null!==mn)return mn}return ae(Ee,rt,dt)?[]:null}processSegmentAgainstRoute(Ne,Ee,rt,dt){if(Ne.redirectTo||!_e(Ne,Ee,rt,dt))return null;let Vt,mn=[],ln=[];if("**"===Ne.path){const Ba=rt.length>0?_t(rt).parameters:{};Vt=new An(rt,Ba,Object.freeze(Pi({},this.urlTree.queryParams)),this.urlTree.fragment,ka(Ne),Ri(Ne),Ne.component,Ne,Ci(Ee),oi(Ee)+rt.length,za(Ne))}else{const Ba=Er(Ee,Ne,rt);if(!Ba.matched)return null;mn=Ba.consumedSegments,ln=rt.slice(Ba.lastChild),Vt=new An(mn,Ba.parameters,Object.freeze(Pi({},this.urlTree.queryParams)),this.urlTree.fragment,ka(Ne),Ri(Ne),Ne.component,Ne,Ci(Ee),oi(Ee)+mn.length,za(Ne))}const tr=($e=Ne).children?$e.children:$e.loadChildren?$e._loadedConfig.routes:[],{segmentGroup:Yr,slicedSegments:ha}=Bi(Ee,mn,ln,tr.filter(Ba=>void 0===Ba.redirectTo),this.relativeLinkResolution);var $e;if(0===ha.length&&Yr.hasChildren()){const Ba=this.processChildren(tr,Yr);return null===Ba?null:[new Hi(Vt,Ba)]}if(0===tr.length&&0===ha.length)return[new Hi(Vt,[])];const Si=Ri(Ne)===dt,Oa=this.processSegment(tr,Yr,ha,Si?it:dt);return null===Oa?null:[new Hi(Vt,Oa)]}}function fi($e){const Ne=$e.value.routeConfig;return Ne&&""===Ne.path&&void 0===Ne.redirectTo}function Zi($e){const Ne=[],Ee=new Set;for(const rt of $e){if(!fi(rt)){Ne.push(rt);continue}const dt=Ne.find(Vt=>rt.value.routeConfig===Vt.value.routeConfig);void 0!==dt?(dt.children.push(...rt.children),Ee.add(dt)):Ne.push(rt)}for(const rt of Ee){const dt=Zi(rt.children);Ne.push(new Hi(rt.value,dt))}return Ne.filter(rt=>!Ee.has(rt))}function Ci($e){let Ne=$e;for(;Ne._sourceSegment;)Ne=Ne._sourceSegment;return Ne}function oi($e){let Ne=$e,Ee=Ne._segmentIndexShift?Ne._segmentIndexShift:0;for(;Ne._sourceSegment;)Ne=Ne._sourceSegment,Ee+=Ne._segmentIndexShift?Ne._segmentIndexShift:0;return Ee-1}function ka($e){return $e.data||{}}function za($e){return $e.resolve||{}}function ko($e){return(0,A.w)(Ne=>{const Ee=$e(Ne);return Ee?(0,Se.D)(Ee).pipe((0,D.U)(()=>Ne)):(0,ce.of)(Ne)})}class Ks extends class{shouldDetach(Ne){return!1}store(Ne,Ee){}shouldAttach(Ne){return!1}retrieve(Ne){return null}shouldReuseRoute(Ne,Ee){return Ne.routeConfig===Ee.routeConfig}}{}const vs=new R.OlP("ROUTES");class Mt{constructor(Ne,Ee,rt,dt){this.injector=Ne,this.compiler=Ee,this.onLoadStartListener=rt,this.onLoadEndListener=dt}load(Ne,Ee){if(Ee._loader$)return Ee._loader$;this.onLoadStartListener&&this.onLoadStartListener(Ee);const dt=this.loadModuleFactory(Ee.loadChildren).pipe((0,D.U)(Vt=>{this.onLoadEndListener&&this.onLoadEndListener(Ee);const mn=Vt.create(Ne);return new Yi(tt(mn.injector.get(vs,void 0,R.XFs.Self|R.XFs.Optional)).map(ti),mn)}),(0,P.K)(Vt=>{throw Ee._loader$=void 0,Vt}));return Ee._loader$=new V.c(dt,()=>new j.xQ).pipe((0,he.x)()),Ee._loader$}loadModuleFactory(Ne){return ft(Ne()).pipe((0,ye.zg)(Ee=>Ee instanceof R.YKP?(0,ce.of)(Ee):(0,Se.D)(this.compiler.compileModuleAsync(Ee))))}}class ht{shouldProcessUrl(Ne){return!0}extract(Ne){return Ne}merge(Ne,Ee){return Ne}}function Tt($e){throw $e}function Dt($e,Ne,Ee){return Ne.parse("/")}function jt($e,Ne){return(0,ce.of)(null)}const pn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jn=(()=>{class $e{constructor(Ee,rt,dt,Vt,mn,ln,tr){this.rootComponentType=Ee,this.urlSerializer=rt,this.rootContexts=dt,this.location=Vt,this.config=tr,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new j.xQ,this.errorHandler=Tt,this.malformedUriErrorHandler=Dt,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jt,afterPreactivation:jt},this.urlHandlingStrategy=new ht,this.routeReuseStrategy=new Ks,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=mn.get(R.h0i),this.console=mn.get(R.c2e);const Si=mn.get(R.R0b);this.isNgZoneEnabled=Si instanceof R.R0b&&R.R0b.isInAngularZone(),this.resetConfig(tr),this.currentUrlTree=new er(new Un([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mt(mn,ln,Oa=>this.triggerEvent(new Wt(Oa)),Oa=>this.triggerEvent(new Qt(Oa))),this.routerState=sa(this.currentUrlTree,this.rootComponentType),this.transitions=new q.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var Ee;return null==(Ee=this.location.getState())?void 0:Ee.\u0275routerPageId}setupNavigations(Ee){const rt=this.events;return Ee.pipe((0,re.h)(dt=>0!==dt.id),(0,D.U)(dt=>Ws(Pi({},dt),{extractedUrl:this.urlHandlingStrategy.extract(dt.rawUrl)})),(0,A.w)(dt=>{let Vt=!1,mn=!1;return(0,ce.of)(dt).pipe((0,Te.b)(ln=>{this.currentNavigation={id:ln.id,initialUrl:ln.currentRawUrl,extractedUrl:ln.extractedUrl,trigger:ln.source,extras:ln.extras,previousNavigation:this.lastSuccessfulNavigation?Ws(Pi({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,A.w)(ln=>{const tr=this.browserUrlTree.toString(),Yr=!this.navigated||ln.extractedUrl.toString()!==tr||tr!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Yr)&&this.urlHandlingStrategy.shouldProcessUrl(ln.rawUrl))return Cn(ln.source)&&(this.browserUrlTree=ln.extractedUrl),(0,ce.of)(ln).pipe((0,A.w)(Si=>{const Oa=this.transitions.getValue();return rt.next(new Je(Si.id,this.serializeUrl(Si.extractedUrl),Si.source,Si.restoredState)),Oa!==this.transitions.getValue()?le.E:Promise.resolve(Si)}),function($e,Ne,Ee,rt){return(0,A.w)(dt=>function($e,Ne,Ee,rt,dt){return new Di($e,Ne,Ee,rt,dt).apply()}($e,Ne,Ee,dt.extractedUrl,rt).pipe((0,D.U)(Vt=>Ws(Pi({},dt),{urlAfterRedirects:Vt}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Te.b)(Si=>{this.currentNavigation=Ws(Pi({},this.currentNavigation),{finalUrl:Si.urlAfterRedirects})}),function($e,Ne,Ee,rt,dt){return(0,ye.zg)(Vt=>function($e,Ne,Ee,rt,dt="emptyOnly",Vt="legacy"){try{const mn=new ir($e,Ne,Ee,rt,dt,Vt).recognize();return null===mn?_n(new hn):(0,ce.of)(mn)}catch(mn){return _n(mn)}}($e,Ne,Vt.urlAfterRedirects,Ee(Vt.urlAfterRedirects),rt,dt).pipe((0,D.U)(mn=>Ws(Pi({},Vt),{targetSnapshot:mn}))))}(this.rootComponentType,this.config,Si=>this.serializeUrl(Si),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Te.b)(Si=>{if("eager"===this.urlUpdateStrategy){if(!Si.extras.skipLocationChange){const Ba=this.urlHandlingStrategy.merge(Si.urlAfterRedirects,Si.rawUrl);this.setBrowserUrl(Ba,Si)}this.browserUrlTree=Si.urlAfterRedirects}const Oa=new et(Si.id,this.serializeUrl(Si.extractedUrl),this.serializeUrl(Si.urlAfterRedirects),Si.targetSnapshot);rt.next(Oa)}));if(Yr&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Oa,extractedUrl:Ba,source:Is,restoredState:lo,extras:Rs}=ln,Ol=new Je(Oa,this.serializeUrl(Ba),Is,lo);rt.next(Ol);const ql=sa(Ba,this.rootComponentType).snapshot;return(0,ce.of)(Ws(Pi({},ln),{targetSnapshot:ql,urlAfterRedirects:Ba,extras:Ws(Pi({},Rs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ln.rawUrl,ln.resolve(null),le.E}),ko(ln=>{const{targetSnapshot:tr,id:Yr,extractedUrl:ha,rawUrl:Si,extras:{skipLocationChange:Oa,replaceUrl:Ba}}=ln;return this.hooks.beforePreactivation(tr,{navigationId:Yr,appliedUrlTree:ha,rawUrlTree:Si,skipLocationChange:!!Oa,replaceUrl:!!Ba})}),(0,Te.b)(ln=>{const tr=new Ue(ln.id,this.serializeUrl(ln.extractedUrl),this.serializeUrl(ln.urlAfterRedirects),ln.targetSnapshot);this.triggerEvent(tr)}),(0,D.U)(ln=>Ws(Pi({},ln),{guards:ia(ln.targetSnapshot,ln.currentSnapshot,this.rootContexts)})),function($e,Ne){return(0,ye.zg)(Ee=>{const{targetSnapshot:rt,currentSnapshot:dt,guards:{canActivateChecks:Vt,canDeactivateChecks:mn}}=Ee;return 0===mn.length&&0===Vt.length?(0,ce.of)(Ws(Pi({},Ee),{guardsResult:!0})):function($e,Ne,Ee,rt){return(0,Se.D)($e).pipe((0,ye.zg)(dt=>function($e,Ne,Ee,rt,dt){const Vt=Ne&&Ne.routeConfig?Ne.routeConfig.canDeactivate:null;if(!Vt||0===Vt.length)return(0,ce.of)(!0);const mn=Vt.map(ln=>{const tr=mo(ln,Ne,dt);let Yr;if(function($e){return $e&&no($e.canDeactivate)}(tr))Yr=ft(tr.canDeactivate($e,Ne,Ee,rt));else{if(!no(tr))throw new Error("Invalid CanDeactivate guard");Yr=ft(tr($e,Ne,Ee,rt))}return Yr.pipe((0,ee.P)())});return(0,ce.of)(mn).pipe(Tr())}(dt.component,dt.route,Ee,Ne,rt)),(0,ee.P)(dt=>!0!==dt,!0))}(mn,rt,dt,$e).pipe((0,ye.zg)(ln=>ln&&function($e){return"boolean"==typeof $e}(ln)?function($e,Ne,Ee,rt){return(0,Se.D)(Ne).pipe((0,N.b)(dt=>(0,Y.z)(function($e,Ne){return null!==$e&&Ne&&Ne(new gn($e)),(0,ce.of)(!0)}(dt.route.parent,rt),function($e,Ne){return null!==$e&&Ne&&Ne(new Dn($e)),(0,ce.of)(!0)}(dt.route,rt),function($e,Ne,Ee){const rt=Ne[Ne.length-1],Vt=Ne.slice(0,Ne.length-1).reverse().map(mn=>function($e){const Ne=$e.routeConfig?$e.routeConfig.canActivateChild:null;return Ne&&0!==Ne.length?{node:$e,guards:Ne}:null}(mn)).filter(mn=>null!==mn).map(mn=>y(()=>{const ln=mn.guards.map(tr=>{const Yr=mo(tr,mn.node,Ee);let ha;if(function($e){return $e&&no($e.canActivateChild)}(Yr))ha=ft(Yr.canActivateChild(rt,$e));else{if(!no(Yr))throw new Error("Invalid CanActivateChild guard");ha=ft(Yr(rt,$e))}return ha.pipe((0,ee.P)())});return(0,ce.of)(ln).pipe(Tr())}));return(0,ce.of)(Vt).pipe(Tr())}($e,dt.path,Ee),function($e,Ne,Ee){const rt=Ne.routeConfig?Ne.routeConfig.canActivate:null;if(!rt||0===rt.length)return(0,ce.of)(!0);const dt=rt.map(Vt=>y(()=>{const mn=mo(Vt,Ne,Ee);let ln;if(function($e){return $e&&no($e.canActivate)}(mn))ln=ft(mn.canActivate(Ne,$e));else{if(!no(mn))throw new Error("Invalid CanActivate guard");ln=ft(mn(Ne,$e))}return ln.pipe((0,ee.P)())}));return(0,ce.of)(dt).pipe(Tr())}($e,dt.route,Ee))),(0,ee.P)(dt=>!0!==dt,!0))}(rt,Vt,$e,Ne):(0,ce.of)(ln)),(0,D.U)(ln=>Ws(Pi({},Ee),{guardsResult:ln})))})}(this.ngModule.injector,ln=>this.triggerEvent(ln)),(0,Te.b)(ln=>{if(Aa(ln.guardsResult)){const Yr=je(`Redirecting to "${this.serializeUrl(ln.guardsResult)}"`);throw Yr.url=ln.guardsResult,Yr}const tr=new xt(ln.id,this.serializeUrl(ln.extractedUrl),this.serializeUrl(ln.urlAfterRedirects),ln.targetSnapshot,!!ln.guardsResult);this.triggerEvent(tr)}),(0,re.h)(ln=>!!ln.guardsResult||(this.restoreHistory(ln),this.cancelNavigationTransition(ln,""),!1)),ko(ln=>{if(ln.guards.canActivateChecks.length)return(0,ce.of)(ln).pipe((0,Te.b)(tr=>{const Yr=new It(tr.id,this.serializeUrl(tr.extractedUrl),this.serializeUrl(tr.urlAfterRedirects),tr.targetSnapshot);this.triggerEvent(Yr)}),(0,A.w)(tr=>{let Yr=!1;return(0,ce.of)(tr).pipe(function($e,Ne){return(0,ye.zg)(Ee=>{const{targetSnapshot:rt,guards:{canActivateChecks:dt}}=Ee;if(!dt.length)return(0,ce.of)(Ee);let Vt=0;return(0,Se.D)(dt).pipe((0,N.b)(mn=>function($e,Ne,Ee,rt){return function($e,Ne,Ee,rt){const dt=Object.keys($e);if(0===dt.length)return(0,ce.of)({});const Vt={};return(0,Se.D)(dt).pipe((0,ye.zg)(mn=>function($e,Ne,Ee,rt){const dt=mo($e,Ne,rt);return ft(dt.resolve?dt.resolve(Ne,Ee):dt(Ne,Ee))}($e[mn],Ne,Ee,rt).pipe((0,Te.b)(ln=>{Vt[mn]=ln}))),ne(1),(0,ye.zg)(()=>Object.keys(Vt).length===dt.length?(0,ce.of)(Vt):le.E))}($e._resolve,$e,Ne,rt).pipe((0,D.U)(Vt=>($e._resolvedData=Vt,$e.data=Pi(Pi({},$e.data),tn($e,Ee).resolve),null)))}(mn.route,rt,$e,Ne)),(0,Te.b)(()=>Vt++),ne(1),(0,ye.zg)(mn=>Vt===dt.length?(0,ce.of)(Ee):le.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Te.b)({next:()=>Yr=!0,complete:()=>{Yr||(this.restoreHistory(tr),this.cancelNavigationTransition(tr,"At least one route resolver didn't emit any value."))}}))}),(0,Te.b)(tr=>{const Yr=new Pt(tr.id,this.serializeUrl(tr.extractedUrl),this.serializeUrl(tr.urlAfterRedirects),tr.targetSnapshot);this.triggerEvent(Yr)}))}),ko(ln=>{const{targetSnapshot:tr,id:Yr,extractedUrl:ha,rawUrl:Si,extras:{skipLocationChange:Oa,replaceUrl:Ba}}=ln;return this.hooks.afterPreactivation(tr,{navigationId:Yr,appliedUrlTree:ha,rawUrlTree:Si,skipLocationChange:!!Oa,replaceUrl:!!Ba})}),(0,D.U)(ln=>{const tr=function($e,Ne,Ee){const rt=Oi($e,Ne._root,Ee?Ee._root:void 0);return new fr(rt,Ne)}(this.routeReuseStrategy,ln.targetSnapshot,ln.currentRouterState);return Ws(Pi({},ln),{targetRouterState:tr})}),(0,Te.b)(ln=>{this.currentUrlTree=ln.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ln.urlAfterRedirects,ln.rawUrl),this.routerState=ln.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ln.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ln),this.browserUrlTree=ln.urlAfterRedirects)}),(($e,Ne,Ee)=>(0,D.U)(rt=>(new es(Ne,rt.targetRouterState,rt.currentRouterState,Ee).activate($e),rt)))(this.rootContexts,this.routeReuseStrategy,ln=>this.triggerEvent(ln)),(0,Te.b)({next(){Vt=!0},complete(){Vt=!0}}),(0,me.x)(()=>{var ln;Vt||mn||this.cancelNavigationTransition(dt,`Navigation ID ${dt.id} is not equal to the current navigation id ${this.navigationId}`),(null==(ln=this.currentNavigation)?void 0:ln.id)===dt.id&&(this.currentNavigation=null)}),(0,P.K)(ln=>{if(mn=!0,function($e){return $e&&$e[ke]}(ln)){const tr=Aa(ln.url);tr||(this.navigated=!0,this.restoreHistory(dt,!0));const Yr=new Ve(dt.id,this.serializeUrl(dt.extractedUrl),ln.message);rt.next(Yr),tr?setTimeout(()=>{const ha=this.urlHandlingStrategy.merge(ln.url,this.rawUrlTree),Si={skipLocationChange:dt.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cn(dt.source)};this.scheduleNavigation(ha,"imperative",null,Si,{resolve:dt.resolve,reject:dt.reject,promise:dt.promise})},0):dt.resolve(!1)}else{this.restoreHistory(dt,!0);const tr=new Fe(dt.id,this.serializeUrl(dt.extractedUrl),ln);rt.next(tr);try{dt.resolve(this.errorHandler(ln))}catch(Yr){dt.reject(Yr)}}return le.E}))}))}resetRootComponentType(Ee){this.rootComponentType=Ee,this.routerState.root.component=this.rootComponentType}setTransition(Ee){this.transitions.next(Pi(Pi({},this.transitions.value),Ee))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Ee=>{const rt="popstate"===Ee.type?"popstate":"hashchange";"popstate"===rt&&setTimeout(()=>{var ln;const dt={replaceUrl:!0},Vt=(null==(ln=Ee.state)?void 0:ln.navigationId)?Ee.state:null;if(Vt){const tr=Pi({},Vt);delete tr.navigationId,delete tr.\u0275routerPageId,0!==Object.keys(tr).length&&(dt.state=tr)}const mn=this.parseUrl(Ee.url);this.scheduleNavigation(mn,rt,Vt,dt)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(Ee){this.events.next(Ee)}resetConfig(Ee){ta(Ee),this.config=Ee.map(ti),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(Ee,rt={}){const{relativeTo:dt,queryParams:Vt,fragment:mn,queryParamsHandling:ln,preserveFragment:tr}=rt,Yr=dt||this.routerState.root,ha=tr?this.currentUrlTree.fragment:mn;let Si=null;switch(ln){case"merge":Si=Pi(Pi({},this.currentUrlTree.queryParams),Vt);break;case"preserve":Si=this.currentUrlTree.queryParams;break;default:Si=Vt||null}return null!==Si&&(Si=this.removeEmptyProps(Si)),function($e,Ne,Ee,rt,dt){if(0===Ee.length)return Ji(Ne.root,Ne.root,Ne,rt,dt);const Vt=function($e){if("string"==typeof $e[0]&&1===$e.length&&"/"===$e[0])return new xo(!0,0,$e);let Ne=0,Ee=!1;const rt=$e.reduce((dt,Vt,mn)=>{if("object"==typeof Vt&&null!=Vt){if(Vt.outlets){const ln={};return Ft(Vt.outlets,(tr,Yr)=>{ln[Yr]="string"==typeof tr?tr.split("/"):tr}),[...dt,{outlets:ln}]}if(Vt.segmentPath)return[...dt,Vt.segmentPath]}return"string"!=typeof Vt?[...dt,Vt]:0===mn?(Vt.split("/").forEach((ln,tr)=>{0==tr&&"."===ln||(0==tr&&""===ln?Ee=!0:".."===ln?Ne++:""!=ln&&dt.push(ln))}),dt):[...dt,Vt]},[]);return new xo(Ee,Ne,rt)}(Ee);if(Vt.toRoot())return Ji(Ne.root,new Un([],{}),Ne,rt,dt);const mn=function($e,Ne,Ee){if($e.isAbsolute)return new Ar(Ne.root,!0,0);if(-1===Ee.snapshot._lastPathIndex){const Vt=Ee.snapshot._urlSegment;return new Ar(Vt,Vt===Ne.root,0)}const rt=xr($e.commands[0])?0:1;return function($e,Ne,Ee){let rt=$e,dt=Ne,Vt=Ee;for(;Vt>dt;){if(Vt-=dt,rt=rt.parent,!rt)throw new Error("Invalid number of '../'");dt=rt.segments.length}return new Ar(rt,!1,dt-Vt)}(Ee.snapshot._urlSegment,Ee.snapshot._lastPathIndex+rt,$e.numberOfDoubleDots)}(Vt,Ne,$e),ln=mn.processChildren?bo(mn.segmentGroup,mn.index,Vt.commands):Ja(mn.segmentGroup,mn.index,Vt.commands);return Ji(mn.segmentGroup,ln,Ne,rt,dt)}(Yr,this.currentUrlTree,Ee,Si,null!=ha?ha:null)}navigateByUrl(Ee,rt={skipLocationChange:!1}){const dt=Aa(Ee)?Ee:this.parseUrl(Ee),Vt=this.urlHandlingStrategy.merge(dt,this.rawUrlTree);return this.scheduleNavigation(Vt,"imperative",null,rt)}navigate(Ee,rt={skipLocationChange:!1}){return function($e){for(let Ne=0;Ne<$e.length;Ne++){const Ee=$e[Ne];if(null==Ee)throw new Error(`The requested path contains ${Ee} segment at index ${Ne}`)}}(Ee),this.navigateByUrl(this.createUrlTree(Ee,rt),rt)}serializeUrl(Ee){return this.urlSerializer.serialize(Ee)}parseUrl(Ee){let rt;try{rt=this.urlSerializer.parse(Ee)}catch(dt){rt=this.malformedUriErrorHandler(dt,this.urlSerializer,Ee)}return rt}isActive(Ee,rt){let dt;if(dt=!0===rt?Pi({},pn):!1===rt?Pi({},Jn):rt,Aa(Ee))return Me(this.currentUrlTree,Ee,dt);const Vt=this.parseUrl(Ee);return Me(this.currentUrlTree,Vt,dt)}removeEmptyProps(Ee){return Object.keys(Ee).reduce((rt,dt)=>{const Vt=Ee[dt];return null!=Vt&&(rt[dt]=Vt),rt},{})}processNavigations(){this.navigations.subscribe(Ee=>{this.navigated=!0,this.lastSuccessfulId=Ee.id,this.currentPageId=Ee.targetPageId,this.events.next(new Oe(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,Ee.resolve(!0)},Ee=>{this.console.warn(`Unhandled Navigation Error: ${Ee}`)})}scheduleNavigation(Ee,rt,dt,Vt,mn){var Ol,ql,$s;if(this.disposed)return Promise.resolve(!1);const ln=this.transitions.value,tr=Cn(rt)&&ln&&!Cn(ln.source),Yr=ln.rawUrl.toString()===Ee.toString(),ha=ln.id===(null==(Ol=this.currentNavigation)?void 0:Ol.id);if(tr&&Yr&&ha)return Promise.resolve(!0);let Oa,Ba,Is;mn?(Oa=mn.resolve,Ba=mn.reject,Is=mn.promise):Is=new Promise((ec,sh)=>{Oa=ec,Ba=sh});const lo=++this.navigationId;let Rs;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(dt=this.location.getState()),Rs=dt&&dt.\u0275routerPageId?dt.\u0275routerPageId:Vt.replaceUrl||Vt.skipLocationChange?null!=(ql=this.browserPageId)?ql:0:(null!=($s=this.browserPageId)?$s:0)+1):Rs=0,this.setTransition({id:lo,targetPageId:Rs,source:rt,restoredState:dt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:Ee,extras:Vt,resolve:Oa,reject:Ba,promise:Is,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Is.catch(ec=>Promise.reject(ec))}setBrowserUrl(Ee,rt){const dt=this.urlSerializer.serialize(Ee),Vt=Pi(Pi({},rt.extras.state),this.generateNgRouterState(rt.id,rt.targetPageId));this.location.isCurrentPathEqualTo(dt)||rt.extras.replaceUrl?this.location.replaceState(dt,"",Vt):this.location.go(dt,"",Vt)}restoreHistory(Ee,rt=!1){var dt,Vt;if("computed"===this.canceledNavigationResolution){const mn=this.currentPageId-Ee.targetPageId;"popstate"!==Ee.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(dt=this.currentNavigation)?void 0:dt.finalUrl)||0===mn?this.currentUrlTree===(null==(Vt=this.currentNavigation)?void 0:Vt.finalUrl)&&0===mn&&(this.resetState(Ee),this.browserUrlTree=Ee.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(mn)}else"replace"===this.canceledNavigationResolution&&(rt&&this.resetState(Ee),this.resetUrlToCurrentUrlTree())}resetState(Ee){this.routerState=Ee.currentRouterState,this.currentUrlTree=Ee.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ee.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(Ee,rt){const dt=new Ve(Ee.id,this.serializeUrl(Ee.extractedUrl),rt);this.triggerEvent(dt),Ee.resolve(!1)}generateNgRouterState(Ee,rt){return"computed"===this.canceledNavigationResolution?{navigationId:Ee,\u0275routerPageId:rt}:{navigationId:Ee}}}return $e.\u0275fac=function(Ee){R.$Z()},$e.\u0275prov=R.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function Cn($e){return"imperative"!==$e}let fn=(()=>{class $e{constructor(Ee,rt,dt,Vt,mn){this.router=Ee,this.route=rt,this.tabIndexAttribute=dt,this.renderer=Vt,this.el=mn,this.commands=null,this.onChanges=new j.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Ee){if(null!=this.tabIndexAttribute)return;const rt=this.renderer,dt=this.el.nativeElement;null!==Ee?rt.setAttribute(dt,"tabindex",Ee):rt.removeAttribute(dt,"tabindex")}ngOnChanges(Ee){this.onChanges.next(this)}set routerLink(Ee){null!=Ee?(this.commands=Array.isArray(Ee)?Ee:[Ee],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const Ee={skipLocationChange:Gn(this.skipLocationChange),replaceUrl:Gn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ee),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gn(this.preserveFragment)})}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(R.Y36(jn),R.Y36(kt),R.$8M("tabindex"),R.Y36(R.Qsj),R.Y36(R.SBq))},$e.\u0275dir=R.lG2({type:$e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Ee,rt){1&Ee&&R.NdJ("click",function(){return rt.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[R.TTD]}),$e})(),Hn=(()=>{class $e{constructor(Ee,rt,dt){this.router=Ee,this.route=rt,this.locationStrategy=dt,this.commands=null,this.href=null,this.onChanges=new j.xQ,this.subscription=Ee.events.subscribe(Vt=>{Vt instanceof Oe&&this.updateTargetUrlAndHref()})}set routerLink(Ee){this.commands=null!=Ee?Array.isArray(Ee)?Ee:[Ee]:null}ngOnChanges(Ee){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(Ee,rt,dt,Vt,mn){if(0!==Ee||rt||dt||Vt||mn||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ln={skipLocationChange:Gn(this.skipLocationChange),replaceUrl:Gn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ln),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gn(this.preserveFragment)})}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(R.Y36(jn),R.Y36(kt),R.Y36(m.S$))},$e.\u0275dir=R.lG2({type:$e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(Ee,rt){1&Ee&&R.NdJ("click",function(Vt){return rt.onClick(Vt.button,Vt.ctrlKey,Vt.shiftKey,Vt.altKey,Vt.metaKey)}),2&Ee&&R.uIk("target",rt.target)("href",rt.href,R.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[R.TTD]}),$e})();function Gn($e){return""===$e||!!$e}let mr=(()=>{class $e{constructor(Ee,rt,dt,Vt,mn,ln){this.router=Ee,this.element=rt,this.renderer=dt,this.cdr=Vt,this.link=mn,this.linkWithHref=ln,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new R.vpe,this.routerEventsSubscription=Ee.events.subscribe(tr=>{tr instanceof Oe&&this.update()})}ngAfterContentInit(){(0,ce.of)(this.links.changes,this.linksWithHrefs.changes,(0,ce.of)(null)).pipe((0,Re.J)()).subscribe(Ee=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var rt;null==(rt=this.linkInputChangesSubscription)||rt.unsubscribe();const Ee=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(dt=>!!dt).map(dt=>dt.onChanges);this.linkInputChangesSubscription=(0,Se.D)(Ee).pipe((0,Re.J)()).subscribe(dt=>{this.isActive!==this.isLinkActive(this.router)(dt)&&this.update()})}set routerLinkActive(Ee){const rt=Array.isArray(Ee)?Ee:Ee.split(" ");this.classes=rt.filter(dt=>!!dt)}ngOnChanges(Ee){this.update()}ngOnDestroy(){var Ee;this.routerEventsSubscription.unsubscribe(),null==(Ee=this.linkInputChangesSubscription)||Ee.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const Ee=this.hasActiveLinks();this.isActive!==Ee&&(this.isActive=Ee,this.cdr.markForCheck(),this.classes.forEach(rt=>{Ee?this.renderer.addClass(this.element.nativeElement,rt):this.renderer.removeClass(this.element.nativeElement,rt)}),this.isActiveChange.emit(Ee))})}isLinkActive(Ee){const rt=function($e){return!!$e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return dt=>!!dt.urlTree&&Ee.isActive(dt.urlTree,rt)}hasActiveLinks(){const Ee=this.isLinkActive(this.router);return this.link&&Ee(this.link)||this.linkWithHref&&Ee(this.linkWithHref)||this.links.some(Ee)||this.linksWithHrefs.some(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(R.Y36(jn),R.Y36(R.SBq),R.Y36(R.Qsj),R.Y36(R.sBO),R.Y36(fn,8),R.Y36(Hn,8))},$e.\u0275dir=R.lG2({type:$e,selectors:[["","routerLinkActive",""]],contentQueries:function(Ee,rt,dt){if(1&Ee&&(R.Suo(dt,fn,5),R.Suo(dt,Hn,5)),2&Ee){let Vt;R.iGM(Vt=R.CRH())&&(rt.links=Vt),R.iGM(Vt=R.CRH())&&(rt.linksWithHrefs=Vt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[R.TTD]}),$e})();class Dr{}class ci{preload(Ne,Ee){return(0,ce.of)(null)}}let vi=(()=>{class $e{constructor(Ee,rt,dt,Vt){this.router=Ee,this.injector=dt,this.preloadingStrategy=Vt,this.loader=new Mt(dt,rt,tr=>Ee.triggerEvent(new Wt(tr)),tr=>Ee.triggerEvent(new Qt(tr)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,re.h)(Ee=>Ee instanceof Oe),(0,N.b)(()=>this.preload())).subscribe(()=>{})}preload(){const Ee=this.injector.get(R.h0i);return this.processRoutes(Ee,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ee,rt){const dt=[];for(const Vt of rt)if(Vt.loadChildren&&!Vt.canLoad&&Vt._loadedConfig){const mn=Vt._loadedConfig;dt.push(this.processRoutes(mn.module,mn.routes))}else Vt.loadChildren&&!Vt.canLoad?dt.push(this.preloadConfig(Ee,Vt)):Vt.children&&dt.push(this.processRoutes(Ee,Vt.children));return(0,Se.D)(dt).pipe((0,Re.J)(),(0,D.U)(Vt=>{}))}preloadConfig(Ee,rt){return this.preloadingStrategy.preload(rt,()=>(rt._loadedConfig?(0,ce.of)(rt._loadedConfig):this.loader.load(Ee.injector,rt)).pipe((0,ye.zg)(Vt=>(rt._loadedConfig=Vt,this.processRoutes(Vt.module,Vt.routes)))))}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(R.LFG(jn),R.LFG(R.Sil),R.LFG(R.zs3),R.LFG(Dr))},$e.\u0275prov=R.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),bi=(()=>{class $e{constructor(Ee,rt,dt={}){this.router=Ee,this.viewportScroller=rt,this.options=dt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},dt.scrollPositionRestoration=dt.scrollPositionRestoration||"disabled",dt.anchorScrolling=dt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(Ee=>{Ee instanceof Je?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ee.navigationTrigger,this.restoredId=Ee.restoredState?Ee.restoredState.navigationId:0):Ee instanceof Oe&&(this.lastId=Ee.id,this.scheduleScrollEvent(Ee,this.router.parseUrl(Ee.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(Ee=>{Ee instanceof sn&&(Ee.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ee.position):Ee.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ee.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ee,rt){this.router.triggerEvent(new sn(Ee,"popstate"===this.lastSource?this.store[this.restoredId]:null,rt))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return $e.\u0275fac=function(Ee){R.$Z()},$e.\u0275prov=R.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Ca=new R.OlP("ROUTER_CONFIGURATION"),Ea=new R.OlP("ROUTER_FORROOT_GUARD"),Za=[m.Ye,{provide:lr,useClass:Hr},{provide:jn,useFactory:function($e,Ne,Ee,rt,dt,Vt,mn={},ln,tr){const Yr=new jn(null,$e,Ne,Ee,rt,dt,tt(Vt));return ln&&(Yr.urlHandlingStrategy=ln),tr&&(Yr.routeReuseStrategy=tr),function($e,Ne){$e.errorHandler&&(Ne.errorHandler=$e.errorHandler),$e.malformedUriErrorHandler&&(Ne.malformedUriErrorHandler=$e.malformedUriErrorHandler),$e.onSameUrlNavigation&&(Ne.onSameUrlNavigation=$e.onSameUrlNavigation),$e.paramsInheritanceStrategy&&(Ne.paramsInheritanceStrategy=$e.paramsInheritanceStrategy),$e.relativeLinkResolution&&(Ne.relativeLinkResolution=$e.relativeLinkResolution),$e.urlUpdateStrategy&&(Ne.urlUpdateStrategy=$e.urlUpdateStrategy),$e.canceledNavigationResolution&&(Ne.canceledNavigationResolution=$e.canceledNavigationResolution)}(mn,Yr),mn.enableTracing&&Yr.events.subscribe(ha=>{var Si,Oa;null==(Si=console.group)||Si.call(console,`Router Event: ${ha.constructor.name}`),console.log(ha.toString()),console.log(ha),null==(Oa=console.groupEnd)||Oa.call(console)}),Yr},deps:[lr,_a,m.Ye,R.zs3,R.Sil,vs,Ca,[class{},new R.FiY],[class{},new R.FiY]]},_a,{provide:kt,useFactory:function($e){return $e.routerState.root},deps:[jn]},vi,ci,class{preload(Ne,Ee){return Ee().pipe((0,P.K)(()=>(0,ce.of)(null)))}},{provide:Ca,useValue:{enableTracing:!1}}];function ts(){return new R.PXZ("Router",jn)}let Da=(()=>{class $e{constructor(Ee,rt){}static forRoot(Ee,rt){return{ngModule:$e,providers:[Za,pi(Ee),{provide:Ea,useFactory:Ni,deps:[[jn,new R.FiY,new R.tp0]]},{provide:Ca,useValue:rt||{}},{provide:m.S$,useFactory:Do,deps:[m.lw,[new R.tBr(m.mr),new R.FiY],Ca]},{provide:bi,useFactory:ao,deps:[jn,m.EM,Ca]},{provide:Dr,useExisting:rt&&rt.preloadingStrategy?rt.preloadingStrategy:ci},{provide:R.PXZ,multi:!0,useFactory:ts},[Os,{provide:R.ip1,multi:!0,useFactory:ma,deps:[Os]},{provide:Jl,useFactory:ou,deps:[Os]},{provide:R.tb,multi:!0,useExisting:Jl}]]}}static forChild(Ee){return{ngModule:$e,providers:[pi(Ee)]}}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(R.LFG(Ea,8),R.LFG(jn,8))},$e.\u0275mod=R.oAB({type:$e}),$e.\u0275inj=R.cJS({}),$e})();function ao($e,Ne,Ee){return Ee.scrollOffset&&Ne.setOffset(Ee.scrollOffset),new bi($e,Ne,Ee)}function Do($e,Ne,Ee={}){return Ee.useHash?new m.Do($e,Ne):new m.b0($e,Ne)}function Ni($e){return"guarded"}function pi($e){return[{provide:R.deG,multi:!0,useValue:$e},{provide:vs,multi:!0,useValue:$e}]}let Os=(()=>{class $e{constructor(Ee){this.injector=Ee,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new j.xQ}appInitializer(){return this.injector.get(m.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let rt=null;const dt=new Promise(ln=>rt=ln),Vt=this.injector.get(jn),mn=this.injector.get(Ca);return"disabled"===mn.initialNavigation?(Vt.setUpLocationChangeListener(),rt(!0)):"enabled"===mn.initialNavigation||"enabledBlocking"===mn.initialNavigation?(Vt.hooks.afterPreactivation=()=>this.initNavigation?(0,ce.of)(null):(this.initNavigation=!0,rt(!0),this.resultOfPreactivationDone),Vt.initialNavigation()):rt(!0),dt})}bootstrapListener(Ee){const rt=this.injector.get(Ca),dt=this.injector.get(vi),Vt=this.injector.get(bi),mn=this.injector.get(jn),ln=this.injector.get(R.z2F);Ee===ln.components[0]&&(("enabledNonBlocking"===rt.initialNavigation||void 0===rt.initialNavigation)&&mn.initialNavigation(),dt.setUpPreloading(),Vt.init(),mn.resetRootComponentType(ln.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(R.LFG(R.zs3))},$e.\u0275prov=R.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function ma($e){return $e.appInitializer.bind($e)}function ou($e){return $e.bootstrapListener.bind($e)}const Jl=new R.OlP("Router Initializer")}},un=>{un(un.s=7963)}]);